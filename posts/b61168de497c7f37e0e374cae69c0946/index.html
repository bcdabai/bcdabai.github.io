<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>银河麒麟v10 sp1 安装 PostgreSQL 11.16 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="银河麒麟v10 sp1 安装 PostgreSQL 11.16" />
<meta property="og:description" content="一、安装环境 操作系统：银河麒麟v10 sp1 x86_64
内核版本：4.19.90-23.8.v2101.ky10
PostgreSQL版本：11.16
二、安装过程 2.1 下载源码包 创建目录 mkdir -p /tools/postgresql
wget https://ftp.postgresql.org/pub/source/v11.16/postgresql-11.16.tar.gz -P /tools/postgresql 2.2 安装依赖包及准备 yum -y install openssl-devel libxml2-devel libxslt-devel python-devel cmake gcc-c&#43;&#43; zlib-devel bzip2 readline-devel expect git uuid-devel systemd-devel gcc automake autoconf libtool make vim wget
创建用户：
useradd postgres
修改密码：
echo &#34;PGsql@123456&#34; | passwd --stdin postgres
创建安装目录及修改权限
mkdir -p /usr/local/postgresql
chown -R postgres:postgres /usr/local/postgresql
2.3源码编译安装 2.3.1 解压源码包 cd /tools/postgresql
tar -xvf postgresql-11.16.tar.gz
2.3.2 执行configure" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b61168de497c7f37e0e374cae69c0946/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-03T20:58:44+08:00" />
<meta property="article:modified_time" content="2022-07-03T20:58:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">银河麒麟v10 sp1 安装 PostgreSQL 11.16</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;"></p> 
<h2 style="text-align:left;"><span style="color:#000000;">一、安装环境</span></h2> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">   <span style="color:#000000;">操作系统：银河麒麟v</span><span style="color:#000000;">10 </span><span style="color:#000000;">sp</span><span style="color:#000000;">1 </span><span style="color:#000000;">x</span><span style="color:#000000;">86_64</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">   <span style="color:#000000;">内核版本：4.19.90-23.8.v2101.ky10</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">   PostgreSQL版本：11.16</span></p> 
<h2 style="text-align:left;"><span style="color:#000000;">二、安装过程</span></h2> 
<h3 style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"><span style="color:#000000;">2.1 </span><span style="color:#000000;">下载源码包</span></span></h3> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">    <span style="color:#000000;">创建目录</span> <span style="color:#000000;">mkdir</span><span style="color:#000000;"> -</span><span style="color:#000000;">p</span><span style="color:#000000;"> /tools/postgresql</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"><span style="color:#000000;">   wget </span><a href="https://ftp.postgresql.org/pub/source/v11.16/postgresql-11.16.tar.gz" rel="nofollow" title="https://ftp.postgresql.org/pub/source/v11.16/postgresql-11.16.tar.gz">https://ftp.postgresql.org/pub/source/v11.16/postgresql-11.16.tar.gz</a><span style="color:#000000;"> -P /tools/postgresql  </span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="298" src="https://images2.imgbox.com/68/90/K9f2cYRJ_o.gif" width="1200"></p> 
<h3 style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"><span style="color:#000000;">2.2 </span><span style="color:#000000;">安装依赖包及准备</span></span></h3> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">   <span style="color:#121212;"><span style="background-color:#f6f6f6;">yum -y install openssl-devel libxml2-devel libxslt-devel python-devel cmake gcc-c++ zlib-devel bzip2 readline-devel expect git uuid-devel systemd-devel gcc automake autoconf libtool make vim wget</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><img alt="" height="647" src="https://images2.imgbox.com/1b/aa/Ogvb1GBW_o.gif" width="1200"></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">创建用户：</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">useradd postgres</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">修改密码：</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">echo "PGsql@123456" | passwd --stdin postgres</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">创建安装</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">目录及修改权限</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">mkdir -p /usr/local/postgresql</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"> <span style="color:#121212;"><span style="background-color:#f6f6f6;">chown -R postgres</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">:</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">postgres /usr/local/postgresql</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"></p> 
<h3 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">2.3</span><span style="color:#000000;">源码编译安装</span></span></span></h3> 
<h4 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">   2.3.1 </span><span style="color:#000000;">解压源码包</span>  </span></span></h4> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">cd /tools/postgresql</span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">tar -xvf postgresql-11.16.tar.gz</span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">   2.3.2 </span><span style="color:#000000;">执行configure</span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">    cd postgresql-11.16/</span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">    <span style="color:#121212;"><span style="background-color:#f6f6f6;">./configure \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --prefix=/usr/local/postgresql \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-pgport=5432 \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-openssl \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-libxml \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-libxslt \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-ossp-uuid \</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        --with-systemd</span></span></span></span></p> 
<h4 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">   2.3.3 </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">编译</span></span></span></span></h4> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">        <span style="color:#121212;"><span style="background-color:#f6f6f6;">gmake </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">-</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">j</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;"> 8 </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">world</span></span></span></span></p> 
<h4 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">   2.3.4 </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">安装</span></span></span></span></h4> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">        <span style="color:#121212;"><span style="background-color:#f6f6f6;">gmake install-world</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">   <span style="color:#121212;"><span style="background-color:#f6f6f6;">备注：</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">1.</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">编译时使用了gmake world和gmake install-world, 表示安装所有插件</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">2.</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">/configure编译参数详解:</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--prefix  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  指定安装目录。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--bindir  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  指定可执行程序的目录</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--sysconfdir  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  默认设置各种配置文件的目录。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--libdir          设置安装库和动态可加载模块的位置。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--includedir  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  设置安装C和C ++头文件的目录</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--datarootdir     设置各种类型的只读数据文件的根目录。share目录。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--datadir         设置已安装程序使用的只读数据文件的目录。默认值为DATAROOTDIR。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--localedir       设置用于安装区域设置数据的目录。默认值为DATAROOTDIR/locale。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--mandir  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  PostgreSQL附带的手册页将安装在这个目录下. man目录。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--docdir          设置安装文档文件的根目录。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--htmldir</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">  PostgreSQL的HTML格式文档将安装在此目录下。默认值为DATAROOTDIR。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-extra-version = STRING   将STRING附加到PostgreSQL版本号</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-libraries    用于搜索库。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--enable-nls   </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    启用本机语言支持（NLS），即以英语以外的语言显示程序消息的功能。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-pgport       设置为服务器和客户端的默认端口号。默认值为5432。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-perl</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    支持perl语言。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-python  </span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    支持python语言。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-TCL</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    支持PL/Tcl语言。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-tclconfig    包含构建与Tcl接口的模块所需的配置信息。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-GSSAPI       构建支持GSSAPI身份验证。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-openssl</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    构建支持SSL(加密)连接</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-pam</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    使用PAM（可插入身份验证模块）支持构建.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-ldap</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">    使用LDAP支持构建身份验证和连接参数查找.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--without-readline</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">禁用psql中的命令行编辑和历史记录 .</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-libedit-preferred        有利于使用BSD许可的libedit库.默认使用Readline。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-bonjour</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">使用Bonjour支持构建</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-uuid=LIBRARY</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">使用指定的UUID库构建uuid-ossp模块.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-libxml</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">使用libxml构建(启用SQL/XML支持).</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-libxslt</span></span> <span style="color:#121212;"><span style="background-color:#f6f6f6;">在构建xml2 模块时使用libxslt 。xml2依赖于此库来执行XML的XSL转换。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--disable-integer-datetimes      禁用对时间戳和间隔的64位整数存储的支持，并将日期时间值存储为浮点数。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--disable-float4-byval      禁用“按值”传递float4值，导致它们“通过引用”传递。此选项会降低性能.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--disable-float8-byval      禁用“按值”传递float8值，导致它们“通过引用”传递。此选项会降低性能.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-segsize=SEGSIZE   </span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">设置段大小，以千兆字节为单位。大表分为多个操作系统文件，每个文件的大小等于段大小</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-blocksize=BLOCKSIZE  </span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">设置块大小，以千字节为单位。这是表中的存储单元和I / O. 默认值为8千字节</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-wal-segsize=SEGSIZE  </span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">设置WAL段大小，以兆字节为单位。这是WAL日志中每个文件的大小。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">调整此大小以控制WAL日志传送的粒度可能很有用。默认大小为16兆字节。该值必须是1到64（兆字节）之间的2的幂.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-wal-blocksize=BLOCKSIZE</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">设置WAL块大小，以千字节为单位。这是WAL日志中的存储和I / O单位。默认值为8千字节.该值必须是1到64（兆字节）之间的2的幂.</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--disable-spinlocks        禁用环形锁。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--disable-thread-safety    禁用线程安全,禁用客户端库的线程安全性。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--with-system-tzdata=DIRECTORY</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">PostgreSQL包含自己的时区数据库，它需要日期和时间操作.默认与linux时区兼容。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--without-zlib  防止使用Zlib 库。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--enable-debug   使用调试符号编译所有程序和库。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--enable-depend  启用自动依赖关系跟踪。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--enable-dtrace   编译PostgreSQL，支持动态跟踪工具DTrace。</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">--enable-tap-tests  使用Perl TAP工具启用测试。</span></span></span></span></p> 
<h2><span style="background-color:#f6f6f6;"><span style="color:#000000;">三、初始化数据</span></span></h2> 
<h3 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#000000;">  3.1 </span><span style="color:#000000;">配置环境变量</span></span></span></h3> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">vim /etc/profile.d/pgdb.sh</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        export PGDATA=/usr/local/postgresql/data</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        export PATH=/usr/local/postgresql/bin:$PATH</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">source /etc/profile.d/pgdb.sh</span></span></span></span></p> 
<h3 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;">    <span style="color:#121212;"><span style="background-color:#f6f6f6;">3.</span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">2 初始化数据</span></span></span></span></h3> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;"> su - postgres</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">/usr/local/postgresql/bin/initdb -D /usr/local/postgresql/data --encoding=UTF8 --lc-collate=en_US.UTF-8 --lc-ctype=en_US.UTF-8</span></span></span></span></p> 
<h3 style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">    3.3 </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">启动postgresql数据库</span></span></span></span></h3> 
<p style="margin-left:0;text-align:left;"><span style="color:#000000;"><span style="background-color:#f6f6f6;"><span style="color:#121212;"><span style="background-color:#f6f6f6;">        /usr/local/postgresql/bin/pg_ctl -D /usr/local/postgresql/data -l logfile </span></span><span style="color:#121212;"><span style="background-color:#f6f6f6;">start</span></span></span></span></p> 
<p style="margin-left:0;text-align:left;"></p> 
<h2 style="text-align:left;"><span style="color:#000000;">四、验证</span></h2> 
<p style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;">   <span style="color:#000000;">查看当前数据库版本</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="390" src="https://images2.imgbox.com/0c/26/YYBi0iF8_o.gif" width="1200"></p> 
<p></p> 
<p style="margin-left:.0001pt;">附：银河麒麟v10 sp1 arm服务器 postgresql 11.16的rpm安装包已经上传网盘，减轻了编译安装的时间及调试  https://pan.baidu.com/s/1PPj3DGfJ7jd8kmVxScEaEA 提取码: p49h <br>  </p> 
<p style="margin-left:.0001pt;text-align:left;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7db946532f34568e78f74a66ad0792b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL查询请求的执行过程——底层原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab9e70d0441600a85558a13db36ba59c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux CFS调度 记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>