<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue Router - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue Router" />
<meta property="og:description" content="网址：Vue Router，vuerouter是vue全家桶（vue&#43;vue router&#43;vuex ）**之一。
此处建议创建一个带Router的vue项目。
1、介绍 Vue Router 是 Vue.js 官方的路由管理器。它和 Vue.js 的核心深度集成，让构建单页面应用变得易如反掌。包含的功能有：
嵌套的路由（套娃，父子路由）
模块化的、基于组件的路由配置
路由参数、查询、通配符
带有自动激活（默认选中效果）的 CSS class 的链接
HTML5 历史模式或 hash 模式
MVVM框架采用的路由都会在地址改变的时候页面不刷新，这种应用我们称之为SPA（Single Page Application）
2、路由模式切换 vue-router中默认使用的是hash模式的路由，也就是前面介绍的地址栏中URL带有“#”的形式，如果需要切换成history模式，则可以在创建路由实例时进行指定，指定的配置项为mode，可选值：
hash：默认，设置路由模式为hash路由
history：设置路由模式为history路由
3、导航方式 含义：从一个组件/地址去往另一个组件/地址的方式。
在页面中，导航实现有2种方式：
声明式导航：通过点击链接实现的导航方式，例如HTML中的“&lt;a&gt;”标签，Vue中的“&lt;router-link&gt;”所实现的。（其性质与a标签的性质类似）
编程式导航：通过调用JavaScript形式API实现的导航方式，例如location.href实现的跳转效果
3.1、声明式导航
它就是先在页面中定义好跳转的路由规则，vueRouter中通过router-link组件来完成
&lt;!-- 纯字符串 --&gt; &lt;router-link to=&#34;/home&#34;&gt;Home&lt;/router-link&gt; ​ &lt;!-- 动态绑定路径 --&gt; &lt;router-link :to=&#34;&#39;/home&#39;&#34;&gt;Home&lt;/router-link&gt; ​ &lt;!-- 对象形式 --&gt; &lt;router-link :to=&#34;{ path: &#39;/home&#39; }&#34;&gt;Home&lt;/router-link&gt; ​ &lt;!-- 通过路由命名并且携带隐式参数 --&gt; &lt;router-link :to=&#34;{ name: &#39;user&#39;, params: { userId: &#39;123&#39; }}&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2ef7326927c057aa9be8eaa8a888144f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-08T11:24:55+08:00" />
<meta property="article:modified_time" content="2022-09-08T11:24:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue Router</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>网址：<a href="https://router.vuejs.org/zh/" rel="nofollow" title="Vue Router">Vue Router</a>，vuerouter是<strong>vue全家桶（vue+vue router+vuex</strong> ）**之一。</p> 
<p><strong>此处建议创建一个带Router的vue项目。</strong></p> 
<h4>1、介绍</h4> 
<p><strong>Vue Router 是 Vue.js 官方的路由管理器</strong>。它和 Vue.js 的核心深度集成，让构建单页面应用变得易如反掌。包含的功能有：</p> 
<ul><li> <p>嵌套的路由（套娃，父子路由）</p> </li><li> <p><strong>模块化</strong>的、基于组件的路由配置</p> </li><li> <p>路由参数、查询、通配符</p> </li><li> <p>带有自动激活（默认选中效果）的 CSS class 的链接</p> </li><li> <p>HTML5 历史模式或 hash 模式</p> </li></ul> 
<p></p> 
<p><strong>MVVM框架采用的路由都会在地址改变的时候页面不刷新，这种应用我们称之为SPA（Single Page Application）</strong></p> 
<p></p> 
<h4>2、路由模式切换</h4> 
<p>vue-router中默认使用的是hash模式的路由，也就是前面介绍的地址栏中URL带有“#”的形式，如果需要切换成history模式，则可以在创建路由实例时进行指定，指定的配置项为<code>mode</code>，可选值：</p> 
<ul><li> <p>hash：<strong>默认</strong>，设置路由模式为hash路由</p> </li><li> <p>history：设置路由模式为history路由</p> </li></ul> 
<p></p> 
<h4>3、导航方式</h4> 
<p>含义：从一个组件/地址去往另一个组件/地址的方式。</p> 
<p>在页面中，导航实现有2种方式：</p> 
<ul><li> <p>声明式导航：通过点击链接实现的导航方式，例如HTML中的“&lt;a&gt;”标签，Vue中的“&lt;router-link&gt;”所实现的。（其性质与a标签的性质类似）</p> </li><li> <p>编程式导航：通过调用JavaScript形式API实现的导航方式，例如location.href实现的跳转效果</p> </li></ul> 
<p><strong>3.1、声明式导航</strong></p> 
<p>它就是先在页面中定义好跳转的路由规则，vueRouter中通过router-link组件来完成</p> 
<pre><code class="language-html">&lt;!-- 纯字符串 --&gt;
&lt;router-link to="/home"&gt;Home&lt;/router-link&gt;
​
&lt;!-- 动态绑定路径 --&gt;
&lt;router-link :to="'/home'"&gt;Home&lt;/router-link&gt;
​
&lt;!-- 对象形式 --&gt;
&lt;router-link :to="{ path: '/home' }"&gt;Home&lt;/router-link&gt;
​
&lt;!-- 通过路由命名并且携带隐式参数 --&gt;
&lt;router-link :to="{ name: 'user', params: { userId: '123' }}"&gt;User&lt;/router-link&gt;
​
&lt;!-- 对象形式带查询字符串 --&gt;
&lt;router-link :to="{ path: '/register', query: { plan: 'private' }}"&gt;
  Register
&lt;/router-link&gt;
​
&lt;!-- 
    to 要跳转到的路由规则  string|object
    to="users"
    :to="{path:'path'}"
    tag="tagName"       去指定声明式导航产生的链接所使用的标签，默认是a标签
--&gt;</code></pre> 
<pre></pre> 
<p><strong>3.2、编程式导航</strong></p> 
<p>简单来说，编程式导航就是通过<code>JavaScript</code>来实现路由跳转</p> 
<pre><code class="language-javascript">this.$router.push("/login");
this.$router.push({ path:"/login" });
this.$router.push({ path:"/login",query:{username:"jack"} });
// 不要将path属性与params属性一起使用，这样会导致params路由参数获取不到
// name属性可以与params属性传参一起使用
this.$router.push({ name:'user' , params: {id:123} });
this.$router.go( n );//n为数字  负数为回退
this.$router.back(); // 返回上一页</code></pre> 
<p><strong>注意点：</strong>编程式导航在跳转到与当前地址一致的URL时会报错，但这个报错不影响功能：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d1/5f/1tjXNGgn_o.png"></p> 
<p>如果患有强迫症，可以在路由入口文件<code>index.js</code>中添加如下代码解决该问题：</p> 
<pre><code class="language-javascript">// 该段代码不需要记，理解即可
const originalPush = VueRouter.prototype.push;
VueRouter.prototype.push = function push(location) {
    return originalPush.call(this, location).catch((err) =&gt; err);
};</code></pre> 
<p></p> 
<h4>4、路由重定向</h4> 
<ul><li> <p>概念：用户在访问地址 A 的时候，强制用户跳转到地址 C ，从而展示特定的组件页面</p> </li><li> <p>实现： 通过路由规则的<code>redirect</code>属性，指定一个新的路由地址，可以很方便地设置路由的重定向</p> </li></ul> 
<p><strong>代码示例</strong></p> 
<pre><code class="language-javascript">&lt;script type="javascript"&gt;
var router = new VueRouter({
    // routes是路由规则数组 
    routes: [
        // 每个路由规则都是个配置对象，至少有path和component两个属性（重定向除外）
        // path表示当前路由规则匹配的hash地址 
        // component表示当前路由规则对应要展示的组件
        { path: '/', redirect: '/user' },
        { path: '/user', component: User },
        { path: '/register', component: Register }
    ]
})
&lt;/script&gt;</code></pre> 
<blockquote> 
 <p>component属性是可选属性，因此在写的时候需要注意，写错了也不会报错的。</p> 
</blockquote> 
<p></p> 
<h4>5、嵌套路由</h4> 
<p>路由前缀： <strong>/admin/user</strong>/add <strong>/admin/user</strong>/del <strong>/admin/user</strong>/mod</p> 
<p>相同部分可以<strong>提取</strong>出来，减少重复劳动。</p> 
<p>————————————以上为nodejs中的概念————————————————</p> 
<p>上述概念在vue中被称之为叫做嵌套路由。</p> 
<p>套娃，可以按照之前的nodejs处的路由前缀去理解。（当有些路由有公共部分的前缀时，在vue中就可以使用嵌套路由）</p> 
<p>嵌套路由最关键在于理解子级路由的概念：</p> 
<p>比如我们有一个<code>/users</code>的路由，那么<code>/users</code>下面还可以添加子级路由，如:<code>/users/index</code>、<code>/users/add</code>等等，这样的路由情形称之为嵌套路由。</p> 
<blockquote> 
 <p>核心思想：在<strong>父路由组件</strong>的模板内容中添加子路由链接和子路由<strong>填充位（占坑）</strong>，同时在路由规则处为父路由配置<strong>children属性</strong>指定子路由规则：</p> 
</blockquote> 
<pre><code class="language-javascript">routes: [
  { 
      path: "/user", 
      component: User,  //这个不能丢
      // 通过children属性为/user添加子路由规则
      children:[
          // 子路由地址前不能写“/”，如果写了则表示从根开始
          { path: "index", component: Index },
          { path: "add", component: Add },
      ]
  }
]</code></pre> 
<pre>&lt;!-- 需要在 User组件中定义一个router-view 用于嵌套路由的渲染显示 --&gt;
&lt;router-view&gt;&lt;/router-view&gt;</pre> 
<p></p> 
<h4>6、404路由</h4> 
<p>作用：用于处理当路由匹配不上的时候页面的展示（不做404路由，则页面限时白板页面）</p> 
<p>由于Vue路由是<strong>从上到下执行</strong>的，<strong>只要在路由配置规则中最后面放个*号（通配符）路由就可以了</strong>，例如：</p> 
<pre><code class="language-javascript">const routes = [
    { path: "/hello", redirect: Hello },
    { path: "/about", component: About },
    { path: "/news", component: News },
    // 404路由
    { path: "*", component: NotFound },
];</code></pre> 
<p></p> 
<h4>3.7、路由参数</h4> 
<blockquote> 
 <p>本节知识点就是为了restful服务的，看如果在vue中使用restful形式进行<strong>参数传递</strong>。</p> 
</blockquote> 
<ul><li> <p>如何传递</p> 
  <ul><li> <p>在声明路由的时候，将可变部分通过“<code>:变量名</code>”的形式进行替代</p> </li></ul></li><li> <p>如何获取</p> 
  <ul><li> <p>获取this.$route来获取</p> </li></ul></li></ul> 
<pre><code class="language-javascript">// 传递参数id
var router = new VueRouter({
    // routes是路由规则数组 
    routes: [
        { path: '/user/:id', component: User },
        // 此处的“:”只是在声明的时候写，在使用的时候不需要写“:”
    ]
})</code></pre> 
<pre>&lt;template&gt;
    &lt;div&gt;
        &lt;!-- 单文件形式的组件, 可以在视图中直接接收路由参数，但是一般不这么用 --&gt;
        这是news组件{<!-- -->{$route.params.id}}
    &lt;/div&gt;
&lt;/template&gt;</pre> 
<p>路由规则中的“:”只是在声明的时候写，在使用的时候不需要写“:”，例如如下代码：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4c/cc/6Z7BQm0G_o.png"></p> 
<p>问题：如上代码，如果路由规则里声明需要传递参数，但是实际使用的时候没传递参数会怎么样？</p> 
<p>答：如果声明需要传递参数，但是实际不传的话则会影响落地页的显示，显示成白板（但是不报错）。但是如果有404路由在规则的最后，则匹配404路由。</p> 
<p><strong>注意：在实际开发的时候会有可能需要传参也可能不需要传参的情况，这个时候需要用到<code>可选路由参数</code>点。</strong></p> 
<p>定义可选路由参数的方式很简单，只需要在原有的路由参数声明位置后面加上个<code>?</code>即可。例如：</p> 
<pre>{ path: "showdetail/:id?", component: ShowDetail },</pre> 
<p></p> 
<h4>3.8、路由元信息</h4> 
<p>有时，我们可能希望将任意信息附加到路由上，例如在后续做登录判断的时候需要标记哪些地址必须登录后才能访问。这些事情可以通过接收属性对象的<code>meta</code>属性来实现，定义路由的时候我们可以这样配置 <code>meta</code> 字段：</p> 
<pre><code class="language-javascript">const routes = [
    {
        path: "/posts",
        component: PostsLayout,
        children: [
            {
                path: "new",
                component: PostsNew,
                // 只有经过身份验证的用户才能创建帖子
                meta: { requiresAuth: true },
            },
            {
                path: ":id",
                component: PostsDetail,
                // 任何人都可以阅读文章
                meta: { requiresAuth: false },
            },
        ],
    },
]</code></pre> 
<pre>​</pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb1eb2e17fbf42fc8a104e6fc841c4e1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu PX4无人机仿真环境配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33e610c8c8b3c3f2d5dff80a393e337e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Windows VStudio 查看虚函数指针</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>