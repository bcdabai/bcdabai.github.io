<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>yaml语法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="yaml语法" />
<meta property="og:description" content="一、简介 yaml基本语法规则： 大小写敏感使用缩进表示层级关系缩进时不允许使用Tab键，只允许使用空格。缩进的空格数目不重要，只要相同层级的元素左侧对齐即可#表示注释，从这个字符一直到行尾，都会被解析器忽略，这个和python的注释一样 YAML 支持的数据结构有三种: 对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）纯量（scalars）：单个的、不可再分的值 注意：
冒号后面，要跟一个空格。
二、基本类型（数字/字符串） 字符串默认不使用引号表示（也可以使用引号）.
如果字符串之中包含空格或特殊字符，需要放在引号之中.
yaml -&gt; json:
age: 18 score: 98.5 name: 张三 firstname: &#34;jack ma&#34; { &#34;age&#34;: 18, &#34;score&#34;: 98.5, &#34;name&#34;: &#34;张三&#34;, &#34;firstname&#34;: &#34;jack ma&#34; } 三、数组/列表 数组/列表，有2种写法。
yaml -&gt; json:
subjects: [&#34;语文&#34;, &#34;数学&#34;, &#34;英语&#34;] language: [Java, python, C&#43;&#43;] fruits: - banana - apple - orange { &#34;subjects&#34;: [ &#34;语文&#34;, &#34;数学&#34;, &#34;英语&#34; ], &#34;language&#34;: [ &#34;Java&#34;, &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c53508206adaa2460bb4a3c95744fb7f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-22T16:16:27+08:00" />
<meta property="article:modified_time" content="2024-01-22T16:16:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">yaml语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、简介</h3> 
<h4>yaml基本语法规则：</h4> 
<ul><li>大小写敏感</li><li>使用缩进表示层级关系</li><li>缩进时不允许使用Tab键，只允许使用空格。</li><li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li><li>#表示注释，从这个字符一直到行尾，都会被解析器忽略，这个和python的注释一样</li></ul> 
<h4>YAML 支持的数据结构有三种:</h4> 
<ul><li>对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）</li><li>数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）</li><li>纯量（scalars）：单个的、不可再分的值</li></ul> 
<p>注意：</p> 
<p><span style="color:#fe2c24;">冒号后面，要跟一个空格。</span></p> 
<h3> 二、基本类型（数字/字符串）</h3> 
<p>字符串默认不使用引号表示（也可以使用引号）.</p> 
<p>如果字符串之中包含空格或特殊字符，需要放在引号之中.</p> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">age: 18
score: 98.5
name: 张三
firstname: "jack ma"</code></pre> 
 <pre><code class="hljs">{
  "age": 18,
  "score": 98.5,
  "name": "张三",
  "firstname": "jack ma"
}</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%E4%B8%89%E3%80%81%E6%95%B0%E7%BB%84%2F%E5%88%97%E8%A1%A8">三、数组/列表</h3> 
<p>数组/列表，有2种写法。</p> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">subjects: ["语文", "数学", "英语"]
language: [Java, python, C++]
fruits:
 - banana
 - apple
 - orange</code></pre> 
 <pre><code class="hljs">{
  "subjects": [
    "语文",
    "数学",
    "英语"
  ],
  "language": [
    "Java",
    "python",
    "C++"
  ],
  "fruits": [
    "banana",
    "apple",
    "orange"
  ]
}</code></pre> 
 <p></p> 
</blockquote> 
<h4>数组嵌套 </h4> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">food:
 - ["青苹果", "红苹果", "黄苹果"]
 - - 黄瓜
   - 西瓜
   - 冬瓜
 - - 小麦
   - 大米
   - 玉米</code></pre> 
 <pre><code class="hljs">{
  "food": [
    [
      "青苹果",
      "红苹果",
      "黄苹果"
    ],
    [
      "黄瓜",
      "西瓜",
      "冬瓜"
    ],
    [
      "小麦",
      "大米",
      "玉米"
    ]
  ]
}</code></pre> 
</blockquote> 
<h3>四、对象 </h3> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">person:
 name: 张三
 age: 18
 gender: 男</code></pre> 
 <pre><code class="hljs">{
  "person": {
    "name": "张三",
    "age": 18,
    "gender": "男"
  }
}</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%E4%BA%94%E3%80%81%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8(%E9%94%9A%E7%82%B9%26%20%E4%B8%8E%20%E5%BC%95%E7%94%A8*)">五、变量的使用(锚点&amp; 与 引用*)</h3> 
<p>为了保持内容的简洁，避免过多重复的定义，YAML 提供了由<strong>锚点标签“&amp;”</strong>和<strong>引用标签“*”</strong>组成的语法。</p> 
<p>对于重复的数据，可以单独写到yaml文件的开头位置，其它的地方用到的可以用*引用。</p> 
<p>&amp;用来建立锚点，&lt;&lt;表示合并到当前数据，*用来引用锚点。 </p> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">address: &amp;MyAddress
  city: beijing
  street: tuanjiehu
  number: 1004

Person:
  name: zhangsan
  age: 18
  &lt;&lt;: *MyAddress</code></pre> 
 <pre><code class="hljs">{
  "address": {
    "city": "beijing",
    "street": "tuanjiehu",
    "number": 1004
  },
  "Person": {
    "name": "zhangsan",
    "age": 18,
    "city": "beijing",
    "street": "tuanjiehu",
    "number": 1004
  }
}</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%E5%85%AD%E3%80%81%E5%A4%8D%E5%90%88%E7%BB%93%E6%9E%84%C2%A0">六、复合结构</h3> 
<h4>列表中包含字典 ：</h4> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">students:
  - name: zhangsan
    age: 18
    gender: 男
  - name: lisi
    age: 20
    gender: 女</code></pre> 
 <pre><code class="hljs">{
  "students": [
    {
      "name": "zhangsan",
      "age": 18,
      "gender": "男"
    },
    {
      "name": "lisi",
      "age": 20,
      "gender": "女"
    }
  ]
}</code></pre> 
 <p></p> 
</blockquote> 
<h4>字典中包含列表</h4> 
<p> yaml -&gt; json:</p> 
<blockquote> 
 <pre><code class="hljs">students:
    name: 
      - zhangsan
      - sili
      - wangwu
    age: 
      - 18
      - 17
      - 20
    scores:
      - 89
      - 98
      - 100</code></pre> 
 <pre><code class="hljs">{
  "students": {
    "name": [
      "zhangsan",
      "sili",
      "wangwu"
    ],
    "age": [
      18,
      17,
      20
    ],
    "scores": [
      89,
      98,
      100
    ]
  }
}</code></pre> 
 <p></p> 
</blockquote> 
<h3 id="%E4%B8%83%E3%80%81Python%E8%AF%BB%E5%8F%96yaml%E6%96%87%E4%BB%B6">七、Python读取yaml文件</h3> 
<p><span style="color:#fe2c24;">pip3 install pyyaml</span></p> 
<p>先用open方法读取文件数据，再通过load方法转成字典，这个load跟json里面的load是相似的</p> 
<pre><code class="hljs"># coding:utf-8

import yaml


def read(path):
    with open(path, 'r') as file:
        data = file.read()
        # result = yaml.load(data)
        result = yaml.load(data, Loader=yaml.FullLoader)
        return result


if __name__ == '__main__':
    result = read('test.yaml')
    print(result)
</code></pre> 
<p></p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4370d96cc981547d2d9689879fe9f1f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024最新Windows版本的Redis安装包和工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/404c83398309bf7b0101cbecbf8671a1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">机器人学论文——智能施药机器人调研报告</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>