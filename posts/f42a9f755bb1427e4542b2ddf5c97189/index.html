<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VUE：混入 （mixins）选项的用法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VUE：混入 （mixins）选项的用法" />
<meta property="og:description" content="在vue组件内，如果想将一些公共功能，如组件、方法、钩子函数等复用，混入是一个很好的选择。下面简单介绍一下混入的方式及特点。
首先来看看官方文档的介绍：
具体的说，你可以将一个对象作为混入的选项，在组件中复用。因为vue实例也是对象，所以你可以将vue实例作为混入选项传递进去。
组件中的mixins接收一个数组作为值。
&lt;template&gt; &lt;div class=&#34;hello&#34;&gt; &lt;h1&gt;{{ msg }}&lt;/h1&gt; &lt;h1&gt;{{ form.a }}&lt;/h1&gt; &lt;button @click=&#34;buttonClick&#34;&gt;current&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import fun from &#39;./mixins/methods.vue&#39; // import { constants } from &#39;http2&#39;; export default { name: &#34;HelloWorld&#34;, mixins:[fun], created(){ console.log(&#39;这是当前组件&#39;) }, data() { return { msg: &#34;Welcome to Your Vue.js App&#34; } }, methods:{ buttonClick(){ console.log(this.form.a) console.log(this.msg) this.clickFn(); this.exm(); }, exm(){ console.log(&#39;这是组件的exm方法&#39;) } } } &lt;/script&gt; 以上代码将一个vue实例作为混入选项。
&lt;script&gt; export default { created(){ console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f42a9f755bb1427e4542b2ddf5c97189/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-07T00:43:55+08:00" />
<meta property="article:modified_time" content="2018-11-07T00:43:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VUE：混入 （mixins）选项的用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在vue组件内，如果想将一些公共功能，如组件、方法、钩子函数等复用，混入是一个很好的选择。下面简单介绍一下混入的方式及特点。</p> 
<p>首先来看看官方文档的介绍：</p> 
<p><img alt="" class="has" height="76" src="https://images2.imgbox.com/5e/83/erSVOQeY_o.png" width="636"></p> 
<p>具体的说，你可以将一个对象作为混入的选项，在组件中复用。因为vue实例也是对象，所以你可以将vue实例作为混入选项传递进去。</p> 
<p>组件中的mixins接收一个数组作为值。</p> 
<pre class="has"><code class="language-javascript">&lt;template&gt;
  &lt;div class="hello"&gt;
    &lt;h1&gt;{<!-- -->{ msg }}&lt;/h1&gt;
    &lt;h1&gt;{<!-- -->{ form.a }}&lt;/h1&gt;
    &lt;button @click="buttonClick"&gt;current&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import fun from './mixins/methods.vue'
// import { constants } from 'http2';
export default {
  name: "HelloWorld",
  mixins:[fun],
  created(){
    console.log('这是当前组件')
  },
  data() {
    return {
      msg: "Welcome to Your Vue.js App"
    }
  },
  methods:{
    buttonClick(){
      console.log(this.form.a)
      console.log(this.msg)
      this.clickFn();
      this.exm();
    },
    exm(){
      console.log('这是组件的exm方法')
    }
  }
}
&lt;/script&gt;</code></pre> 
<p>以上代码将一个vue实例作为混入选项。</p> 
<pre class="has"><code class="language-javascript"> &lt;script&gt; 
export default {
  created(){
    console.log('这是混入的组件')
  },
  data() {
    return {
      msg: 'erwerwe',
      form:{
        a:'aaa'
      }
    }
  },
  methods:{
    clickFn(){
      console.log(this.msg)
    },
    exm(){
      console.log('这是混入的exm方法')
    }
  }
}
&lt;/script&gt;</code></pre> 
<p>混入了一个方法，和两个同名的data数据，以及created函数。</p> 
<p>接下来说一下混入的原则：</p> 
<h4>1、同名钩子函数将会合并成一个数组，都会调用，混入函数先调用</h4> 
<p><img alt="" class="has" height="156" src="https://images2.imgbox.com/40/11/FU4B7Vh1_o.png" width="590"></p> 
<p>示意如上</p> 
<h4>2、data选项将会发生一层浅合并（参考原生的Object.assign()方法），属性冲突时以组件属性优先</h4> 
<p><img alt="" class="has" height="343" src="https://images2.imgbox.com/bf/9e/oKTumRPL_o.png" width="507"></p> 
<p>混入的对象中也有msg属性，和原组件的msg属性冲突，所以msg为组件的dat的msg属性。组件内无form属性，混入了form属性之后也拥有form属性。</p> 
<h4>3、值为对象的选项，如methods，components，directives等，将会合并为一个新对象，如果键名冲突，组件的key对应的值优先</h4> 
<p><img alt="" class="has" height="343" src="https://images2.imgbox.com/8f/14/33I3ljUm_o.png" width="507"></p> 
<p>上图可以看出，在混入的方法内获取data的数据，结果是最终的msg(而非混入的对象的msg)。在两者都有exm方法时，调用的是组件内的exm方法，（这有别于同名钩子函数的调用方式）。</p> 
<p>以上就是混入的用法及区别。</p> 
<p>也可以将引入的vue对象写成简单的对象</p> 
<pre class="has"><code class="language-javascript">export default {
  created(){
    console.log('这是混入的组件')
  },
  data() {
    return {
      msg: 'erwerwe',
      form:{
        a:'aaa'
      }
    }
  },
  methods:{
    clickFn(){
      console.log(this.msg)
    },
    exm(){
      console.log('这是混入的exm方法')
    }
  }
}</code></pre> 
<p>用法没有变化。</p> 
<h3><span style="color:#f33b45;">自定义混入的方法在此不坐介绍，有兴趣的同学可以去官方文档查看，</span></h3> 
<p><span style="color:#f33b45;"><a href="https://cn.vuejs.org/v2/guide/mixins.html" rel="nofollow">vuejs:混入</a></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/894700ce09be0c0a26a70ad42894ddb5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">lua的异常处理机制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/879bbaa7cbcedb8fdaabe5c6563ff28d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">String[]与List&lt;String&gt;的区别及相互转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>