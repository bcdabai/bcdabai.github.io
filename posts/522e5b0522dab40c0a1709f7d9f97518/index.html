<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mac 使用Charles进行手机https抓包(超详细教程) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mac 使用Charles进行手机https抓包(超详细教程)" />
<meta property="og:description" content="Mac 使用Charles进行手机https抓包(超详细教程) 前言 还不知道怎么用手机连内网地址进行测试？
还不知道怎么用Charles抓手机HTTPS的包？
希望下面会对你有些帮助。
操作指南 操作环境：
电脑系统：Mac OS手机系统：iOS 12及以上/AndroidCharles版本：V4.5.6 第一步：安装Charles证书到Mac 1.启动Charles，选择Help--&gt;SSL Proxying→Install Charles Root Certificate
image.png
2、此时会启动“钥匙串访问”APP，并找到刚开安装好的证书，证书名字：Charles Proxy CA，找不到的可以搜索框搜下。
image.png
3、选中该证书，点击显示简介。
image.png
4、更改证书信任权限。更改为始终信任，并关闭窗口输入密码保存。
image.png
5、移动复制该证书到“系统”里面。此时电脑端的证书就配置完毕了！
image.png
6、设置HTTPS端口抓包，点击Charles--&gt;Proxy--&gt;SSL Proxying Settings，出现如下弹窗，点击&#34;Enable SSL Proxying&#34;,点击“Add”
image.png
7、按照图中输入，点击保存。至此，电脑端配置已全部完成！
image.png
第二步：安装Charles证书到手机 前提：
​ 1、首先查看电脑IP地址，点击Charles--&gt;Help→Local IP Address
image.png
2、手机必须和电脑在同一个Wi-Fi下。
iPhone证书安装： 1、iPhone，Wi-Fi设置代理。步骤：设置→WIFI --&gt;点击Wi-Fi旁边的i
IMG_4102.PNG
2、划到底部，点击配置代理
IMG_4103.PNG
3、配置代理，IP就是你电脑的IP，端口输入8888，点击存储
IMG_4104.PNG
4、然后打开Safari浏览器，访问：chls.pro/ssl，此时电脑上连接提示，点击allow允许。
image.png
5、此时手机会提示下载描述文件，点击允许
IMG_4105.PNG
6、保存后，点击 设置--&gt;通用→描述文件，安装刚下载好的文件
IMG_4107.PNG
7、安装完成后，点击 设置--&gt;通用→关于本机，下拉到底部，点击证书 信任设置，把刚信任开关打开。
IMG_4109.PNG
8、大功告成，此时你就可以愉快的抓HTTPS的包了。以及访问公司内网。
Android证书安装： 以小米手机为例。
1、设置Wi-Fi代理。设置→WI-FI→代理设置，IP就是你电脑的IP，端口输入8888，保存
image.png
2、使用Chrome浏览器访问&#34;chls.pro/ssl&#34;（注意：一定要使用Chrome浏览器，安卓国产浏览器会将证书视为下载文件，不能直接安装），此时电脑上连接提示，点击allow允许。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/522e5b0522dab40c0a1709f7d9f97518/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-26T18:28:28+08:00" />
<meta property="article:modified_time" content="2022-04-26T18:28:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mac 使用Charles进行手机https抓包(超详细教程)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>Mac 使用Charles进行手机https抓包(超详细教程)</h2> 
<p style="text-align:center;"><a href="https://www.jianshu.com/u/efbf5c82bf4d" rel="nofollow"><img alt="" src="https://images2.imgbox.com/0c/a6/Sbj3KVP9_o.png"></a></p> 
<p></p> 
<p></p> 
<h2>前言</h2> 
<ul><li> <p>还不知道怎么用手机连内网地址进行测试？</p> </li><li> <p>还不知道怎么用Charles抓手机HTTPS的包？</p> </li><li> <p>希望下面会对你有些帮助。</p> </li></ul> 
<h2>操作指南</h2> 
<p><strong>操作环境：</strong></p> 
<ul><li><strong>电脑系统：Mac OS</strong></li><li><strong>手机系统：iOS 12及以上/Android</strong></li><li><strong>Charles版本：V4.5.6</strong></li></ul> 
<h3>第一步：安装Charles证书到Mac</h3> 
<p>1.启动Charles，选择Help--&gt;SSL Proxying→Install Charles Root Certificate</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f3/e9/2ZCFUIUP_o.png"></p> 
<p>image.png</p> 
<p></p> 
<p>2、此时会启动“钥匙串访问”APP，并找到刚开安装好的证书，证书名字：Charles Proxy CA，找不到的可以搜索框搜下。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a7/b9/4wPFlShd_o.png"></p> 
<p>image.png</p> 
<p>3、选中该证书，点击显示简介。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/10/b6/UYnUKMka_o.png"></p> 
<p>image.png</p> 
<p>4、更改证书信任权限。更改为始终信任，并关闭窗口输入密码保存。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/94/e6/D73VSCY0_o.png"></p> 
<p>image.png</p> 
<p>5、移动复制该证书到“系统”里面。此时电脑端的证书就配置完毕了！</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/56/da/TlYMwnZw_o.png"></p> 
<p>image.png</p> 
<p>6、设置HTTPS端口抓包，点击Charles--&gt;Proxy--&gt;SSL Proxying Settings，出现如下弹窗，点击"Enable SSL Proxying",点击“Add”</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ac/71/3DgxU4Yj_o.png"></p> 
<p>image.png</p> 
<p></p> 
<p>7、按照图中输入，点击保存。至此，电脑端配置已全部完成！</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/63/b5/HFcukjZc_o.png"></p> 
<p>image.png</p> 
<h3>第二步：安装Charles证书到手机</h3> 
<p><strong>前提：</strong></p> 
<p>​ 1、首先查看电脑IP地址，点击Charles--&gt;Help→Local IP Address</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/74/43/BtZbf0k3_o.png"></p> 
<p>image.png</p> 
<p>2、手机必须和电脑在同一个Wi-Fi下。</p> 
<h3>iPhone证书安装：</h3> 
<p>1、iPhone，Wi-Fi设置代理。步骤：设置→WIFI --&gt;点击Wi-Fi旁边的i</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/07/29/rzKJ6bK0_o.png"></p> 
<p>IMG_4102.PNG</p> 
<p>2、划到底部，点击配置代理</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5f/cc/b2aGYxNb_o.png"></p> 
<p>IMG_4103.PNG</p> 
<p>3、配置代理，IP就是你电脑的IP，端口输入8888，点击存储</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/6f/83/aaWYZ7Iz_o.png"></p> 
<p>IMG_4104.PNG</p> 
<p>4、然后打开Safari浏览器，访问：chls.pro/ssl，此时电脑上连接提示，点击allow允许。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3b/c3/UDZ1OuxY_o.png"></p> 
<p>image.png</p> 
<p>5、此时手机会提示下载描述文件，点击允许</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/0d/eb/nOW2fzxA_o.png"></p> 
<p>IMG_4105.PNG</p> 
<p>6、保存后，点击 设置--&gt;通用→描述文件，安装刚下载好的文件</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/20/83/DeRC0Jta_o.png"></p> 
<p>IMG_4107.PNG</p> 
<p>7、安装完成后，点击 设置--&gt;通用→关于本机，下拉到底部，点击证书 信任设置，把刚信任开关打开。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3d/04/rEabxpv9_o.png"></p> 
<p>IMG_4109.PNG</p> 
<p>8、大功告成，此时你就可以愉快的抓HTTPS的包了。以及访问公司内网。</p> 
<h3>Android证书安装：</h3> 
<p><strong>以小米手机为例。</strong></p> 
<p>1、设置Wi-Fi代理。设置→WI-FI→代理设置，IP就是你电脑的IP，端口输入8888，保存</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/fd/54/tSzLx5H2_o.png"></p> 
<p>image.png</p> 
<p>2、使用Chrome浏览器访问"chls.pro/ssl"（注意：一定要使用Chrome浏览器，安卓国产浏览器会将证书视为下载文件，不能直接安装），此时电脑上连接提示，点击allow允许。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/66/95/Uqy0KEkS_o.png"></p> 
<p></p> 
<p>4、下载证书并安装(需要提前设置好手机锁屏密码)，见下图，输入名称，点击确认就可以了。</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/67/26/htlvzKoq_o.png"></p> 
<p>5、大功告成！此时你就可以愉快的抓HTTPS的包了。以及访问公司内网。</p> 
<h2>备注：</h2> 
<p>有的手机app是不允许抓包的，具体实现原理大概两种：</p> 
<p>1、app框架可以检测代理，如果你是用代理端口访问，则拒绝连接。</p> 
<p>2、手机内置HTTPS证书做了双端校验。具体原理感兴趣可以Google下</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p>------------------------------------------------------------------------</p> 
<h2>安卓手机安装charles证书（华为手机）</h2> 
<p>1、charles</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/cd/72/Igcm7RTt_o.png" width="1180"></p> 
<p>2、手机设置代理</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b1/94/ZGkIMiKN_o.png" width="774"></p> 
<p>3、证书下载，charles保存到电脑上</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/90/c1/D4Jh4Rat_o.png" width="1200"></p> 
<p>4、下载的证书格式改成crt</p> 
<p>5、电脑的证书发送到手机qq上</p> 
<p>6、打开手机qq,安装证书</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/df/1b/zVWDfUSi_o.png" width="820"></p> 
<p></p> 
<p></p> 
<p></p> 
<p>charles证书过期，删除证书后，点击install charles证书，未弹出安装证书信息</p> 
<p>  </p> 
<p></p> 
<p>Charles<br><br> 问题：charles证书过期，删除证书后，点击install charles证书，未弹出安装证书信息</p> 
<p> 解决方案：</p> 
<p>先reset一下，再同上图操作安装即可</p> 
<p> <br> ————————————————<br><br> 原文链接：https://blog.csdn.net/lqy729416873/article/details/121574919</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5f9da35058d368a976f05cffb23da600/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【微信小程序】【项目实战】三、事件（点击事件）、路由跳转</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e4e5aba58f85cb86d76f6da7ad36a28/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Oracle递归查询</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>