<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PCIE常用缩写及含义【持续更新】 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PCIE常用缩写及含义【持续更新】" />
<meta property="og:description" content="1.Egress和Ingress 在Switch中，数据流出的端口被称为Egress端口，Ingress指的数据流入Switch使用的端口。 2.DSP（Down Stream Port）和USP（Upper Stream Port） 对每个功能设备来讲，用来连接上下游设备的端口统称为DSP或者USP（下图图例）。
在一个PCIe系统中，upstream port 和 downstream port是固定的，但是Ingress port 和 Egress port 是不固定的，和数据包的传输方向相关。
3.流量类别(TC) TC 是在数据包内发送的一个 TLP 头字段，在端到端通过结构时没有改变。本地应用软件和系统软件应根据性能要求确定某个 TLP 使用什么样的 TC 标志。TC 字段是一个 3bits 长的字段，可以将不同的流量分成 8 种流量类别（TC0~TC7）。设备必须实现 VCO。设备或交换器要实现 TC-VC 映射逻辑，把给定 TC 号的 TLP 使用特定的 VC 号的缓冲区通过链路转发。PCIe 具有映射多个 TC到一个 VC 的能力，因而可通过提供有限数目的 VC 缓冲区支持来降低设备成本。
4.VC：虚拟通道 VC 是物理缓冲区，它通过使用发送和接收器虚拟信道缓冲区，提供一种在物理链路上支持多个独立逻辑数据流的手段。PCIe 设备可以最多实现 8 个 VC 缓冲区（VC0~VC7）。Ｅｘｔｅｎｄｅｄ ＶＣＣｏｕｎｔ字段的数值是除了 ＶＣ０以外所支持的 ＶＣ数量，为０时，表示仅支持 ＶＣ０；为 １～７时，表示额外支持１～７个 ＶＣ。
5.相位（Ｐｈａｓｅ）： ＶＣ 仲裁表的每一项表示一个相位。规范定义了三种 ＷＲＲ配置，分别有１２８、６４、３２个 表项数。具体设备所能支持的仲裁表项的个数由端口 ＶＣ能力寄存器２中的 ＶＣＡｒｂｉｔｒａｔｉｏｎＣａｐａｂｉｌｉｔｙ字段 来报告，表的大小通过写入端口 ＶＣ控制寄存器中 ＶＣ ＡｒｂｉｔｒａｔｉｏｎＳｅｌｅｃｔ字段的值来选择（参见图下）。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ea852b3fff68835baa4ee48374ac8a42/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-01T16:59:42+08:00" />
<meta property="article:modified_time" content="2023-07-01T16:59:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PCIE常用缩写及含义【持续更新】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 style="margin-left:0;text-align:justify;"><strong>1.Egress和Ingress</strong></h3> 
<p style="margin-left:18pt;"><span style="background-color:#ffffff;"><span style="color:#121212;">在Switch中，数据流出的端口被称为Egress端口，Ingress指的数据流入Switch使用的端口。 </span></span></p> 
<h3 style="margin-left:0;text-align:justify;"><strong>2.DSP（Down Stream Port）和USP（Upper Stream Port）</strong></h3> 
<p style="margin-left:18pt;"><span style="background-color:#ffffff;"><span style="color:#121212;">对每个功能设备来讲，用来连接上下游设备的端口统称为DSP或者USP（下图图例）。</span></span></p> 
<p style="margin-left:18pt;"><span style="background-color:#ffffff;"><span style="color:#121212;">在一个PCIe系统中，upstream port 和 downstream port是固定的，但是Ingress port 和 Egress port 是不固定的，和数据包的传输方向相关。</span></span></p> 
<p style="margin-left:18pt;"><img alt="" height="590" src="https://images2.imgbox.com/01/8d/YSdiBcYW_o.png" width="554"></p> 
<h3 style="margin-left:0;text-align:justify;"><strong>3.流量类别(TC)</strong></h3> 
<p style="margin-left:18pt;"><span style="background-color:#ffffff;"><span style="color:#121212;">TC </span><span style="color:#121212;">是在数据包内发送的一个 TLP 头字段，在端到端通过结构时没有改变。本地应用软件和系统软件应根据性能要求确定某个 TLP 使用什么样的 TC 标志。TC 字段是一个 3bits 长的字段，可以将不同的流量分成 8 种流量类别（TC0~TC7）。设备必须实现 VCO。设备或交换器要实现 TC-VC 映射逻辑，把给定 TC 号的 TLP 使用特定的 VC 号的缓冲区通过链路转发。PCIe 具有映射多个 TC到一个 VC 的能力，因而可通过提供有限数目的 VC 缓冲区支持来降低设备成本。</span></span></p> 
<p style="margin-left:18pt;"></p> 
<h3 style="margin-left:0;text-align:justify;"><strong>4.VC：虚拟通道</strong></h3> 
<p style="margin-left:18pt;"><span style="color:#121212;">VC </span><span style="color:#121212;">是物理缓冲区，它通过使用发送和接收器虚拟信道缓冲区，提供一种在物理链路上支持多个独立逻辑数据流的手段。PCIe 设备可以最多实现 8 个 VC 缓冲区（VC0~VC7）。</span>Ｅｘｔｅｎｄｅｄ ＶＣＣｏｕｎｔ字段的数值是除了 ＶＣ０以外所支持的 ＶＣ数量，为０时，表示仅支持 ＶＣ０；为 １～７时，表示额外支持１～７个 ＶＣ。</p> 
<p> <img alt="" height="223" src="https://images2.imgbox.com/22/2d/42jP6CfB_o.png" width="865"></p> 
<h3 style="margin-left:0;text-align:justify;">5.相位（Ｐｈａｓｅ）：</h3> 
<p>ＶＣ 仲裁表的每一项表示一个相位。规范定义了三种 ＷＲＲ配置，分别有１２８、６４、３２个 表项数。具体设备所能支持的仲裁表项的个数由端口 ＶＣ能力寄存器２中的 ＶＣＡｒｂｉｔｒａｔｉｏｎＣａｐａｂｉｌｉｔｙ字段 来报告，表的大小通过写入端口 ＶＣ控制寄存器中 ＶＣ ＡｒｂｉｔｒａｔｉｏｎＳｅｌｅｃｔ字段的值来选择（参见图下）。</p> 
<p> <img alt="" height="439" src="https://images2.imgbox.com/b4/46/6lEg3Ghr_o.png" width="865"></p> 
<p></p> 
<h3 style="margin-left:0;text-align:justify;">8.LBC、DBI、ELBI和CDM</h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">LBC</span><span style="color:#121212;">（Local Bus Controller）：</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">EP </span><span style="color:#121212;">的 LBC module 给对端 USP 或本地 CPU 提供一种通过 DBI 访问 CDM 内部寄存器及 ELBI 外部应用寄存器的机制。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">DBI</span><span style="color:#121212;">（data bus interface）:</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">是synopsys定义的访问PCIe寄存器的接口，PCIe协议规定了两种配置空间：PCI Configuration Space和 PCIe Extend configuration Space。而往往IP的生成商，会加入一个属于自己的配置空间，synopsys添加的配置空间为：Port logic Synosys Register。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">如下图，EP 侧的 CPU 可以通过 DBI 接口 PCIe Controller 的 CDM 内部寄存器，也可以访问 ELBI 外部应用寄存器。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">ELBI</span><span style="color:#121212;">（External Local Bus Interface）:</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">把 PCIe Controller 收到的 Inbound 寄存器读写请求转发到外部应用寄存器。</span></p> 
<p><span style="color:#121212;">CDM</span><span style="color:#121212;">（Configuration-Dependent Module）：含标准的 PCIe 配置空间及 PCIe Controller 指定的寄存器空间（端口逻辑寄存器）。</span></p> 
<p><img alt="" height="705" src="https://images2.imgbox.com/83/cb/BJxFueEp_o.png" width="865"></p> 
<h3 style="margin-left:0;text-align:justify;">9.PCLE、VIP涉及的模块缩写&amp;定义说明:</h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">PMC</span><span style="color:#121212;">： Power Management Controller</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">LBC </span><span style="color:#121212;">： Local Bus Controller</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">DBI </span><span style="color:#121212;">： Data Bus Interface</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">MSG_GEN</span><span style="color:#121212;">： MessageGeneration Module</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">HOT PLUG</span><span style="color:#121212;">：Hot Plug ControlModule</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">RBYP: Receive Bypass Interface</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">TRGT1: Receive Request Interface</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">ELBI: External Local Bus Interface</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">MSI: Message Signaled Interrupt (MSI) Interface,</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">MSI-X Interface</span><span style="color:#121212;">，在DPDK中选择的中断模式，使用此接口。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">XALI 0/1/2 : Transmit Interfaces 0/1/2</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">VMI : Vendor Message Interface</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">SII : System Information Interface</span></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/10/9b/kRxdrHqM_o.png" width="861"></p> 
<p><img alt="" height="150" src="https://images2.imgbox.com/32/0b/hVomY9ff_o.png" width="865"></p> 
<p></p> 
<p>10.PCIE controller和PCIE PHY：</p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#121212;">PIPE</span><span style="color:#121212;">接口用于连接PCIE controller和PCIE PHY， controller用PIPE接口发送并行数给PHY用于并串转换等操作， PHY把串并转换得到的并行数通过PIPE接口送给controller。</span></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7588e6bd29e54486e338e22a102a1aa7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Tarjan算法超超超详解（ACM/OI）（强连通分量/缩点）（图论）（C&#43;&#43;）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4c6be124be8e01efbf92cc56cb1b3359/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL日志的作用简述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>