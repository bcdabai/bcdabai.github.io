<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java—动态规划之背包问题DP - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java—动态规划之背包问题DP" />
<meta property="og:description" content="目录 例题
01背包：
完全背包：
混合背包：
背包问题 背包问题分为01背包问题、完全背包问题、多重背包问题、分组背包问题。
具体算法思想和思路见代码随想录或者看中国大学MOOC里面的这节内容
01背包
完全背包
中国大学MOOC（算法设计与分析）
算法思路和思想学会后最重要还得是实战。实践是检验真理的唯一标准。
例题 这里就直接上截图了。比较方便
01背包： 第一题：
代码：
import java.util.Scanner; public class dotcpp { public static void main(String[] args) { Scanner sc = new Scanner(System.in); int T = sc.nextInt();//采够药材的时间 int M = sc.nextInt();//采购药材个数 //建立时间和价值数组 int[] Time = new int[M&#43;1];//采草药所需要的时间 int[] Value = new int[M&#43;1];//草药的价值 for (int i = 1; i &lt; M&#43;1; i&#43;&#43;) { Time[i] = sc.nextInt(); Value[i] = sc.nextInt(); } //构建dp数组用来存放最优解，创建该数组要比正常的大一，因为下面的循环是从1开始的。 int[][] dp = new int[M &#43; 1][T &#43; 1]; for (int i = 1; i &lt; M &#43; 1; i&#43;&#43;) { for (int j = 0; j &lt; T &#43; 1; j&#43;&#43;) { if (Time[i] &gt; j) { dp[i][j] = dp[i - 1][j]; }else{ dp[i][j]=Math." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b80ea5b205d605050e963d6a81506659/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-09T14:18:40+08:00" />
<meta property="article:modified_time" content="2023-01-09T14:18:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java—动态规划之背包问题DP</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<h3 id="main-toc"><strong>目录</strong></h3> 
<p id="%E4%BE%8B%E9%A2%98-toc" style="margin-left:0px;"><a href="#%E4%BE%8B%E9%A2%98" rel="nofollow">例题</a></p> 
<p id="01%E8%83%8C%E5%8C%85%EF%BC%9A-toc" style="margin-left:40px;"><a href="#01%E8%83%8C%E5%8C%85%EF%BC%9A" rel="nofollow">01背包：</a></p> 
<p id="%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%EF%BC%9A" rel="nofollow">完全背包：</a></p> 
<p id="%E6%B7%B7%E5%90%88%E8%83%8C%E5%8C%85%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E6%B7%B7%E5%90%88%E8%83%8C%E5%8C%85%EF%BC%9A" rel="nofollow">混合背包：</a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<hr id="hr-toc"> 
<p></p> 
<blockquote> 
 <strong style="color:#4f4f4f;font-size:24px;font-weight:bold;">背包问题</strong> 
 <p></p> 
</blockquote> 
<p>背包问题分为01背包问题、完全背包问题、多重背包问题、分组背包问题。</p> 
<p>具体算法思想和思路见代码随想录或者看中国大学MOOC里面的这节内容</p> 
<p><a class="link-info" href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%8001%E8%83%8C%E5%8C%85-1.html" rel="nofollow" title="01背包">01背包</a></p> 
<p><a class="link-info" href="https://programmercarl.com/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85.html" rel="nofollow" title="完全背包">完全背包</a></p> 
<p><a class="link-info" href="https://www.icourse163.org/learn/QDU-1460628161?tid=1468216562#/learn/content?type=detail&amp;id=1250038473" rel="nofollow" title="中国大学MOOC（算法设计与分析）">中国大学MOOC（算法设计与分析）</a></p> 
<p></p> 
<p>算法思路和思想学会后最重要还得是实战。实践是检验真理的唯一标准。</p> 
<blockquote> 
 <h2 id="%E4%BE%8B%E9%A2%98">例题</h2> 
</blockquote> 
<p></p> 
<p>这里就直接上截图了。比较方便</p> 
<h3 id="01%E8%83%8C%E5%8C%85%EF%BC%9A">01背包：</h3> 
<p>第一题：</p> 
<p><img alt="" height="1194" src="https://images2.imgbox.com/30/a6/dX7pIxzN_o.png" width="1200"></p> 
<p>代码：</p> 
<pre><code class="language-java">import java.util.Scanner;

public class dotcpp {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int T = sc.nextInt();//采够药材的时间
        int M = sc.nextInt();//采购药材个数
        //建立时间和价值数组
        int[] Time = new int[M+1];//采草药所需要的时间
        int[] Value = new int[M+1];//草药的价值

        for (int i = 1; i &lt; M+1; i++) {
            Time[i] = sc.nextInt();
            Value[i] = sc.nextInt();
        }
        //构建dp数组用来存放最优解，创建该数组要比正常的大一，因为下面的循环是从1开始的。
        int[][] dp = new int[M + 1][T + 1];

        for (int i = 1; i &lt; M + 1; i++) {
            for (int j = 0; j &lt; T + 1; j++) {
                if (Time[i] &gt; j) {
                    dp[i][j] = dp[i - 1][j];
                }else{
                    dp[i][j]=Math.max(dp[i-1][j],dp[i-1][j-Time[i]]+Value[i]);
                }

            }
        }
        System.out.println(dp[M][T]);

    }
}</code></pre> 
<p>第二题：</p> 
<p><img alt="" height="984" src="https://images2.imgbox.com/b2/66/mTwAb3r8_o.png" width="1200"></p> 
<p>代码：</p> 
<pre><code class="language-java">import java.util.Scanner;

public class dotcpp {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int M = sc.nextInt();//背包最大容量
        int N = sc.nextInt();//物品数量
        //定义物品数量和价值数组
        int[] Wi = new int[N + 1];//物品数量数组
        int[] Ci = new int[N + 1];//物品价值数组

        for (int i = 1; i &lt; N + 1; i++) {
            Wi[i] = sc.nextInt();
            Ci[i] = sc.nextInt();
        }
        int[][] dp = new int[N + 1][M + 1];
        for (int i = 1; i &lt; N + 1; i++) {
            for (int j = 0; j &lt; M + 1; j++) {
                if (Wi[i] &gt; j) {
                    dp[i][j] = dp[i - 1][j];
                }else{
                    dp[i][j]=Math.max(dp[i-1][j],dp[i-1][j-Wi[i]]+Ci[i]);
                }
            }
        }
        System.out.println(dp[N][M]);
    }
}</code></pre> 
<p> 上面是01背包问题最基础做法，也算是个模板做法，我知道二维dp数组可以优化成一维dp数组，这个看个人习惯，哪个顺手就用哪个不做强求。</p> 
<h3 id="%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%EF%BC%9A">完全背包：</h3> 
<p></p> 
<p><img alt="" height="1002" src="https://images2.imgbox.com/71/39/41ubp9tK_o.png" width="1200"></p> 
<p></p> 
<p>代码：</p> 
<pre><code class="language-java">import java.util.Scanner;

public class dotcpp {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int M = sc.nextInt();//背包容量
        int N = sc.nextInt();//物品数量

        int[] Wi = new int[N + 1];//重量数组
        int[] Ci = new int[N + 1];//价值数组

        for (int i = 1; i &lt; N + 1; i++) {
            Wi[i] = sc.nextInt();
            Ci[i] = sc.nextInt();
        }

        int[][] dp = new int[N + 1][M + 1];
        for (int i = 1; i &lt; N + 1; i++) {
            for (int j = 0; j &lt; M + 1; j++) {
                for (int k = 0; k * Wi[i] &lt;= M; k++) {
                    if (k * Wi[i] &gt; j) {
                        dp[i][j] = dp[i][j];
                    } else {
                        dp[i][j] = Math.max(dp[i][j], dp[i - 1][j - k * Wi[i]] + k * Ci[i]);
                    }
                }
            }
        }
        System.out.println("max="+dp[N][M]);
    }
}</code></pre> 
<h3 id="%E6%B7%B7%E5%90%88%E8%83%8C%E5%8C%85%EF%BC%9A">混合背包：</h3> 
<p></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/c1/17/FMRNDeVT_o.png" width="1200"></p> 
<p> <span style="color:#fe2c24;">这个例题输出是错误的。正确应该是11.</span></p> 
<p><span style="color:#0d0016;">代码：</span></p> 
<p><span style="color:#0d0016;">混合背包这段代码，我输出只能通过70%，具体哪块有问题我也没看出来，如果有大佬能看出麻烦留言或私信给予我改正。</span></p> 
<p><span style="color:#0d0016;">题目链接：<a class="link-info" href="https://www.dotcpp.com/oj/problem2134.html" rel="nofollow" title="混合背包">混合背包</a></span></p> 
<pre><code class="language-java">import java.util.Scanner;

public class dotcpp {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int M = sc.nextInt();//背包容量
        int N = sc.nextInt();//物品数量

        int[] Wi = new int[N + 1];
        int[] Ci = new int[N + 1];
        int[] Pi = new int[N + 1];

        for (int i = 1; i &lt; N + 1; i++) {
            Wi[i] = sc.nextInt();//重量
            Ci[i] = sc.nextInt();//价值
            Pi[i] = sc.nextInt();//数量
        }

        int[][] dp = new int[N + 1][M + 1];

        for (int i = 1; i &lt; N + 1; i++) {
            for (int j = 0; j &lt; M + 1; j++) {
                //01背包问题
                if (Pi[i] == -1) {
                    if (Wi[i] &gt; j) {
                        dp[i][j] = dp[i - 1][j];
                    } else {
                        dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - Wi[i]] + Ci[i]);
                    }
                }
                //完全背包
                else if (Pi[i] == 0) {
                    for (int k = 0; k * Wi[i] &lt;= j; k++) {
                        dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - k * Wi[i]] + k * Ci[i]);
                    }
                }
                //多重背包
                else {
                        for (int h = 0; h * Wi[i] &lt;= j &amp;&amp; h &lt;= Pi[i]; h++) {
                            dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - h * Wi[i]] + h * Ci[i]);
                        }
                }
            }
        }

        System.out.println(dp[N][M]);
    }
}</code></pre> 
<h3></h3>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c5b271a5d3745a6cadce85824042f325/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">满足你一切需求的 MMYOLO/MMDet 可视化 (一)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dd51c423a53de6db1a5a4574ac8acf12/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux设备驱动——bus、device、driver加载顺序与匹配流程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>