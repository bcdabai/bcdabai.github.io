<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>webpack工程化（二） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="webpack工程化（二）" />
<meta property="og:description" content="1、新建index.html文件，使用webpack打包html 配置插件
yarn add html-webpack-plugin@4.5.0 -D webpack.config.js中添加插件
在package.json中添加script脚本，这样打包命令就可以使用yarn build
执行打包命令
yarn build 可以看到index.html文件已经被打包，并且app.js文件也被引入进来了
2、创建server 安装devserver模块
yarn add webpack-dev-server@3.11.0 -D 在webpack.config.js中配置server
// 配置server devServer: { contentBase: path.join(__dirname, &#39;./dist&#39;), compress: true, port: 8082 // 端口号 } 执行命令，就可以在本地启动server
npx webpack-dev-server 浏览器访问http://localhost:8082/
app.js中内容已经输出，报错是因为favicon.ico没有找到
可以在package.json中添加脚本，使用yarn dev命令就可以启动服务
3、解决favicon.ico找不到报错问题 首先随便找一个ico图标，这里使用的是webpack官网图标，保存到public路径下
webpack官网图标
需要使用webpack的文件复制插件，把图标打包到dist文件夹中
yarn add copy-webpack-plugin@6.3.2 -D 在webpack.config.js中配置CopyPlugin插件
const CopyPlugin = require(&#34;copy-webpack-plugin&#34;) // 配置插件 plugins:[ new HtmlWebpackPlugin(), new CopyPlugin({ patterns: [ { from: path.join(__dirname,&#39;./public/*.ico&#39;) }, ] }) ], 执行打包命令" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5498632aa46c0f8bb5f44f785a742ab5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-14T15:41:56+08:00" />
<meta property="article:modified_time" content="2021-09-14T15:41:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">webpack工程化（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="1indexhtmlwebpackhtml_0"></a>1、新建index.html文件，使用webpack打包html</h5> 
<p>配置插件</p> 
<pre><code class="prism language-javascript">yarn add html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin@<span class="token number">4.5</span><span class="token number">.0</span> <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> 
<p>webpack.config.js中添加插件<br> <img src="https://images2.imgbox.com/6c/2e/s71XIELu_o.png" alt="在这里插入图片描述"><br> 在package.json中添加script脚本，这样打包命令就可以使用yarn build<br> <img src="https://images2.imgbox.com/40/11/874Esuoo_o.png" alt="在这里插入图片描述"><br> 执行打包命令</p> 
<pre><code class="prism language-javascript">yarn build
</code></pre> 
<p>可以看到index.html文件已经被打包，并且app.js文件也被引入进来了<br> <img src="https://images2.imgbox.com/1c/0a/AR4xRiRj_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2server_15"></a>2、创建server</h5> 
<p>安装devserver模块</p> 
<pre><code class="prism language-javascript">yarn add webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server@<span class="token number">3.11</span><span class="token number">.0</span> <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> 
<p>在webpack.config.js中配置server</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// 配置server</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">8082</span>  <span class="token comment">// 端口号</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>执行命令，就可以在本地启动server</p> 
<pre><code class="prism language-javascript">npx webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server
</code></pre> 
<p><img src="https://images2.imgbox.com/0f/72/JegkpiXA_o.png" alt="在这里插入图片描述"><br> 浏览器访问http://localhost:8082/<br> app.js中内容已经输出，报错是因为favicon.ico没有找到<br> <img src="https://images2.imgbox.com/3e/ce/AQ3k2sgm_o.png" alt="在这里插入图片描述"></p> 
<p>可以在package.json中添加脚本，使用yarn dev命令就可以启动服务<br> <img src="https://images2.imgbox.com/3f/4d/Pnse718w_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3faviconico_43"></a>3、解决favicon.ico找不到报错问题</h5> 
<p>首先随便找一个ico图标，这里使用的是webpack官网图标，保存到public路径下<br> <a href="https://v4.webpack.js.org/bc3effb418df77da9e04825c48a58a49.ico" rel="nofollow">webpack官网图标</a><br> <img src="https://images2.imgbox.com/a3/67/Vrw8qbXI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8c/98/fuXrZvAr_o.png" alt="在这里插入图片描述"><br> 需要使用webpack的文件复制插件，把图标打包到dist文件夹中</p> 
<pre><code class="prism language-javascript">yarn add copy<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin@<span class="token number">6.3</span><span class="token number">.2</span> <span class="token operator">-</span><span class="token constant">D</span>
</code></pre> 
<p>在webpack.config.js中配置CopyPlugin插件</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span>

 <span class="token comment">// 配置插件</span>
  plugins<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> 
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'./public/*.ico'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>     
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> 
<p>执行打包命令</p> 
<pre><code class="prism language-javascript">yarn build
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2203969586a6343b32c6f4debd8cbe82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Fatal error: Uncaught Error: Call to undefined function Think\C() in Library\Think\Think....</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2aa2ce200d6763cbc714e7ddcff2e994/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vs2019 编译NDT，kdtree无法解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>