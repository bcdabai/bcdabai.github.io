<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Thingsboard入门教程：本地环境搭建和源码编译安装，献给thingsboard编译失败的同学，教程不断完善中，文章最后是thingsboard常见编译失败的问题总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Thingsboard入门教程：本地环境搭建和源码编译安装，献给thingsboard编译失败的同学，教程不断完善中，文章最后是thingsboard常见编译失败的问题总结" />
<meta property="og:description" content="基于ThingsBoard二次开发的物联网平台推荐：ThingsKit物联网平台，开箱即用的物联网低代码平台，提供N&#43;1&#43;N的产品服务体系，帮助企业快速搭建稳定可靠的物联网系统平台，为企业节省大量时间及人力成本。www.thingskit.com
欢迎加入ThingsBoard技术交流群 群号：69998183
环境安装 开发环境要求：
Jdk 1.8版本
Postgresql 9以上
Node.js
Npm
Maven 3.6以上
Git工具
Idea开发工具
Redis
JDK 下载安装
JDK官方下载地址： https://www.oracle.com/java/technologies/javase-jdk8-downloads.html
JDK版本选择JDK8，我本地环境是Windos10 64位，所以选择jdk-8u221-windows-x64.exe
下载好了之后直接默认安装就行
配置环境变量
步骤1：
在JAVA_HOME中增加JDK的安装地址：C:\Program Files\Java\jdk1.8.0_221
步骤2：
在CLASSPATH中增加JDK的安装地址中的文件：.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar
步骤3：
在Path中增加JDK的地址：%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;
步骤4
输入以下命令
java -version 如果能出现以下的提示信息，就算安装成功了
安装IDEA 参考：IDEA安装教程
安装Maven 步骤1：下载maven，进入地址：http://maven.apache.org/download.cgi
步骤2：下载到本地
步骤3：配置环境变量
增加MAVEN_HOME，即maven的地址：D:\tb\apache-maven-3.6.1-bin，请注意，如果直接解压，有可能会有两个apache-maven-3.6.1-bin
MAVEN_OPTS，参数是 -Xms128m -Xmx1024m
修改Path，增加Maven的地址%MAVEN_HOME%\bin;
测试Maven安装，打开命令行工具。使用命令mvn -v，如果能出现以下提示，即安装成功
Nodejs安装 步骤1：下载Nodejs安装包，Nodejs官网地址：https://nodejs.org/en/download/
步骤2：安装完成后，使用命令查看Nodejs是否已经安装完成，能出现以下提示说明已经安装成功
安装git 步骤1：下载git安装包，git官网地址是：https://git-scm.com/download/win
步骤2：安装完成后，使用命令行测试git
安装npm全局依赖 步骤1：使用管理员CMD命令行，执行下面命令
#npm 环境读取环境变量包 npm install -g cross-env #webpack打包工具 npm install -g webpack 安装redis Redis安装参考：https://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/34c51c9c9d858720c7c944dc553e80a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-29T15:13:43+08:00" />
<meta property="article:modified_time" content="2022-12-29T15:13:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Thingsboard入门教程：本地环境搭建和源码编译安装，献给thingsboard编译失败的同学，教程不断完善中，文章最后是thingsboard常见编译失败的问题总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/e4/fb/7yQTRe4P_o.png" alt="在这里插入图片描述"><br> 基于ThingsBoard二次开发的物联网平台推荐：ThingsKit物联网平台，开箱即用的物联网低代码平台，提供N+1+N的产品服务体系，帮助企业快速搭建稳定可靠的物联网系统平台，为企业节省大量时间及人力成本。<a href="https://www.thingskit.com" rel="nofollow">www.thingskit.com</a></p> 
<h4><a id="ThingsBoard_3"></a>欢迎加入ThingsBoard技术交流群</h4> 
<p>群号：69998183</p> 
<h3><a id="_8"></a>环境安装</h3> 
<p>开发环境要求：<br> Jdk 1.8版本<br> Postgresql 9以上<br> Node.js<br> Npm<br> Maven 3.6以上<br> Git工具<br> Idea开发工具<br> Redis</p> 
<h4><a id="JDK_20"></a>JDK</h4> 
<p><strong>下载安装</strong></p> 
<p>JDK官方下载地址： https://www.oracle.com/java/technologies/javase-jdk8-downloads.html</p> 
<p>JDK版本选择JDK8，我本地环境是Windos10 64位，所以选择jdk-8u221-windows-x64.exe</p> 
<p><img src="https://images2.imgbox.com/2f/ad/9Jj3Zz4X_o.png" alt="image.png"></p> 
<p>下载好了之后直接默认安装就行<br> <img src="https://images2.imgbox.com/7a/95/5gP32WQF_o.png" alt="image.png"></p> 
<p><strong>配置环境变量</strong></p> 
<p><strong>步骤1：</strong><br> 在JAVA_HOME中增加JDK的安装地址：C:\Program Files\Java\jdk1.8.0_221<br> <img src="https://images2.imgbox.com/6b/8c/Cr62Sf2X_o.png" alt="image.png"></p> 
<p><strong>步骤2：</strong><br> 在CLASSPATH中增加JDK的安装地址中的文件：.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar<br> <img src="https://images2.imgbox.com/9e/fc/DVZVoDkW_o.png" alt="image.png"></p> 
<p><strong>步骤3：</strong><br> 在Path中增加JDK的地址：%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;<br> <img src="https://images2.imgbox.com/d0/2f/CaLvOo9F_o.png" alt="image.png"></p> 
<p><strong>步骤4</strong><br> 输入以下命令</p> 
<pre><code>java -version
</code></pre> 
<p>如果能出现以下的提示信息，就算安装成功了<br> <img src="https://images2.imgbox.com/08/50/TYoOkXqo_o.png" alt="image.png"></p> 
<h4><a id="IDEA_56"></a>安装IDEA</h4> 
<p>参考：<a href="https://www.iotschool.com/topics/72" rel="nofollow">IDEA安装教程</a></p> 
<h4><a id="Maven_60"></a>安装Maven</h4> 
<p>步骤1：下载maven，进入地址：http://maven.apache.org/download.cgi<br> <img src="https://images2.imgbox.com/0d/0d/e0gTPx1L_o.png" alt="image.png"></p> 
<p>步骤2：下载到本地<br> <img src="https://images2.imgbox.com/d3/ad/LydPjzyZ_o.png" alt="image.png"></p> 
<p>步骤3：配置环境变量<br> 增加MAVEN_HOME，即maven的地址：D:\tb\apache-maven-3.6.1-bin，请注意，如果直接解压，有可能会有两个apache-maven-3.6.1-bin<br> <img src="https://images2.imgbox.com/31/81/Mz2eOSGY_o.png" alt="image.png"></p> 
<p><img src="https://images2.imgbox.com/42/93/jpTaXGv3_o.png" alt="image.png"></p> 
<p>MAVEN_OPTS，参数是 -Xms128m -Xmx1024m<br> <img src="https://images2.imgbox.com/15/0b/am5DK002_o.png" alt="image.png"></p> 
<p>修改Path，增加Maven的地址%MAVEN_HOME%\bin;<br> <img src="https://images2.imgbox.com/0f/b6/MXOHpL7W_o.png" alt="image.png"></p> 
<p>测试Maven安装，打开命令行工具。使用命令mvn -v，如果能出现以下提示，即安装成功<br> <img src="https://images2.imgbox.com/c3/f2/GuNLxddr_o.png" alt="image.png"></p> 
<h4><a id="Nodejs_84"></a>Nodejs安装</h4> 
<p>步骤1：下载Nodejs安装包，Nodejs官网地址：https://nodejs.org/en/download/<br> <img src="https://images2.imgbox.com/f1/0e/TWClj847_o.png" alt="image.png"></p> 
<p>步骤2：安装完成后，使用命令查看Nodejs是否已经安装完成，能出现以下提示说明已经安装成功<br> <img src="https://images2.imgbox.com/0c/64/E2mehUBK_o.png" alt="image.png"></p> 
<h4><a id="git_92"></a>安装git</h4> 
<p>步骤1：下载git安装包，git官网地址是：https://git-scm.com/download/win<br> <img src="https://images2.imgbox.com/c5/a5/8I82ELXF_o.png" alt="image.png"></p> 
<p>步骤2：安装完成后，使用命令行测试git<br> <img src="https://images2.imgbox.com/b4/0a/5nAOvEvL_o.png" alt="image.png"></p> 
<h4><a id="npm_100"></a>安装npm全局依赖</h4> 
<p>步骤1：使用管理员CMD命令行，执行下面命令</p> 
<pre><code>#npm 环境读取环境变量包
npm install -g cross-env

#webpack打包工具
npm install -g webpack
</code></pre> 
<p><img src="https://images2.imgbox.com/9b/c9/wx6YPfwZ_o.png" alt="image.png"></p> 
<h4><a id="redis_113"></a>安装redis</h4> 
<p>Redis安装参考：https://www.iotschool.com/wiki/redis</p> 
<p>环境安装到此结束，接下来是通过Git拉取代码。</p> 
<h3><a id="thingsboard_119"></a>克隆thingsboard代码</h3> 
<h4><a id="_121"></a>确定代码存放位置</h4> 
<p>在本地创建代码存放位置的文件目录，然后进入当前目录点击鼠标右键，选择Git Bash Here<br> <img src="https://images2.imgbox.com/50/35/AnVq7wls_o.png" alt="image.png"></p> 
<h4><a id="git_125"></a>输入git命令克隆源代码</h4> 
<pre><code>git clone https://github.com/thingsboard/thingsboard.git
</code></pre> 
<p><img src="https://images2.imgbox.com/16/a3/OjkqB0y4_o.png" alt="image.png"></p> 
<p>耐心等待一段时间后，看到以下界面就算下载成功<br> <img src="https://images2.imgbox.com/cb/a5/hyXpuovi_o.png" alt="image.png"></p> 
<h4><a id="git_134"></a>切换git分支</h4> 
<p>默认下载的代码是master主分支的，我们开发需要切换到最新版本的分支。</p> 
<p>查看项目源码的所有分支，下载源码后，需要进入到thingsboard文件夹<br> <img src="https://images2.imgbox.com/a3/81/iZenrerO_o.png" alt="image.png"></p> 
<p>发现最新发布的版本是2.4，所以我这里选择2.4，当然你可以根据自己的情况进行分支选择</p> 
<p>输入命令以下，即可切换至2.4的分支</p> 
<pre><code>git checkout release-2.4
</code></pre> 
<p>看到下图这样，即切换成成功<br> <img src="https://images2.imgbox.com/d4/e5/aimiWD0E_o.png" alt="image.png"></p> 
<h3><a id="_149"></a>准备工作</h3> 
<h4><a id="_151"></a>外网连接</h4> 
<p>因为TB在编译过程中需要依赖很多国外的包，那么需要外网才能连接，有连接外网支持，可以到社区求助：https://www.iotschool.com/topics/node8</p> 
<h4><a id="Maven_154"></a>设置Maven为淘宝镜像</h4> 
<p>工程是基于Maven管理，直接通过idea open，之后会自动下载各种依赖包。依赖包的默认存储地址为：C:\Users\用户名.m2\repository，内容如下：</p> 
<pre><code>$tree ~/.m2 -L 2
/home/jay/.m2
└── repository
    ├── antlr
    ├── aopalliance
    ├── asm
    ├── backport-util-concurrent
    ├── ch
    ...
</code></pre> 
<p>一般情况下，使用官方镜像更新依赖包，网速不稳定，可将Maven镜像源设置为淘宝的，在maven安装包目录下找到settings.xml设置<br><br> 大概位置截图：<br><br> <img src="https://images2.imgbox.com/26/7d/PlDK53dN_o.png" alt=""></p> 
<p>把settings.xml里面内容设置成以下：</p> 
<pre><code>&lt;mirrors&gt;
  &lt;mirror&gt;
       &lt;!--This sends everything else to /public --&gt;
       &lt;id&gt;aliyun_nexus&lt;/id&gt;
       &lt;mirrorOf&gt;*,!maven_nexus_201&lt;/mirrorOf&gt; 
       &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
   &lt;/mirror&gt;
&lt;/mirrors&gt;
</code></pre> 
<p>不会设置的，可以参考这个文件：https://cdn.iotschool.com/iotschool/settings.xml</p> 
<p>thingsboard QQ群也又这个资源：121202538</p> 
<h4><a id="npm_187"></a>设置npm为淘宝镜像</h4> 
<p>同上，网速不好npm过程中也会下载失败，这是导致很多同学thingsboard编译失败的主要原因，所以我们在进行编译之前，也将npm替换为淘宝镜像：</p> 
<pre><code>npm install -g mirror-config-china --registry=http://registry.npm.taobao.org        #使用淘宝镜像
npm config get registry                                                             #查询当前镜像
npm config rm registry                                                              #删除自定义镜像，使用官方镜像
npm info express
</code></pre> 
<h4><a id="IDEA_196"></a>设置IDEA管理员启动</h4> 
<p>我本地开发环境编译项目使用IDEA工具进行编译，所以需要设置管理员启动，这样才有所有的权限执行编译命令。<br> 步骤1：点击IDEA图标右键，选择属性。<br> <img src="https://images2.imgbox.com/d9/ed/amFrmHSy_o.png" alt="image.png"></p> 
<p>步骤2：点击兼容性-更改所有用户设置-以管理员身份运行此程序<br> <img src="https://images2.imgbox.com/11/f6/uTO1vAWj_o.png" alt="image.png"><br> <img src="https://images2.imgbox.com/8e/9b/iPfuVWvy_o.png" alt="image.png"></p> 
<h3><a id="_205"></a>开始编译</h3> 
<p>编译项目跟网速有关，最好连接上外网进行编译，一般5~30分钟都有可能，超过30分钟要检查你的网络。</p> 
<h4><a id="_208"></a>清理项目编译文件</h4> 
<p>使用IDEA Maven工具进行清理<br> <img src="https://images2.imgbox.com/e4/d3/lp7QnghR_o.png" alt="image.png"></p> 
<h4><a id="_212"></a>输入编译命令开始编译</h4> 
<p>在IDEA控制台（左下方）Terminal输入以下命令进行编译：</p> 
<pre><code>mvn clean install -Ddockerfile.skip=false
</code></pre> 
<p><img src="https://images2.imgbox.com/d6/33/ljLKrFYC_o.png" alt="image.png"></p> 
<p>等一段时间后，看到下面这张图就算编译成功，如果没有编译成功请按照本教程最后的常见问题进行排查，一般都是网络问题。如果还有问题，请到社区<a href="https://www.iotschool.com/topics/node8" rel="nofollow">thingsboard专题</a>中提问。</p> 
<p><img src="https://images2.imgbox.com/31/40/ilLeGvOh_o.png" alt="image.png"></p> 
<h3><a id="_223"></a>常见问题</h3> 
<p>本教程只会罗列<a href="https://www.iotschool.com/" rel="nofollow">IoTSchool</a>小编在thingsboard编译过程中遇到的问题，如果有其他问题，请到社区<a href="https://www.iotschool.com/topics/node8" rel="nofollow">thingsboard专题</a>中提问，会有专家为你解答。</p> 
<h4><a id="_226"></a>缓存导致编译失败</h4> 
<p>每次编译失败进行二次编译时，要清理缓存，并杀死遗留进程<br> 步骤1：执行下面命令，杀死遗留进程</p> 
<pre><code>taskkill /f /im java.exe
</code></pre> 
<p>步骤2：使用IDEA Maven工具进行清理<br> <img src="https://images2.imgbox.com/7a/74/NQ7Ewfw5_o.png" alt="image.png"></p> 
<p><strong>温馨提示：要进行二次编译前，最好重启一次电脑！</strong></p> 
<h4><a id="Server_UI__238"></a>Server UI 编译失败</h4> 
<pre><code>[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.0:npm (npm install) on project ui: Failed to run task: 'npm install' failed. (error code 1) -&gt; [Help 1]
</code></pre> 
<p><img src="https://images2.imgbox.com/a3/e1/S9VKT3X5_o.png" alt="image.png"></p> 
<p>如果遇到这个问题，可从以下几个原因进行分析：</p> 
<h5><a id="1nodenpm_246"></a>原因1：node、npm版本号问题</h5> 
<p>本地环境安装的node、npm版本号与源码中pom.xml文件配置的版本号不一致。</p> 
<p>解决方案：<br> 步骤1：使用node -v、npm -v查看安装的node和npm版本号<br> <img src="https://images2.imgbox.com/92/41/WxplqauQ_o.png" alt="image.png"></p> 
<p>步骤2：修改源码中pom.xml文件中的版本号</p> 
<pre><code>&lt;configuration&gt;
   &lt;nodeVersion&gt;v12.13.1&lt;/nodeVersion&gt;
   &lt;npmVersion&gt;6.12.1&lt;/npmVersion&gt;
&lt;/configuration&gt;
</code></pre> 
<p>需要修改的文件有三处，位置如下：<br> <img src="https://images2.imgbox.com/41/e1/rNLrTqMe_o.png" alt="image.png"></p> 
<h5><a id="2nodesass_263"></a>原因2：node-sass下载失败</h5> 
<p>编译Server UI时，会下载node-sass依赖，如果因为网络原因没有下载成功，也会编译失败。如果你是按照本本教材一步一步来的，应该不会有问题，上面准备工作中，将npm镜像源切换为淘宝，那么下载会很快的。</p> 
<pre><code>[INFO] Downloading binary from https://github.com/sass/node-sass/releases/download/v4.12.0/win32-x64-72_binding.node
[ERROR] Cannot download "https://github.com/sass/node-sass/releases/download/v4.12.0/win32-x64-72_binding.node":
[ERROR]
[ERROR] ESOCKETTIMEDOUT
[ERROR]
[ERROR] Hint: If github.com is not accessible in your location
[ERROR]       try setting a proxy via HTTP_PROXY, e.g.
[ERROR]
[ERROR]       export HTTP_PROXY=http://example.com:1234
[ERROR]
[ERROR] or configure npm proxy via
[ERROR]
[ERROR]       npm config set proxy http://example.com:8080
[INFO]
[INFO] &gt; node-sass@4.12.0 postinstall F:\workspace\thingsboard\thingsboard\ui\node_modules\node-sass
[INFO] &gt; node scripts/build.js
[INFO]
</code></pre> 
<p><img src="https://images2.imgbox.com/d7/9c/7qExz2Kg_o.png" alt="image.png"></p> 
<p>解决方案：<a href="https://www.iotschool.com/wiki/tbinstall#%E8%AE%BE%E7%BD%AEnpm%E4%B8%BA%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F" rel="nofollow">切换镜像源为淘宝</a></p> 
<h5><a id="3_288"></a>原因3：二次编译导致残留进程</h5> 
<p>报错：</p> 
<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project ui: Failed to clean project: Failed to delete F:\workspace\thingsboard\thingsboard\ui\target\node\node.exe -&gt; [Help 1]
</code></pre> 
<p><img src="https://images2.imgbox.com/52/18/7rVXjHvK_o.png" alt="image.png"></p> 
<p>解决方案：重启电脑，清理缓存</p> 
<h4><a id="Server_Tool_299"></a>Server Tool编译失败</h4> 
<p><img src="https://images2.imgbox.com/44/72/B1DYAVQO_o.png" alt="image.png"></p> 
<pre><code>[ERROR] Failed to execute goal on project tools: Could not resolve dependencies for project org.thingsboard:tools:jar:2.4.3: Failed to collect dependencies at org.eclipse.paho:org.eclipse.paho.client.mqttv3:jar:1.1.0: Failed to read artifact descriptor for org.eclipse.paho:org.eclipse.paho.clien
t.mqttv3:jar:1.1.0: Could not transfer artifact org.eclipse.paho:org.eclipse.paho.client.mqttv3:pom:1.1.0 from/to aliyun_nexus (http://maven.aliyun.com/nexus/content/groups/public/): Failed to transfer file http://maven.aliyun.com/nexus/content/groups/public/org/eclipse/paho/org.eclipse.paho.cli
ent.mqttv3/1.1.0/org.eclipse.paho.client.mqttv3-1.1.0.pom with status code 502 -&gt; [Help 1]
</code></pre> 
<p>一般由于网络原因，IoTSchool小编至少编译了3次才成功，每次编译都重启电脑，并清理环境。</p> 
<p>解决方案：如果使用的是mvn clean install -DskipTests命令进行编译，那么就多尝试几次，每次编译前，要清理环境。</p> 
<p>参考：https://github.com/thingsboard/performance-tests/issues/10</p> 
<h4><a id="JavaScript_Executor_312"></a>JavaScript Executor编译失败</h4> 
<p>JavaScript Executor Microservice编译失败<br> <img src="https://images2.imgbox.com/5f/57/wsgbVs92_o.png" alt="image.png"></p> 
<pre><code>[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.0:npm (npm install) on project js-executor: Failed to run task: 'npm install' failed. (error code 2) -&gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR]
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &lt;goals&gt; -rf :js-executor
</code></pre> 
<p>原因：本地缓存缺少fetched-v10.15.3-linux-x64和fetched-v10.15.3-win-x64这两个文件。</p> 
<p>解决方案：<br> 步骤1：下载这两个文件到本地，下载后记得重命名，下载地址：https://github.com/zeit/pkg-fetch/releases<br> <img src="https://images2.imgbox.com/08/28/1T35gSjj_o.png" alt="image.png"></p> 
<p>步骤2: 将下载的两个文件放到：放到：C:\Users\你的用户名.pkg-cache\v2.6。并将名字分别修改为：fetched-v10.15.3-linux-x64和fetched-v10.15.3-win-x64</p> 
<p>参考：https://github.com/thingsboard/thingsboard/issues/2084</p> 
<h4><a id="License_338"></a>License检查不通过</h4> 
<pre><code>[ERROR] Failed to execute goal com.mycila:license-maven-plugin:3.0:check (default) on project thingsboard: Some files do not have the expected license header -&gt; [Help 1]
</code></pre> 
<p>解决方案：在根目录pom.xml中屏蔽license-maven-plugin</p> 
<p><img src="https://images2.imgbox.com/6c/8a/sXE2YifQ_o.png" alt="image.png"></p> 
<p>搜索license-maven-plugin，将整个plugin都注释掉<br> <img src="https://images2.imgbox.com/9c/d4/kVIh6XnP_o.png" alt="image.png"></p> 
<h4><a id="Web_UI_349"></a>Web UI编译失败</h4> 
<p>Web UI编译失败请参考<a href="https://www.iotschool.com/wiki/tbinstall#Server%20Tool%E7%BC%96%E8%AF%91%E5%A4%B1%E8%B4%A5" rel="nofollow">Server UI编译失败第一个原因</a></p> 
<h4><a id="mavenCould_not_resolve_dependencies_for_project_orgthingsboardapplication_352"></a>maven:Could not resolve dependencies for project org.thingsboard:application:</h4> 
<p>错误信息</p> 
<pre><code>[ERROR] Failed to execute goal on project application: Could not resolve dependencies for project org.thingsboard:application:jar:2.4.1: The following artifacts could not be resolved: org.thingsboard.rule-engine:rule-engine-components:jar:2.4.1, org.thingsboard:dao:jar:2.4.1: Could not find artifact org.thingsboard.rule-engine:rule-engine-components:jar:2.4.1 in jenkins (http://repo.jenkins-ci.org/releases) -&gt; [Help 1]
</code></pre> 
<p>解决方案：根目录下去maven编译，不要在每个单独编译，否则不能自动解决依赖，如果你已经在子模块进行了编译，请回到根目录先clean一下，再重新编译。</p> 
<h4><a id="mavenFailed_to_delete_tbhttptransportrpm_360"></a>maven:Failed to delete tb-http-transport.rpm</h4> 
<p>错误信息：</p> 
<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project http: Failed to clean project: Failed to delete D:\my_project\thingsboard\transport\http\target\tb-http-transport.rpm -&gt; [Help 1]
</code></pre> 
<p>解决方案：第一次编译失败，再次编译可能会提示该错误，可以手动到报错路径删除，如果提示文件正在使用，需要在任务管理器杀死java进程后再手动删除。</p> 
<h4><a id="npmnpmcb_never_called_367"></a>npm:npm:cb() never called!</h4> 
<p>错误信息：</p> 
<pre><code>npm ERR! cb() never called!
 
npm ERR! This is an error with npm itself. Please report this error at:
npm ERR!     &lt;https://npm.community&gt;
 
npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\yuren\AppData\Roaming\npm-cache\_logs\2019-11-06T10_55_28_258Z-debug.log
</code></pre> 
<p>解决方案：<br> 尝试npm cache clean --force 后再次npm install 无果；<br> 尝试更换淘宝镜像源后再次npm install 无果；<br> 怀疑有些包下载需要翻墙，全局代理翻墙后问题依然存在；<br> 参考网上关闭所有代理后问题依然存在；<br> 通过log日志分析最后一个解包报错的地方，屏蔽需要的material-design-icons，新modules rxjs仍然报错；</p> 
<pre><code>extract material-design-icons@3.0.1 extracted to node_modules\.staging\material-design-icons-61b4d55e (72881ms)
extract rxjs@6.5.2 extracted to node_modules\.staging\rxjs-e901ba4c (24280ms)
</code></pre> 
<p>参考npm ERR cb() never called 执行</p> 
<pre><code>npm install --no-package-lock
</code></pre> 
<p>之后提示npm ERR! path git，添加git 到环境变量后正常。</p> 
<h4><a id="npmnpm_ERR_path_git_396"></a>npm:npm ERR! path git</h4> 
<p>错误信息</p> 
<pre><code>npm ERR! path git
npm ERR! code ENOENT
npm ERR! errno ENOENT
npm ERR! syscall spawn git
npm ERR! enoent Error while executing:
npm ERR! enoent undefined ls-remote -h -t git://github.com/fabiobiondi/angular-
</code></pre> 
<p>解决方案：添加git到环境变量。</p> 
<h4><a id="No_compiler_is_provided_in_this_environment_409"></a>No compiler is provided in this environment</h4> 
<p>错误信息：</p> 
<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.
1:compile (default-compile) on project netty-mqtt: Compilation failure
[ERROR] No compiler is provided in this environment. Perhaps you are running on
a JRE rather than a JDK?
</code></pre> 
<p>需要在环境变量中设置java，包含%JAVA_HOME%bin;%JAVA_HOME%lib;</p> 
<p>更多问题，请到社区解决：https://www.iotschool.com/topics/node8</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8b9f3a5347d0ef468aeb7e6d347c5593/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用 systemd 配置 reids 服务 加入开机自启</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db567f7c3eb9fc28dc2c425b1186819c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">让自己成为一个创作者</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>