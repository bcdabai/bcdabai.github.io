<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS7 静默方式安装 Oracle19C - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS7 静默方式安装 Oracle19C" />
<meta property="og:description" content="CentOS7 静默方式安装 Oracle19C 操作系统：CentOS7
Oracle： 19C
安装常用工具和依赖 yum -y install vim tar net-tools wget perl python3 readline* deltarpm python-deltarpm \ zip unzip bc compat-libcap1* compat-libcap* binutils compat-libstdc&#43;&#43;-33 \ elfutils-libelf elfutils-libelf-devel gcc gcc-c&#43;&#43; glibc-2.5 glibc-common glibc-devel \ glibc-headers ksh libaio libaio-devel libgcc libstdc&#43;&#43; libstdc&#43;&#43;-devel make sysstat \ unixODBC unixODBC-devel binutils* compat-libstdc* elfutils-libelf* \ gcc* glibc* ksh* libaio* libgcc* libstdc* make* sysstat* libXp* glibc-kernheaders 绑定主机名和IP映射 # 修改主机名 hostnamectl set-hostname oracle # 绑定主机名和IP映射 vim /etc/hosts 填写以下内容" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5af4b73b1b36c45f743545be7b98ff6c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-09T21:50:53+08:00" />
<meta property="article:modified_time" content="2023-07-09T21:50:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS7 静默方式安装 Oracle19C</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="CentOS7__Oracle19C_0"></a>CentOS7 静默方式安装 Oracle19C</h3> 
<blockquote> 
 <p>操作系统：CentOS7</p> 
 <p>Oracle： 19C</p> 
</blockquote> 
<h4><a id="_6"></a>安装常用工具和依赖</h4> 
<pre><code class="prism language-bash">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">vim</span> <span class="token function">tar</span> net-tools <span class="token function">wget</span> perl python3 readline* deltarpm python-deltarpm <span class="token punctuation">\</span>
 <span class="token function">zip</span> <span class="token function">unzip</span> <span class="token function">bc</span> compat-libcap1* compat-libcap* binutils compat-libstdc++-33 <span class="token punctuation">\</span>
 elfutils-libelf elfutils-libelf-devel gcc gcc-c++ glibc-2.5 glibc-common glibc-devel <span class="token punctuation">\</span>
 glibc-headers ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel <span class="token function">make</span> sysstat <span class="token punctuation">\</span>
 unixODBC unixODBC-devel binutils* compat-libstdc* elfutils-libelf* <span class="token punctuation">\</span>
 gcc* glibc* ksh* libaio* libgcc* libstdc* make* sysstat* libXp* glibc-kernheaders
</code></pre> 
<h4><a id="IP_17"></a>绑定主机名和IP映射</h4> 
<pre><code class="prism language-bash"><span class="token comment"># 修改主机名</span>
hostnamectl set-hostname oracle
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 绑定主机名和IP映射</span>
<span class="token function">vim</span> /etc/hosts
</code></pre> 
<blockquote> 
 <p>填写以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token number">192.168</span>.126.141	oracle
</code></pre> 
<blockquote> 
 <p>建议重启服务器</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">reboot</span>
</code></pre> 
<h4><a id="LINUX_41"></a>修改LINUX的内核文件</h4> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /etc/sysctl.conf
</code></pre> 
<blockquote> 
 <p>追加以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash">fs.file-max <span class="token operator">=</span> <span class="token number">6815744</span>
fs.aio-max-nr <span class="token operator">=</span> <span class="token number">1048576</span>
kernel.shmall <span class="token operator">=</span> <span class="token number">67747971072</span>
kernel.shmmax <span class="token operator">=</span> <span class="token number">277495689510912</span>
kernel.shmmni <span class="token operator">=</span> <span class="token number">4096</span>
kernel.sem <span class="token operator">=</span> <span class="token number">250</span> <span class="token number">32000</span> <span class="token number">100</span> <span class="token number">128</span>
net.core.rmem_default <span class="token operator">=</span> <span class="token number">262144</span>
net.core.rmem_max <span class="token operator">=</span> <span class="token number">4194304</span>
net.core.wmem_default <span class="token operator">=</span> <span class="token number">262144</span>
net.core.wmem_max <span class="token operator">=</span> <span class="token number">1048586</span>
net.ipv4.tcp_max_tw_buckets <span class="token operator">=</span> <span class="token number">6000</span>
net.ipv4.ip_local_port_range <span class="token operator">=</span> <span class="token number">9000</span> <span class="token number">65500</span>
net.ipv4.tcp_tw_recycle <span class="token operator">=</span> <span class="token number">0</span>
net.ipv4.tcp_tw_reuse <span class="token operator">=</span> <span class="token number">1</span>
net.core.netdev_max_backlog <span class="token operator">=</span> <span class="token number">262144</span>
net.ipv4.tcp_max_orphans <span class="token operator">=</span> <span class="token number">262144</span>
net.ipv4.tcp_max_syn_backlog <span class="token operator">=</span> <span class="token number">262144</span>
net.ipv4.tcp_synack_retries <span class="token operator">=</span> <span class="token number">2</span>
net.ipv4.tcp_syn_retries <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_fin_timeout <span class="token operator">=</span> <span class="token number">1</span>
net.ipv4.tcp_keepalive_time <span class="token operator">=</span> <span class="token number">30</span>
net.ipv4.tcp_keepalive_probes <span class="token operator">=</span> <span class="token number">6</span>
net.ipv4.tcp_keepalive_intvl <span class="token operator">=</span> <span class="token number">5</span>
net.ipv4.tcp_timestamps <span class="token operator">=</span> <span class="token number">0</span>
net.ipv4.conf.all.rp_filter <span class="token operator">=</span> <span class="token number">2</span>
net.ipv4.conf.default.rp_filter <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment"># net.core.somaxconn = 262144</span>

</code></pre> 
<blockquote> 
 <p>修改后生成系统参数</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">sysctl</span> <span class="token parameter variable">-p</span>
</code></pre> 
<h4><a id="_86"></a>优化资源限制</h4> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /etc/security/limits.conf
</code></pre> 
<blockquote> 
 <p>追加以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash">oracle   soft   nofile    <span class="token number">1024</span>
oracle   hard   nofile    <span class="token number">65536</span>
oracle   soft   nproc    <span class="token number">16384</span>
oracle   hard   nproc    <span class="token number">16384</span>
oracle   soft   stack    <span class="token number">10240</span>
oracle   hard   stack    <span class="token number">32768</span>
oracle   hard   memlock    <span class="token number">134217728</span>
oracle   soft   memlock    <span class="token number">134217728</span>

</code></pre> 
<h4><a id="_106"></a>程序执行前认证设置</h4> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /etc/pam.d/login
</code></pre> 
<blockquote> 
 <p>追加以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash">session required /lib/security/pam_limits.so
session required pam_limits.so

</code></pre> 
<h4><a id="Oracleksh_120"></a>配置系统环境变量设置Oracle用户使用的ksh</h4> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /etc/profile
</code></pre> 
<blockquote> 
 <p>追加以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$USER</span> <span class="token operator">=</span> <span class="token string">"oracle"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$SHELL</span> <span class="token operator">=</span> <span class="token string">"/bin/ksh"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-p</span> <span class="token number">16384</span>
      <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span> <span class="token number">65536</span>
      <span class="token keyword">else</span>
      <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-u</span> <span class="token number">16384</span> <span class="token parameter variable">-n</span> <span class="token number">65536</span>
   <span class="token keyword">fi</span>
<span class="token keyword">fi</span>

</code></pre> 
<blockquote> 
 <p>当前会话全局环境变量生效</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> 
<h4><a id="Oracle_146"></a>创建Oracle使用文件目录和相应的用户和密码</h4> 
<pre><code class="prism language-bash"><span class="token function">groupadd</span> oinstall
<span class="token function">groupadd</span> dba
<span class="token function">groupadd</span> oper
<span class="token function">useradd</span> <span class="token parameter variable">-g</span> oinstall <span class="token parameter variable">-G</span> dba,oper oracle
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">passwd</span> oracle
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /u01/app/oracle /u01/oraInventory /u01/app/oracle/product/19c/db_1 
<span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /u01
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">775</span> /u01/app/oracle
</code></pre> 
<h4><a id="oracle_165"></a>配置oracle用户的环境变量</h4> 
<blockquote> 
 <p>先切换到oracle用户</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">su</span> - oracle
</code></pre> 
<blockquote> 
 <p>配置用户环境变量</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">vim</span> .bash_profile
</code></pre> 
<blockquote> 
 <p>追加以下内容</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">EDITOR</span><span class="token operator">=</span>vim
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TMP</span><span class="token operator">=</span>/tmp  
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TMPDIR</span><span class="token operator">=</span><span class="token variable">$TMP</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_SID</span><span class="token operator">=</span>orcl
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/u01/app/oracle
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span><span class="token variable">$ORACLE_BASE</span>/product/19c/db_1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">INVENTORY_LOCATION</span><span class="token operator">=</span>/u01/oraInventory
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TNS_ADMIN</span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/network/admin
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NLS_LANG</span><span class="token operator">=</span><span class="token string">"AMERICAN_AMERICA.AL32UTF8"</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NLS_DATE_FORMAT</span><span class="token operator">=</span><span class="token string">"YYYY-MM-DD HH24:MI:SS"</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/bin:/bin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/X11R6/bin:<span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token environment constant">$HOME</span>/bin
<span class="token builtin class-name">umask</span> 022

</code></pre> 
<blockquote> 
 <p>当前会话用户环境变量生效</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> .bash_profile
</code></pre> 
<h4><a id="Oracle_204"></a>上传Oracle安装包并解压</h4> 
<blockquote> 
 <p>Oracle安装包上传至$ORACLE_HOME路径下</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d3/46/milHdYRt_o.png" alt="上传Oracle19C安装包"></p> 
<blockquote> 
 <p>如果使用非oracle用户上传，切换到root用户下修改oralce安装包所有者</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall LINUX.X64_193000_db_home.zip
</code></pre> 
<blockquote> 
 <p>切换到oracle用户下解压</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">su</span> - oracle
</code></pre> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$ORACLE_HOME</span>
</code></pre> 
<blockquote> 
 <p>或者 使用绝对路径</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> /u01/app/oracle/product/19c/db_1
</code></pre> 
<blockquote> 
 <p>解压</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">unzip</span> LINUX.X64_193000_db_home.zip
</code></pre> 
<h4><a id="_238"></a>准备静默安装文件</h4> 
<blockquote> 
 <p>静默安装分为3步：</p> 
 <ol><li>安装软件</li><li>创建监听</li><li>DBCA创建数据库</li></ol> 
 <p>以上3步分别需要三个配置文件，创建存放该3个文件的目录</p> 
</blockquote> 
<blockquote> 
 <p>使用oracle用户在用户主目录创建存放静默安装配置文件目录rsp</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> /home/oracle/rsp
</code></pre> 
<blockquote> 
 <p>如果该目录使用非oracle用户创建，切换到root用户下修改oralce安装包所有者</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /home/oracle/rsp
</code></pre> 
<h4><a id="Oracle_260"></a>安装Oracle软件</h4> 
<blockquote> 
 <p>使用oracle用户编写软件安装静默配置文件</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /home/oracle/rsp/db_install.rsp
</code></pre> 
<blockquote> 
 <p>内容如下：</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">####################################################################</span>
<span class="token comment">## Copyright(c) Oracle Corporation 1998,2019. All rights reserved.##</span>
<span class="token comment">##                                                                ##</span>
<span class="token comment">## Specify values for the variables listed below to customize     ##</span>
<span class="token comment">## your installation.                                             ##</span>
<span class="token comment">##                                                                ##</span>
<span class="token comment">## Each variable is associated with a comment. The comment        ##</span>
<span class="token comment">## can help to populate the variables with the appropriate        ##</span>
<span class="token comment">## values.                                                        ##</span>
<span class="token comment">##                                                                ##</span>
<span class="token comment">## IMPORTANT NOTE: This file contains plain text passwords and    ##</span>
<span class="token comment">## should be secured to have read permission only by oracle user  ##</span>
<span class="token comment">## or db administrator who owns this installation.                ##</span>
<span class="token comment">##                                                                ##</span>
<span class="token comment">####################################################################</span>


<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># Do not change the following system generated value. </span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.responseFileVersion</span><span class="token operator">=</span>/oracle/install/rspfmt_dbinstall_response_schema_v19.0.0

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the installation option.</span>
<span class="token comment"># It can be one of the following:</span>
<span class="token comment">#   - INSTALL_DB_SWONLY</span>
<span class="token comment">#   - INSTALL_DB_AND_CONFIG</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.option</span><span class="token operator">=</span>INSTALL_DB_SWONLY

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the Unix group to be set for the inventory directory.  </span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">UNIX_GROUP_NAME</span><span class="token operator">=</span>oinstall

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the location which holds the inventory files.</span>
<span class="token comment"># This is an optional parameter if installing on</span>
<span class="token comment"># Windows based Operating System.</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">INVENTORY_LOCATION</span><span class="token operator">=</span>/u01/oraInventory
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the complete path of the Oracle Home. </span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span>/u01/app/oracle/product/19c/db_1

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the complete path of the Oracle Base. </span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/u01/app/oracle

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the installation edition of the component.                     </span>
<span class="token comment">#                                                             </span>
<span class="token comment"># The value should contain only one of these choices.  </span>
<span class="token comment">#   - EE     : Enterprise Edition </span>
<span class="token comment">#   - SE2     : Standard Edition 2</span>


<span class="token comment">#-------------------------------------------------------------------------------</span>

<span class="token assign-left variable">oracle.install.db.InstallEdition</span><span class="token operator">=</span>EE
<span class="token comment">###############################################################################</span>
<span class="token comment">#                                                                             #</span>
<span class="token comment"># PRIVILEGED OPERATING SYSTEM GROUPS                                          #</span>
<span class="token comment"># ------------------------------------------                                  #</span>
<span class="token comment"># Provide values for the OS groups to which SYSDBA and SYSOPER privileges     #</span>
<span class="token comment"># needs to be granted. If the install is being performed as a member of the   #</span>
<span class="token comment"># group "dba", then that will be used unless specified otherwise below.       #</span>
<span class="token comment">#                                                                             #</span>
<span class="token comment"># The value to be specified for OSDBA and OSOPER group is only for UNIX based #</span>
<span class="token comment"># Operating System.                                                           #</span>
<span class="token comment">#                                                                             #</span>
<span class="token comment">###############################################################################</span>

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSDBA_GROUP is the OS group which is to be granted SYSDBA privileges.</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSDBA_GROUP</span><span class="token operator">=</span>dba

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSOPER_GROUP is the OS group which is to be granted SYSOPER privileges.</span>
<span class="token comment"># The value to be specified for OSOPER group is optional.</span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSOPER_GROUP</span><span class="token operator">=</span>dba

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSBACKUPDBA_GROUP is the OS group which is to be granted SYSBACKUP privileges.</span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSBACKUPDBA_GROUP</span><span class="token operator">=</span>dba

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSDGDBA_GROUP is the OS group which is to be granted SYSDG privileges.</span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSDGDBA_GROUP</span><span class="token operator">=</span>dba

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSKMDBA_GROUP is the OS group which is to be granted SYSKM privileges.</span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSKMDBA_GROUP</span><span class="token operator">=</span>dba

<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token comment"># The OSRACDBA_GROUP is the OS group which is to be granted SYSRAC privileges.</span>
<span class="token comment">#------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.OSRACDBA_GROUP</span><span class="token operator">=</span>dba
<span class="token comment">################################################################################</span>
<span class="token comment">#                                                                              #</span>
<span class="token comment">#                      Root script execution configuration                     #</span>
<span class="token comment">#                                                                              #</span>
<span class="token comment">################################################################################</span>

<span class="token comment">#-------------------------------------------------------------------------------------------------------</span>
<span class="token comment"># Specify the root script execution mode.</span>
<span class="token comment">#</span>
<span class="token comment">#   - true  : To execute the root script automatically by using the appropriate configuration methods.</span>
<span class="token comment">#   - false : To execute the root script manually.</span>
<span class="token comment">#</span>
<span class="token comment"># If this option is selected, password should be specified on the console.</span>
<span class="token comment">#-------------------------------------------------------------------------------------------------------</span>
<span class="token assign-left variable">oracle.install.db.rootconfig.executeRootScript</span><span class="token operator">=</span>false

</code></pre> 
<blockquote> 
 <p>如果该文件使用非oracle用户编写或上传，切换到root用户下修改oralce安装包所有者</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /home/oracle/rsp/db_install.rsp
</code></pre> 
<blockquote> 
 <p>使用oracle用户进入$ORACLE_HOME目录后进行安装</p> 
</blockquote> 
<pre><code class="prism language-bash">./runInstaller <span class="token parameter variable">-silent</span> <span class="token parameter variable">-force</span> <span class="token parameter variable">-noconfig</span> <span class="token parameter variable">-ignorePrereq</span> <span class="token parameter variable">-responseFile</span> /home/oracle/rsp/db_install.rsp
</code></pre> 
<p><img src="https://images2.imgbox.com/c9/92/OI3NduO2_o.png" alt="Oracle19C安装"></p> 
<blockquote> 
 <p>根据提示：</p> 
 <pre><code class="prism language-bash">As a root user, execute the following script<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:
	<span class="token number">1</span>. /u01/oraInventory/orainstRoot.sh
	<span class="token number">2</span>. /u01/app/oracle/product/19c/db_1/root.sh

</code></pre> 
 <p>需要使用root用户依次执行以下两个脚本</p> 
 <p>/u01/oraInventory/orainstRoot.sh</p> 
 <p>/u01/app/oracle/product/19c/db_1/root.sh</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4b/fa/7PFqCSFa_o.png" alt="Oracle19C安装"></p> 
<blockquote> 
 <p>根据提示检查</p> 
 <p>/u01/app/oracle/product/19c/db_1/install/root_oracle_2023-07-02_20-31-10-709893947.log</p> 
 <p>文件</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">more</span> /u01/app/oracle/product/19c/db_1/install/root_oracle_2023-07-02_20-31-10-709893947.log
</code></pre> 
<p><img src="https://images2.imgbox.com/47/f0/TIWxIDX6_o.png" alt="Oracle19C安装"></p> 
<h4><a id="_437"></a>配置监听</h4> 
<blockquote> 
 <p>使用oracle用户编写静默配置监听文件</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /home/oracle/rsp/netca.rsp
</code></pre> 
<blockquote> 
 <p>内容如下：</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">###################################################################### </span>
<span class="token comment">## Copyright(c) 1998, 2018 Oracle Corporation. All rights reserved. ## </span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">## Specify values for the variables listed below to customize your  ## </span>
<span class="token comment">## installation.                                                    ## </span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">## Each variable is associated with a comment. The comment          ## </span>
<span class="token comment">## identifies the variable type.                                    ## </span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">## Please specify the values in the following format:               ## </span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">##         Type         Example                                     ## </span>
<span class="token comment">##         String       "Sample Value"                              ## </span>
<span class="token comment">##         Boolean      True or False                               ## </span>
<span class="token comment">##         Number       1000                                        ## </span>
<span class="token comment">##         StringList   {"String value 1","String Value 2"}         ## </span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">######################################################################</span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">## This sample response file causes the Oracle Net Configuration    ##</span>
<span class="token comment">## Assistant (NetCA) to complete an Oracle Net configuration during ##</span>
<span class="token comment">## a custom install of the Oracle12c server which is similar to     ##</span>
<span class="token comment">## what would be created by the NetCA during typical Oracle12c      ##</span>
<span class="token comment">## install. It also documents all of the NetCA response file        ##</span>
<span class="token comment">## variables so you can create your own response file to configure  ##</span>
<span class="token comment">## Oracle Net during an install the way you wish.                   ##</span>
<span class="token comment">##                                                                  ## </span>
<span class="token comment">###################################################################### </span>

<span class="token punctuation">[</span>GENERAL<span class="token punctuation">]</span>
<span class="token assign-left variable">RESPONSEFILE_VERSION</span><span class="token operator">=</span><span class="token string">"19.0"</span>
<span class="token assign-left variable">CREATE_TYPE</span><span class="token operator">=</span><span class="token string">"CUSTOM"</span>

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Name       : SHOW_GUI</span>
<span class="token comment"># Datatype   : Boolean</span>
<span class="token comment"># Description: This variable controls appearance/suppression of the NetCA GUI,</span>
<span class="token comment"># Pre-req    : N/A</span>
<span class="token comment"># Default    : TRUE</span>
<span class="token comment"># Note:</span>
<span class="token comment"># This must be set to false in order to run NetCA in silent mode. </span>
<span class="token comment"># This is a substitute of "/silent" flag in the NetCA command line.</span>
<span class="token comment"># The command line flag has precedence over the one in this response file.</span>
<span class="token comment"># This feature is present since 10.1.0.3.</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment">#SHOW_GUI=false</span>

<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Name       : LOG_FILE</span>
<span class="token comment"># Datatype   : String</span>
<span class="token comment"># Description: If present, NetCA will log output to this file in addition to the</span>
<span class="token comment">#	       standard out.</span>
<span class="token comment"># Pre-req    : N/A</span>
<span class="token comment"># Default    : NONE</span>
<span class="token comment"># Note:</span>
<span class="token comment"># 	This is a substitute of "/log" in the NetCA command line.</span>
<span class="token comment"># The command line argument has precedence over the one in this response file.</span>
<span class="token comment"># This feature is present since 10.1.0.3.</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment">#LOG_FILE=""$ORACLE_BASE/cfgtoollogs/netca/netca.log""</span>

<span class="token punctuation">[</span>oracle.net.ca<span class="token punctuation">]</span>
<span class="token comment">#INSTALLED_COMPONENTS;StringList;list of installed components</span>
<span class="token comment"># The possible values for installed components are:</span>
<span class="token comment"># "net8","server","client","aso", "cman", "javavm" </span>
<span class="token assign-left variable">INSTALLED_COMPONENTS</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"server"</span>,<span class="token string">"net8"</span>,<span class="token string">"javavm"</span><span class="token punctuation">}</span>

<span class="token comment">#INSTALL_TYPE;String;type of install</span>
<span class="token comment"># The possible values for install type are:</span>
<span class="token comment"># "typical","minimal" or "custom"</span>
<span class="token assign-left variable">INSTALL_TYPE</span><span class="token operator">=</span><span class="token string">""</span>typical<span class="token string">""</span>

<span class="token comment">#LISTENER_NUMBER;Number;Number of Listeners</span>
<span class="token comment"># A typical install sets one listener </span>
<span class="token assign-left variable">LISTENER_NUMBER</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment">#LISTENER_NAMES;StringList;list of listener names</span>
<span class="token comment"># The values for listener are:</span>
<span class="token comment"># "LISTENER","LISTENER1","LISTENER2","LISTENER3", ...</span>
<span class="token comment"># A typical install sets only "LISTENER" </span>
<span class="token assign-left variable">LISTENER_NAMES</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"LISTENER"</span><span class="token punctuation">}</span>

<span class="token comment">#LISTENER_PROTOCOLS;StringList;list of listener addresses (protocols and parameters separated by semicolons)</span>
<span class="token comment"># The possible values for listener protocols are:</span>
<span class="token comment"># "TCP;1521","TCPS;2484","NMP;ORAPIPE","IPC;IPCKEY","VI;1521" </span>
<span class="token comment"># For multiple listeners, separate them with commas ex "TCP;1521","TCPS;2484"</span>
<span class="token comment"># For multiple protocols in single listener, separate them with "&amp;" ex  "TCP;1521&amp;TCPS;2484"</span>
<span class="token comment"># A typical install sets only "TCP;1521" </span>
<span class="token assign-left variable">LISTENER_PROTOCOLS</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"TCP;1521"</span><span class="token punctuation">}</span>

<span class="token comment">#LISTENER_START;String;name of the listener to start, in double quotes</span>
<span class="token assign-left variable">LISTENER_START</span><span class="token operator">=</span><span class="token string">""</span>LISTENER<span class="token string">""</span>

<span class="token comment">#NAMING_METHODS;StringList;list of naming methods</span>
<span class="token comment"># The possible values for naming methods are: </span>
<span class="token comment"># LDAP, TNSNAMES, ONAMES, HOSTNAME, NOVELL, NIS, DCE</span>
<span class="token comment"># A typical install sets only: "TNSNAMES","ONAMES","HOSTNAMES" </span>
<span class="token comment"># or "LDAP","TNSNAMES","ONAMES","HOSTNAMES" for LDAP</span>
<span class="token assign-left variable">NAMING_METHODS</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"TNSNAMES"</span>,<span class="token string">"ONAMES"</span>,<span class="token string">"HOSTNAME"</span><span class="token punctuation">}</span>

<span class="token comment">#NOVELL_NAMECONTEXT;String;Novell Directory Service name context, in double quotes</span>
<span class="token comment"># A typical install does not use this variable. </span>
<span class="token comment">#NOVELL_NAMECONTEXT = ""NAMCONTEXT""</span>

<span class="token comment">#SUN_METAMAP;String; SUN meta map, in double quotes</span>
<span class="token comment"># A typical install does not use this variable. </span>
<span class="token comment">#SUN_METAMAP = ""MAP""</span>

<span class="token comment">#DCE_CELLNAME;String;DCE cell name, in double quotes</span>
<span class="token comment"># A typical install does not use this variable. </span>
<span class="token comment">#DCE_CELLNAME = ""CELL""</span>

<span class="token comment">#NSN_NUMBER;Number;Number of NetService Names</span>
<span class="token comment"># A typical install sets one net service name</span>
<span class="token assign-left variable">NSN_NUMBER</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token comment">#NSN_NAMES;StringList;list of Net Service names</span>
<span class="token comment"># A typical install sets net service name to "EXTPROC_CONNECTION_DATA"</span>
<span class="token assign-left variable">NSN_NAMES</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"EXTPROC_CONNECTION_DATA"</span><span class="token punctuation">}</span>

<span class="token comment">#NSN_SERVICE;StringList;Oracle12c database's service name</span>
<span class="token comment"># A typical install sets Oracle12c database's service name to "PLSExtProc"</span>
<span class="token assign-left variable">NSN_SERVICE</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"PLSExtProc"</span><span class="token punctuation">}</span>

<span class="token comment">#NSN_PROTOCOLS;StringList;list of coma separated strings of Net Service Name protocol parameters</span>
<span class="token comment"># The possible values for net service name protocol parameters are:</span>
<span class="token comment"># "TCP;HOSTNAME;1521","TCPS;HOSTNAME;2484","NMP;COMPUTERNAME;ORAPIPE","VI;HOSTNAME;1521","IPC;IPCKEY"  </span>
<span class="token comment"># A typical install sets parameters to "IPC;EXTPROC"</span>
<span class="token assign-left variable">NSN_PROTOCOLS</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"TCP;HOSTNAME;1521"</span><span class="token punctuation">}</span>

<span class="token comment">#SERVICEUSERPASSWORD;String;Windows service user password</span>
<span class="token comment"># If the oracle home is installed as secure user, supply the password</span>
<span class="token comment">#SERVICEUSERPASSWORD=""svcpassword""</span>

</code></pre> 
<blockquote> 
 <p>如果该文件使用非oracle用户编写或上传，切换到root用户下修改oralce安装包所有者</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /home/oracle/rsp/netca.rsp
</code></pre> 
<blockquote> 
 <p>使用oracle用户进行静默监听配置</p> 
</blockquote> 
<pre><code class="prism language-bash">netca <span class="token parameter variable">-silent</span> <span class="token parameter variable">-responsefile</span> /home/oracle/rsp/netca.rsp
</code></pre> 
<p><img src="https://images2.imgbox.com/91/42/RnqacHjH_o.png" alt="Oracle19C配置监听"></p> 
<blockquote> 
 <p>检查监听状态</p> 
</blockquote> 
<pre><code class="prism language-bash">lsnrctl status
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/3c/lFlmXGod_o.png" alt="Oracle19C监听状态"></p> 
<h4><a id="_603"></a>静默创建数据库</h4> 
<blockquote> 
 <p>使用oracle用户编写静默创建数据库文件</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /home/oracle/rsp/dbca.rsp
</code></pre> 
<blockquote> 
 <p>内容如下：</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">##############################################################################</span>
<span class="token comment">##                                                                          ##</span>
<span class="token comment">##                            DBCA response file                            ##</span>
<span class="token comment">##                            ------------------                            ##</span>
<span class="token comment">## Copyright(c) Oracle Corporation 1998,2019. All rights reserved.         ##</span>
<span class="token comment">##                                                                          ##</span>
<span class="token comment">## Specify values for the variables listed below to customize 			    ##</span>
<span class="token comment">## your installation.                                         			    ##</span>
<span class="token comment">##                                                            			    ##</span>
<span class="token comment">## Each variable is associated with a comment. The comment    			    ##</span>
<span class="token comment">## can help to populate the variables with the appropriate   			    ##</span>
<span class="token comment">## values.                                                  			    ##</span>
<span class="token comment">##                                                               			##</span>
<span class="token comment">## IMPORTANT NOTE: This file contains plain text passwords and   			##</span>
<span class="token comment">## should be secured to have read permission only by oracle user 			##</span>
<span class="token comment">## or db administrator who owns this installation.               			##</span>
<span class="token comment">##############################################################################</span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token comment"># Do not change the following system generated value. </span>
<span class="token comment">#-------------------------------------------------------------------------------</span>
<span class="token assign-left variable">responseFileVersion</span><span class="token operator">=</span>/oracle/assistants/rspfmt_dbca_response_schema_v19.0.0

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : gdbName</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : Global database name of the database</span>
<span class="token comment"># Valid values  : &lt;db_name&gt;.&lt;db_domain&gt; - when database domain isn't NULL</span>
<span class="token comment">#                 &lt;db_name&gt;             - when database domain is NULL</span>
<span class="token comment"># Default value : None</span>
<span class="token comment"># Mandatory     : Yes</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">gdbName</span><span class="token operator">=</span>orcl

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : sid</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : System identifier (SID) of the database</span>
<span class="token comment"># Valid values  : Check Oracle19c Administrator's Guide</span>
<span class="token comment"># Default value : &lt;db_name&gt; specified in GDBNAME</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">sid</span><span class="token operator">=</span>orcl

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : databaseConfigType</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : database conf type as Single Instance, Real Application Cluster or Real Application Cluster One Nodes database</span>
<span class="token comment"># Valid values  : SI\RAC\RACONENODE</span>
<span class="token comment"># Default value : SI</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">databaseConfigType</span><span class="token operator">=</span>SI

<span class="token assign-left variable">templateName</span><span class="token operator">=</span>General_Purpose.dbc

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : createAsContainerDatabase </span>
<span class="token comment"># Datatype      : boolean</span>
<span class="token comment"># Description   : flag to create database as container database </span>
<span class="token comment"># Valid values  : Check Oracle19c Administrator's Guide</span>
<span class="token comment"># Default value : false</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">createAsContainerDatabase</span><span class="token operator">=</span>false

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : sysPassword</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : Password for SYS user</span>
<span class="token comment"># Valid values  : Check Oracle19c Administrator's Guide</span>
<span class="token comment"># Default value : None</span>
<span class="token comment"># Mandatory     : Yes</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">sysPassword</span><span class="token operator">=</span>oracle

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : systemPassword</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : Password for SYSTEM user</span>
<span class="token comment"># Valid values  : Check Oracle19c Administrator's Guide</span>
<span class="token comment"># Default value : None</span>
<span class="token comment"># Mandatory     : Yes</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">systemPassword</span><span class="token operator">=</span>oracle

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : datafileDestination </span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : Location of the data file's</span>
<span class="token comment"># Valid values  : Directory for all the database files</span>
<span class="token comment"># Default value : $ORACLE_BASE/oradata</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">datafileDestination</span><span class="token operator">=</span>/u01/app/oracle/oradata

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : storageType</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : Specifies the storage on which the database is to be created</span>
<span class="token comment"># Valid values  : FS (CFS for RAC), ASM</span>
<span class="token comment"># Default value : FS</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">storageType</span><span class="token operator">=</span>FS

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : sampleSchema</span>
<span class="token comment"># Datatype      : Boolean</span>
<span class="token comment"># Description   : Specifies whether or not to add the Sample Schemas to your database</span>
<span class="token comment"># Valid values  : TRUE \ FALSE</span>
<span class="token comment"># Default value : FASLE</span>
<span class="token comment"># Mandatory     : No</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">sampleSchema</span><span class="token operator">=</span>TRUE

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : databaseType</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : used for memory distribution when memoryPercentage specified</span>
<span class="token comment"># Valid values  : MULTIPURPOSE|DATA_WAREHOUSING|OLTP</span>
<span class="token comment"># Default value : MULTIPURPOSE</span>
<span class="token comment"># Mandatory     : NO</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">databaseType</span><span class="token operator">=</span>OLTP

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : automaticMemoryManagement</span>
<span class="token comment"># Datatype      : Boolean</span>
<span class="token comment"># Description   : flag to indicate Automatic Memory Management is used</span>
<span class="token comment"># Valid values  : TRUE/FALSE</span>
<span class="token comment"># Default value : TRUE</span>
<span class="token comment"># Mandatory     : NO</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">automaticMemoryManagement</span><span class="token operator">=</span>FALSE

<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token comment"># Name          : totalMemory</span>
<span class="token comment"># Datatype      : String</span>
<span class="token comment"># Description   : total memory in MB to allocate to Oracle</span>
<span class="token comment"># Valid values  : </span>
<span class="token comment"># Default value : </span>
<span class="token comment"># Mandatory     : NO</span>
<span class="token comment">#-----------------------------------------------------------------------------</span>
<span class="token assign-left variable">totalMemory</span><span class="token operator">=</span><span class="token number">4096</span>

</code></pre> 
<blockquote> 
 <p>如果该文件使用非oracle用户编写或上传，切换到root用户下修改oralce安装包所有者</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">chown</span> <span class="token parameter variable">-R</span> oracle:oinstall /home/oracle/rsp/dbca.rsp
</code></pre> 
<blockquote> 
 <p>使用oracle用户进行静默方式创建数据库</p> 
</blockquote> 
<pre><code class="prism language-bash">dbca <span class="token parameter variable">-silent</span> <span class="token parameter variable">-createDatabase</span> <span class="token parameter variable">-responseFile</span> /home/oracle/rsp/dbca.rsp
</code></pre> 
<p><img src="https://images2.imgbox.com/97/4f/qn41RVXp_o.png" alt="Oracle19C创建数据库"></p> 
<blockquote> 
 <p>安装完成可以查看/u01/app/oracle/cfgtoollogs/dbca/orcl/orcl.log文件，检查安装细节</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/62/8f/3u1GsryH_o.png" alt="Oracle19C创建数据库"></p> 
<h4><a id="rlwrap_777"></a>安装rlwrap</h4> 
<blockquote> 
 <p>在Linux下面使用sqlplus很不方便，上下键，退格键都不能用，严重降低生产效率。</p> 
 <p>为了linux下的sqlplus方便调用历史命令和退格，安装rlwrap</p> 
</blockquote> 
<blockquote> 
 <p>下载源代码使用root用户编译安装</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> rlwrap-0.45.2.tar.gz
</code></pre> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> rlwrap-0.45.2
</code></pre> 
<pre><code class="prism language-bash">./configure
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">make</span> <span class="token parameter variable">-j8</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">make</span> <span class="token function">install</span>
</code></pre> 
<blockquote> 
 <p>切换到oracle用户配置用户环境变量支持rlwrap</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token function">su</span> - oracle
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">vim</span> /home/oracle/.bash_profile
</code></pre> 
<blockquote> 
 <p>追加以下内容：</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">sqlplus</span><span class="token operator">=</span><span class="token string">'rlwrap sqlplus'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">rman</span><span class="token operator">=</span><span class="token string">'rlwrap rman'</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">lsnrctl</span><span class="token operator">=</span><span class="token string">'rlwrap lsnrctl'</span>
</code></pre> 
<blockquote> 
 <p>当前会话用户环境变量生效</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token builtin class-name">source</span> /home/oracle/.bash_profile
</code></pre> 
<h4><a id="sqlplus_829"></a>sqlplus连接数据库</h4> 
<blockquote> 
 <p>使用oracle用户操作</p> 
</blockquote> 
<pre><code class="prism language-bash">sqlplus / as sysdba
</code></pre> 
<pre><code class="prism language-sql">conn <span class="token operator">/</span> <span class="token keyword">as</span> sysdba<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> userenv<span class="token punctuation">(</span><span class="token string">'language'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> nls_database_parameters<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> V$NLS_PARAMETERS<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token keyword">status</span> <span class="token keyword">from</span> v$instance<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">user</span> hr account <span class="token keyword">unlock</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">user</span> hr identified <span class="token keyword">by</span> hr<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql">conn hr<span class="token operator">/</span>hr<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">set</span> linesize <span class="token number">300</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token builtin class-name">set</span> pagesize <span class="token number">300</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql">conn sys<span class="token operator">/</span>oracle<span class="token variable">@orcl</span> <span class="token keyword">as</span> sysdba<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql">conn hr<span class="token operator">/</span>hr<span class="token variable">@orcl</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> tname <span class="token keyword">from</span> tab<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 关闭监听</span>
lsnrctl stop
</code></pre> 
<pre><code class="prism language-sql"><span class="token comment">-- 关闭数据库</span>
<span class="token keyword">shutdown</span> immediate<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-bash">-- 开启数据库
startup<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 关闭监听</span>
lsnrctl start
</code></pre> 
<h4><a id="_909"></a>开发防火墙端口</h4> 
<blockquote> 
 <p>使用root用户</p> 
</blockquote> 
<pre><code class="prism language-bash">firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">1521</span>/tcp <span class="token parameter variable">--permanent</span>
</code></pre> 
<pre><code class="prism language-bash">firewall-cmd <span class="token parameter variable">--reload</span> 
</code></pre> 
<blockquote> 
 <p>–zone #作用域<br> –add-port=1521/tcp #添加端口，格式为：端口/通讯协议<br> –permanent #永久生效，没有此参数重启后失效</p> 
</blockquote> 
<h4><a id="sqldeveloperoracle_925"></a>sqldeveloper连接oracle</h4> 
<blockquote> 
 <p>使用sys账户连接orcl实例</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/49/f8/cV9burZk_o.png" alt="sqldeveloper连接Oracle"></p> 
<p><img src="https://images2.imgbox.com/ad/3c/xfnjtqoX_o.png" alt="sqldeveloper连接Oracle"></p> 
<blockquote> 
 <p>使用hr账户连接orcl实例</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8e/70/M13XCuXS_o.png" alt="sqldeveloper连接Oracle"></p> 
<p><img src="https://images2.imgbox.com/7e/4b/ThZLGK6K_o.png" alt="sqldeveloper连接Oracle"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d863673f2dfa0ad54b054db22d32e2ed/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【vant】打开vant表单的正确形式(基于vant表单的二次封装)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f321121833a2c1b5c6d2cc131288ab63/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python毕业设计推荐</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>