<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[NOIP2013]表达式求值 c&#43;&#43;四则表达式求值（不包含括号） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[NOIP2013]表达式求值 c&#43;&#43;四则表达式求值（不包含括号）" />
<meta property="og:description" content="定义两个栈，一个a栈用来存放数字，另一个b栈用来存放运算符，遇见数字将数字压入a栈，遇见运算符将运算符压入b栈，当第二次压入运算符之前 先与此时b栈栈顶的运算符&#39;x&#39; 优先级进行比较，如果&#39;x&#39;优先级大于栈顶优先级，将&#39;x&#39;压栈，若小于，取出a栈中的栈顶元素a[top]和a[top-1]与b栈中栈顶运算符 &#39;y&#39; 进行运算，将运算结果result再次压入a的栈顶，将b栈顶运算符&#39;y&#39;弹出，将&#39;x&#39;运算符插入栈中。
当循环遍历完之后，可能栈中可能还会有剩余的运算符和整数没有运算，判断是否还有运算符，若有继续运算，没有则结束。
#include &lt;iostream&gt; #include&lt;cstring&gt; #include&lt;stack&gt; using namespace std; int compare(char front,char rear){//定义比较优先级函数，只需判断小于等于和大于 if((front==&#39;&#43;&#39;&amp;&amp;rear==&#39;&#43;&#39;)||(front==&#39;-&#39;&amp;&amp;rear==&#39;-&#39;)||(front==&#39;*&#39;&amp;&amp;rear==&#39;*&#39;)||(front==&#39;/&#39;&amp;&amp;rear==&#39;/&#39;)||(front==&#39;&#43;&#39;&amp;&amp;rear==&#39;*&#39;)||(front==&#39;-&#39;&amp;&amp;rear==&#39;*&#39;)||(front==&#39;&#43;&#39;&amp;&amp;rear==&#39;/&#39;)||(front==&#39;-&#39;&amp;&amp;rear==&#39;/&#39;)||(front==&#39;/&#39;&amp;&amp;rear==&#39;*&#39;)||(front==&#39;*&#39;&amp;&amp;rear==&#39;/&#39;)||(front==&#39;&#43;&#39;&amp;&amp;rear==&#39;-&#39;)||(front==&#39;-&#39;&amp;&amp;rear==&#39;&#43;&#39;)) { return 1; } else{ return 0; } } int main() { string s1; cin &gt;&gt; s1; stack&lt;long long int&gt; a; stack&lt;char&gt; b; double result; for (int i = 0; i &lt; s1.length(); i&#43;&#43;) { if (isdigit(s1[i])) { long long int integer=0; while(1){//数字不一定只有一位数 integer=integer*10&#43;(s1[i]-&#39;0&#39;); if(isdigit(s1[i&#43;1])==0) { break; } i&#43;&#43;; } integer=integer%10000; a." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/bf08b04fc1b75b3a5e62c5d4eb62d1f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-23T15:57:43+08:00" />
<meta property="article:modified_time" content="2021-10-23T15:57:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[NOIP2013]表达式求值 c&#43;&#43;四则表达式求值（不包含括号）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>定义两个栈，一个a栈用来存放数字，另一个b栈用来存放运算符，遇见数字将数字压入a栈，遇见运算符将运算符压入b栈，当第二次压入运算符之前   先与此时b栈栈顶的运算符'x'    优先级进行比较，如果'x'优先级大于栈顶优先级，将'x'压栈，若小于，取出a栈中的栈顶元素a[top]和a[top-1]与b栈中栈顶运算符 'y' 进行运算，将运算结果result再次压入a的栈顶，将b栈顶运算符'y'弹出，将'x'运算符插入栈中。</p> 
<p>当循环遍历完之后，可能栈中可能还会有剩余的运算符和整数没有运算，判断是否还有运算符，若有继续运算，没有则结束。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/14/96/cETtY7dE_o.png"></p> 
<p><img alt="" src="https://images2.imgbox.com/04/46/dySfEhZU_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/71/24/M8EJjnQp_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c9/c0/pCJOrant_o.png"> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include&lt;cstring&gt;
#include&lt;stack&gt;
using namespace std;
int compare(char front,char rear){//定义比较优先级函数，只需判断小于等于和大于
    if((front=='+'&amp;&amp;rear=='+')||(front=='-'&amp;&amp;rear=='-')||(front=='*'&amp;&amp;rear=='*')||(front=='/'&amp;&amp;rear=='/')||(front=='+'&amp;&amp;rear=='*')||(front=='-'&amp;&amp;rear=='*')||(front=='+'&amp;&amp;rear=='/')||(front=='-'&amp;&amp;rear=='/')||(front=='/'&amp;&amp;rear=='*')||(front=='*'&amp;&amp;rear=='/')||(front=='+'&amp;&amp;rear=='-')||(front=='-'&amp;&amp;rear=='+'))
    {
        return 1;
    }
    else{
        return 0;
    }
}
int main() {
    string s1;
    cin &gt;&gt; s1;
    stack&lt;long long int&gt; a;
    stack&lt;char&gt; b;
    double result;
    for (int i = 0; i &lt; s1.length(); i++) {
        if (isdigit(s1[i])) {
           long long int integer=0;
            while(1){//数字不一定只有一位数
                integer=integer*10+(s1[i]-'0');
                if(isdigit(s1[i+1])==0)
                {
                    break;
                }
                i++;
            }
            integer=integer%10000;
            a.push(integer);
        } else{
            if(b.empty())
            {
                b.push(s1[i]);
            }
            else if (compare(s1[i],b.top())==1) {
                int one, two;
                one = a.top();
                a.pop();
                two = a.top();
                a.pop();
                if (b.top() == '+') result = two + one;
                if (b.top() == '-') result = two - one;
                if (b.top() == '*') result = ((two%10000) * (one%10000))%10000;
                if (b.top() == '/') result = two / one;

                b.pop();
                b.push(s1[i]);
                a.push(result);
            } else if (compare(s1[i],b.top())==0) {
                b.push(s1[i]);
            }

        }
    }
    while (!b.empty())//上面循环遍历完之后运算符有剩余则将栈中的运算符和数字进行运算，直到没有运算符
    {
        int a1,a2;
        a1 = a.top();
        a.pop();
        a2 = a.top();
        a.pop();
        if (b.top() == '+') result = a1 + a2;
        if (b.top() == '-') result = a1 - a2;
        if (b.top() == '*') result = a1 * a2;
        if (b.top() == '/') result = a1 / a2;
        a.push(result);
        b.pop();
    }
    cout&lt;&lt;a.top()%10000&lt;&lt;endl;//只留后四位
    return 0;
}
</code></pre> 
<p><a class="link-info" href="https://nanti.jisuanke.com/t/T2074" rel="nofollow" title="[NOIP2013]表达式求值 - 题库 - 计蒜客">[NOIP2013]表达式求值 - 题库 - 计蒜客</a></p> 
<p>本来只是自己写写简单的运算表达式，写完之后找到这个题提交了一下（碰巧多刷一道题）</p> 
<p>题解通过这个题目</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ab8c05faf1268108ea61bf69536649e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue引入链接形式（网站）的js文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dd0e6c96348a933b40b025f7cacbaddf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Androidstudio根据图片路径获取本地图片的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>