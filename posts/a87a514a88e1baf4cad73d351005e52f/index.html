<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《计算机网络自顶向下》Socket编程 Lab热手工作 UDP TCP 客户-服务器编程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《计算机网络自顶向下》Socket编程 Lab热手工作 UDP TCP 客户-服务器编程" />
<meta property="og:description" content="文章目录 前引UDP C-S 交互编程UDP Client代码UDP Server代码UDP交互 测试结果 TCP C-S 交互编程TCP Client代码TCP Server代码TCP 交互测试结果 前引 各位看官好 昨天晚上因为想试一下socket编程 然后我就把我们家另一台电脑搬出来了 结果三年前的电脑真的用不了了 我下载pycharm 然后打开 每一次点击操作都会卡5分钟左右 然后折腾了一晚上都没有办法弄
之后晚上又摇了一个我的好姐妹 试一下远程主机的通信 结果试了两个小时也没有成功 但是呢 本地的话就可以 我还在那里试了很久 我认为是防火墙的问题- - 公网私网试到了凌晨1点半左右 成功不了 所以下面的IP地址 就用127.0.0.1来代替 各位谅解一下 就直接用本地本机测试IP吧
UDP C-S 交互编程 UDP Client代码 from socket import * serverName = &#39;127.0.0.1&#39; serverPort = 2333 clientSocket = socket(AF_INET,SOCK_DGRAM) message = input(&#39;input lowercase sentense:&#39;) clientSocket.sendto(message.encode(),(serverName,serverPort)) modifiedMessage , serverAddress = clientSocket.recvfrom(2048) print(modifiedMessage.decode()) clientSocket.close() UDP Server代码 from socket import * serverPort = 2333 serverSocket = socket(AF_INET,SOCK_DGRAM) serverSocket." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a87a514a88e1baf4cad73d351005e52f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-31T12:02:40+08:00" />
<meta property="article:modified_time" content="2021-08-31T12:02:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《计算机网络自顶向下》Socket编程 Lab热手工作 UDP TCP 客户-服务器编程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_5" rel="nofollow">前引</a></li><li><a href="#UDP_CS__12" rel="nofollow">UDP C-S 交互编程</a></li><li><ul><li><a href="#UDP_Client_14" rel="nofollow">UDP Client代码</a></li><li><a href="#UDP_Server_29" rel="nofollow">UDP Server代码</a></li><li><a href="#UDP__45" rel="nofollow">UDP交互 测试结果</a></li></ul> 
   </li><li><a href="#TCP_CS__51" rel="nofollow">TCP C-S 交互编程</a></li><li><ul><li><a href="#TCP_Client_53" rel="nofollow">TCP Client代码</a></li><li><a href="#TCP_Server_69" rel="nofollow">TCP Server代码</a></li><li><a href="#TCP__88" rel="nofollow">TCP 交互测试结果</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h3><a id="_5"></a>前引</h3> 
<hr> 
<p><strong>各位看官好 昨天晚上因为想试一下socket编程 然后我就把我们家另一台电脑搬出来了 结果三年前的电脑真的用不了了 我下载pycharm 然后打开 每一次点击操作都会卡5分钟左右 然后折腾了一晚上都没有办法弄</strong></p> 
<p><strong>之后晚上又摇了一个我的好姐妹 试一下远程主机的通信 结果试了两个小时也没有成功 但是呢 本地的话就可以 我还在那里试了很久 我认为是防火墙的问题- - 公网私网试到了凌晨1点半左右 成功不了 所以下面的IP地址 就用<code>127.0.0.1</code>来代替 各位谅解一下 就直接用本地本机测试IP吧</strong></p> 
<hr> 
<h3><a id="UDP_CS__12"></a>UDP C-S 交互编程</h3> 
<hr> 
<h4><a id="UDP_Client_14"></a>UDP Client代码</h4> 
<hr> 
<pre><code class="prism language-cpp">from socket import <span class="token operator">*</span>
serverName <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>
serverPort <span class="token operator">=</span> <span class="token number">2333</span>
clientSocket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_DGRAM<span class="token punctuation">)</span>
message <span class="token operator">=</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token string">'input lowercase sentense:'</span><span class="token punctuation">)</span>
clientSocket<span class="token punctuation">.</span><span class="token function">sendto</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>serverName<span class="token punctuation">,</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">)</span>
modifiedMessage <span class="token punctuation">,</span> serverAddress <span class="token operator">=</span> clientSocket<span class="token punctuation">.</span><span class="token function">recvfrom</span><span class="token punctuation">(</span><span class="token number">2048</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>modifiedMessage<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
clientSocket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h4><a id="UDP_Server_29"></a>UDP Server代码</h4> 
<hr> 
<pre><code class="prism language-cpp">from socket import <span class="token operator">*</span>
serverPort <span class="token operator">=</span> <span class="token number">2333</span>
serverSocket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_DGRAM<span class="token punctuation">)</span>
serverSocket<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"The server is ready to receive"</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> True<span class="token operator">:</span>
    message<span class="token punctuation">,</span> clientAddress <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">recvfrom</span><span class="token punctuation">(</span><span class="token number">2048</span><span class="token punctuation">)</span>
    modifiedMessage <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">upper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"yes"</span><span class="token punctuation">)</span>
    serverSocket<span class="token punctuation">.</span><span class="token function">sendto</span><span class="token punctuation">(</span>modifiedMessage<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>clientAddress<span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h4><a id="UDP__45"></a>UDP交互 测试结果</h4> 
<hr> 
<p><img src="https://images2.imgbox.com/53/e4/bMsDX5Hq_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="TCP_CS__51"></a>TCP C-S 交互编程</h3> 
<hr> 
<h4><a id="TCP_Client_53"></a>TCP Client代码</h4> 
<hr> 
<pre><code class="prism language-cpp">from socket import <span class="token operator">*</span>
serverName <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>
serverPort <span class="token operator">=</span> <span class="token number">23333</span>
clientSocket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_STREAM<span class="token punctuation">)</span>
clientSocket<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>serverName<span class="token punctuation">,</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">)</span>
sentence <span class="token operator">=</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token string">'input lowercase sentense:'</span><span class="token punctuation">)</span>
clientSocket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>sentence<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
modifiedMessage <span class="token operator">=</span> clientSocket<span class="token punctuation">.</span><span class="token function">recvfrom</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>modifiedMessage<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
clientSocket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h4><a id="TCP_Server_69"></a>TCP Server代码</h4> 
<hr> 
<pre><code class="prism language-cpp">from socket import <span class="token operator">*</span>
serverPort <span class="token operator">=</span> <span class="token number">23333</span>
serverSocket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span>SOCK_STREAM<span class="token punctuation">)</span>
serverSocket<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">)</span>
serverSocket<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"The server is ready to receive"</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> True<span class="token operator">:</span>
    connectionSocket<span class="token punctuation">,</span> addr <span class="token operator">=</span> serverSocket<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    sentense <span class="token operator">=</span> connectionSocket<span class="token punctuation">.</span><span class="token function">recv</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"yes"</span><span class="token punctuation">)</span>
    retsentense <span class="token operator">=</span> sentense<span class="token punctuation">.</span><span class="token function">upper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    connectionSocket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>retsentense<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    connectionSocket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h4><a id="TCP__88"></a>TCP 交互测试结果</h4> 
<hr> 
<p><img src="https://images2.imgbox.com/94/1f/pshFPQjd_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/18c171c244cf876775eb4143be12ab18/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">gitflow工作流</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71b633741b9374cb21426415d25760f4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">proteus数字电路仿真——入门实例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>