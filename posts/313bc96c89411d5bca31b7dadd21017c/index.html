<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于Spring&#43;Hibernate的通用增删改查的实现方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于Spring&#43;Hibernate的通用增删改查的实现方法" />
<meta property="og:description" content="基于Spring&#43;Hibernate的通用增删改查的实现方法
王保政
Msn:baozhengw999@hotmail.com
QQ:29803446
一、设计方案
1.1 名词解释：
业务服务层：业务服务层引用了数据访问层接口DAO，业务服务层的类名一般是按Service作为后缀，业务服务层具体实现类可以按ServiceImpl命名。业务服务层类都可以在Spring配置文件中进行配置。
服务定位器：ServiceLocator是一个服务定位器，也可以说是业务服务层的门面类，此服务定位器提供了静态的方法，通过静态的方法可调用所有的业务服务层接口，ServiceLocator封装了读取Spring配置文件的方法，在JSP或控制层及业务服务层都可以通过ServiceLocator.getXXXService().业务方法()的格式来引用业务服务层提供的方法，例如在JSP中调用一个插入的方法，格式：
ServiceLocator.getDBSupportService().insert(entity,null);//entity为一个继承了AbstractEntity实体变量。
使用ServiceLocator，不需要自己书写读取Spring配置文件的方法来调用spring bean,而且通过ServiceLocator调用的业务逻辑类在spring配置文件中都是按单例配置的，不用的request引用的是同一个内存实例对象，这样可以大大提高系统的性能。
1.2 设计说明
名词解释中简单谈了ServiceLocator和Service层，Service层的bean是要调用Dao层的，Service Bean有一个Dao的属性，这个属性是通过构造注入的方式配置的，所以在Service的构造方法中应该有对dao的赋值语句，建议Service类的Dao属性字段不要按照设值注入的方式，因为我们不希望通过service.getXXXDao()的方式直接引用到Dao层。
在上面的设计图中IDBSupportService是业务服务层接口，DBSupportServiceImpl是业务服务层接口的实现类。IDBSupportService中定义了与数据库操作相关的通用的增删改查等方法。
DAO层的设计是这样的，IBaseDao声明了增删改查方法，BaseHibernateDao抽象类实现了增删改查的通用方法，这个类继承了org.springframework.orm.hibernate3.support.HibernateDaoSupport，这个类提供了很多Spring框架自带的数据库操作相关的模板方法。
AbstractEntity是一个抽象实体类，所有数据库表对应的实体类都要继承这个抽象实体类。
二、Spring配置文件
（1）acegisecurityContext.xml :这个文件与acegi权限相关，本文暂不介绍。
（2）datasource.xml定义了数据源及hibernate参数和映射文件：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;GB2312&#34;?&gt;
&lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34;
xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&#34;&gt;
&lt;!-- 本文件配置应用所使用的各种数据源 --&gt;
&lt;bean id=&#34;mysqlds&#34;
class=&#34;org.springframework.jndi.JndiObjectFactoryBean&#34;&gt;
&lt;property name=&#34;jndiName&#34;&gt;
&lt;value&gt;java:comp/env/jdbc/mysql&lt;/value&gt;
&lt;/property&gt;
&lt;/bean&gt;
&lt;bean id=&#34;sessionMysqlFactory&#34;
class=&#34;org.springframework.orm.hibernate3.LocalSessionFactoryBean&#34;&gt;
&lt;property name=&#34;dataSource&#34;&gt;
&lt;ref local=&#34;mysqlds&#34; /&gt;
&lt;/property&gt;
&lt;property name=&#34;mappingResources&#34;&gt;
&lt;list&gt; &lt;!—为节省篇幅，只列出一个hbm.xml文件--&gt;
&lt;value&gt;
org/apache/easframework/core/entity/OlapReportChart.hbm.xml
&lt;/value&gt;
&lt;/list&gt;
&lt;/property&gt;
&lt;property name=&#34;hibernateProperties&#34;&gt;
&lt;props&gt;
&lt;prop key=&#34;hibernate.c3p0.max_size&#34;&gt;230&lt;/prop&gt;
&lt;prop key=&#34;hibernate.c3p0.min_size&#34;&gt;2&lt;/prop&gt;
&lt;prop key=&#34;hibernate.c3p0.timeout&#34;&gt;10000&lt;/prop&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/313bc96c89411d5bca31b7dadd21017c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-01-28T16:41:00+08:00" />
<meta property="article:modified_time" content="2008-01-28T16:41:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于Spring&#43;Hibernate的通用增删改查的实现方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p class="MsoNormal" style="text-align:center;" align="center"><strong><span style="font-family:'宋体';">基于</span><span lang="en-us"><font face="Times New Roman">Spring+Hibernate</font></span></strong><strong><span style="font-family:'宋体';">的通用增删改查的实现方法</span><span lang="en-us"></span></strong></p> 
 <p><strong></strong></p> 
 <strong></strong> 
 <p class="MsoNormal" style="text-align:center;" align="center"><strong><span lang="en-us"></span></strong></p> 
 <p><strong><font face="Times New Roman"> </font></strong></p> 
 <strong></strong> 
 <p class="MsoNormal" style="text-align:center;" align="center"><span style="font-family:'宋体';">王保政</span></p> 
 <p class="MsoNormal" style="text-align:center;" align="center"><span lang="en-us"><font face="Times New Roman">Msn:baozhengw999@hotmail.com</font></span></p> 
 <p class="MsoNormal" style="text-align:center;" align="center"><span lang="en-us"><font face="Times New Roman">QQ:29803446</font></span></p> 
 <p class="MsoNormal" style="text-align:center;" align="center"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"></font></p> 
 <p class="MsoNormal" style="text-align:center;" align="center"><span lang="en-us"></span></p> 
 <p> </p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">一、设计方案</span></p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">1.1 </font></span><span style="font-family:'宋体';">名词解释：</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">业务服务层：业务服务层引用了数据访问层接口</span><span lang="en-us"><font face="Times New Roman">DAO</font></span><span style="font-family:'宋体';">，业务服务层的类名一般是按</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">作为后缀，业务服务层具体实现类可以按</span><span lang="en-us"><font face="Times New Roman">ServiceImpl</font></span><span style="font-family:'宋体';">命名。业务服务层类都可以在</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件中进行配置。</span></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">服务定位器：</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">是一个服务定位器，也可以说是业务服务层的门面类，此服务定位器提供了静态的方法，通过静态的方法可调用所有的业务服务层接口，</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">封装了读取</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件的方法，在</span><span lang="en-us"><font face="Times New Roman">JSP</font></span><span style="font-family:'宋体';">或控制层及业务服务层都可以通过</span><span lang="en-us"><font face="Times New Roman">ServiceLocator.getXXXService().</font></span><span style="font-family:'宋体';">业务方法</span><span lang="en-us"><font face="Times New Roman">()</font></span><span style="font-family:'宋体';">的格式来引用业务服务层提供的方法，例如在</span><span lang="en-us"><font face="Times New Roman">JSP</font></span><span style="font-family:'宋体';">中调用一个插入的方法，格式：</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">ServiceLocator.getDBSupportService().insert(entity,null);//entity</font></span><span style="font-family:'宋体';">为一个继承了</span><span lang="en-us"><font face="Times New Roman">AbstractEntity</font></span><span style="font-family:'宋体';">实体变量。</span></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">使用</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">，不需要自己书写读取</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件的方法来调用</span><span lang="en-us"><font face="Times New Roman">spring bean,</font></span><span style="font-family:'宋体';">而且通过</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">调用的业务逻辑类在</span><span lang="en-us"><font face="Times New Roman">spring</font></span><span style="font-family:'宋体';">配置文件中都是按单例配置的，不用的</span><span lang="en-us"><font face="Times New Roman">request</font></span><span style="font-family:'宋体';">引用的是同一个内存实例对象，这样可以大大提高系统的性能。</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">1.2 </font></span><span style="font-family:'宋体';">设计说明</span></p> 
 <p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:'宋体';">名词解释中简单谈了</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">和</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">层，</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">层的</span><span lang="en-us"><font face="Times New Roman">bean</font></span><span style="font-family:'宋体';">是要调用</span><span lang="en-us"><font face="Times New Roman">Dao</font></span><span style="font-family:'宋体';">层的，</span><span lang="en-us"><font face="Times New Roman">Service Bean</font></span><span style="font-family:'宋体';">有一个</span><span lang="en-us"><font face="Times New Roman">Dao</font></span><span style="font-family:'宋体';">的属性，这个属性是通过构造注入的方式配置的，所以在</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">的构造方法中应该有对</span><span lang="en-us"><font face="Times New Roman">dao</font></span><span style="font-family:'宋体';">的赋值语句，建议</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">类的</span><span lang="en-us"><font face="Times New Roman">Dao</font></span><span style="font-family:'宋体';">属性字段不要按照设值注入的方式，因为我们不希望通过</span><span lang="en-us"><font face="Times New Roman">service.getXXXDao()</font></span><span style="font-family:'宋体';">的方式直接引用到</span><span lang="en-us"><font face="Times New Roman">Dao</font></span><span style="font-family:'宋体';">层。</span></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">在上面的设计图中</span><span lang="en-us"><font face="Times New Roman">IDBSupportService</font></span><span style="font-family:'宋体';">是业务服务层接口，</span><span lang="en-us"><font face="Times New Roman">DBSupportServiceImpl</font></span><span style="font-family:'宋体';">是业务服务层接口的实现类。</span><span lang="en-us"><font face="Times New Roman">IDBSupportService</font></span><span style="font-family:'宋体';">中定义了与数据库操作相关的通用的增删改查等方法。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">DAO</font></span><span style="font-family:'宋体';">层的设计是这样的，</span><span lang="en-us"><font face="Times New Roman">IBaseDao</font></span><span style="font-family:'宋体';">声明了增删改查方法，</span><span lang="en-us"><font face="Times New Roman">BaseHibernateDao</font></span><span style="font-family:'宋体';">抽象类实现了增删改查的通用方法，这个类继承了</span><span lang="en-us"><font face="Times New Roman">org.springframework.orm.hibernate3.support.HibernateDaoSupport</font></span><span style="font-family:'宋体';">，这个类提供了很多</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">框架自带的数据库操作相关的模板方法。</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">AbstractEntity</font></span><span style="font-family:'宋体';">是一个抽象实体类，所有数据库表对应的实体类都要继承这个抽象实体类。</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">二、</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">（</span><span lang="en-us"><font face="Times New Roman">1</font></span><span style="font-family:'宋体';">）</span><span lang="en-us"><font face="Times New Roman">acegisecurityContext.xml :</font></span><span style="font-family:'宋体';">这个文件与</span><span lang="en-us"><font face="Times New Roman">acegi</font></span><span style="font-family:'宋体';">权限相关，本文暂不介绍。</span></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">（</span><span lang="en-us"><font face="Times New Roman">2</font></span><span style="font-family:'宋体';">）</span><span lang="en-us"><font face="Times New Roman">datasource.xml</font></span><span style="font-family:'宋体';">定义了数据源及</span><span lang="en-us"><font face="Times New Roman">hibernate</font></span><span style="font-family:'宋体';">参数和映射文件：</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;?xml version="1.0" encoding="GB2312"?&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;beans xmlns="http://www.springframework.org/schema/beans"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       xsi:schemaLocation="http://www.springframework.org/schema/beans </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">  http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;!-- </font></span><span style="font-family:'宋体';">本文件配置应用所使用的各种数据源</span><span lang="en-us"><font face="Times New Roman"> --&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;bean id="mysqlds"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              class="org.springframework.jndi.JndiObjectFactoryBean"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;property name="jndiName"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     &lt;value&gt;java:comp/env/jdbc/mysql&lt;/value&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;bean id="sessionMysqlFactory"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;property name="dataSource"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     &lt;ref local="mysqlds" /&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;property name="mappingResources"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;list&gt; </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;!—</font></span><span style="font-family:'宋体';">为节省篇幅，只列出一个</span><span lang="en-us"><font face="Times New Roman">hbm.xml</font></span><span style="font-family:'宋体';">文件</span><span lang="en-us"><font face="Times New Roman">--&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;value&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              org/apache/easframework/core/entity/OlapReportChart.hbm.xml</font></span></p> 
 <p class="MsoNormal" style="text-indent:42pt;"><span lang="en-us"><font face="Times New Roman">&lt;/value&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                                &lt;/list&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;property name="hibernateProperties"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     &lt;props&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.max_size"&gt;230&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.min_size"&gt;2&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.timeout"&gt;10000&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.max_statements"&gt;100&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.maxIdleTime"&gt;20&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.acquire_increment"&gt;3&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.c3p0.validate"&gt;false&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.dialect"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   org.hibernate.dialect.MySQLDialect </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.show_sql"&gt;false&lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;prop key="hibernate.query.factory_class"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   org.hibernate.hql.ast.ASTQueryTranslatorFactory</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            &lt;/prop&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     &lt;/props&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;bean id="hibernateMysqlTemplate"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              class="org.springframework.orm.hibernate3.HibernateTemplate"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;property name="sessionFactory"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     &lt;ref bean="sessionMysqlFactory" /&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;/beans&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">（</span><span lang="en-us"><font face="Times New Roman">3</font></span><span style="font-family:'宋体';">）</span><font face="Times New Roman"> <span lang="en-us">core-service.xml</span></font><span style="font-family:'宋体';">，此文件配置业务逻辑类，其中</span><span lang="en-us"><font face="Times New Roman">&lt;ref bean="hibernateMysqlTemplate"/&gt;</font></span><span style="font-family:'宋体';">引用的是</span><span lang="en-us"><font face="Times New Roman">datasource.xml</font></span><span style="font-family:'宋体';">中配置的</span><span lang="en-us"><font face="Times New Roman">bean</font></span><span style="font-family:'宋体';">。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;?xml version="1.0" encoding="GB2312"?&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;beans xmlns="http://www.springframework.org/schema/beans"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">  xsi:schemaLocation="http://www.springframework.org/schema/beans </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">  http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">&lt;bean id="IDBSupportService" class="org.apache.easframework.core.service.impl.DBSupportServiceImpl"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;constructor-arg&gt;&lt;ref local="IBaseDao"/&gt;&lt;/constructor-arg&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">    &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     &lt;bean id="INodeService" class="org.apache.easframework.core.service.impl.NodeServiceImpl"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;constructor-arg&gt;&lt;ref local="IBaseDao"/&gt;&lt;/constructor-arg&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">    &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">    &lt;bean id="IBaseDao" class="org.apache.easframework.core.dao.impl.DBSupportDaoImpl"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;property name="hibernateTemplate"&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">            &lt;ref bean="hibernateMysqlTemplate"/&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        &lt;/property&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">    &lt;/bean&gt;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">         </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> &lt;/beans&gt;</font></span></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">三、</span><span lang="en-us"><font face="Times New Roman">ServiceLocator</font></span><span style="font-family:'宋体';">的代码：</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">package org.apache.easframework.core.service;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.log4j.Logger;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.springframework.context.ApplicationContext;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.springframework.context.support.ClassPathXmlApplicationContext;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.service.ISysConfig;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">public class ServiceLocator {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static final Logger log = Logger.getLogger(ServiceLocator.class);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static ApplicationContext context;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public static final ServiceLocator  thisService = new ServiceLocator();  //</font></span><span style="font-family:'宋体';">单例类</span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static final String[] xmlFiles = new String[] {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     "/core-service.xml", "/datasource.xml" ,"/system-config.xml"};</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       //public static ServiceLocator getInstance()</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       //{<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       //     return thisService;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       //}</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">系统配置组件</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public static ISysConfig getSysConfigService() {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String beanName = "ISysConfig";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              ISysConfig service = (ISysConfig) getBeanService(beanName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return service;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public static INodeService getNodeService()</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String beanName ="INodeService";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              INodeService service = (INodeService)getBeanService(beanName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return service;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public static IDBSupportService getDBSupportService() {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String beanName = "IDBSupportService";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              IDBSupportService service = (IDBSupportService) getBeanService(beanName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return service;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static IService getBeanService(String serviceName) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              IService bean = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              try {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     if (context == null) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            context = new ClassPathXmlApplicationContext(xmlFiles);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     bean = (IService) context.getBean(serviceName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } catch (Exception e) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     log.error("</font></span><span style="font-family:'宋体';">获取</span><span lang="en-us"><font face="Times New Roman">Service Bean</font></span><span style="font-family:'宋体';">对象失败！</span><span lang="en-us"><font face="Times New Roman">");</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     log.error(e.getMessage());</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     e.printStackTrace();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return bean;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">}</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">四、</span><span lang="en-us"><font face="Times New Roman">DBSupportServiceImpl</font></span><span style="font-family:'宋体';">增删改查业务逻辑实现类代码</span><span lang="en-us"><font face="Times New Roman">:</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">package org.apache.easframework.core.service.impl;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.util.List;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import javax.servlet.http.HttpServletRequest;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.dao.IBaseDao;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.entity.AbstractEntity;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.pageloader.IPageLoader;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.pageloader.PageLoaderHibernateImpl;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.pageloader.PageLoaderInfo;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.service.IDBSupportService;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.log4j.Logger;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.hibernate.criterion.DetachedCriteria;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">public class DBSupportServiceImpl implements IDBSupportService</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">{<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static final Logger logger = Logger   .getLogger(DBSupportServiceImpl.class);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private IBaseDao defaultDao;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">使用这种方式为了在</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件中按构造注入的方式实例化</span><span lang="en-us"><font face="Times New Roman">Dao,</font></span><span style="font-family:'宋体';">因为不希望外部调用通过</span><span lang="en-us"><font face="Times New Roman">getDao</font></span><span style="font-family:'宋体';">方法来间接引用</span><span lang="en-us"><font face="Times New Roman">Dao</font></span><span style="font-family:'宋体';">的方法</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">如果使用</span><span lang="en-us"><font face="Times New Roman">setter</font></span><span style="font-family:'宋体';">注入，则需要提供</span><span lang="en-us"><font face="Times New Roman">defaultDao</font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">set</font></span><span style="font-family:'宋体';">和</span><span lang="en-us"><font face="Times New Roman">get</font></span><span style="font-family:'宋体';">方法</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param dao</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public DBSupportServiceImpl(IBaseDao dao)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              logger.info("Dao</font></span><span style="font-family:'宋体';">构造注入</span><span lang="en-us"><font face="Times New Roman">!!!");</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao = dao;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void delete(AbstractEntity entity, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.delete(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteById(String entityClassName, String keyFieldName, Object keyFieldValue, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.deleteById(entityClassName, keyFieldName, keyFieldValue);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteByIds(String entityClassName, String fieldName, Object[] pkIds, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.deleteByIds(entityClassName, fieldName, pkIds);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findAll(String entityClassName, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findAll(entityClassName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByDetachedCriteria(DetachedCriteria criteria, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findByDetachedCriteria(criteria);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByHqlQuery(String hql, HttpServletRequest request) throws Exception </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findByHqlQuery(hql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public AbstractEntity findById(String entityClassName, String keyFieldName, Object keyFieldValue, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              AbstractEntity entity = this.defaultDao.findById(entityClassName, keyFieldName, keyFieldValue);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return entity;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findLabelValueBean(String sql, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findLabelValueBean(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findListByFieldValue(String entityClassName, String fieldName, Object fieldValue, boolean isSortAsc, String sortFieldName, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findListByFieldValue(entityClassName, fieldName, fieldValue, isSortAsc, sortFieldName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findPage(String entityClassName, String hqlWhere, int currentPage, int linePerPage, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findPage(entityClassName, hqlWhere, currentPage, linePerPage);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findSimilarEntities(AbstractEntity conditionEntity, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = this.defaultDao.findSimilarEntities(conditionEntity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public Object findSingleValueByHql(String hql, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Object obj = this.defaultDao.findSingleValueByHql(hql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return obj;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public Object findSingleValueBySql(String sql, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Object obj = this.defaultDao.findSingleValueBySql(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return obj;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void insert(AbstractEntity entity, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.insert(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void saveOrUpdate(AbstractEntity entity, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.saveOrUpdate(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void update(AbstractEntity entity, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.update(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateHql(String hql, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.updateHql(hql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateSql(String sql, HttpServletRequest request) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              this.defaultDao.updateSql(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">}</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">五、</span><span lang="en-us"><font face="Times New Roman">BaseHibernateDao.java</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">package org.apache.easframework.core.dao;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.sql.Connection;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.sql.PreparedStatement;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.sql.ResultSet;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.sql.SQLException;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.util.ArrayList;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.util.List;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.entity.AbstractEntity;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.log4j.Logger;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.hibernate.Query;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.hibernate.Session;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.hibernate.criterion.DetachedCriteria;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.springframework.orm.hibernate3.support.HibernateDaoSupport;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">public abstract class BaseHibernateDao extends HibernateDaoSupport implements IBaseDao {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       private static final Logger logger = Logger</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     .getLogger(BaseHibernateDao.class);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void insert(AbstractEntity entity) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              getHibernateTemplate().save(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void delete(AbstractEntity entity) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              getHibernateTemplate().delete(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public AbstractEntity findById(String entityClassName, String keyFieldName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     Object keyFieldValue) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              AbstractEntity entity = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String sql = "";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (keyFieldValue instanceof java.lang.String) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     // String</font></span><span style="font-family:'宋体';">型测试通过</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     sql = "from " + entityClassName + " as vo where vo." + keyFieldName</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + " = '" + keyFieldValue + "'";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } else {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     // </font></span><span style="font-family:'宋体';">数值型的未测试</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     sql = "from " + entityClassName + " as vo where vo." + keyFieldName</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + " =  " + String.valueOf(keyFieldValue) + " ";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().find(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (list.size() &gt; 0)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     entity = ((AbstractEntity) list.get(0));</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return entity;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findListByFieldValue(String entityClassName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     String keyFieldName, Object keyFieldValue, boolean isSortAsc,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     String sortFieldName) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String sSort = "asc";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (isSortAsc == false)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     sSort = "desc";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              String sql = "";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (keyFieldValue instanceof java.lang.String) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     // String</font></span><span style="font-family:'宋体';">型测试通过</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     sql = "from " + entityClassName + " as vo where vo." + keyFieldName</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + " = '" + keyFieldValue + "' order by " + sortFieldName</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + " " + sSort;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } else {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     // </font></span><span style="font-family:'宋体';">数值型的未测试</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     sql = "from " + entityClassName + " as vo where vo." + keyFieldName</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + " =  " + String.valueOf(keyFieldValue) + " order by "</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + sortFieldName + " " + sSort;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().find(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteById(String entityClassName, String keyFieldName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     Object keyFieldValue) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              AbstractEntity entity = findById(entityClassName, keyFieldName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            keyFieldValue);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (entity != null) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     delete(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteByIds(String entityClassName, String fieldName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     Object[] pkIds) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (pkIds != null &amp;&amp; pkIds.length &gt; 0) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     for (int i = 0; i &lt; pkIds.length; i++) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            deleteById(entityClassName, fieldName, pkIds[i]);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void update(AbstractEntity entity) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              getHibernateTemplate().update(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void saveOrUpdate(AbstractEntity entity) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              getHibernateTemplate().saveOrUpdate(entity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       // entityClassName</font></span><span style="font-family:'宋体';">需要类的全路径名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findAll(String entityClassName) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().loadAll(</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            Class.forName(entityClassName));</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByHqlQuery(String hql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().find(hql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByDetachedCriteria(DetachedCriteria criteria)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().findByCriteria(criteria);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findSimilarEntities(AbstractEntity conditionEntity)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = getHibernateTemplate().findByExample(conditionEntity);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">      public Object findSingleValueByHql(String hql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Object obj = findByHqlQuery(hql).get(0);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return obj;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateHql(String hql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Session session = super.getSession();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              session.createQuery(hql).executeUpdate();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              session.flush();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              super.releaseSession(session);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public Object findSingleValueBySql(String sql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Connection con = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Object obj = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Session session = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              session = super.getSession();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              con = session.connection();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              PreparedStatement stmt = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              stmt = con.prepareStatement(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              try {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     ResultSet rst = stmt.executeQuery();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     while (rst.next()) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            obj = rst.getObject(1);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            break;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     rst.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     stmt.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } catch (SQLException ex) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     ex.printStackTrace();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     logger.error("</font></span><span style="font-family:'宋体';">出现异常</span><span lang="en-us"><font face="Times New Roman">:" + ex.getMessage());</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     throw ex;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } finally {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     con.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     super.releaseSession(session);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if(obj==null)</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     obj = new String("");//</font></span><span style="font-family:'宋体';">进行一下处理以免外部调用还要执行异常处理</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              else</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                      </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return obj;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateSql(String sql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Connection con = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Session session = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              session = super.getSession();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              con = session.connection();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              PreparedStatement stmt = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              stmt = con.prepareStatement(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              try {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     stmt.executeUpdate();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     stmt.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } catch (SQLException ex) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     ex.printStackTrace();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     logger.error("</font></span><span style="font-family:'宋体';">出现异常</span><span lang="en-us"><font face="Times New Roman">:" + ex.getMessage());</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     throw ex;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } finally {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     con.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     super.releaseSession(session);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findLabelValueBean(String sql) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = new ArrayList();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Connection con = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              PreparedStatement pstmt = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              ResultSet rst = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Session session = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              session = super.getSession();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              con = session.connection();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              try {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     pstmt = con.prepareStatement(sql);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     rst = pstmt.executeQuery();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     String sName = "";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     String sCode = "";</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     while (rst.next()) {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            sName = rst.getString(2);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            sCode = rst.getString(1);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            //System.out.println(sCode + sName);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                            list</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                          .add(new org.apache.struts.util.LabelValueBean(sName,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                                        sCode));</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     rst.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     pstmt.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } finally {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     con.close();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     super.releaseSession(session);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findPage(String entityClassName, String hqlWhere,</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     int currentPage, int linePerPage) throws Exception {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              List list = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              Session session = null;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (!(currentPage &gt;= 0))</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     currentPage = 1;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              if (!(linePerPage &gt;= 0))</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     linePerPage = 10;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              try {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     session = super.getSession();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     Query query = session.createQuery("from  " + entityClassName + "   "</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                                   + hqlWhere);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                       query.setFirstResult((currentPage - 1) * linePerPage);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                       query.setMaxResults(linePerPage);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                       list = query.list();</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                             </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              } finally {<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">                     super.releaseSession(session);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">              return list;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">}</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span style="font-family:'宋体';">六、</span><span lang="en-us"><font face="Times New Roman">IDBSupportService.java:</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">package org.apache.easframework.core.service;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import java.util.List;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import javax.servlet.http.HttpServletRequest;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.entity.AbstractEntity;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.apache.easframework.core.pageloader.IPageLoader;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">import org.hibernate.criterion.DetachedCriteria;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">/**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * </font></span><span style="font-family:'宋体';">数据库操作相关的接口，声明了增删改查等接口方法</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * </font></span><span style="font-family:'宋体';">业务逻辑接口方法中声明了</span><span lang="en-us"><font face="Times New Roman">request</font></span><span style="font-family:'宋体';">参数，</span><span lang="en-us"><font face="Times New Roman">(</font></span><span style="font-family:'宋体';">在</span><span lang="en-us"><font face="Times New Roman">Spring</font></span><span style="font-family:'宋体';">配置文件中使用单例模式配置</span><span lang="en-us"><font face="Times New Roman">service bean</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * </font></span><span style="font-family:'宋体';">接口方法中的</span><span lang="en-us"><font face="Times New Roman">request</font></span><span style="font-family:'宋体';">参数主要用于在拦截器中拦截</span><span lang="en-us"><font face="Times New Roman">request</font></span><span style="font-family:'宋体';">中的参数值并存入日志，这样不需要在</span><span lang="en-us"><font face="Times New Roman">JSP</font></span><span style="font-family:'宋体';">页面中编写日志写入的代码</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * </font></span><span style="font-family:'宋体';">每个业务接口的方法都要抛出异常，以便在</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">层或控制层根据异常截获来控制事务是否回滚。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * </font></span><span style="font-family:'宋体';">此接口是数据库操作的基本</span><span lang="en-us"><font face="Times New Roman">Service</font></span><span style="font-family:'宋体';">接口</span><span lang="en-us"><font face="Times New Roman">,</font></span><span style="font-family:'宋体';">其他业务逻辑类可以在自己的方法中调用此接口中的方法</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> * @author bzwang</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> *</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">public interface IDBSupportService extends IService</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">{<!-- --></font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">插入实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entity </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void insert(AbstractEntity entity,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">删除实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entity</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void delete(AbstractEntity entity,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">根据某列的值查询实体，只返回单一实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">实体类的名字，可以不带</span><span lang="en-us"><font face="Times New Roman">package</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param keyFieldName   </font></span><span style="font-family:'宋体';">类字段名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param keyFieldValue  </font></span><span style="font-family:'宋体';">类字段值</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return AbstractEntity</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */ </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public AbstractEntity findById(String entityClassName,String keyFieldName,Object keyFieldValue,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">根据某列的值查询实体列表</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">实体类名，可以不带包路径</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param fieldName  </font></span><span style="font-family:'宋体';">类字段名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param fieldValue </font></span><span style="font-family:'宋体';">类字段值</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param isSortAsc </font></span><span style="font-family:'宋体';">是否升序排列</span><span lang="en-us"><font face="Times New Roman">,</font></span><span style="font-family:'宋体';">升序</span><span lang="en-us"><font face="Times New Roman">true,</font></span><span style="font-family:'宋体';">降序</span><span lang="en-us"><font face="Times New Roman">false</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param sortFieldName  </font></span><span style="font-family:'宋体';">排序的类字段名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return </font></span><span style="font-family:'宋体';">返回实体的</span><span lang="en-us"><font face="Times New Roman">List</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findListByFieldValue(String entityClassName,String fieldName,Object fieldValue,boolean isSortAsc,String sortFieldName,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">根据某列的值删除实体（此列应为唯一值列）</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">实体类名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param keyFieldName </font></span><span style="font-family:'宋体';">类字段名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param keyFieldValue </font></span><span style="font-family:'宋体';">类字段值</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteById(String entityClassName, String keyFieldName, Object keyFieldValue,HttpServletRequest request) throws Exception ;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">删除某列的值在</span><span lang="en-us"><font face="Times New Roman">ID</font></span><span style="font-family:'宋体';">数组中的实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">实体类名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param fieldName </font></span><span style="font-family:'宋体';">类字段名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param pkIds  ID</font></span><span style="font-family:'宋体';">数组，可以整型数组或字符串数组</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void deleteByIds(String entityClassName,String fieldName,Object[] pkIds,HttpServletRequest request) throws Exception; //</font></span><span style="font-family:'宋体';">删除一组实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">保存修改后的实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entity </font></span><span style="font-family:'宋体';">实体对象</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void update(AbstractEntity entity,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">保存修改或新增的实体，具有新增和修改两种作用</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entity </font></span><span style="font-family:'宋体';">新增或修改的实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void saveOrUpdate(AbstractEntity entity,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">给定实体类名查询所有实体</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">实体类名</span><span lang="en-us"><font face="Times New Roman">,</font></span><span style="font-family:'宋体';">此参数需要类的全路径名</span><span lang="en-us"><font face="Times New Roman">(</font></span><span style="font-family:'宋体';">实现方法中使用了</span><span lang="en-us"><font face="Times New Roman">Class.forName())</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return List</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */ </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findAll(String entityClassName ,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">给定一个</span><span lang="en-us"><font face="Times New Roman">hql</font></span><span style="font-family:'宋体';">语句来查询某列值，如</span><span lang="en-us"><font face="Times New Roman">select max(),select count(*),select (colunmname)...</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param hql Hiberate</font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">hql</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return Object</font></span><span style="font-family:'宋体';">返回一个单一对象，可能为字符串类，也可能返回各种数字类，所以取得返回值后，要对返回的</span><span lang="en-us"><font face="Times New Roman">Object</font></span><span style="font-family:'宋体';">进行类型转换。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByHqlQuery(String hql ,HttpServletRequest request)  throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">设定</span><span lang="en-us"><font face="Times New Roman">criteria</font></span><span style="font-family:'宋体';">查询条件进行查询</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param criteria </font></span><span style="font-family:'宋体';">查询条件类</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findByDetachedCriteria(DetachedCriteria criteria ,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">根据查询条件类中的字段值作为查询条件进行查询，查询条件类的字段在查询时是进行相等性匹配的，不支持</span><span lang="en-us"><font face="Times New Roman">like</font></span><span style="font-family:'宋体';">模糊查询。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param conditionEntity </font></span><span style="font-family:'宋体';">条件类，此类中各列的值作为查询条件。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findSimilarEntities(AbstractEntity conditionEntity ,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param hql</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public Object findSingleValueByHql(String hql,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">    /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     * </font></span><span style="font-family:'宋体';">给定一个</span><span lang="en-us"><font face="Times New Roman">sql</font></span><span style="font-family:'宋体';">语句来查询某列值，如</span><span lang="en-us"><font face="Times New Roman">select max(),select count(*),select (colunmname)...</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     * @param sql  sql</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     * @return Object</font></span><span style="font-family:'宋体';">返回一个单一对象，可能为字符串类，也可能返回各种数字类，所以取得返回值后，要对返回的</span><span lang="en-us"><font face="Times New Roman">Object</font></span><span style="font-family:'宋体';">进行类型转换。</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">     */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public Object findSingleValueBySql(String sql,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">执行</span><span lang="en-us"><font face="Times New Roman">delete</font></span><span style="font-family:'宋体';">或</span><span lang="en-us"><font face="Times New Roman">update</font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">Hibernate HQL</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param hql hql</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateHql(String hql,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">执行</span><span lang="en-us"><font face="Times New Roman">delete</font></span><span style="font-family:'宋体';">或</span><span lang="en-us"><font face="Times New Roman">update </font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">SQL</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param sql SQL</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public void updateSql(String sql,HttpServletRequest request) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">返回一个</span><span lang="en-us"><font face="Times New Roman">org.apache.struts.util.LabelValueBean</font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">List</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param sql </font></span><span style="font-family:'宋体';">此</span><span lang="en-us"><font face="Times New Roman">sql</font></span><span style="font-family:'宋体';">的格式为</span><span lang="en-us"><font face="Times New Roman">select code,name from ... where...,</font></span><span style="font-family:'宋体';">返回由代码名称两字段构成的</span><span lang="en-us"><font face="Times New Roman">org.apache.struts.util.LabelValueBean</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return List org.apache.struts.util.LabelValueBean</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findLabelValueBean(String sql,HttpServletRequest request ) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       </font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       /**</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * </font></span><span style="font-family:'宋体';">给定</span><span lang="en-us"><font face="Times New Roman">Hibernate where</font></span><span style="font-family:'宋体';">条件进行分页查询，</span><span lang="en-us"><font face="Times New Roman">e.g  List list = ServiceLocator.getDBSupportService().findPage("CmsApp"," order by appSenname asc",1,2,null);</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param entityClassName </font></span><span style="font-family:'宋体';">要查询的实体类名</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param hqlWhere Hibernate</font></span><span style="font-family:'宋体';">的</span><span lang="en-us"><font face="Times New Roman">HQL Where</font></span><span style="font-family:'宋体';">语句</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param currentPage </font></span><span style="font-family:'宋体';">当前页面</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param linePerPage </font></span><span style="font-family:'宋体';">每页行数</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @param request</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @return List </font></span><span style="font-family:'宋体';">实体类的列表</span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        * @throws Exception</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">        */</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       public List findPage(String entityClassName,String hqlWhere,int currentPage,int linePerPage,HttpServletRequest request ) throws Exception;</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman">       }</font></span></p> 
 <p class="MsoNormal"><span lang="en-us"></span></p> 
 <p><font face="Times New Roman"> </font></p> 
 <p class="MsoNormal"><span lang="en-us"><font face="Times New Roman"> </font></span></p> 
 <p><img alt="" src="https://images2.imgbox.com/06/e0/OAdxNdaS_o.gif"> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/ajuanabc/archive/2008/01/28/2463075.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/780181e41193137fd1a83b958c18f234/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">消息中间件原理及JMS简介</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b9fd60269ea052428cd6567aca3caf2f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Memcache是什么</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>