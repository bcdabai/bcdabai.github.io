<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【SQL】—多表查询的几种连接方式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【SQL】—多表查询的几种连接方式" />
<meta property="og:description" content="前言 最近在项目中用到连接查询，连接查询是关系数据中最主要的查询，包括内连接、外连接等。通过连接运算符可以实现多个表查询。下面来复习一下。
正文 连接查询主要分为三种：内连接、外连接、交叉连接。
内连接 使用比较运算符（包括=、&gt;、&lt;、&lt;&gt;、&gt;=、&lt;=、!&gt; 和!&lt;）进行表间的比较操作，查询与连接条件相匹配的数据。根据所使用的比较方式不同，内连接分为等值连接、自然连接和自连接三种。 关键字 INNER JOIN
等值连接/相等连接 使用”=”关系将表连接起来的查询，其查询结果中列出被连接表中的所有列，包括其中的重复列
SELECT PM_ACT_JOB_RLS.*, PM_ACT_RLS.* FROM PM_ACT_JOB_RLS INNER JOIN PM_ACT_RLS ON PM_ACT_JOB_RLS.RlsPK = PM_ACT_RLS.RlsPK 自然连接 等值连接中去掉重复的列，形成的连接 SELECT PM_ACT_JOB_RLS.JobPK, PM_ACT_RLS.RlsPK, RlsName FROM PM_ACT_JOB_RLS INNER JOIN PM_ACT_RLS ON PM_ACT_JOB_RLS.RlsPK = PM_ACT_RLS.RlsPK 自连接 如果在一个连接查询中，设计到的两个表都是同一个表，这种查询称为自连接查询。 --c1、c2逻辑上是两张表，物理上是一张表 SELECT c1.CategoryID, c1.CategoryName FROM [dbo].[Category] c1 INNER JOIN [dbo].[Category] c2 ON c1.[CategoryID] = c2.[ParentID] 内连接 内连接只返回满足连接条件的数据行，外连接不只列出与连接条件相匹配的行，而是列出左表（左外连接时）、右表（右外连接时）或两个表（全外连接时）中所有符合搜索条件的数据行。外连接分为左外连接、右外链接、全外连接三种。
左外连接 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 返回左表中的所有行，如果左表中行在右表中没有匹配行，则在相关联的结果集中右表的所选择字段均为NULL。 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;关键字 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;LEFT [OUTER] JOIN&lt;/strong&gt; ![这里写图片描述](https://img-blog.csdn.net/20180116200008438?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenQxNTczMjYyNTg3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) --左外连接 --1679条数据 SELECT me." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/94da7f0c40b8cf9e2f9e412cefd799f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-16T23:27:37+08:00" />
<meta property="article:modified_time" content="2018-01-16T23:27:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【SQL】—多表查询的几种连接方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2 id="前言">前言</h2> 
<p>    最近在项目中用到连接查询，连接查询是关系数据中最主要的查询，包括内连接、外连接等。通过连接运算符可以实现多个表查询。下面来复习一下。</p> 
<h2 id="正文">正文</h2> 
<p>    连接查询主要分为三种：内连接、外连接、交叉连接。</p> 
<ul><li><h3 id="内连接">内连接</h3> <p>    使用比较运算符（包括=、&gt;、&lt;、&lt;&gt;、&gt;=、&lt;=、!&gt; 和!&lt;）进行表间的比较操作，查询与连接条件相匹配的数据。根据所使用的比较方式不同，内连接分为等值连接、自然连接和自连接三种。 <br>     关键字      <strong>INNER JOIN</strong></p> <p><img src="https://images2.imgbox.com/c3/97/Q8oojYjv_o.png" alt="这里写图片描述" title=""></p> 
  <table><tbody><tr><td bgcolor="green"> <font size="3" color="white">等值连接/相等连接 </font></td></tr></tbody></table> <p>    使用”=”关系将表连接起来的查询，其查询结果中列出被连接表中的所有列，包括其中的重复列</p></li></ul> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    PM_ACT_JOB_RLS.*, PM_ACT_RLS.*
<span class="hljs-keyword">FROM</span>
    PM_ACT_JOB_RLS
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> PM_ACT_RLS <span class="hljs-keyword">ON</span> PM_ACT_JOB_RLS.RlsPK = PM_ACT_RLS.RlsPK</span></code></pre> 
<p><img src="https://images2.imgbox.com/40/a9/RHJpI4Du_o.png" alt="这里写图片描述" title=""> <br> </p> 
<table><tbody><tr><td bgcolor="green"> <font size="3" color="white">自然连接 </font></td></tr></tbody></table> 
<br>     等值连接中去掉重复的列，形成的连接 
<p></p> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    PM_ACT_JOB_RLS.JobPK,
    PM_ACT_RLS.RlsPK,
    RlsName
<span class="hljs-keyword">FROM</span>
    PM_ACT_JOB_RLS
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> PM_ACT_RLS <span class="hljs-keyword">ON</span> PM_ACT_JOB_RLS.RlsPK = PM_ACT_RLS.RlsPK</span></code></pre> 
<p><img src="https://images2.imgbox.com/1e/0b/OPXQgJXL_o.png" alt="这里写图片描述" title=""></p> 
<p></p> 
<table><tbody><tr><td bgcolor="green"> <font size="3" color="white">自连接 </font></td></tr></tbody></table> 
<br>     如果在一个连接查询中，设计到的两个表都是同一个表，这种查询称为自连接查询。 
<p></p> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-comment">--c1、c2逻辑上是两张表，物理上是一张表</span>
<span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    c1.CategoryID,
    c1.CategoryName
<span class="hljs-keyword">FROM</span>
    [dbo].[Category] c1
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> [dbo].[Category] c2 <span class="hljs-keyword">ON</span> c1.[CategoryID] = c2.[ParentID]</span></code></pre> 
<ul><li><h3 id="内连接-1">内连接</h3> <p>     内连接只返回满足连接条件的数据行，外连接不只列出与连接条件相匹配的行，而是列出左表（左外连接时）、右表（右外连接时）或两个表（全外连接时）中所有符合搜索条件的数据行。外连接分为左外连接、右外链接、全外连接三种。</p></li></ul> 
<table><tbody><tr><td bgcolor="green"> <font size="3" color="white">左外连接 </font></td></tr></tbody></table> 
<pre><code>  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 返回左表中的所有行，如果左表中行在右表中没有匹配行，则在相关联的结果集中右表的所选择字段均为NULL。
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;关键字  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;strong&gt;LEFT [OUTER] JOIN&lt;/strong&gt;

  ![这里写图片描述](https://img-blog.csdn.net/20180116200008438?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenQxNTczMjYyNTg3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
</code></pre> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-comment">--左外连接  --1679条数据</span>
<span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    me.*,
    mo.*
<span class="hljs-keyword">FROM</span>
    MM_LOTS_EXT <span class="hljs-keyword">AS</span> me
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> MM_LOT_OPERATIONS <span class="hljs-keyword">AS</span> mo <span class="hljs-keyword">ON</span> me.LotID = mo.SerialNumber</span></code></pre> 
<p><img src="https://images2.imgbox.com/6c/7d/4ACBuGtF_o.png" alt="这里写图片描述" title=""> <br> </p> 
<table><tbody><tr><td bgcolor="green"> <font size="3" color="white">右外连接 </font></td></tr></tbody></table> 
<br>     返回右表中的所有行，如果右表中行在左表中没有匹配行，则在左表中相关字段返回NULL值。 
<br>     关键字     
<strong>RIGHT [OUTER] JOIN</strong> 
<p></p> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-comment">--右外连接  --209条数据</span>
<span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    me.*,
    mo.*
<span class="hljs-keyword">FROM</span>
    MM_LOTS_EXT <span class="hljs-keyword">AS</span> me
<span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> MM_LOT_OPERATIONS <span class="hljs-keyword">AS</span> mo <span class="hljs-keyword">ON</span> me.LotID = mo.SerialNumber</span></code></pre> 
<p><img src="https://images2.imgbox.com/72/89/zvt0LF4J_o.png" alt="这里写图片描述" title=""></p> 
<table><tbody><tr><td bgcolor="green"> <font size="3" color="white"> 全外连接/完全外连接 </font></td></tr></tbody></table> 
<p>    返回两个连接中所有的记录数据，是左外连接和右外连接的并集。 <br>     关键字     <strong>FULL [OUTER] JOIN</strong> </p> 
<pre class="prettyprint"><code class=" hljs sql"><span class="hljs-comment">--全外连接  --1816条数据 </span>
<span class="hljs-operator"><span class="hljs-keyword">SELECT</span>
    me.*,
    mo.*
<span class="hljs-keyword">FROM</span>
    MM_LOTS_EXT <span class="hljs-keyword">AS</span> me
<span class="hljs-keyword">FULL</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> MM_LOT_OPERATIONS <span class="hljs-keyword">AS</span> mo <span class="hljs-keyword">ON</span> me.LotID = mo.SerialNumber</span></code></pre> 
<ul><li>交叉连接/笛卡尔积</li></ul> 
<p>    两个表做笛卡尔积，得到的结果集的行数是两个表的行数的乘积。 <br>     关键字     <strong> CROSS JOIN</strong></p> 
<pre class="prettyprint"><code class=" hljs vbnet">--笛卡尔积 (cross <span class="hljs-keyword">join</span>后加条件只能用<span class="hljs-keyword">where</span>,不能用<span class="hljs-keyword">on</span>)  --<span class="hljs-number">45</span>条数据（<span class="hljs-number">9</span>*<span class="hljs-number">5</span>）
<span class="hljs-keyword">SELECT</span>
    *
<span class="hljs-keyword">FROM</span>
    PM_ACT_JOB_RLS
CROSS <span class="hljs-keyword">JOIN</span> PM_ACT_RLS</code></pre> 
<p>     注意：带有where条件的子句，往往会先生成两个表行数乘积的数据表，然后从根据where条件从中选择。 <br>      当数据量比价大的时候，笛卡尔积操作会很消耗数据库的性能</p> 
<h2 id="总结">总结</h2> 
<p>    连接查询是关系型数据库中的一个重要标志，这次和大家一起复习多表查询的几种操作，希望给您带来帮助！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/043d5824b5736091dab96c0863f08981/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA之String函数的20个方法详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2e27ebecdf9e4011ec325158e1811a10/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[MyBatis]模糊查询LIKE的三种方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>