<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lua之Table - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Lua之Table" />
<meta property="og:description" content="table：
table 是一个“关联数组”，数组的索引可以是数字或者是字符串
table 的默认初始索引一般以 1 开始
table 不会固定长度大小，有新数据插入时长度会自动增长
table 所有元素之间，总是用逗号 “，” 隔开
table.insert
table.insert将一个元素插入到指定位置
t={1,2,3,4} table.insert( t, 1,2 ) for i=1,#t do print(t[i]) end ta={} table.insert( ta, &#34;a&#34; ) table.insert( ta, 2 ) table.insert( ta, &#34;c&#34; ) for k,v in pairs(ta) do print(k,v) end insert的第二个参数是可以省略的，这样就会插入到数组的最后，从而不必移动其他元素
table.sort() 对数组进行排序,如果没有提供排序函数，默认是&lt;操作。这里不仅仅是数，对字符串也有效
t={1,4,3,5} table.sort( t) for i=1,#t do print(t[i]) end ta={&#34;ab&#34;,&#34;zfd&#34;,&#34;fgv&#34;,&#34;bcc&#34;} table.sort( ta) for k,v in ipairs(ta) do print(k,v) end 报错例子
table.sort是排序函数，它要求要排序的目标table的必须是从1到n连续的，即中间不能有nil
ta={&#34;ab&#34;,&#34;zfd&#34;,2,&#34;fgv&#34;,&#34;bcc&#34;} table." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/59c6cdf117b11dac1f88602e7feea4fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-25T18:29:38+08:00" />
<meta property="article:modified_time" content="2018-10-25T18:29:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Lua之Table</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>table：</strong></p> 
<p>table 是一个“关联数组”，数组的索引可以是数字或者是字符串</p> 
<p>table 的默认初始索引一般以 1 开始</p> 
<p>table 不会固定长度大小，有新数据插入时长度会自动增长</p> 
<p>table 所有元素之间，总是用逗号 “，” 隔开</p> 
<p> </p> 
<p><strong>table.insert</strong></p> 
<p>table.insert将一个元素插入到指定位置</p> 
<pre class="has"><code>    t={1,2,3,4}

	table.insert( t, 1,2  )

	for i=1,#t do
		print(t[i])
	end</code></pre> 
<p><img alt="" class="has" height="155" src="https://images2.imgbox.com/59/a8/ZPY2R8IJ_o.png" width="590"></p> 
<pre class="has"><code>    ta={}

	table.insert( ta, "a" )
	table.insert( ta, 2 )
	table.insert( ta, "c" )

	for k,v in pairs(ta) do
		print(k,v)
	end</code></pre> 
<p><img alt="" class="has" height="90" src="https://images2.imgbox.com/6e/fc/JzXjFJaj_o.png" width="734"></p> 
<p><strong>insert的第二个参数是可以省略的，这样就会插入到数组的最后，从而不必移动其他元素</strong></p> 
<p> </p> 
<p><strong>table.sort()</strong> </p> 
<p>对数组进行排序,如果没有提供排序函数，默认是&lt;操作。这里不仅仅是数，对字符串也有效</p> 
<pre class="has"><code>t={1,4,3,5}

	table.sort( t)

	for i=1,#t do
		print(t[i])
	end

	ta={"ab","zfd","fgv","bcc"}
    table.sort( ta)

	for k,v in ipairs(ta) do
		print(k,v)
	end</code></pre> 
<p><img alt="" class="has" height="263" src="https://images2.imgbox.com/b0/cd/bo7dOHSi_o.png" width="553"></p> 
<p>报错例子</p> 
<p>table.sort是排序函数，它要求要排序的目标table的必须是从1到n连续的，即中间不能有nil</p> 
<pre class="has"><code>
	ta={"ab","zfd",2,"fgv","bcc"}

	table.sort( ta )

	for k,v in pairs(ta) do
		print(k,v)
	end
</code></pre> 
<p><img alt="" class="has" height="39" src="https://images2.imgbox.com/c7/1b/6RbpyvVy_o.png" width="484"></p> 
<p> </p> 
<p>table.sort(tableName，function)</p> 
<pre class="has"><code>local t = { 10,2,15,1,4 } 
	local function compare( a, b ) 
	return a &gt; b 
	end 
	
	table.sort( t, compare ) 
	print( table.concat( t, ", " ) ) </code></pre> 
<p><img alt="" class="has" height="38" src="https://images2.imgbox.com/4f/83/TPatgcED_o.png" width="724"></p> 
<p>多个条件的比较</p> 
<p>1.等级比较</p> 
<p>2.id比较</p> 
<p>3.指数比较</p> 
<pre class="has"><code>
function(a, b)
    if a.level ~= b.level then
        return a.level &gt; b.level
    end
    if a.id~=b.id then
        return a.id&gt;b.id
    end
    return a.exp &gt; b.exp
end</code></pre> 
<h4><strong>table.concat()</strong> </h4> 
<p>concat()函数列出参数中指定table的数组部分从start位置到end位置的所有元素, 元素间以指定的分隔符(sep)隔开。除了table外, 其他的参数都不是必须的, 分隔符的默认值是空字符, start的默认值是1, end的默认值是数组部分的总长</p> 
<pre class="has"><code>spring = {"床前", "明月", "地上霜"}
	print(table.concat(spring, ","))
	print(table.concat(spring, ",",1,2))
	print(table.concat(spring, "\n",1,3))
	num = {3 ,4, 5}
	print(table.concat (num ,"&lt;"))</code></pre> 
<p>--床前,明月,地上霜</p> 
<p>--床前,明月</p> 
<p>--床前<br> --明月<br> --地上霜</p> 
<p><strong>table.maxn()</strong> <br> 含义：table.maxn()函数返回指定table中所有<span style="color:#f33b45;">正数key值中最大的key值</span>。 如果不存在key值为正数的元素, 则返回0。 此函数不限于table的数组部分。 </p> 
<p><strong>table.pack()</strong></p> 
<p>table.pack函数是获取一个索引从 1 开始的参数表 table，并会对这个 table 预定义一个字段 n，表示该表的长度</p> 
<pre class="has"><code>t = table.pack("test", "param1", "param2", "param3")
print(t)</code></pre> 
<p>结果：</p> 
<p>1 : test <br> 2 : param1 <br> 3 : param2 <br> 4 : param3 <br> n : 4</p> 
<p><strong>table.unpack(table, start, end)</strong></p> 
<p>用于返回 table 里的元素，参数 start 是开始返回的元素位置，默认是 1，参数 end 是返回最后一个元素的位置，默认是 table 最后一个元素的位置，参数 start、end 都是可选</p> 
<pre class="has"><code>t = {"Lua", "Ｃ#", "Python", "Java"}
print(,t)
print(table.unpack(t))
a, b, c, d = table.unpack(t)
print(b)
print(a, b, c, d)
print(table.unpack(t, 2))
print(table.unpack(t, 2, 3))


--1 : Lua 
--2 : Ｃ#
--3 : Python 
--4 : Java 

--Lua Ｃ# python Java 
--Ｃ# 
--Lua Ｃ# Python Java 
--Ｃ# Python Java 
--Ｃ# Python</code></pre> 
<p><strong>table.remove(table, pos)</strong></p> 
<p>删除并返回table数组部分位于pos位置的元素. 其后的元素会被前移. pos参数可选, 默认为table长度, 即从最后一个元素删起，并且参数 pos 的类型只能是数字 number 类型</p> 
<pre class="has"><code>local tbl = {"A", "B", "C", "D"}
	table.remove(tbl, 3)
	print(table.concat(tbl, "、"))
	 
	table.remove(tbl)
	print(table.concat(tbl, "、"))</code></pre> 
<p><img alt="" class="has" height="63" src="https://images2.imgbox.com/67/5a/xFQCqWy6_o.png" width="459"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2dbdcffb4767eb612723b72b5f1067d4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">feign.codec.EncodeException: class ArrayList/HashMap is not a type supported by this encoder</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c1bdef4ea0efa51c8efebffe84a5fc8c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ffmpeg 判断关键帧</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>