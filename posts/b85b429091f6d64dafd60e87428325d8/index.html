<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NSRange类详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="NSRange类详解" />
<meta property="og:description" content="NSRange的定义
typedef struct _NSRange
{
NSUInteger location;
NSUInteger length;
} NSRange;
NSRange是一个结构体，其中location是一个以0为开始的index，length是表示对象的长度。他们都是NSUInteger类型。 而NSUInteger类型的定义如下：
#if __LP64__ || TARGET_OS_EMBEDDED || TARGET_OS_IPHONE || TARGET_OS_WIN32 || NS_BUILD_32_LIKE_64
typedef unsigned long NSUInteger;
#else
typedef unsigned int NSUInteger;
#endif
例子：
下面这个例子，将输出IPA
NSString *homebrew = @&#34;Imperial India Pale Ale (IPA)&#34;;
// Starting at position 25, get 3 characters
NSRange range = NSMakeRange (25, 3);
// This would also work:
// NSRange range = {25, 3};
NSLog (@&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b85b429091f6d64dafd60e87428325d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-08-05T09:37:00+08:00" />
<meta property="article:modified_time" content="2012-08-05T09:37:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">NSRange类详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="artical-content-bak main-content editor-side-new"> 
 <div class="con editor-preview-side" id="result"> 
  <p class="p1"><span style="font-size:14px;">NSRan<span class="s1">g</span>e<span class="s2">的定义</span></span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;"><span class="s3">t</span>ypedef struct _NSRange</span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;">{<!-- --></span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;">NSUInteger location;</span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;">NSUInteger length;</span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;">} NSRange;</span></p> 
  <p class="p3"><span style="font-size:14px;"><br></span></p> 
  <p class="p2"><span style="font-size:14px;">NSRange<span class="s2">是一个结构体，其</span><span class="s4">中</span>location<span class="s2">是一个以</span>0<span class="s2">为开始的</span>index<span class="s2">，</span>length<span class="s2">是表示对象的长度。他们都是</span>NSUInteger<span class="s2">类型。</span> <span class="s2">而</span>NSUInt<span class="s5">eger</span><span class="s6">类型的定义如下：</span></span></p> 
  <p class="p4"><span style="font-size:14px;color:#33cc00;">#if __LP64__ || TARGET_OS_EMBEDDED || TARGET_OS_IPHONE || TARGET_OS_WIN32 || NS_BUIL<span class="s3">D_32_LI</span><span class="s1">K</span><span class="s3">E_64</span></span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;"><span class="s3">typ</span>e<span class="s3">def </span>unsigned long<span class="s5"> NSUIn</span><span class="s3">teger;</span></span></p> 
  <p class="p1"><span style="font-size:14px;color:#33cc00;"><span class="s1">#</span>else</span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;"><span class="s3">typ</span>e<span class="s3">def</span> unsigned int<span class="s5"> NSUInt</span>eger;</span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;">#endif</span></p> 
  <p class="p5"><span style="font-size:14px;">例子：</span></p> 
  <p class="p5"><span style="font-size:14px;">下面这个例子，将输出<span class="s7">IPA</span></span></p> 
  <p class="p6"><span style="font-size:14px;"><span class="s1">NSString</span> *homebrew = @"Imperial India Pa<span class="s1">le</span><span class="s8"> Ale (IPA)";</span></span></p> 
  <p class="p7"><span style="font-size:14px;color:#009900;">// Starting at position 25, get<span class="s1"> </span><span class="s9">3 chara</span><span class="s1">cters</span></span></p> 
  <p class="p7"><span style="font-size:14px;"><span class="s1">NSR</span><span class="s9">ange range </span><span class="s1">= </span><span class="s10">NS</span><span class="s1">Ma</span><span class="s10">k</span><span class="s1">eRa</span>nge (25, 3);</span></p> 
  <p class="p7"><span style="font-size:14px;color:#009900;">// This wou<span class="s1">l</span>d also work:</span></p> 
  <p class="p7"><span style="font-size:14px;color:#009900;">// NSRange ran<span class="s1">ge = {25</span><span class="s11">, 3};</span></span></p> 
  <p class="p2"><span style="font-size:14px;"><span class="s11">NSLog (@"Beer s</span>hortname: %@", [homebrew substringWithRange:range]);</span></p> 
  <p class="p5"><span style="font-size:14px;">搜索字符串：</span></p> 
  <p class="p6"><span style="font-size:14px;"><span class="s1">NSString</span> *homebrew = @"Imperial India Pa<span class="s1">le</span><span class="s9"> Ale (I</span><span class="s1">PA)";</span></span></p> 
  <p class="p2"><span style="font-size:14px;">NSRange range = [homebrew r<span class="s11">angeOf</span>Stri<span class="s8">ng:@"IPA"];</span></span></p> 
  <p class="p8"><span style="font-size:14px;"><br></span></p> 
  <p class="p7"><span style="font-size:14px;color:#33cc00;">// Did we find the s<span class="s1">t</span><span class="s3">ri</span><span class="s1">ng "IPA" ?</span></span></p> 
  <p class="p2"><span style="font-size:14px;">if (ra<span class="s10">n</span>ge.lengt<span class="s11">h &gt; 0)</span></span></p> 
  <p class="p2"><span style="font-size:14px;"><span class="s11">NSLog(@"</span>Range is: %@", NSStringFromRange(range));</span></p> 
  <p class="p3"><span style="font-size:14px;"><br></span></p> 
  <p class="p2"><span style="font-size:14px;color:#cc33cc;"><span class="s2">上面的程序将</span><span class="s4">输出</span>Ra<span class="s10">n</span>ge is: {25, 3}<span class="s2">。</span>NSStringFromRange()<span class="s2">方法，将一个</span>NSRange<span class="s2">返回一个</span>NSString<span class="s2">。而另外一个函数</span>NSRangeFromString()<span class="s2">则是将</span>NSString<span class="s2">转换为</span>NSRange</span></p> 
  <p class="p5"><span style="font-size:14px;">下面这个例子将从后向前反向搜索字符串：</span></p> 
  <p class="p6"><span style="font-size:14px;"><span class="s1">NSString</span> *homebrew = @"Imperial India Pa<span class="s1">le</span><span class="s8"> Ale (IPA)";</span></span></p> 
  <p class="p7"><span style="font-size:14px;color:#009900;">// Search for the "ia" starting at the <span class="s1">e</span><span class="s9">nd of s</span><span class="s1">tring</span></span></p> 
  <p class="p2"><span style="font-size:14px;">NSRange range = [homebrew r<span class="s11">angeO</span>fString:@"ia" options:NSBackw<span class="s8">ardsSearch];</span></span></p> 
  <p class="p2"><span style="font-size:14px;color:#33cc00;"><span class="s8">// Wha</span>t<span class="s3"> d</span>id we find</span></p> 
  <p class="p2"><span style="font-size:14px;">if (ra<span class="s10">n</span>ge.lengt<span class="s11">h &gt; 0)</span></span></p> 
  <p class="p2"><span style="font-size:14px;"><span class="s11">NSLog(@"</span>Range is: %@", NSStringFromRange(range));</span></p> 
  <p class="p2"><span class="s1" style="color:rgb(204,51,204);font-size:14px;"><span class="s2" style="color:rgb(204,51,204);font-size:14px;">上面的程序将输</span><span class="s4" style="color:rgb(204,51,204);font-size:14px;">出：</span><span style="color:rgb(204,51,204);font-size:14px;">Ra</span><span class="s10" style="color:rgb(204,51,204);font-size:14px;">n</span><span style="color:rgb(204,51,204);font-size:14px;">ge is: {12, 2}   </span>（</span><span style="color:rgb(204,51,204);font-size:14px;">“ia”</span><span class="s1" style="color:rgb(204,51,204);font-size:14px;">出现在单词</span><span style="color:rgb(204,51,204);font-size:14px;">“India”</span><span class="s1" style="color:rgb(204,51,204);font-size:14px;">中）</span></p> 
  <p class="p2"><span style="font-size:14px;">ac</span></p> 
  <p class="p5"><span style="font-size:14px;">如果你要获取一个字符串或者一个数组中的一个子集，那么使用<span class="s7">NSRange</span>会很方便的定义这个子集。</span></p> 
  <p class="p2"><span style="font-size:14px;">NSRange<span class="s2">定义</span></span></p> 
  <p class="p2"><span style="font-size:14px;"><span class="s3">Declara</span>t<span class="s3">ion: t</span>ypedef struct _NSRange {<!-- --></span></p> 
  <p class="p2"><span style="font-size:14px;">NSUInteger location;</span></p> 
  <p class="p2"><span style="font-size:14px;">NSUInteger length;</span></p> 
  <p class="p2"><span style="font-size:14px;">} NSRange;</span></p> 
  <p class="p2"><span style="font-size:14px;"><span class="s2">创建</span>NSRange<span class="s2">的方法定义</span></span></p> 
  <p class="p2"><span style="font-size:14px;">Declaration: NSRange NSMakeRange (</span></p> 
  <p class="p2"><span style="font-size:14px;">                                  NSUInteger loc,</span></p> 
  <p class="p2"><span style="font-size:14px;">                                  NSUInteger len</span></p> 
  <p class="p2"><span style="font-size:14px;">                                  );</span></p> 
  <p class="p5"><span style="font-size:14px;">例如获取一个数组的一个子集：</span></p> 
  <p class="p2"><span style="font-size:14px;">NSRange range =<span class="s10"> </span> NS<span class="s10">M</span>akeR<span class="s9">ange(0,</span> 5); </span></p> 
  <p class="p2"><span style="font-size:14px;">NSArray <span class="s3">*sub</span>Array = [self.states subarrayWithRange:range]<span class="s10">;</span></span></p> 
  <p class="p5"><span style="font-size:14px;">这样<span class="s10">就</span>获得了这个数组中<span class="s7">0</span>开始的<span class="s7">5</span>个元素的子集。</span></p> 
  <p class="p5"><span style="font-size:14px;"><br></span></p> 
  <p class="p5"><span style="font-size:14px;">转载http://3426724.blog.51cto.com/3416724/634188</span></p> 
  <p class="p5"><span style="font-size:14px;"><br></span></p> 
 </div> 
</div> 
<p>转载于:https://blog.51cto.com/duxinfeng/1208722</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73429c3157f1aa9b41081009c5e2025e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机网络中常用的速率换算关系(B/s  vs b/s)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3c4f1e794f17902b800da6128caafd1a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">POJ 试题分类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>