<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>谁说app的视频抓取不了的？用Python爬取整个app视频 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="谁说app的视频抓取不了的？用Python爬取整个app视频" />
<meta property="og:description" content="前言 随着手app的发展逐渐强大，我们手机应用每天的生活也是非常的多。那我们怎么知道他的数据是怎么形成的，通过电脑端如何爬取。相信大家也有这样的问题。下面我将讲解这些操作流程。
一、操作流程 首先我们要有
fidder4夜神模拟器pycharmpython3.0或以上版本 二、fidder4抓包 1.fidder配置 首先我们先下载fidder，
打开Fiddler，点击Tools =&gt; Options 打开配置选项，切换到第二个标签页HTTPS，先在这里打勾
PS：如有需要Python学习资料的小伙伴可以加点击下方链接自行获取
python免费学习资料以及群交流解答点击即可加入
然后就是点下面如图所示的单选框，点击Actions，运行第一个Trust Root Certificate。后面会有一个框，记得点击确定。
打开Fiddler，点击Tools =&gt; Options… 打开配置选项，切换到第三个标签页Connections，修改如图所示的地方，端口号可任意修改，这里使用我自定的9999，请记住自己设置的端口号，后面有需要使用的地方。
2.模拟器配置 我们为什么使用模拟器，因为由于Fidder抓包，要在局域网环境下，我们大部分电脑都是以宽带连接，所以我这里就以模拟器讲解抓包，后续我会更新一期fidder手机抓包。
这里们先打模拟器，设置模拟器的代理。我们先查看自己的本机IP，通过cmd命令输入ipconfig即可查看本机的ip，我的本机IP是192.168.1.2
这里打开模拟器的设置，找到我们WLAN用点击，我们看到我们的wifi,用鼠标点击时间长一点，它会出现设置的，下面我用视频给大家看一下
我们本机ip进行代理哦
3.模拟器证书安装 我们用模拟器打开浏览器，输入我们本机ip加端口，就是 192.168.1.2:9999
点击这个下载证书，下载完成后安装证书，命名随便命名。密码自己要记入。
上述如果都做成功了，应该就没什么问题了。
三、fidder4解析视频网站 这是我们模拟器里的app，app名字我会在下面评论发出。
这里的所和上面的正好相对应，这里相信我们大家都找到了，
我们可以把fidder抓包到的数据在这里，这个是我们的数据网址
https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page=1
我们通过模拟器视频往下滑，可以知道它是分页的，那样会有好多小姐姐视频哦，
https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page=2
这里就是第二页的数据，这个时候就可以通过pycharm进行解析了。
pycharm编写app代码 import requests import json def Demo(page): url=&#39;https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page={}&#39;.format(page) header={ &#39;User-Agent&#39;:&#39;XY0xDgIxDAS)wgtOthPHTn5AQUVFdXLOCRwSdEhX5PGQFmlHo6n22D)bw973lz13W2)XlZe8pKEpEEdBTgmU4ricT3kQENEI04ATJcbg2VsnEcvoVttmTXpq7r)sVToAdNLqmaxF1B6HFigkhXgO(f)rCw@@&#39; } response = requests.get(url,headers=header,verify=False).json() data=response[&#39;content&#39;][&#39;list&#39;]	#由于网站是json数据我们可以通过json解析，然后在进行数据的爬取 for i in data: title =i[&#39;title&#39;] #这里爬取的是视频标题 playurl=i[&#39;playurl&#39;]	#这里是爬取是的视频的url Video(title,playurl) def Video(title,playurl): header = { &#39;User-Agent&#39;: &#39;XY0xDgIxDAS)wgtOthPHTn5AQUVFdXLOCRwSdEhX5PGQFmlHo6n22D)bw973lz13W2)XlZe8pKEpEEdBTgmU4ricT3kQENEI04ATJcbg2VsnEcvoVttmTXpq7r)sVToAdNLqmaxF1B6HFigkhXgO(f)rCw@@&#39; } response = requests." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/da243f5fdcb3446b855d53fbdc52e489/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-22T14:06:00+08:00" />
<meta property="article:modified_time" content="2020-10-22T14:06:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">谁说app的视频抓取不了的？用Python爬取整个app视频</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>随着手app的发展逐渐强大，我们手机应用每天的生活也是非常的多。那我们怎么知道他的数据是怎么形成的，通过电脑端如何爬取。相信大家也有这样的问题。下面我将讲解这些操作流程。</p> 
<h2>一、操作流程</h2> 
<p>首先我们要有</p> 
<ul><li>fidder4</li><li>夜神模拟器</li><li>pycharm</li><li>python3.0或以上版本</li></ul> 
<h2>二、fidder4抓包</h2> 
<h2>1.fidder配置</h2> 
<p>首先我们先下载fidder，<br> 打开Fiddler，点击Tools =&gt; Options 打开配置选项，切换到第二个标签页HTTPS，先在这里打勾<br> PS：如有需要Python学习资料的小伙伴可以加点击下方链接自行获取</p> 
<p><a href="https://jq.qq.com/?_wv=1027&amp;k=rwkJ1QtrFORBIVEN" rel="nofollow"><strong>python免费学习资料以及群交流解答点击即可加入</strong></a></p> 
<p><img alt="" src="https://images2.imgbox.com/ed/18/AnsSk5Bv_o.png"></p> 
<p><br> 然后就是点下面如图所示的单选框，点击Actions，运行第一个Trust Root Certificate。后面会有一个框，记得点击确定。</p> 
<p><img alt="" src="https://images2.imgbox.com/0d/6e/ffqMUGhI_o.png"></p> 
<p>打开Fiddler，点击Tools =&gt; Options… 打开配置选项，切换到第三个标签页Connections，修改如图所示的地方，端口号可任意修改，这里使用我自定的9999，请记住自己设置的端口号，后面有需要使用的地方。</p> 
<p><img alt="" src="https://images2.imgbox.com/d7/ce/OwjfkJhA_o.png"></p> 
<h2>2.模拟器配置</h2> 
<p>我们为什么使用模拟器，因为由于Fidder抓包，要在局域网环境下，我们大部分电脑都是以宽带连接，所以我这里就以模拟器讲解抓包，后续我会更新一期fidder手机抓包。</p> 
<p>这里们先打模拟器，设置模拟器的代理。我们先查看自己的本机IP，通过cmd命令输入ipconfig即可查看本机的ip，我的本机IP是192.168.1.2</p> 
<p><img alt="" src="https://images2.imgbox.com/fc/86/FdZU41m5_o.png"></p> 
<p>这里打开模拟器的设置，找到我们WLAN用点击，我们看到我们的wifi,用鼠标点击时间长一点，它会出现设置的，下面我用视频给大家看一下</p> 
<p><img alt="" src="https://images2.imgbox.com/dd/19/9L8v5ftL_o.png"></p> 
<p><br> 我们本机ip进行代理哦</p> 
<p><img alt="" src="https://images2.imgbox.com/71/78/fb8vK0h1_o.png"></p> 
<h2>3.模拟器证书安装</h2> 
<p>我们用模拟器打开浏览器，输入我们本机ip加端口，就是 192.168.1.2:9999</p> 
<p><img alt="" src="https://images2.imgbox.com/ae/2b/feqG78Xu_o.png"></p> 
<p><br> 点击这个下载证书，下载完成后安装证书，命名随便命名。密码自己要记入。<br> 上述如果都做成功了，应该就没什么问题了。</p> 
<h2>三、fidder4解析视频网站</h2> 
<p><img alt="" src="https://images2.imgbox.com/71/60/qqjjUdp6_o.png"></p> 
<p><br> 这是我们模拟器里的app，app名字我会在下面评论发出。</p> 
<p><img alt="" src="https://images2.imgbox.com/e8/09/DmsU21we_o.png"></p> 
<p>这里的所和上面的正好相对应，这里相信我们大家都找到了，<br> 我们可以把fidder抓包到的数据在这里，这个是我们的数据网址<br> https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page=1<br> 我们通过模拟器视频往下滑，可以知道它是分页的，那样会有好多小姐姐视频哦，<br> https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page=2<br> 这里就是第二页的数据，这个时候就可以通过pycharm进行解析了。</p> 
<h2>pycharm编写app代码</h2> 
<pre>import requests
import json
def Demo(page):
    url='https://v.6.cn/coop/mobile/index.php?act=recommend&amp;padapi=minivideo-getlist.php&amp;page={}'.format(page)

    header={
        'User-Agent':'XY0xDgIxDAS)wgtOthPHTn5AQUVFdXLOCRwSdEhX5PGQFmlHo6n22D)bw973lz13W2)XlZe8pKEpEEdBTgmU4ricT3kQENEI04ATJcbg2VsnEcvoVttmTXpq7r)sVToAdNLqmaxF1B6HFigkhXgO(f)rCw@@'
    }

    response = requests.get(url,headers=header,verify=False).json()
    data=response['content']['list']	#由于网站是json数据我们可以通过json解析，然后在进行数据的爬取
    for i in data:
        title =i['title']  #这里爬取的是视频标题
        playurl=i['playurl']	#这里是爬取是的视频的url
        Video(title,playurl)

def Video(title,playurl):
    header = {
        'User-Agent': 'XY0xDgIxDAS)wgtOthPHTn5AQUVFdXLOCRwSdEhX5PGQFmlHo6n22D)bw973lz13W2)XlZe8pKEpEEdBTgmU4ricT3kQENEI04ATJcbg2VsnEcvoVttmTXpq7r)sVToAdNLqmaxF1B6HFigkhXgO(f)rCw@@'
    }
    response = requests.get(playurl,headers=header,verify=False)
    # 文件写入异常机制
    try:
    	#由于写入可以会有点出错，我们要加一个异常处理机制，这样可以提高我们的程序性能。
        with open('VIdeo/{}.mp4'.format(title),'ab') as f:
            f.write(response.content)
    except Exception as e:
        print(e)

for i in range(1,11):
    Demo(i)</pre> 
<h2>总结</h2> 
<p>以上就是今天要讲的内容，本文简单的对fidder配置与模拟器的证书安装，通过fidder监视app传输的数据进行解析，我们知道此网址有分页功能 ，最后我们通过pycharm编写程序，这些操作看似繁锁，其实看懂了，就很简单。</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ed3432ce36d58f41212ee7800e9e4df5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 常用设计模式 -- Builder模式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66684df94ca1549beb997162b171b61b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【艾琪出品】《计算机应用基础》【试题汇总4】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>