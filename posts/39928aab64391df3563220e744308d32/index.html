<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot 配置 yaml，properties 配置文件值获取（数组，对象，Map）以及 properties 配置文件打印中文乱码问题解决 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot 配置 yaml，properties 配置文件值获取（数组，对象，Map）以及 properties 配置文件打印中文乱码问题解决" />
<meta property="og:description" content="将配置文件中配置的每一个属性的值，映射到这个组件中@ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；prefix = &#34;person&#34;：配置文件中哪个下面的所有属性进行一一映射只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能 Person：
package com.atguigu.springboot.pojo; import org.springframework.boot.context.properties.ConfigurationProperties; import org.springframework.stereotype.Component; import java.util.Date; import java.util.List; import java.util.Map; /** * @Classname Person */ @Component @ConfigurationProperties(prefix = &#34;person&#34;) public class Person { private String name; private Integer age; private Boolean stage; private Date birth; private Map&lt;String,Object&gt; maps; private List&lt;Object&gt; lists; private Child child; public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/39928aab64391df3563220e744308d32/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-24T13:34:13+08:00" />
<meta property="article:modified_time" content="2019-08-24T13:34:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot 配置 yaml，properties 配置文件值获取（数组，对象，Map）以及 properties 配置文件打印中文乱码问题解决</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <ul><li>将配置文件中配置的每一个属性的值，映射到这个组件中</li><li>@ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；</li><li>prefix = "person"：配置文件中哪个下面的所有属性进行一一映射</li><li>只有这个组件是容器中的组件，才能容器提供的@ConfigurationProperties功能</li></ul> 
</blockquote> 
<p>Person：</p> 
<pre class="has"><code class="language-java">package com.atguigu.springboot.pojo;

import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

import java.util.Date;
import java.util.List;
import java.util.Map;

/**
 * @Classname Person
 */
@Component
@ConfigurationProperties(prefix = "person")
public class Person {

    private String name;
    private Integer age;
    private Boolean stage;
    private Date birth;
    private Map&lt;String,Object&gt; maps;
    private List&lt;Object&gt; lists;
    private Child child;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    public Boolean getStage() {
        return stage;
    }

    public void setStage(Boolean stage) {
        this.stage = stage;
    }

    public Date getBirth() {
        return birth;
    }

    public void setBirth(Date birth) {
        this.birth = birth;
    }

    public Map&lt;String, Object&gt; getMaps() {
        return maps;
    }

    public void setMaps(Map&lt;String, Object&gt; maps) {
        this.maps = maps;
    }

    public List&lt;Object&gt; getLists() {
        return lists;
    }

    public void setLists(List&lt;Object&gt; lists) {
        this.lists = lists;
    }

    public Child getChild() {
        return child;
    }

    public void setChild(Child child) {
        this.child = child;
    }

    @Override
    public String toString() {
        return "Person{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", stage=" + stage +
                ", birth=" + birth +
                ", maps=" + maps +
                ", lists=" + lists +
                ", child=" + child +
                '}';
    }
}
</code></pre> 
<p>Child：</p> 
<pre class="has"><code class="language-java">package com.atguigu.springboot.pojo;

/**
 * @Classname Child
 */
public class Child {
    private String name;
    private Integer age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Child{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
</code></pre> 
<p>导入配置文件处理器，以后编写配置就有提示  </p> 
<pre class="has"><code>                &lt;!--生成自己的配置元数据文件
		包含一个Java注释处理器，在编译项目时调用该处理器--&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
			&lt;optional&gt;true&lt;/optional&gt;
		&lt;/dependency&gt;</code></pre> 
<h4><span style="color:#f33b45;">application.yml</span></h4> 
<pre class="has"><code>person:
   name: typ
   age: 20
   stage: true
   birth: 2019/07/15
   maps: {name: jack, age: 12}
   lists:
    - dog
    - cat
   child:
    name: lucy
    age: 11



</code></pre> 
<p>测试：</p> 
<pre class="has"><code>package com.atguigu.springboot;

import com.atguigu.springboot.pojo.Person;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import javax.annotation.Resource;

@RunWith(SpringRunner.class)
@SpringBootTest
public class SpringBoot01HelloworldApplicationTests {

	@Autowired
	private Person person;
	@Test
	public void contextLoads() {
		System.out.println(person.toString());
	}

}
</code></pre> 
<p>结果：</p> 
<blockquote> 
 <p>Person{name='typ', age=20, stage=true, birth=Mon Jul 15 00:00:00 CST 2019, maps={name=jack, age=12}, lists=[dog, cat], child=Child{name='lucy', age=11}}</p> 
</blockquote> 
<h4><span style="color:#f33b45;"> </span></h4> 
<h4><span style="color:#f33b45;">application.properties</span></h4> 
<pre class="has"><code>#person
person.name=詹金斯
person.age=20
person.birth=2019/01/01
person.stage=true
person.maps.name=jack
person.maps.age=16
person.lists=a,b,c,d,e,f
person.child.name=露西
person.child.age=11</code></pre> 
<p>结果（有乱码）：</p> 
<blockquote> 
 <p>Person{name='Õ²ï¿½ï¿½Ë¹', age=20, stage=true, birth=Tue Jan 01 00:00:00 CST 2019, maps={age=16, name=jack}, lists=[a, b, c, d, e, f], child=Child{name='Â¶ï¿½ï¿½', age=11}}</p> 
</blockquote> 
<h4> File--&gt;Settings</h4> 
<p><img alt="" class="has" height="693" src="https://images2.imgbox.com/84/ab/a35jJ85z_o.png" width="1200"></p> 
<p>重新输入中文：</p> 
<p>测试结果：</p> 
<blockquote> 
 <p>Person{name='詹金斯', age=20, stage=true, birth=Tue Jan 01 00:00:00 CST 2019, maps={age=16, name=jack}, lists=[a, b, c, d, e, f], child=Child{name='露西', age=11}}</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a2cebcd10ef64a33a7a4b8a64fe43035/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MYSQL5.7.*版本下载安装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dbf5c93f67d6d6bf477a0363b9552aa4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【shell】运维必须掌握的shell命令（持续更新）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>