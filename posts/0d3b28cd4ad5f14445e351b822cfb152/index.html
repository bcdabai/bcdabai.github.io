<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【教3妹学编程-算法题】重新排列后包含指定子字符串的字符串数目 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【教3妹学编程-算法题】重新排列后包含指定子字符串的字符串数目" />
<meta property="og:description" content="3妹：1 8得8，2 8=16， 3 8妇女节…
2哥 : 3妹，在干嘛呢
3妹：双11不是过了嘛， 我看看我这个双十一买了多少钱， 省了多少钱。
2哥 : 我可是一分钱没买。
3妹：我买了不少东西， 衣服、包包、化妆器……， 接下来的一个月只能吃土了， 还要2哥救助~
2哥：你没有用花呗或信用卡吗， 把支付方式重新排列一下， 用最晚还款的那种信用卡，这样就可以暂时不用吃土啦。
3妹：可是后面还是要还信用卡啊。
2哥 : 傻啊你， 后面就发工资了啊， 不就缓解了
3妹：咦，有道理啊
2哥：说到重新排列支付方式，我今天看天一个重新排列的题目，我们来做一下吧~
题目： 给你一个整数 n 。
如果一个字符串 s 只包含小写英文字母，且 将 s 的字符重新排列后，新字符串包含 子字符串 “leet” ，那么我们称字符串 s 是一个 好 字符串。
比方说：
字符串 “lteer” 是好字符串，因为重新排列后可以得到 “leetr” 。
“letl” 不是好字符串，因为无法重新排列并得到子字符串 “leet” 。
请你返回长度为 n 的好字符串 总 数目。
由于答案可能很大，将答案对 109 &#43; 7 取余 后返回。
子字符串 是一个字符串中一段连续的字符序列。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0d3b28cd4ad5f14445e351b822cfb152/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-13T07:52:05+08:00" />
<meta property="article:modified_time" content="2023-11-13T07:52:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【教3妹学编程-算法题】重新排列后包含指定子字符串的字符串数目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/cc/48/eiaQsHAf_o.png" alt="买买买"></p> 
<p><em><strong>3妹</strong></em>：1 8得8，2 8=16， 3 8妇女节…<br> <em><strong>2哥</strong></em> : 3妹，在干嘛呢<br> <em><strong>3妹</strong></em>：双11不是过了嘛， 我看看我这个双十一买了多少钱， 省了多少钱。<br> <em><strong>2哥</strong></em> : 我可是一分钱没买。<br> <em><strong>3妹</strong></em>：我买了不少东西， 衣服、包包、化妆器……， 接下来的一个月只能吃土了， 还要2哥救助~<br> <em><strong>2哥</strong></em>：你没有用花呗或信用卡吗， 把支付方式重新排列一下， 用最晚还款的那种信用卡，这样就可以暂时不用吃土啦。<br> <em><strong>3妹</strong></em>：可是后面还是要还信用卡啊。<br> <em><strong>2哥</strong></em> : 傻啊你， 后面就发工资了啊， 不就缓解了<br> <em><strong>3妹</strong></em>：咦，有道理啊<br> <em><strong>2哥</strong></em>：说到重新排列支付方式，我今天看天一个重新排列的题目，我们来做一下吧~</p> 
<p><img src="https://images2.imgbox.com/b4/0d/lvKnXiX8_o.png" alt="买买买"></p> 
<h2><a id="_17"></a>题目：</h2> 
<p>给你一个整数 n 。</p> 
<p>如果一个字符串 s 只包含小写英文字母，且 将 s 的字符重新排列后，新字符串包含 子字符串 “leet” ，那么我们称字符串 s 是一个 好 字符串。</p> 
<p>比方说：</p> 
<p>字符串 “lteer” 是好字符串，因为重新排列后可以得到 “leetr” 。<br> “letl” 不是好字符串，因为无法重新排列并得到子字符串 “leet” 。<br> 请你返回长度为 n 的好字符串 总 数目。</p> 
<p>由于答案可能很大，将答案对 109 + 7 取余 后返回。</p> 
<p>子字符串 是一个字符串中一段连续的字符序列。</p> 
<p>示例 1：</p> 
<p>输入：n = 4<br> 输出：12<br> 解释：总共有 12 个字符串重新排列后包含子字符串 “leet” ：“eelt” ，“eetl” ，“elet” ，“elte” ，“etel” ，“etle” ，“leet” ，“lete” ，“ltee” ，“teel” ，“tele” 和 “tlee” 。<br> 示例 2：</p> 
<p>输入：n = 10<br> 输出：83943898<br> 解释：长度为 10 的字符串重新排列后包含子字符串 “leet” 的方案数为 526083947580 。所以答案为 526083947580 % (109 + 7) = 83943898 。</p> 
<p>提示：</p> 
<p>1 &lt;= n &lt;= 10^5</p> 
<h2><a id="_49"></a>思路：</h2> 
<p><img src="https://images2.imgbox.com/b2/5d/OOhYA7gn_o.png" alt="思考"></p> 
<p>把字母当成数字，这就是一道弱化版的数位DP</p> 
<h2><a id="java_56"></a>java代码：</h2> 
<pre><code>
class Solution {

    public int stringCount(int n) {
        this.n = n;
        int all = 1 &lt;&lt; 4;
        memo = new int[n][all];
        for (int i = 0; i &lt; n; i++) {
            Arrays.fill(memo[i], -1);
        }
        return dfs(0, all - 1);
    }

    int mod = (int) (1e9 + 7);
    int n;

    int[][] memo;

    private int dfs(int i, int mask) {

        if (i == n) {
            return mask == 0 ? 1 : 0;
        }

        if (memo[i][mask] != -1) {
            return memo[i][mask];
        }

        int res = 0;
        for (char j = 'a'; j &lt;= 'z'; j++) {

            if ((mask &amp; 1) == 1 &amp;&amp; j == 'l') {
                res =(res + dfs(i + 1, mask ^ 1)) % mod;
            } else if ((mask &amp; 2) != 0 &amp;&amp; j == 'e') {
                res = (res + dfs(i + 1, mask ^ 2)) % mod;

            } else if ((mask &amp; 4) != 0 &amp;&amp; j == 'e') {
                res = (res + dfs(i + 1, mask ^ 4)) % mod;

            } else if ((mask &amp; 8) != 0 &amp;&amp; j == 't') {
                res = (res + dfs(i + 1, mask ^ 8)) % mod;

            } else {
                res = (res + dfs(i + 1, mask)) % mod;
            }


        }
        return memo[i][mask] = res;
    }
}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/245c365d4ee0315a898972001fdf71e6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机系统基础知识（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f57bbeca75848407e12b74c2a48c463e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">力扣第516题 最长回文子序列 c&#43;&#43; 动态规划 附Java代码 注释版</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>