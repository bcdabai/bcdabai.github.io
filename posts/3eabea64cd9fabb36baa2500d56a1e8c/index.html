<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux，看这篇就够了 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux，看这篇就够了" />
<meta property="og:description" content="Linux 一、为什么要学linux二、目录介绍三、vi / vim编辑器四、网络配置4.1、修改 IP 地址4.2、配置主机名4.2.1、修改主机名称4.2.2、修改 hosts 映射文件 五、系统配置5.1、service 服务管理5.2、systemctl5.3、防火墙5.4、关机重启命令5.5、查看系统内核与版本 六、常用命令6.1、文件目录类1）、pwd 显示当前工作目录的绝对路径2）、ls 列出目录的内容3）、cd 切换目录4）、mkdir 创建一个新的目录 、 rmdir 删除一个空的目录5）、touch 创建空文件6）、cp 复制文件或目录7）、rm 删除文件或目录8）、mv 移动文件与目录或重命名9）、cat 查看文件内容10）、more 文件内容分屏查看器11）、less 分屏显示文件内容12）、echo输出内容到控制台14）、tail 输出文件尾部内容15）、&gt; 输出重定向 和 &gt;&gt; 追加16）、ln 软链接17）、history 查看已经执行过历史命令18)、时间日期类 6.2、用户管理命令1）、useradd 添加新用户2）、passwd 设置用户密码3）、id 查看用户是否存在4）、cat /etc/passwd 查看创建了哪些用户5）、su 切换用户6）、userdel 删除用户7）、sudo 设置普通用户具有 root 权限8）、usermod 修改用户9）、groupadd 新增组10）、groupdel 删除组11）、groupmod 修改组12）、cat /etc/group 查看创建了哪些组 6.3、文件权限类1）、文件属性2）、chmod 改变权限3）、chown 改变所有者4）、chgrp 改变所属组 6.4、搜索查找类1）、find 查找文件或者目录2）、locate 快速定位文件路径3）、grep 过滤查找及 | 管道符 6.5、压缩和解压类1）、gzip/gunzip 压缩2）、zip/unzip 压缩3）、tar 打包 6.6、磁盘查看和分区类1）、du 查看文件和目录占用的磁盘空间2）、df 查看磁盘空间使用情况3）、lsblk 查看设备挂载情况4）、mount/umount 挂载/卸载5）、fdisk分区 6.7、进程管理类1）、ps 查看当前系统进程状态2）、kill 终止进程3）、pstree 查看进程树4）、top 实时监控系统进程状态5）、netstat显示网络状态和端口占用信息6）、crontab 定时任务设置 七、软件包管理7." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3eabea64cd9fabb36baa2500d56a1e8c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-05T20:55:00+08:00" />
<meta property="article:modified_time" content="2023-09-05T20:55:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux，看这篇就够了</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Linux</h4> 
 <ul><li><a href="#linux_2" rel="nofollow">一、为什么要学linux</a></li><li><a href="#_9" rel="nofollow">二、目录介绍</a></li><li><a href="#vi__vim_79" rel="nofollow">三、vi / vim编辑器</a></li><li><a href="#_108" rel="nofollow">四、网络配置</a></li><li><ul><li><a href="#41_IP__110" rel="nofollow">4.1、修改 IP 地址</a></li><li><a href="#42_118" rel="nofollow">4.2、配置主机名</a></li><li><ul><li><a href="#421_120" rel="nofollow">4.2.1、修改主机名称</a></li><li><a href="#422_hosts__131" rel="nofollow">4.2.2、修改 hosts 映射文件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_140" rel="nofollow">五、系统配置</a></li><li><ul><li><a href="#51service__142" rel="nofollow">5.1、service 服务管理</a></li><li><a href="#52systemctl_169" rel="nofollow">5.2、systemctl</a></li><li><a href="#53_202" rel="nofollow">5.3、防火墙</a></li><li><a href="#54_251" rel="nofollow">5.4、关机重启命令</a></li><li><a href="#55_279" rel="nofollow">5.5、查看系统内核与版本</a></li></ul> 
  </li><li><a href="#_298" rel="nofollow">六、常用命令</a></li><li><ul><li><a href="#61_300" rel="nofollow">6.1、文件目录类</a></li><li><ul><li><a href="#1pwd__302" rel="nofollow">1）、pwd 显示当前工作目录的绝对路径</a></li><li><a href="#2ls__307" rel="nofollow">2）、ls 列出目录的内容</a></li><li><a href="#3cd__327" rel="nofollow">3）、cd 切换目录</a></li><li><a href="#4mkdir___rmdir__330" rel="nofollow">4）、mkdir 创建一个新的目录 、 rmdir 删除一个空的目录</a></li><li><a href="#5touch__343" rel="nofollow">5）、touch 创建空文件</a></li><li><a href="#6cp___350" rel="nofollow">6）、cp 复制文件或目录</a></li><li><a href="#7rm__365" rel="nofollow">7）、rm 删除文件或目录</a></li><li><a href="#8mv__375" rel="nofollow">8）、mv 移动文件与目录或重命名</a></li><li><a href="#9cat__390" rel="nofollow">9）、cat 查看文件内容</a></li><li><a href="#10more__399" rel="nofollow">10）、more 文件内容分屏查看器</a></li><li><a href="#11less__408" rel="nofollow">11）、less 分屏显示文件内容</a></li><li><a href="#12echo_415" rel="nofollow">12）、echo输出内容到控制台</a></li><li><a href="#14tail__429" rel="nofollow">14）、tail 输出文件尾部内容</a></li><li><a href="#15______443" rel="nofollow">15）、&gt; 输出重定向 和 &gt;&gt; 追加</a></li><li><a href="#16ln__459" rel="nofollow">16）、ln 软链接</a></li><li><a href="#17history__479" rel="nofollow">17）、history 查看已经执行过历史命令</a></li><li><a href="#18_490" rel="nofollow">18)、时间日期类</a></li></ul> 
   </li><li><a href="#62_502" rel="nofollow">6.2、用户管理命令</a></li><li><ul><li><a href="#1useradd__504" rel="nofollow">1）、useradd 添加新用户</a></li><li><a href="#2passwd__514" rel="nofollow">2）、passwd 设置用户密码</a></li><li><a href="#3id__522" rel="nofollow">3）、id 查看用户是否存在</a></li><li><a href="#4cat_etcpasswd__531" rel="nofollow">4）、cat /etc/passwd 查看创建了哪些用户</a></li><li><a href="#5su__537" rel="nofollow">5）、su 切换用户</a></li><li><a href="#6userdel__550" rel="nofollow">6）、userdel 删除用户</a></li><li><a href="#7sudo__root__561" rel="nofollow">7）、sudo 设置普通用户具有 root 权限</a></li><li><a href="#8usermod__567" rel="nofollow">8）、usermod 修改用户</a></li><li><a href="#9groupadd__579" rel="nofollow">9）、groupadd 新增组</a></li><li><a href="#10groupdel__588" rel="nofollow">10）、groupdel 删除组</a></li><li><a href="#11groupmod__596" rel="nofollow">11）、groupmod 修改组</a></li><li><a href="#12cat_etcgroup__603" rel="nofollow">12）、cat /etc/group 查看创建了哪些组</a></li></ul> 
   </li><li><a href="#63_608" rel="nofollow">6.3、文件权限类</a></li><li><ul><li><a href="#1_610" rel="nofollow">1）、文件属性</a></li><li><a href="#2chmod__649" rel="nofollow">2）、chmod 改变权限</a></li><li><a href="#3chown__693" rel="nofollow">3）、chown 改变所有者</a></li><li><a href="#4chgrp__706" rel="nofollow">4）、chgrp 改变所属组</a></li></ul> 
   </li><li><a href="#64_714" rel="nofollow">6.4、搜索查找类</a></li><li><ul><li><a href="#1find__716" rel="nofollow">1）、find 查找文件或者目录</a></li><li><a href="#2locate__742" rel="nofollow">2）、locate 快速定位文件路径</a></li><li><a href="#3grep____757" rel="nofollow">3）、grep 过滤查找及 | 管道符</a></li></ul> 
   </li><li><a href="#65_793" rel="nofollow">6.5、压缩和解压类</a></li><li><ul><li><a href="#1gzipgunzip__795" rel="nofollow">1）、gzip/gunzip 压缩</a></li><li><a href="#2zipunzip__817" rel="nofollow">2）、zip/unzip 压缩</a></li><li><a href="#3tar__841" rel="nofollow">3）、tar 打包</a></li></ul> 
   </li><li><a href="#66_865" rel="nofollow">6.6、磁盘查看和分区类</a></li><li><ul><li><a href="#1du__867" rel="nofollow">1）、du 查看文件和目录占用的磁盘空间</a></li><li><a href="#2df__890" rel="nofollow">2）、df 查看磁盘空间使用情况</a></li><li><a href="#3lsblk__899" rel="nofollow">3）、lsblk 查看设备挂载情况</a></li><li><a href="#4mountumount__908" rel="nofollow">4）、mount/umount 挂载/卸载</a></li><li><a href="#5fdisk_936" rel="nofollow">5）、fdisk分区</a></li></ul> 
   </li><li><a href="#67_964" rel="nofollow">6.7、进程管理类</a></li><li><ul><li><a href="#1ps__968" rel="nofollow">1）、ps 查看当前系统进程状态</a></li><li><a href="#2kill__1013" rel="nofollow">2）、kill 终止进程</a></li><li><a href="#3pstree__1029" rel="nofollow">3）、pstree 查看进程树</a></li><li><a href="#4top__1037" rel="nofollow">4）、top 实时监控系统进程状态</a></li><li><a href="#5netstat_1060" rel="nofollow">5）、netstat显示网络状态和端口占用信息</a></li><li><a href="#6crontab__1074" rel="nofollow">6）、crontab 定时任务设置</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1087" rel="nofollow">七、软件包管理</a></li><li><ul><li><a href="#71BPM_1089" rel="nofollow">7.1、BPM</a></li><li><ul><li><a href="#1RPM_rpm_ivh_1100" rel="nofollow">1）、RPM 安装命令（rpm -ivh）</a></li><li><a href="#2RPM_rpm_qa_1107" rel="nofollow">2）、RPM 查询命令（rpm -qa）</a></li><li><a href="#3RPM_rpm_e_1117" rel="nofollow">3）、RPM 卸载命令（rpm -e）</a></li></ul> 
   </li><li><a href="#72YUM__1125" rel="nofollow">7.2、YUM 仓库配置</a></li><li><ul><li><a href="#1YUM__1132" rel="nofollow">1）、YUM 的常用命令</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="linux_2"></a>一、为什么要学linux</h2> 
<p>因为我们要部署服务，Linux系统一直以其稳定性而闻名，它们可以连续运行多年而不发生任何重大问题。事实上，很多Linux用户都从未在自己的环境中遇到过系统崩溃的情况。相对windows而言，挂起和崩溃完全是一种常态。</p> 
<p>Windows由于是商业产品，源代码封闭，我们无法知道微软在里面做了什么手脚。而Linux由于是源代码开放操作系统，不存在这个问题</p> 
<p><img src="https://images2.imgbox.com/82/44/xrfhs2xM_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_9"></a>二、目录介绍</h2> 
<p>linux系统中一切皆文件</p> 
<p><img src="https://images2.imgbox.com/1f/16/pFuZwH8f_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/b4/8e/iQhKNrJH_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/6e/66/EWLyb92M_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p><code>/bin </code><br> 是binary的缩写，这个目录存放着最经常使用的命令，通过上方桌面可以看到bin文件夹有个箭头，是链接到 /usr/bin下，相当于快捷方式，进入/bin和/usr/bin下是一模一样的<br> <img src="https://images2.imgbox.com/49/27/xYGmSa68_o.png" alt="在这里插入图片描述"></p> </li><li> <p><code>/sbin</code><br> s就是super User的意思，这里存放的是系统管理员使用的系统管理程序。</p> </li><li> <p><code>/home</code><br> 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一版该目录名是以用户的账号命名的。</p> </li><li> <p><code>/root</code><br> 该目录为系统管理员，也称为超级权限者的用户主目录。</p> </li><li> <p><code>/lib</code><br> 系统开机所需要最基本的动态连接共享库，其作用类似于windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。</p> </li><li> <p><code>/etc</code><br> 所有的系统管理所需要的配置文件和子目录。</p> </li><li> <p><code>/usr</code><br> 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program fies目录。</p> </li><li> <p><code>/boot</code><br> 这里存放的是启动linux时使用的一些核心文件，包括一些连接文件以及镜像文件，自己的安装别放这里。</p> </li><li> <p><code>/proc</code><br> 这个目录是一个虚拟目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。</p> </li><li> <p><code>/srv</code><br> service缩写，该目录存放一些服务启动之后需要提取的数据。</p> </li><li> <p><code>/sys</code><br> 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统sysfs。</p> </li><li> <p><code>/tmp</code><br> 这个目录是用来存放一些临时文件的。</p> </li><li> <p><code>/dev</code><br> 类似于windows的设备管理器，把所有的硬件用文件的形式存储。管理着所有设备，例如CPU、硬盘等等</p> </li><li> <p><code>/media</code><br> linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。<br> centos7迁移到/run/media</p> </li><li> <p><code>/mnt</code><br> 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt上，然后进入该目录就可以查看里面的内容了。和media差不多</p> </li><li> <p><code>/opt</code><br> 这是给主机额外安装软件所摆放的目录。比如你安装一个mysql数据库则就可以放在这个目录下。默认是空的。</p> </li><li> <p><code>/var</code><br> 这个目录中存放着在不断扩充的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</p> </li><li> <p><code>/lost+found</code><br> 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p> </li><li> <p><code>/www</code><br> /www目录可以用于存储Web应用程序或网站文件，/www目录没有特别的用途，它只是一个常规目录，可以根据需要进行使用和管理。</p> </li></ul> 
<h2><a id="vi__vim_79"></a>三、vi / vim编辑器</h2> 
<p>用户@主机名 组成， ~号代表当前目录位置，#号代表管理员用户，普通用户都是$号<br> <img src="https://images2.imgbox.com/84/95/ML5MPuX0_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/a5/5c/g1AYpME9_o.png" alt="在这里插入图片描述"></p> 
<p>VI 是 Unix 操作系统和类 Unix 操作系统中最通用的文本编辑器。VIM 编辑器是从 VI 发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜色辨别语法的正确性，方便程序设计。VIM 与 VI 编辑器完全兼容。</p> 
<p><img src="https://images2.imgbox.com/57/33/p6Xzgplf_o.png" alt="在这里插入图片描述"><br> <strong>模式转换</strong></p> 
<p>进来默认一般模式，想要编辑文本就按i进入编辑模式<br> <img src="https://images2.imgbox.com/8a/91/6h92Sd8V_o.png" alt="在这里插入图片描述"><br> <strong>vim常用语法</strong></p> 
<p><strong><code>一般模式</code></strong></p> 
<p><img src="https://images2.imgbox.com/89/fe/u66KWHI9_o.png" alt="在这里插入图片描述"><br> <strong><code>编辑模式</code></strong></p> 
<p><img src="https://images2.imgbox.com/76/c1/ZFoJ7Uy2_o.png" alt="在这里插入图片描述">按『Esc』键 退出编辑模式，之后所在的模式为一般模式。</p> 
<p><strong><code>命令模式</code></strong></p> 
<p><img src="https://images2.imgbox.com/fa/c3/I66EQvzO_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_108"></a>四、网络配置</h2> 
<h3><a id="41_IP__110"></a>4.1、修改 IP 地址</h3> 
<pre><code class="prism language-shell"><span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre> 
<p><img src="https://images2.imgbox.com/74/55/rohN2wYE_o.png" alt="在这里插入图片描述"></p> 
<p>执行 <code>service network restart</code> 重启网络，使网络生效。</p> 
<h3><a id="42_118"></a>4.2、配置主机名</h3> 
<h4><a id="421_120"></a>4.2.1、修改主机名称</h4> 
<p>1）、查看当前服务器主机名称</p> 
<pre><code class="prism language-shell"><span class="token function">hostname</span>
</code></pre> 
<p>2）、通过编辑/etc/hostname 文件修改主机名</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> /etc/hostname
</code></pre> 
<p>修改完重启后就生效了。</p> 
<h4><a id="422_hosts__131"></a>4.2.2、修改 hosts 映射文件</h4> 
<pre><code class="prism language-shell"><span class="token function">vim</span> /etc/hosts
</code></pre> 
<p>添加映射，保存后，可以直接访问service，就可以访问到220.151 ip了<br> <img src="https://images2.imgbox.com/fb/9a/YkgvqJaX_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_140"></a>五、系统配置</h2> 
<h3><a id="51service__142"></a>5.1、service 服务管理</h3> 
<p>Linux 中的进程和服务<br> 计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。<br> 启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）。</p> 
<pre><code class="prism language-shell"><span class="token function">service</span> 服务名 start <span class="token operator">|</span> stop <span class="token operator">|</span>· restart <span class="token operator">|</span> status
</code></pre> 
<p>查看服务的方法：/etc/init.d/服务名 ,发现只有两个服务保留在 service<br> <img src="https://images2.imgbox.com/f6/17/vX4IJ556_o.png" alt="在这里插入图片描述"></p> 
<p><strong>chkconfig 设置后台服务的自启配置</strong></p> 
<p><img src="https://images2.imgbox.com/1a/97/zKqrurFh_o.png" alt="在这里插入图片描述"><br> 2）、开启/关闭 network(网络)服务的自动启动</p> 
<pre><code class="prism language-shell"><span class="token function">chkconfig</span> network on

<span class="token function">chkconfig</span> network off
</code></pre> 
<p>3）、开启/关闭 network 服务指定级别的自动启动</p> 
<pre><code class="prism language-shell"><span class="token function">chkconfig</span> <span class="token parameter variable">--level</span> 指定级别 network on
</code></pre> 
<h3><a id="52systemctl_169"></a>5.2、systemctl</h3> 
<p>1）、基本语法</p> 
<pre><code class="prism language-shell">systemctl start <span class="token operator">|</span> stop <span class="token operator">|</span> restart <span class="token operator">|</span> status 服务名
</code></pre> 
<p>2)、查看服务的方法：/usr/lib/systemd/system</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /usr/lib/systemd/system
</code></pre> 
<p>ll 命令查看所有服务<br> <img src="https://images2.imgbox.com/9b/5f/Rp6yuWfT_o.png" alt="在这里插入图片描述"></p> 
<p><strong>systemctl 设置后台服务的自启配置</strong></p> 
<p>1、查看所有服务开机启动状态</p> 
<pre><code class="prism language-shell">systemctl list-unit-files
</code></pre> 
<p>2、关掉指定服务的自动启动</p> 
<pre><code class="prism language-shell">systemctl disable service_name
</code></pre> 
<p>3、开启指定服务的自动启动</p> 
<pre><code class="prism language-shell">systemctl <span class="token builtin class-name">enable</span> service_name
</code></pre> 
<h3><a id="53_202"></a>5.3、防火墙</h3> 
<p>1)、查看、更改防火墙状态</p> 
<pre><code class="prism language-shell">systemctl status firewalld  <span class="token comment">#查看防火墙状态</span>

systemctl stop firewalld <span class="token comment"># 关闭防火墙</span>

systemctl start firewalld <span class="token comment"># 开启防火墙</span>

systemctl <span class="token builtin class-name">enable</span> firewalld.service  <span class="token comment"># 开机自启动防火墙</span>

systemctl disable firewalld.service <span class="token comment"># 开机不自启动防火墙</span>
</code></pre> 
<p>2）、防火墙开放、删除端口</p> 
<pre><code class="prism language-shell">firewall-cmd --list-ports                <span class="token comment">#查询所有开放的端口</span>

firewall-cmd --list-all  <span class="token comment">#查看防火墙所有配置</span>

firewall-cmd --query-port<span class="token operator">=</span><span class="token number">8080</span>/tcp       <span class="token comment">#查询端口是否开放</span>

firewall-cmd --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp <span class="token parameter variable">--permanent</span>          <span class="token comment">#永久添加8080端口</span>
firewall-cmd --add-port<span class="token operator">=</span><span class="token number">65001</span>-65010/tcp <span class="token parameter variable">--permanent</span>   <span class="token comment">#永久增加65001-65010端口</span>

firewall-cmd --remove-port<span class="token operator">=</span><span class="token number">8800</span>/tcp <span class="token parameter variable">--permanent</span>       <span class="token comment">#永久删除8080端口</span>

<span class="token comment"># 对某个ip开放某个端口</span>
firewall-cmd <span class="token parameter variable">--permanent</span> --add-rich-rule<span class="token operator">=</span>“rule <span class="token assign-left variable">family</span><span class="token operator">=</span>“ipv4” <span class="token builtin class-name">source</span> <span class="token assign-left variable">address</span><span class="token operator">=</span>“192.168.142.166” port <span class="token assign-left variable">port</span><span class="token operator">=</span>“5432” <span class="token assign-left variable">protocol</span><span class="token operator">=</span>“tcp” accept”

<span class="token comment"># 删除对某个ip开放某个端口</span>
firewall-cmd <span class="token parameter variable">--permanent</span> --remove-rich-rule<span class="token operator">=</span>“rule <span class="token assign-left variable">family</span><span class="token operator">=</span>“ipv4” <span class="token builtin class-name">source</span> <span class="token assign-left variable">address</span><span class="token operator">=</span>“192.168.142.166” port <span class="token assign-left variable">port</span><span class="token operator">=</span>“5432” <span class="token assign-left variable">protocol</span><span class="token operator">=</span>“tcp” accept”
</code></pre> 
<p>命令解读</p> 
<pre><code>firwall-cmd：是Linux提供的操作firewall的一个工具（服务）命令
--zone                                                                #作用域
--add-port=8080/tcp                                                   #添加端口，格式为：端口/通讯协议 ；add表示添加，remove则对应移除
--permanent                                                           #永久生效，没有此参数重启后失效
</code></pre> 
<p>3)、更新防火墙规则，更改配置后要执行重载配置</p> 
<pre><code class="prism language-shell">firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> 
<h3><a id="54_251"></a>5.4、关机重启命令</h3> 
<p><strong>0）、将数据由内存同步到硬盘中</strong></p> 
<pre><code class="prism language-shell"><span class="token function">sync</span>
</code></pre> 
<p><strong>1）、重启</strong></p> 
<pre><code class="prism language-shell"><span class="token function">reboot</span>
<span class="token comment"># 两者作用一样</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-r</span> now
</code></pre> 
<p><strong>2）、关机</strong></p> 
<pre><code class="prism language-shell"><span class="token comment"># 立马关机</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-h</span> now

<span class="token comment"># 计算机将在1分钟后关机，并且会显示在登录用户的当前屏幕中</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-h</span> <span class="token number">1</span> ‘This server will shut down after <span class="token number">1</span> mins‘

<span class="token comment"># 指定时间关机</span>
<span class="token function">shutdown</span> <span class="token number">15</span>:28

<span class="token comment"># 取消关机操作</span>
<span class="token function">shutdown</span> <span class="token parameter variable">-c</span>
</code></pre> 
<h3><a id="55_279"></a>5.5、查看系统内核与版本</h3> 
<p><strong>1）、查看内核/操作系统/CPU信息</strong></p> 
<pre><code class="prism language-shell"><span class="token function">uname</span> <span class="token parameter variable">-a</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a7/71/y108g0VF_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2）、查看centos具体版本</strong></p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> /etc/centos-release
</code></pre> 
<p><img src="https://images2.imgbox.com/7a/2f/hjPrXu9Z_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_298"></a>六、常用命令</h2> 
<h3><a id="61_300"></a>6.1、文件目录类</h3> 
<h4><a id="1pwd__302"></a>1）、pwd 显示当前工作目录的绝对路径</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">pwd</span>
</code></pre> 
<h4><a id="2ls__307"></a>2）、ls 列出目录的内容</h4> 
<pre><code class="prism language-shell"> ls：列出当前目录中的文件和子目录。
 <span class="token function">ls</span> -l：以长格式列出当前目录中的文件和子目录，包括文件权限、所有者、文件大小、修改日期等详细信息。
 <span class="token function">ls</span> -a：列出当前目录中的所有文件和子目录，包括隐藏文件和目录。
 <span class="token function">ls</span> -h：以人类可读的格式列出文件大小，例如，使用KB、MB、GB等单位。
 <span class="token function">ls</span> -t：按修改时间排序列出文件和子目录，最新修改的文件和目录将显示在最上面。
 <span class="token function">ls</span> -r：反向排序列出文件和子目录，即从最后一个文件或目录开始列出。
 <span class="token function">ls</span> -R：递归列出当前目录及其子目录中的所有文件和子目录。
 <span class="token function">ls</span> -i：显示每个文件和目录的inode号码。
</code></pre> 
<p>ls [选项] [目录或是文件]</p> 
<p>可以多个参数组合如：ls -al</p> 
<p>每行列出的信息依次是： 文件类型与权限，链接数，文件属主，文件属组，文件大小用byte来表示，建立或最近修改的时间，名字</p> 
<h4><a id="3cd__327"></a>3）、cd 切换目录</h4> 
<p><img src="https://images2.imgbox.com/0c/ac/e1mU85ol_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4mkdir___rmdir__330"></a>4）、mkdir 创建一个新的目录 、 rmdir 删除一个空的目录</h4> 
<p>mkdir [选项] 要创建的目录</p> 
<pre><code class="prism language-shell"><span class="token function">mkdir</span> xiyou
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> xiyou/dssz/meihouwang  <span class="token comment"># -p 创建多层目录</span>
</code></pre> 
<p>rmdir 要删除的空目录</p> 
<pre><code class="prism language-shell"><span class="token function">rmdir</span> xiyou/dssz/meihouwang
</code></pre> 
<h4><a id="5touch__343"></a>5）、touch 创建空文件</h4> 
<p>touch 文件名称</p> 
<pre><code class="prism language-shell"><span class="token function">touch</span> xiyou/dssz/sunwukong.txt
</code></pre> 
<h4><a id="6cp___350"></a>6）、cp 复制文件或目录</h4> 
<p>cp 源文件 目标文件</p> 
<p>1）、复制文件</p> 
<pre><code class="prism language-shell"><span class="token function">cp</span> xiyou/dssz/suwukong.txt xiyou/mingjie/
</code></pre> 
<p>2）、递归复制整改文件夹<br> 参数 ： -r 递归复制整个文件夹</p> 
<pre><code class="prism language-shell"><span class="token function">cp</span> <span class="token parameter variable">-r</span> xiyou/dssz/ ./
</code></pre> 
<h4><a id="7rm__365"></a>7）、rm 删除文件或目录</h4> 
<p>rm [选项] deleteFile （功能描述：递归删除目录中所有内容）</p> 
<p><img src="https://images2.imgbox.com/13/8e/fEKd5dCx_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">rm</span> sunwukong.txt <span class="token comment"># 删除文件</span>

<span class="token function">rm</span> <span class="token parameter variable">-rf</span> dssz/  <span class="token comment"># 递归删除目录中所有内容</span>
</code></pre> 
<h4><a id="8mv__375"></a>8）、mv 移动文件与目录或重命名</h4> 
<p>mv 源文件 目标文件</p> 
<p>（1）mv oldNameFile newNameFile （功能描述：重命名）</p> 
<p>（2）mv /temp/movefile /targetFolder （功能描述：移动文件）</p> 
<pre><code class="prism language-shell"><span class="token comment"># 重命名</span>
<span class="token function">mv</span> xiyou/dssz/suwukong.txt xiyou/dssz/houge.txt

<span class="token comment"># 移动文件</span>
<span class="token function">mv</span> xiyou/dssz/houge.txt ./
</code></pre> 
<h4><a id="9cat__390"></a>9）、cat 查看文件内容</h4> 
<p>查看文件内容，从第一行开始显示。</p> 
<p>一般查看比较小的文件，一屏幕能显示全的。</p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> <span class="token parameter variable">-n</span> houge.txt  <span class="token comment"># -n参数显示行号</span>
</code></pre> 
<h4><a id="10more__399"></a>10）、more 文件内容分屏查看器</h4> 
<p>more 要查看的文件</p> 
<p><img src="https://images2.imgbox.com/1e/e7/VnoSiDQE_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">more</span> nginx.conf 
</code></pre> 
<h4><a id="11less__408"></a>11）、less 分屏显示文件内容</h4> 
<p>less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是比 more 指令更加强大，支持各种显示终端。less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</p> 
<p><img src="https://images2.imgbox.com/b2/d0/7Ff9WtSd_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">less</span> nginx.conf 
</code></pre> 
<h4><a id="12echo_415"></a>12）、echo输出内容到控制台</h4> 
<p>echo [选项] [输出内容]</p> 
<p>可以用在写脚本的时候输出日志</p> 
<p>-e： 支持反斜线控制的字符转换<br> <img src="https://images2.imgbox.com/e9/5c/zNBGdc0x_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> “hello<span class="token punctuation">\</span>tworld”

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> “hello<span class="token punctuation">\</span>tworld” <span class="token comment"># -e支持反斜线控制的字符转换</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/23/1c/tpL44bDr_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="14tail__429"></a>14）、tail 输出文件尾部内容</h4> 
<p>tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</p> 
<pre><code class="prism language-shell"><span class="token comment"># 查看文件尾 1 行内容</span>
<span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">1</span> smartd.conf

<span class="token comment"># 实时追踪该档的所有更新</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> houge.txt
</code></pre> 
<p>按 <code>ctrl + s 暂停</code>，按<code>ctrl + q 继续</code></p> 
<h4><a id="15______443"></a>15）、&gt; 输出重定向 和 &gt;&gt; 追加</h4> 
<p>（1）将 ls 查看信息写入到文件中</p> 
<pre><code class="prism language-shell"><span class="token function">ls</span> -l<span class="token operator">&gt;</span>houge.txt
</code></pre> 
<p>（2）将 ls 查看信息追加到文件中</p> 
<pre><code class="prism language-shell"><span class="token function">ls</span> -l<span class="token operator">&gt;&gt;</span>houge.txt
</code></pre> 
<p>（3）采用 echo 将 hello 单词追加到文件中</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> hello<span class="token operator">&gt;&gt;</span>houge.txt
</code></pre> 
<h4><a id="16ln__459"></a>16）、ln 软链接</h4> 
<p>软链接也称为符号链接，类似于 windows 里的快捷方式，有自己的数据块，主要存放了链接其他文件的路径。</p> 
<p>ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）</p> 
<p><strong>1）、创建软连接</strong></p> 
<pre><code class="prism language-shell"> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /home/lnTest.txt ./lnTxt
</code></pre> 
<p>删除软链接： rm -rf 软链接名，而不是 rm -rf 软链接名/<br> 如果使用 rm -rf 软链接名/ 删除，会把软链接对应的真实目录下内容删掉</p> 
<pre><code class="prism language-shell"><span class="token function">rm</span> <span class="token parameter variable">-rf</span> lnTxt
</code></pre> 
<p>查询：通过 ll 就可以查看，列表属性第 1 位是 l，尾部会有位置指向。</p> 
<h4><a id="17history__479"></a>17）、history 查看已经执行过历史命令</h4> 
<p>（1）查看已经执行过的历史命令</p> 
<pre><code class="prism language-shell"><span class="token function">history</span>
</code></pre> 
<p>（2）清空历史记录</p> 
<pre><code class="prism language-shell"><span class="token function">history</span> <span class="token parameter variable">-c</span>
</code></pre> 
<h4><a id="18_490"></a>18)、时间日期类</h4> 
<p>（1）显示当前时间信息</p> 
<pre><code class="prism language-shell"><span class="token function">date</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/0d/TfUx7Kc0_o.png" alt="在这里插入图片描述"><br> （2）设置系统当前时间</p> 
<pre><code class="prism language-shell"><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token string">"2023-06-19 20:52:18"</span>
</code></pre> 
<h3><a id="62_502"></a>6.2、用户管理命令</h3> 
<h4><a id="1useradd__504"></a>1）、useradd 添加新用户</h4> 
<p>useradd 用户名 （功能描述：添加新用户）</p> 
<p>useradd -g 组名 用户名 （功能描述：添加新用户到某个组）</p> 
<p>（1）添加一个用户</p> 
<pre><code class="prism language-shell"><span class="token function">useradd</span> hmb
</code></pre> 
<h4><a id="2passwd__514"></a>2）、passwd 设置用户密码</h4> 
<p>passwd 用户名 （功能描述：设置用户密码）</p> 
<p>（1）设置用户的密码</p> 
<pre><code class="prism language-shell"><span class="token function">passwd</span> hmb
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/9f/rEG3ptS1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3id__522"></a>3）、id 查看用户是否存在</h4> 
<p>id 用户名</p> 
<p>（1）查看用户是否存在</p> 
<pre><code class="prism language-shell"><span class="token function">id</span> hmb
</code></pre> 
<p><img src="https://images2.imgbox.com/1e/bf/BnYAFZF1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4cat_etcpasswd__531"></a>4）、cat /etc/passwd 查看创建了哪些用户</h4> 
<p>查看创建了哪些用户</p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> /etc/passwd
</code></pre> 
<h4><a id="5su__537"></a>5）、su 切换用户</h4> 
<p>su 用户名称 （功能描述：切换用户，只能获得用户的执行权限，不能获得环境变量）</p> 
<p>su - 用户名称 （功能描述：切换到用户并获得该用户的环境变量及执行权限）</p> 
<p>（1）切换用户</p> 
<pre><code class="prism language-shell"><span class="token function">su</span> hmb

<span class="token function">su</span> - hmb
</code></pre> 
<p><img src="https://images2.imgbox.com/ab/83/fZ70n86O_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6userdel__550"></a>6）、userdel 删除用户</h4> 
<p>（1）userdel 用户名 （功能描述：删除用户但保存用户主目录）</p> 
<p>（2）userdel -r 用户名 （功能描述：用户和用户主目录，都删除）</p> 
<pre><code class="prism language-shell"><span class="token function">userdel</span> hmb

<span class="token function">userdel</span> <span class="token parameter variable">-r</span> hmb
</code></pre> 
<h4><a id="7sudo__root__561"></a>7）、sudo 设置普通用户具有 root 权限</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">mkdir</span> module
</code></pre> 
<h4><a id="8usermod__567"></a>8）、usermod 修改用户</h4> 
<p>usermod -g 用户组 用户名</p> 
<p><img src="https://images2.imgbox.com/5e/c8/nwZKQorF_o.png" alt="在这里插入图片描述"></p> 
<p>（1）将用户加入到用户组</p> 
<pre><code class="prism language-shell"><span class="token function">usermod</span> <span class="token parameter variable">-g</span> root zhubajie
</code></pre> 
<h4><a id="9groupadd__579"></a>9）、groupadd 新增组</h4> 
<p>groupadd 组名</p> 
<p>（1）添加一个xitianqujing组</p> 
<pre><code class="prism language-shell"><span class="token function">groupadd</span> xitianqujing
</code></pre> 
<h4><a id="10groupdel__588"></a>10）、groupdel 删除组</h4> 
<p>groupdel 组名</p> 
<p>（1）删除xitianqujing组</p> 
<pre><code class="prism language-shell"><span class="token function">groupdel</span> xitianqujing
</code></pre> 
<h4><a id="11groupmod__596"></a>11）、groupmod 修改组</h4> 
<p>groupmod -n 新组名 老组名<br> <img src="https://images2.imgbox.com/95/cb/cny6THuo_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">groupmod</span> <span class="token parameter variable">-n</span> xitian xitianqujing
</code></pre> 
<h4><a id="12cat_etcgroup__603"></a>12）、cat /etc/group 查看创建了哪些组</h4> 
<pre><code class="prism language-shell"><span class="token function">cat</span> /etc/group
</code></pre> 
<h3><a id="63_608"></a>6.3、文件权限类</h3> 
<h4><a id="1_610"></a>1）、文件属性</h4> 
<p><img src="https://images2.imgbox.com/bd/a3/0iSzZO5G_o.png" alt="在这里插入图片描述"><br> 使用<code>ll</code>或 <code>ls -lh</code>命令查看权限</p> 
<p>如果没有权限，就会出现减号[ - ]而已。从左至右用0-9这些数字来表示:</p> 
<ul><li>0 首位表示类型 
  <ul><li>在Linux中第一个字符代表这个文件是目录、文件或链接文件等等</li><li>代表文件</li><li>d 代表目录</li><li>l 链接文档(link file)；</li></ul> </li><li>第1-3位确定属主（该文件的所有者）拥有该文件的权限。—User</li><li>第4-6位确定属组（所有者的同组用户）拥有该文件的权限，—Group</li><li>第7-9位确定其他用户拥有该文件的权限 —Other</li></ul> 
<p><strong>（1）、rwx 作用文件和目录的不同解释</strong></p> 
<ul><li> <p>（1）作用到文件：<br> [ r ]代表可读(read): 可以读取，查看<br> [ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前<br> [ x ]代表可执行(execute):可以被系统执行</p> </li><li> <p>（2）作用到目录：<br> [ r ]代表可读(read): 可以读取，ls查看目录内容<br> [ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录<br> [ x ]代表可执行(execute):可以进入该目录</p> </li></ul> 
<p><code>ll</code>命令查看解释</p> 
<p><img src="https://images2.imgbox.com/78/49/mkawgnc1_o.png" alt="在这里插入图片描述"><br> <code>ls -lh</code> 命令，文件大小会更清晰</p> 
<p><img src="https://images2.imgbox.com/79/47/K1vd1CFR_o.png" alt="在这里插入图片描述"></p> 
<p>（1）如果查看到是文件：链接数指的是硬链接个数。<br> （2）如果查看的是文件夹：链接数指的是子文件夹个数。</p> 
<h4><a id="2chmod__649"></a>2）、chmod 改变权限</h4> 
<p><img src="https://images2.imgbox.com/b0/fc/X056zzI1_o.png" alt="在这里插入图片描述"></p> 
<p><strong>1）、第一种方式变更权限</strong></p> 
<p>chmod [{ugoa}{+ - =}{rwx}] 文件或目录</p> 
<pre><code>u:所有者（user）        g:所有组(group)           o:其他人(other)        a:所有人(u、g、o 的总和)

+号代表增加      -号代表取消     = 号代表直接赋予
</code></pre> 
<p>（1）修改文件使其所属主用户具有执行权限</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> u+x houge.txt
</code></pre> 
<p>（2）修改文件使其所属组用户具有执行权限</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> g+x houge.txt
</code></pre> 
<p>（3）修改文件所属主用户执行权限,并使其他用户具有执行权限</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> u-x,o+x houge.txt
</code></pre> 
<p><strong>2）、第二种方式变更权限</strong></p> 
<p>chmod [mode=421 ] [文件或目录]</p> 
<pre><code>r=4         w=2        x=1       rwx=4+2+1=7
</code></pre> 
<p>（1）采用数字的方式，设置文件所有者、所属组、其他用户都具有可读可写可执行权限。</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> <span class="token number">777</span> houge.txt
</code></pre> 
<p>（2）修改整个文件夹里面的所有文件的所有者、所属组、其他用户都具有可读可写可执行权限。</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> xiyou/
</code></pre> 
<h4><a id="3chown__693"></a>3）、chown 改变所有者</h4> 
<p>chown [选项] [最终用户] [文件或目录] （功能描述：改变文件或者目录的所有者）</p> 
<p>（1）修改文件所有者</p> 
<pre><code class="prism language-shell"><span class="token function">chown</span> hmb houge.txt
</code></pre> 
<p>（2）递归改变文件所有者和所有组</p> 
<pre><code class="prism language-shell"><span class="token function">chown</span> <span class="token parameter variable">-R</span> hmb:hmb xiyou/
</code></pre> 
<h4><a id="4chgrp__706"></a>4）、chgrp 改变所属组</h4> 
<p>chgrp [最终用户组] [文件或目录] （功能描述：改变文件或者目录的所属组）</p> 
<p>（1）修改文件的所属组</p> 
<pre><code class="prism language-shell"><span class="token function">chgrp</span> root houge.txt
</code></pre> 
<h3><a id="64_714"></a>6.4、搜索查找类</h3> 
<h4><a id="1find__716"></a>1）、find 查找文件或者目录</h4> 
<p>find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件显示在终端。</p> 
<p><img src="https://images2.imgbox.com/5a/7a/qYY4iQCY_o.png" alt="在这里插入图片描述"></p> 
<p>（1）按文件名：根据名称查找/目录下的filename.txt文件。</p> 
<pre><code class="prism language-shell"><span class="token function">find</span> <span class="token parameter variable">-name</span> <span class="token string">"ln*.txt"</span>  

<span class="token function">find</span> xiyou/ <span class="token parameter variable">-name</span> <span class="token string">"*.txt"</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/97/a6/PyGz5Oht_o.png" alt="在这里插入图片描述"></p> 
<p>（2）按拥有者：查找/opt目录下，用户名称为-user的文件</p> 
<pre><code class="prism language-shell"><span class="token function">find</span> opt/ <span class="token parameter variable">-user</span> hmb
</code></pre> 
<p>（3）按文件大小：在/home目录下查找大于200m的文件（+n 大于 -n小于 n等于）</p> 
<pre><code class="prism language-shell"><span class="token function">find</span> /home <span class="token parameter variable">-size</span> +204800
</code></pre> 
<h4><a id="2locate__742"></a>2）、locate 快速定位文件路径</h4> 
<p>locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locate 时刻。</p> 
<p>基本语法：locate 搜索文件</p> 
<pre><code>由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。
</code></pre> 
<p>（1）查询文件夹</p> 
<pre><code class="prism language-shell">updatedb

<span class="token function">locate</span> tmp
</code></pre> 
<h4><a id="3grep____757"></a>3）、grep 过滤查找及 | 管道符</h4> 
<p>管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理，可以前面查出来的东西传给管道符后端的处理，例如 ls | grep -n test</p> 
<p>grep是Linux系统中常用的文本搜索工具，可以在文件中查找指定的字符串或者正则表达式，并将匹配的行输出到终端或者文件中。</p> 
<p>（1）、在文件中查找字符</p> 
<pre><code class="prism language-shell"><span class="token comment"># 单个文件中查找</span>
<span class="token function">grep</span> <span class="token string">"string"</span> filename

<span class="token comment"># 多个文件中查找字符</span>
<span class="token function">grep</span> <span class="token string">"string"</span> file1 file2 file3

<span class="token comment"># 忽略大小写查找指定字符串</span>
<span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">"string"</span> filename
</code></pre> 
<p>（2）、在目录中递归查找指定字符串</p> 
<pre><code class="prism language-shell"><span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token string">"string"</span> directory
</code></pre> 
<p>（3）、显示匹配行的行号</p> 
<pre><code class="prism language-shell"><span class="token function">grep</span> <span class="token parameter variable">-n</span> <span class="token string">"string"</span> filename
</code></pre> 
<p>（4）、反向查找不包含指定字符串的行</p> 
<pre><code class="prism language-shell"><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">"string"</span> filename
</code></pre> 
<p>（5）、将匹配的行输出到文件中</p> 
<pre><code class="prism language-shell"><span class="token function">grep</span> <span class="token string">"string"</span> filename <span class="token operator">&gt;</span> output.txt
</code></pre> 
<h3><a id="65_793"></a>6.5、压缩和解压类</h3> 
<h4><a id="1gzipgunzip__795"></a>1）、gzip/gunzip 压缩</h4> 
<p>注意：</p> 
<p>（1）只能压缩文件不能压缩目录<br> （2）不保留原来的文件<br> （3）同时多个文件会产生多个压缩包</p> 
<p>（1）、gzip压缩</p> 
<pre><code class="prism language-shell"><span class="token function">gzip</span> 文件

<span class="token function">gzip</span> lnTest.txt
</code></pre> 
<p><img src="https://images2.imgbox.com/ea/a3/7zIDHZ3K_o.png" alt="在这里插入图片描述"><br> （2）、gunzip解压缩文件</p> 
<pre><code class="prism language-shell">gunzip lnTest.txt.gz
</code></pre> 
<h4><a id="2zipunzip__817"></a>2）、zip/unzip 压缩</h4> 
<p>zip 压缩命令在windows/linux都通用，可以压缩目录且保留源文件。</p> 
<p>（1）、zip压缩</p> 
<pre><code class="prism language-shell"><span class="token function">zip</span> 压缩文件名.zip  源文件

<span class="token comment"># 压缩文件</span>
<span class="token function">zip</span> lnTest.zip lnTest.txt

<span class="token comment"># -r 压缩文件夹</span>
<span class="token function">zip</span> <span class="token parameter variable">-r</span>  nginx1.zip nginx-1.21.6
</code></pre> 
<p>（2）、unzip解压</p> 
<pre><code class="prism language-shell"><span class="token function">unzip</span> lnTest.zip

<span class="token comment"># -d 指定解压后文件的存放目录</span>
<span class="token function">unzip</span> lnTest.zip <span class="token parameter variable">-d</span> /opt
</code></pre> 
<h4><a id="3tar__841"></a>3）、tar 打包</h4> 
<p>tar [选项] XXX.tar.gz 将要打包进去的内容 （功能描述：打包目录，压缩后的文件格式.tar.gz）</p> 
<p><img src="https://images2.imgbox.com/26/35/sF3cwvsB_o.png" alt="在这里插入图片描述"><br> （1）、压缩文件</p> 
<pre><code class="prism language-shell"><span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> 打包的文件名.tar.gz <span class="token punctuation">[</span>源文件<span class="token punctuation">]</span>

<span class="token comment"># 多个文件打包</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> houma.tar.gz houge.txt bailongma.txt

<span class="token comment"># 打包文件夹</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> xiyou.tar.gz xiyou/
</code></pre> 
<p>（2）、解压</p> 
<pre><code class="prism language-shell"><span class="token comment"># 解压到当前目录</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> houma.tar.gz
<span class="token comment"># -C 解压到某个目录下</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> xiyou.tar.gz <span class="token parameter variable">-C</span> /opt
</code></pre> 
<h3><a id="66_865"></a>6.6、磁盘查看和分区类</h3> 
<h4><a id="1du__867"></a>1）、du 查看文件和目录占用的磁盘空间</h4> 
<p>du 目录/文件 （功能描述：显示目录下每个子目录的磁盘使用情况）</p> 
<p><img src="https://images2.imgbox.com/a1/4e/rZtUsRs3_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token comment"># 查看当前文件总占用</span>
<span class="token function">du</span> <span class="token parameter variable">-sh</span> 

<span class="token comment"># 当前目录下所有文件磁盘占用</span>
<span class="token function">du</span> <span class="token parameter variable">-sh</span> *

<span class="token comment"># 某文件夹下所有文件的磁盘占用</span>
<span class="token function">du</span> <span class="token parameter variable">-sh</span> /home/*

<span class="token comment"># -c 显示总和</span>
<span class="token function">du</span> <span class="token parameter variable">-csh</span> /home/*
</code></pre> 
<p><img src="https://images2.imgbox.com/a0/e6/jKWiHECH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4a/28/xokgCH09_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2df__890"></a>2）、df 查看磁盘空间使用情况</h4> 
<p>df 选项 （功能描述：列出文件系统的整体磁盘使用量，检查文件系统的磁盘空间占用情况）</p> 
<p>（1）查看磁盘使用情况</p> 
<pre><code class="prism language-shell"><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a6/dc/x0vsYcSa_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3lsblk__899"></a>3）、lsblk 查看设备挂载情况</h4> 
<pre><code class="prism language-shell">lsblk

<span class="token comment"># 查看详细的设备挂载情况，显示文件系统信息</span>
lsblk <span class="token parameter variable">-f</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/f1/45/w0Ur0dgg_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4mountumount__908"></a>4）、mount/umount 挂载/卸载</h4> 
<p>对于Linux用户来讲，不论有几个分区，分别分给哪一个目录使用，它总归就是一个根目录、一个独立且唯一的文件结构。</p> 
<p>Linux中每个分区都是用来组成整个文件系统的一部分，它在用一种叫做“挂载”的处理方法，它整个文件系统中包含了一整套的文件和目录，并将一个分区和一个目录联系起来，要载入的那个分区将使它的存储空间在这个目录下获得。</p> 
<p>语法：mount [-t vfstype] [-o options] device dir （功能描述：挂载设备）</p> 
<p><img src="https://images2.imgbox.com/ee/1d/SoAXOEPs_o.png" alt="在这里插入图片描述"></p> 
<p>（1）挂载光盘镜像文件</p> 
<pre><code class="prism language-shell"><span class="token comment"># 建立挂载点</span>
<span class="token function">mkdir</span> /mnt/cdrom/

<span class="token comment"># 设备/dev/cdrom 挂载到 挂载点 ： /mnt/cdrom 中</span>
<span class="token function">mount</span> <span class="token parameter variable">-t</span> iso9660 /dev/cdrom /mnt/cdrom/
</code></pre> 
<p>（2）卸载光盘镜像文件</p> 
<pre><code class="prism language-shell"><span class="token function">umount</span> /mnt/cdrom
</code></pre> 
<p>（3）设置开机自动挂载</p> 
<pre><code class="prism language-shell"><span class="token function">vi</span> /etc/fstab
</code></pre> 
<p>添加下面那句后保存退出<br> <img src="https://images2.imgbox.com/7f/f4/OgpQzDl8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5fdisk_936"></a>5）、fdisk分区</h4> 
<p>注意：该命令必须在 root 用户下才能使用</p> 
<p>基本语法：</p> 
<p>fdisk -l （功能描述：查看磁盘分区详情）</p> 
<p>fdisk 硬盘设备名 （功能描述：对新增硬盘进行分区操作）</p> 
<p><img src="https://images2.imgbox.com/c5/59/1GzkfwZJ_o.png" alt="在这里插入图片描述"></p> 
<p>1）、功能说明</p> 
<ul><li>Linux 分区<br> Device：分区序列<br> Boot：引导<br> Start：从X磁柱开始<br> End：到Y磁柱结束<br> Blocks：容量<br> Id：分区类型ID<br> System：分区类型</li><li>分区操作按键说明<br> m：显示命令列表<br> p：显示当前磁盘分区<br> n：新增分区<br> w：写入分区信息并退出<br> q：不保存分区信息直接退出</li></ul> 
<h3><a id="67_964"></a>6.7、进程管理类</h3> 
<p>进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间，并占用一定的系统资源。</p> 
<h4><a id="1ps__968"></a>1）、ps 查看当前系统进程状态</h4> 
<p>ps -ef：列出所有进程的详细信息，包括进程的PID、PPID、CPU占用率、内存占用率等。</p> 
<p>ps aux：与ps -ef类似，但是显示的是所有用户的进程信息。<br> <img src="https://images2.imgbox.com/39/32/L50LgPtV_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">ps</span> aux

<span class="token function">ps</span> <span class="token parameter variable">-ef</span>
</code></pre> 
<ol><li>ps aux 显示信息说明：<br> USER：该进程是由哪个用户产生的<br> PID：进程的 ID 号<br> %CPU：该进程占用 CPU 资源的百分比，占用越高，进程越耗费资源；<br> %MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；<br> VSZ：该进程占用虚拟内存的大小，单位 KB；<br> RSS：该进程占用实际物理内存的大小，单位 KB；<br> TTY：该进程是在哪个终端中运行的。对于 CentOS 来说，tty1 是图形化终端，<br> tty2-tty6 是本地的字符界面终端。pts/0-255 代表虚拟终端。<br> STAT：进程状态。常见的状态有：R：运行状态、S：睡眠状态、T：暂停状态、<br> Z：僵尸状态、s：包含子进程、l：多线程、+：前台显示<br> START：该进程的启动时间<br> TIME：该进程占用 CPU 的运算时间，注意不是系统时间<br> COMMAND：产生此进程的命令名</li><li>ps -ef 显示信息说明：<br> UID：用户 ID<br> PID：进程 ID<br> PPID：父进程 ID<br> C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算，<br> 执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高<br> STIME：进程启动的时间<br> TTY：完整的终端名称<br> TIME：CPU 时间<br> CMD：启动进程所用的命令和参数</li></ol> 
<p>（1）配合grep 查询java进程，查出PID后，就可以杀掉进程了</p> 
<pre><code class="prism language-shell"><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">java</span>
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">java</span>

<span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> java服务名
</code></pre> 
<h4><a id="2kill__1013"></a>2）、kill 终止进程</h4> 
<p>（1）通过pid终止进程</p> 
<pre><code class="prism language-shell"><span class="token comment"># -9 表示强迫进程立即停止</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token number">5102</span>
</code></pre> 
<p>（2）通过进程名称杀死进程</p> 
<pre><code class="prism language-shell"><span class="token function">killall</span> firefox
</code></pre> 
<p>window杀死进程：</p> 
<pre><code class="prism language-shell">taskkill /f /pid  进程ID
</code></pre> 
<h4><a id="3pstree__1029"></a>3）、pstree 查看进程树</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 显示进程的 PID</span>
pstree <span class="token parameter variable">-p</span>
<span class="token comment"># 显示进程的所属用户</span>
pstree <span class="token parameter variable">-u</span>
</code></pre> 
<h4><a id="4top__1037"></a>4）、top 实时监控系统进程状态</h4> 
<p>参数选项：<br> <img src="https://images2.imgbox.com/ad/d9/lfmWt6w1_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">top</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/4f/ZCjx5bAO_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/aa/9a/QOCn4rum_o.png" alt="在这里插入图片描述"></p> 
<ol><li> <p>第一行信息为任务队列信息<br> <img src="https://images2.imgbox.com/69/86/An11pnR8_o.png" alt="在这里插入图片描述"></p> </li><li> <p>第二行为进程信息<br> <img src="https://images2.imgbox.com/a0/18/ZmPAqtI3_o.png" alt="在这里插入图片描述"></p> </li><li> <p>第三行为 CPU 信息<br> <img src="https://images2.imgbox.com/1e/e6/GjLqEfdt_o.png" alt="在这里插入图片描述"></p> </li><li> <p>第四行为物理内存信息<br> <img src="https://images2.imgbox.com/ad/35/lwiYAklH_o.png" alt="在这里插入图片描述"></p> </li><li> <p>第五行为交换分区（swap）信息<br> <img src="https://images2.imgbox.com/87/3d/N29kwztD_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h4><a id="5netstat_1060"></a>5）、netstat显示网络状态和端口占用信息</h4> 
<p>使用netstat 通常用来查看端口是否被占用</p> 
<pre><code class="prism language-shell"><span class="token function">netstat</span> <span class="token parameter variable">-anp</span> <span class="token operator">|</span> <span class="token function">grep</span>  进程号或端口号
<span class="token function">netstat</span> –nlp <span class="token operator">|</span> <span class="token function">grep</span> 端口号
</code></pre> 
<p><img src="https://images2.imgbox.com/8d/ae/w7qjQ0DI_o.png" alt="在这里插入图片描述"><br> window查看：</p> 
<pre><code class="prism language-shell"><span class="token function">netstat</span> <span class="token parameter variable">-ano</span> <span class="token operator">|</span> findstr 端口号
</code></pre> 
<h4><a id="6crontab__1074"></a>6）、crontab 定时任务设置</h4> 
<pre><code class="prism language-shell"><span class="token function">crontab</span> <span class="token parameter variable">-e</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f6/ce/SOqz5PNE_o.png" alt="在这里插入图片描述"><br> （1）、重新启动 crond 服务</p> 
<pre><code class="prism language-shell">systemctl restart crond
</code></pre> 
<p>（2）、每隔 1 分钟，向/root/bailongma.txt 文件中添加一个 11 的数字</p> 
<pre><code class="prism language-shell">*/1 * * * * /bin/echo ”11” <span class="token operator">&gt;&gt;</span> /root/bailongma.txt
</code></pre> 
<h2><a id="_1087"></a>七、软件包管理</h2> 
<h3><a id="71BPM_1089"></a>7.1、BPM</h3> 
<p>RPM（RedHat Package Manager），RedHat软件包管理工具，类似windows里面的setup.exe是Linux这系列操作系统里面的打包安装工具，它虽然是RedHat的标志，但理念是通用的。</p> 
<p>RPM包的名称格式<br> Apache-1.3.23-11.i386.rpm</p> 
<ul><li>“apache” 软件名称</li><li>“1.3.23-11”软件的版本号，主版本和此版本</li><li>“i386”是软件所运行的硬件平台，Intel 32位处理器的统称</li><li>“rpm”文件扩展名，代表RPM包</li></ul> 
<h4><a id="1RPM_rpm_ivh_1100"></a>1）、RPM 安装命令（rpm -ivh）</h4> 
<p><img src="https://images2.imgbox.com/b5/e7/EZP6BpI9_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-shell"><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> 包名.rpm
</code></pre> 
<h4><a id="2RPM_rpm_qa_1107"></a>2）、RPM 查询命令（rpm -qa）</h4> 
<p>语法：rpm -qa （功能描述：查询所安装的所有 rpm 软件包）</p> 
<p>由于软件包比较多，一般都会采取过滤。rpm -qa | grep rpm软件包<br> 例如：查询firefox软件安装情况</p> 
<pre><code class="prism language-shell"><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span><span class="token function">grep</span> firefox
</code></pre> 
<h4><a id="3RPM_rpm_e_1117"></a>3）、RPM 卸载命令（rpm -e）</h4> 
<pre><code class="prism language-shell"><span class="token function">rpm</span> <span class="token parameter variable">-e</span> RPM软件包

<span class="token comment"># 卸载软件时，不检查依赖。这样的话，那些使用该软件包的软件在此之后可能就不能正常工作了。</span>
<span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> 软件包
</code></pre> 
<h3><a id="72YUM__1125"></a>7.2、YUM 仓库配置</h3> 
<p>YUM（全称为 Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 CentOS中的 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装</p> 
<p><img src="https://images2.imgbox.com/43/d4/9tpDQIBS_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="1YUM__1132"></a>1）、YUM 的常用命令</h4> 
<p>语法：yum [选项] [参数]</p> 
<p>选项：<br> <img src="https://images2.imgbox.com/9c/d2/o2OZGnQi_o.png" alt="在这里插入图片描述"></p> 
<p>参数：<br> <img src="https://images2.imgbox.com/a5/58/29N8nJ4F_o.png" alt="在这里插入图片描述"></p> 
<p>（1）、采用 yum 方式安装 firefox</p> 
<pre><code class="prism language-shell">yum <span class="token parameter variable">-y</span> <span class="token function">install</span> firefox
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ae7daf66b6f722702cf6485a543194d5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何将一个页面的数据以数组的形式传递到另外一个页面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f5df3b55be91723b23aa453572de15d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">带你玩转PX4无人机仿真(1) —— 运行官方案例（C&#43;&#43;）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>