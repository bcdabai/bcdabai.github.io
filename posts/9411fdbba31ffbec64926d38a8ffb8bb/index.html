<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>༺༽༾ཊ—Unity之-03-建造者模式—ཏ༿༼༻ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="༺༽༾ཊ—Unity之-03-建造者模式—ཏ༿༼༻" />
<meta property="og:description" content="首先我们打开一个项目
在这个初始界面我们需要做一些准备工作
建基础通用包
创建一个Plane 重置后 缩放100倍 加一个颜色
更换天空盒（个人喜好）
任务：使用【UI】点击生成6种车零件组装不同类型车 【建造者模式】
首先资源商店下载车模型
将Car导入资源拖拽至场景 将导入包放进WBag外包方便整理
将Car完全解压缩 为了取出小车各部分零件 方便我们组装车
拆分第一个组件 车体 命名为CarBody 放进预制体包Prefabs
删除场景中的 CarBody
拆分第二个组件 车座命名为 CarShadle
将剩余物体 设置 成空父物体的子物体 作为一个整体 命名为 CarWheels
准备工作做完后 接下我们做【建造者模式】
建造者模式属于23设计模式中的一种 是一种创建型模式
通常是为了 通过多种组件 由指挥者 拼装出 多种不同所需产品 建造者模式最低需要四个类就可以完成加上Main类中调用需要五个
首先需要 【产品类】
其实需要 【抽象建造类】
再其次需要 【建造具体类】
再再其次需要 【指挥者类】
最后我们通过Main继承Mono挂载再脚本上调用即可
实现：
1.创建脚本【产品类】：
using UnityEngine;
public class Car{
public GameObject CarPart {
get;
set;
}
}
2.【抽象建造类】：
public abstract class IBuildCar{" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9411fdbba31ffbec64926d38a8ffb8bb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T03:16:20+08:00" />
<meta property="article:modified_time" content="2024-01-24T03:16:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">༺༽༾ཊ—Unity之-03-建造者模式—ཏ༿༼༻</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> 首先我们打开一个项目</p> 
<p><img alt="" height="82" src="https://images2.imgbox.com/68/29/Dkat0ghh_o.png" width="589"></p> 
<p> 在这个初始界面我们需要做一些准备工作</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e1/fd/3pKrucUA_o.png" width="1200"></p> 
<p>建基础通用包</p> 
<p><img alt="" height="1083" src="https://images2.imgbox.com/db/5e/s64w7WJ0_o.png" width="1200"></p> 
<p>创建一个Plane 重置后 缩放100倍 加一个颜色</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/27/67/5mOHw2dU_o.png" width="1200"></p> 
<p>更换天空盒（个人喜好）</p> 
<p><img alt="" height="1022" src="https://images2.imgbox.com/c8/a5/SmeJsPlH_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/60/0c/JpgCcZHx_o.png" width="1200"></p> 
<p>任务：使用【UI】点击生成6种车零件组装不同类型车 【建造者模式】</p> 
<p>首先资源商店下载车模型</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/3c/0d/z8ypnkFT_o.png" width="1200"></p> 
<p>将Car导入资源拖拽至场景 将导入包放进WBag外包方便整理</p> 
<p><img alt="" height="1062" src="https://images2.imgbox.com/ea/dd/ql48KDNh_o.png" width="1200"></p> 
<p>将Car完全解压缩 为了取出小车各部分零件 方便我们组装车</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f1/1c/ts21XAps_o.png" width="1200"></p> 
<p>拆分第一个组件 车体 命名为CarBody 放进预制体包Prefabs</p> 
<p><img alt="" height="836" src="https://images2.imgbox.com/b6/08/IoOgDhUz_o.png" width="1200"></p> 
<p>删除场景中的 CarBody</p> 
<p><img alt="" height="795" src="https://images2.imgbox.com/04/9b/GBaispAb_o.png" width="1200"></p> 
<p>拆分第二个组件 车座命名为 CarShadle</p> 
<p><img alt="" height="867" src="https://images2.imgbox.com/88/b0/ZnfeCZFB_o.png" width="1200"></p> 
<p><img alt="" height="876" src="https://images2.imgbox.com/42/33/IksyLo7Y_o.png" width="1200"></p> 
<p>将剩余物体 设置 成空父物体的子物体 作为一个整体 命名为 CarWheels</p> 
<p><img alt="" height="832" src="https://images2.imgbox.com/2e/45/PM9jpYdK_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/c7/7e/11Cr76wl_o.png" width="1200"></p> 
<p>准备工作做完后    接下我们做【建造者模式】</p> 
<p>建造者模式属于23设计模式中的一种 是一种创建型模式</p> 
<p>通常是为了 通过多种组件 由指挥者 拼装出 多种不同所需产品 </p> 
<p>建造者模式最低需要四个类就可以完成加上Main类中调用需要五个</p> 
<p>首先需要         【产品类】</p> 
<p>其实需要         【抽象建造类】</p> 
<p>再其次需要     【建造具体类】</p> 
<p>再再其次需要 【指挥者类】</p> 
<p>最后我们通过Main继承Mono挂载再脚本上调用即可</p> 
<p>实现：</p> 
<p>1.创建脚本【产品类】：</p> 
<p><img alt="" height="855" src="https://images2.imgbox.com/db/98/MKYy1r6N_o.png" width="1200"></p> 
<p><img alt="" height="923" src="https://images2.imgbox.com/c2/6c/na9odRUH_o.png" width="1200"></p> 
<p>using UnityEngine;<br> public class Car{<!-- --><br>     public GameObject CarPart {<!-- --><br>         get;<br>         set;<br>     }<br> }</p> 
<p>2.【抽象建造类】：</p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/2d/ad/zza4LhO5_o.png" width="1200"></p> 
<p>public abstract class IBuildCar{<!-- --><br>     public abstract void SetCarBody();<br>     public abstract Car GetCar();<br> }</p> 
<p>3.【建造具体类】：</p> 
<p><img alt="" height="786" src="https://images2.imgbox.com/3c/db/wYNmuTnS_o.png" width="1200"></p> 
<p>using UnityEngine;<br> public class BuildCarA : IBuildCar{<!-- --><br>     Car car;<br>     public BuildCarA(Car car){<!-- --><br>         this.car = car;<br>     }<br>     public override void SetCarBody(){<!-- --><br>         car.CarPart = Resources.Load&lt;GameObject&gt;("Prefabs/CarBody");<br>         if(car.CarPart != null)<br>             GameObject.Instantiate(car.CarPart,new Vector3(0,0,0),Quaternion.identity);<br>     }<br>     public override Car GetCar(){<!-- --><br>         return car;<br>     }<br> }</p> 
<p>4.【指挥者类】：</p> 
<p><img alt="" height="583" src="https://images2.imgbox.com/dd/ce/goa1N3J0_o.png" width="1200"></p> 
<p>public class Director{<!-- --><br>     public IBuildCar type;<br>     public Director(IBuildCar type){<!-- --><br>         this.type = type;<br>     }<br>     public void GetCarBody() {<!-- --><br>         type.SetCarBody();<br>     }<br> }</p> 
<p>5.【控制挂载类】</p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/be/52/L6PKHaqu_o.png" width="1200"></p> 
<p>using UnityEngine;<br> public class Main : MonoBehaviour{<!-- --><br>     private void Start(){<!-- --><br>         Car car = new Car();<br>         //里氏替换<br>         IBuildCar type = new BuildCarA(car);<br>         Director d1 = new Director(type);<br>         d1.GetCarBody();<br>     }<br> }</p> 
<p>我们回到unity场景中创建一个空物体改名Obj 重置位置 将Main脚本挂载</p> 
<p>运行即可生成</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/06/f4/BXqrisDk_o.png" width="1200"></p> 
<p>接下来我们利用UI + 事件 控制【建造者模式】</p> 
<p>1.【产品类】 不动代码</p> 
<p>2.【抽象建造类】        不动代码</p> 
<p>3.【建造具体类】        修改代码：</p> 
<p><img alt="" height="949" src="https://images2.imgbox.com/35/74/m4U7rOKc_o.png" width="1200"></p> 
<p>using UnityEngine;<br> public class BuildCarA : IBuildCar{<!-- --><br>     //按钮计数器<br>     int count = 0;<br>     Car car;<br>     public BuildCarA(Car car){<!-- --><br>         this.car = car;<br>     }<br>     public override void SetCarBody(){<!-- --><br>         count++;<br>         car.CarPart = Resources.Load&lt;GameObject&gt;("Prefabs/CarBody");<br>         if(car.CarPart != null &amp;&amp; count % 2 != 0)<br>             GameObject.Instantiate(car.CarPart,new Vector3(0,1,0),new Quaternion(0,10,10,0));<br>     }<br>     public override Car GetCar(){<!-- --><br>         return car;<br>     }<br> }<br> 4.【指挥者类】      不动代码</p> 
<p>5.【控制挂载类】  修改代码：</p> 
<p><img alt="" height="934" src="https://images2.imgbox.com/bd/ed/MnxLP4HT_o.png" width="1200"></p> 
<p>using UnityEngine;<br> using UnityEngine.UI;<br> public class Main : MonoBehaviour{<!-- --><br>     //开放Button按钮<br>     public Button setCarBodyButton;<br>     //按钮计数器<br>     int count = 0;<br>     private void Start(){<!-- --><br>         Car car = new Car();<br>         //里氏替换<br>         IBuildCar type = new BuildCarA(car);<br>         Director d1 = new Director(type);<br>         setCarBodyButton.onClick.AddListener(() =&gt; d1.GetCarBody());<br>     }<br>     public void DestroyCarBody(){<!-- --><br>         if (count % 2 == 0)<br>             Destroy(GameObject.Find("CarBody(Clone)"));<br>     }<br> }<br> 我们回到unity场景中创建button     【做一个折叠按钮】</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/2b/8d/8zLJbQ2g_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/af/8d/ysjmO7jE_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/44/7b/QgKt9jRB_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b5/9f/FfZH2Syp_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b6/04/xLck98Hu_o.png" width="1152"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e4/c7/7ld7hlYH_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/c5/0b/BPefwbbA_o.png" width="1200"></p> 
<p><img alt="" height="1056" src="https://images2.imgbox.com/55/f3/zyY7VsGm_o.png" width="1173"></p> 
<p>ctrl + d复制 Button</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/33/fa/aB7A9ygn_o.png" width="1200"></p> 
<p>将未开启的Button 改名为 Close 开启的Button改名为 open</p> 
<p>修改Panel尺寸</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8c/52/VNsiMD5G_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/05/b4/TibQLQmB_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/98/ed/YrPIOjgc_o.png" width="1200"></p> 
<p>新建Button 作为 创建车体的按钮 改名为 ButtonA</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/12/a1/hgTYfzBR_o.png" width="1200"></p> 
<p>开启 按钮事件：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/7f/60/BV4nuXnl_o.png" width="1200"></p> 
<p>将Obj 拖拽至 框选栏 并选择</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/01/d3/wiuqzASd_o.png" width="1200"></p> 
<p>选择我们脚本代码中自定义的函数</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/bb/1c/15TayNh9_o.png" width="1200"></p> 
<p>最后将ButtonA 代码 绑定在 Main中</p> 
<p><img alt="" height="688" src="https://images2.imgbox.com/b1/9a/kjjc7wg9_o.png" width="1200"></p> 
<p>运行</p> 
<p>点击ButtonA 按钮</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/88/a4/F49Na1zm_o.png" width="1200"></p> 
<p>再点消失</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/94/eb/YYOD1t82_o.png" width="1200"></p> 
<p>关闭选项</p> 
<p><img alt="" height="626" src="https://images2.imgbox.com/01/84/d76Fljb3_o.png" width="1200"></p> 
<p> 目前已完成</p> 
<p>如果想在建造其他组件则需要：</p> 
<p>1.【产品类】               不动代码</p> 
<p>2.【抽象建造类】        增加代码：</p> 
<p><img alt="" height="746" src="https://images2.imgbox.com/28/7b/MMOiEUHr_o.png" width="1200"></p> 
<p>public abstract class IBuildCar{<!-- --><br>     public abstract void SetCarBody();<br>     public abstract void SetCarWheels();<br>     public abstract Car GetCar();<br> }<br> 3.【建造具体类】        增加代码：</p> 
<p><img alt="" height="1158" src="https://images2.imgbox.com/19/25/gBf49adJ_o.png" width="1200"></p> 
<p>using UnityEngine;<br> public class BuildCarA : IBuildCar{<!-- --><br>     //按钮计数器<br>     int count = 0;<br>     Car car;<br>     public BuildCarA(Car car){<!-- --><br>         this.car = car;<br>     }<br>     public override void SetCarBody(){<!-- --><br>         count++;<br>         car.CarPart = Resources.Load&lt;GameObject&gt;("Prefabs/CarBody");<br>         if(car.CarPart != null &amp;&amp; count % 2 != 0)<br>             GameObject.Instantiate(car.CarPart,new Vector3(-14,1,0),new Quaternion(0,10,10,0));<br>     }<br>     public override void SetCarWheels()<br>     {<!-- --><br>         count++;<br>         car.CarPart = Resources.Load&lt;GameObject&gt;("Prefabs/CarWheels");<br>         if (car.CarPart != null &amp;&amp; count % 2 != 0)<br>             GameObject.Instantiate(car.CarPart, new Vector3(-14, 0.24f, 25.29f), Quaternion.identity);<br>     }<br>     public override Car GetCar(){<!-- --><br>         return car;<br>     }<br> }</p> 
<p>4.【指挥者类】      增加代码：</p> 
<p><img alt="" height="781" src="https://images2.imgbox.com/2d/e8/Wx8ffLq3_o.png" width="1200"></p> 
<p>public class Director{<!-- --><br>     public IBuildCar type;<br>     public Director(IBuildCar type){<!-- --><br>         this.type = type;<br>     }<br>     public void GetCarBody() {<!-- --><br>         type.SetCarBody();<br>     }<br>     public void GetCarWheels()<br>     {<!-- --><br>         type.SetCarWheels();<br>     }<br> }</p> 
<p>5.【控制挂载类】  增加代码：</p> 
<p><img alt="" height="1091" src="https://images2.imgbox.com/73/30/py3i9Yp5_o.png" width="1200"></p> 
<p>using UnityEngine;<br> using UnityEngine.UI;<br> public class Main : MonoBehaviour{<!-- --><br>     //开放Button按钮<br>     public Button setCarBodyButton;<br>     public Button setCarWheelsButton;<br>     //按钮计数器<br>     int count = 0;<br>     private void Start(){<!-- --><br>         Car car = new Car();<br>         //里氏替换<br>         IBuildCar type = new BuildCarA(car);<br>         Director d1 = new Director(type);<br>         setCarBodyButton.onClick.AddListener(() =&gt; d1.GetCarBody());<br>         setCarWheelsButton.onClick.AddListener(() =&gt; d1.GetCarWheels());<br>     }<br>     public void DestroyCarBody(){<!-- --><br>         if (count % 2 == 0)<br>             Destroy(GameObject.Find("CarBody(Clone)"));<br>     }<br>     public void DestroyCarWheels()<br>     {<!-- --><br>         if (count % 2 == 0)<br>             Destroy(GameObject.Find("CarWheels(Clone)"));<br>     }<br> }<br> 回到unity场景中   重复事件操作即可完成运行</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4f/2d/sQ4nISrI_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6f00e9c32e39df5443f490ba58dc7ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">借助一个例子简要了解机器学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/080b7705975e299fb01afc8b0f8dfc71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RabbitMQ环境配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>