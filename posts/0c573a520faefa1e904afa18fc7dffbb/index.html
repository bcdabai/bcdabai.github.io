<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java车辆租赁管理系统 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java车辆租赁管理系统" />
<meta property="og:description" content="文章目录 一、项目需求二、项目结构项目源代码：1、database层1.Database类（车辆）2.UserDatabase类 2、model层1.Car类2.User类 3、 operation层1. IOpreation接口2.AddCarInfoOperation类3.DeleteCarInfoOperation类4.UpdateCarInfoOperation类5.GetCarsInfoOperation类6.BorrowOperation类7.ReturnOperation类8.ExitOperation类 4、service层1.MyCarManageService类2.UserDao类 5、test层1.Main类 三、运行截图 一、项目需求 完成一个车辆租赁管理系统，实现：
1、通过用户名、登录密码、验证码实现用户注册，并登录；
2、用户能够查看所有车辆，展示车辆的生产类型 、车名、月租金、是否借出的情况；
3、用户能够添加车辆信息（两种情况）：
3.1 新添加的书籍类型在数据集合bookMap中已存在，那么就直接将新书添加到对应类型的书籍List集合中
3.2 新添加的书籍类型在数据集合bookMap中不存在，那么需要新建键值对完成bookMap中的元素添加
4、用户能够修改车辆信息，如车辆生产类型、名称、月租金；
5、用户能够删除车辆信息，删除车辆后需要判断该车所在List集合长度是否为0，为0则该键值对一起移除；
6、用户能够租赁车辆与归还车辆；
7、退出系统
二、项目结构 项目分五个包：
1、database包：模拟数据层；
2、model包：实体对象层；
3、operation包：操作实现层；
4、service包：业务逻辑层；
5、test包：项目测试层
一个操作接口（ IOpreation接口）：
对于每一个操作都有相近的一部分，刚好可以用接口，利用接口类型的数组来进行相关的操作。
七个操作实现类：
用于实现租赁车辆的增删改查以及租赁归还等操作。
用一个protected IOpreation[] iOpreations;即接口类型的数组，主要是在它的子类中，在构造 函数中需要根据它们各自的功能实例化各个操作。
IOpreation[] iOpreations数组实例化：
public void doOperation(int choice, HashMap&lt;String, ArrayList&lt;Car&gt;&gt; CarMap) { this.iOpreations[choice].work(CarMap); } protected IOpreation[] iOpreations; /** * IOpreation[] iOpreations，在这里就实例化了 */ public MyCarManageService() { this.iOpreations = new IOpreation[]{ new GetCarsInfoOperation(), new AddCarInfoOperation(), new UpdateCarInfoOperation(), new DeleteCarInfoOperation(), new BorrowOperation(), new ReturnOperation(), new ExitOperation() }; } 将type和用例car分别作为key和value关联，使用hashMap存储；" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0c573a520faefa1e904afa18fc7dffbb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-20T18:49:06+08:00" />
<meta property="article:modified_time" content="2023-04-20T18:49:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java车辆租赁管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">一、项目需求</a></li><li><a href="#_13" rel="nofollow">二、项目结构</a></li><li><ul><li><a href="#_169" rel="nofollow">项目源代码：</a></li><li><a href="#1database_171" rel="nofollow">1、database层</a></li><li><ul><li><a href="#1Database_172" rel="nofollow">1.Database类（车辆）</a></li><li><a href="#2UserDatabase_219" rel="nofollow">2.UserDatabase类</a></li></ul> 
    </li><li><a href="#2model_255" rel="nofollow">2、model层</a></li><li><ul><li><a href="#1Car_256" rel="nofollow">1.Car类</a></li><li><a href="#2User_353" rel="nofollow">2.User类</a></li></ul> 
    </li><li><a href="#3_operation_390" rel="nofollow">3、 operation层</a></li><li><ul><li><a href="#1_IOpreation_391" rel="nofollow">1. IOpreation接口</a></li><li><a href="#2AddCarInfoOperation_415" rel="nofollow">2.AddCarInfoOperation类</a></li><li><a href="#3DeleteCarInfoOperation_472" rel="nofollow">3.DeleteCarInfoOperation类</a></li><li><a href="#4UpdateCarInfoOperation_522" rel="nofollow">4.UpdateCarInfoOperation类</a></li><li><a href="#5GetCarsInfoOperation_653" rel="nofollow">5.GetCarsInfoOperation类</a></li><li><a href="#6BorrowOperation_693" rel="nofollow">6.BorrowOperation类</a></li><li><a href="#7ReturnOperation_750" rel="nofollow">7.ReturnOperation类</a></li><li><a href="#8ExitOperation_806" rel="nofollow">8.ExitOperation类</a></li></ul> 
    </li><li><a href="#4service_826" rel="nofollow">4、service层</a></li><li><ul><li><a href="#1MyCarManageService_827" rel="nofollow">1.MyCarManageService类</a></li><li><a href="#2UserDao_1191" rel="nofollow">2.UserDao类</a></li></ul> 
    </li><li><a href="#5test_1239" rel="nofollow">5、test层</a></li><li><ul><li><a href="#1Main_1240" rel="nofollow">1.Main类</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_1258" rel="nofollow">三、运行截图</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>一、项目需求</h3> 
<blockquote> 
 <p>完成一个车辆租赁管理系统，实现：<br> 1、通过用户名、登录密码、验证码实现用户注册，并登录；<br> 2、用户能够查看所有车辆，展示车辆的生产类型 、车名、月租金、是否借出的情况；<br> 3、用户能够添加车辆信息（两种情况）：<br> 3.1 新添加的书籍类型在数据集合bookMap中已存在，那么就直接将新书添加到对应类型的书籍List集合中<br> 3.2 新添加的书籍类型在数据集合bookMap中不存在，那么需要新建键值对完成bookMap中的元素添加<br> 4、用户能够修改车辆信息，如车辆生产类型、名称、月租金；<br> 5、用户能够删除车辆信息，删除车辆后需要判断该车所在List集合长度是否为0，为0则该键值对一起移除；<br> 6、用户能够租赁车辆与归还车辆；<br> 7、退出系统</p> 
</blockquote> 
<h3><a id="_13"></a>二、项目结构</h3> 
<p>项目分五个包：</p> 
<p>1、<code>database包</code>：<strong>模拟数据层</strong>；<br> 2、<code>model包</code>：<strong>实体对象层</strong>；<br> 3、<code>operation包</code>：<strong>操作实现层</strong>；<br> 4、<code>service包</code>：<strong>业务逻辑层</strong>；<br> 5、<code>test包</code>：<strong>项目测试层</strong></p> 
<p><img src="https://images2.imgbox.com/f4/fe/D169lLVu_o.png" alt="在这里插入图片描述"></p> 
<p>一个操作接口（ IOpreation接口）：<br> 对于每一个操作都有相近的一部分，刚好可以用接口，利用接口类型的数组来进行相关的操作。</p> 
<p>七个操作实现类：<br> 用于实现租赁车辆的增删改查以及租赁归还等操作。</p> 
<p><img src="https://images2.imgbox.com/85/7c/oP02jlU3_o.png" alt="在这里插入图片描述"></p> 
<p>用一个protected IOpreation[] iOpreations;即接口类型的数组，主要是在它的子类中，在构造 函数中需要根据它们各自的功能实例化各个操作。<br> IOpreation[] iOpreations数组实例化：</p> 
<pre><code class="prism language-java">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOperation</span><span class="token punctuation">(</span><span class="token keyword">int</span> choice<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iOpreations<span class="token punctuation">[</span>choice<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token class-name">IOpreation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> iOpreations<span class="token punctuation">;</span>
    <span class="token comment">/**
     * IOpreation[] iOpreations，在这里就实例化了
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iOpreations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IOpreation</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">new</span> <span class="token class-name">GetCarsInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">AddCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">UpdateCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">DeleteCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">BorrowOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ReturnOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ExitOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p>将type和用例car分别作为key和value关联，使用hashMap存储；</p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">initCarMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建车辆对象</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"红旗"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">690</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"吉利"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">790</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car3</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"比亚迪"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">890</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Car</span> <span class="token class-name">Car5</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"奔驰"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">770</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car6</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"宝马"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">870</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car7</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"奥迪"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">680</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//创建车辆List集合</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// List集合添加车辆</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//HashMap添加键值对</span>
        <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Car1</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">CarList1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Car6</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">CarList2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">CarMap</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p>用户使用ArrayList存储用户名和密码</p> 
<pre><code class="prism language-java">      <span class="token comment">//存储所有的用户信息</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> user<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//初始化用户信息</span>
        <span class="token class-name">User</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小烟斗"</span><span class="token punctuation">,</span><span class="token string">"111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> b<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小酒壶"</span><span class="token punctuation">,</span><span class="token string">"222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> c<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小捣蛋"</span><span class="token punctuation">,</span><span class="token string">"333"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>通过遍历集合和列表获取车辆月租金：</p> 
<pre><code class="prism language-java">   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">getCarPrice</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Car</span> <span class="token operator">:</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//对车辆List集合进行遍历</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">CarInfo</span> <span class="token operator">:</span> <span class="token class-name">CarList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">CarName</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    price <span class="token operator">=</span> <span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> price<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre> 
<p>通过遍历集合和列表获取车辆生产类型：</p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarType</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList1</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayList1</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token class-name">CarArrayList1</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"您要修改的车辆生产类型不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_169"></a>项目源代码：</h4> 
<h4><a id="1database_171"></a>1、database层</h4> 
<h5><a id="1Database_172"></a>1.Database类（车辆）</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Database</span> <span class="token punctuation">{<!-- --></span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">initCarMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建车辆对象</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"红旗"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">690</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"吉利"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">790</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car3</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"比亚迪"</span><span class="token punctuation">,</span> <span class="token string">"国产"</span><span class="token punctuation">,</span> <span class="token number">890</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Car</span> <span class="token class-name">Car5</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"奔驰"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">770</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car6</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"宝马"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">870</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Car</span> <span class="token class-name">Car7</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"奥迪"</span><span class="token punctuation">,</span> <span class="token string">"德产"</span><span class="token punctuation">,</span> <span class="token number">680</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//创建车辆List集合</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// List集合添加车辆</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList1</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarList2</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Car7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//HashMap添加键值对</span>
        <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Car1</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">CarList1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Car6</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">CarList2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">CarMap</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="2UserDatabase_219"></a>2.UserDatabase类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>User<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDatabase</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//存储所有的用户信息</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> user<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> user<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//初始化用户信息</span>
        <span class="token class-name">User</span> a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小烟斗"</span><span class="token punctuation">,</span><span class="token string">"111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> b<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小酒壶"</span><span class="token punctuation">,</span><span class="token string">"222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> c<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"小捣蛋"</span><span class="token punctuation">,</span><span class="token string">"333"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="2model_255"></a>2、model层</h4> 
<h5><a id="1Car_256"></a>1.Car类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">;</span>



<span class="token comment">/**车辆管理系统优化点

 1 在修改车辆功能中 如果要修改的车辆类型或车辆名不存在的情况下 直接进行提示操作
 2 在修改车辆功能中 增加修改已有车辆的类型的功能
 3 在删除车辆功能中 如果删除的车辆类型和或车辆名不存在的情况下 直接进行提示操作


 在优化完的基础上 新增两个功能

 1 借车辆功能
 2 还车辆功能

 */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//车辆名</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token comment">//类型</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token comment">//价格</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> rentPrice<span class="token punctuation">;</span>
    <span class="token comment">//是否借出</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> isBorrowed<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token keyword">double</span> rentPrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rentPrice <span class="token operator">=</span> rentPrice<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token keyword">double</span> rentPrice<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isBorrowed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rentPrice <span class="token operator">=</span> rentPrice<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isBorrowed <span class="token operator">=</span> isBorrowed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> isBorrowed <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBorrowed</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> borrowed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        isBorrowed <span class="token operator">=</span> borrowed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> rentPrice<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token keyword">double</span> rentPrice<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>rentPrice <span class="token operator">=</span> rentPrice<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Car{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", type='"</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", rentPrice="</span> <span class="token operator">+</span> rentPrice <span class="token operator">+</span>
                <span class="token string">", isBorrowed="</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isBorrowed <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string">" 已借出 "</span><span class="token operator">:</span><span class="token string">" 未借出 "</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="2User_353"></a>2.User类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">;</span>

<span class="token comment">/**
 * 用户类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//用户名</span>
   <span class="token keyword">private</span>  <span class="token class-name">String</span> userName<span class="token punctuation">;</span>
    <span class="token comment">//密码</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> userName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserName</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> userName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_operation_390"></a>3、 operation层</h4> 
<h5><a id="1_IOpreation_391"></a>1. IOpreation接口</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 操作接口
 * 对于每一个操作都有相近的一部分，刚好可以用接口，在User（使用者）中利用接口类型的数组来进行相关的操作。
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>

     <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="2AddCarInfoOperation_415"></a>2.AddCarInfoOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AddCarInfoOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入您要添加的车辆生产类型:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">CarType</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入您要添加的车辆名:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">CarName</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入您要添加的车辆月出租价格:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> <span class="token class-name">CarPrice</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//创建车辆对象</span>
        <span class="token class-name">Car</span> addCar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">CarName</span><span class="token punctuation">,</span> <span class="token class-name">CarType</span><span class="token punctuation">,</span> <span class="token class-name">CarPrice</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//添加车辆存在两种情况</span>
        <span class="token comment">//1新添加的车辆生产类型在CarMap中已存在如果是这样那么就直接将新车辆添加到对应类型的车辆List集合中</span>
        <span class="token comment">//2新添加的车辆生产类型在CarMap中不存在如果这样需要新建键值对完成CarMap中的元素添加</span>
        <span class="token comment">//根据车辆生产类型查询是否有对应的车辆List集合</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span><span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayList</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 情况1</span>
            <span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>addCar<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//情况2</span>

            <span class="token comment">//新建List集合并添加车辆</span>
            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">CarList</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>addCar<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// CarMap新添加键值对</span>
            <span class="token class-name">CarMap</span><span class="token punctuation">.</span>put <span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">,</span><span class="token class-name">CarList</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"添加"</span><span class="token operator">+</span><span class="token class-name">CarName</span><span class="token operator">+</span><span class="token string">"成功!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre> 
<h5><a id="3DeleteCarInfoOperation_472"></a>3.DeleteCarInfoOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeleteCarInfoOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> scanner<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要删除的车辆生产类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> deleteCarType <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>deleteCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要删除的车辆名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> deleteCarName <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>deleteCarType<span class="token punctuation">,</span> deleteCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>deleteCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Car</span> <span class="token class-name">Car</span> <span class="token operator">=</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>deleteCarName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//要删除的车辆名存在进行删除</span>
                <span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"成功!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">//删除车辆后需要判断该车辆所在List集合长度是否为0</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//移除该键值对</span>
                    <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>deleteCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="4UpdateCarInfoOperation_522"></a>4.UpdateCarInfoOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpdateCarInfoOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scan<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请选择："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"1-&gt;修改车辆生产类型  2-&gt;修改车辆名称及价格  3-&gt;返回上一层"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> choose<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>choose<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入该车辆原生产类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> originalCarType <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span> originalCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要修改的车辆名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> modifyCarName <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>originalCarType<span class="token punctuation">,</span>  modifyCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入修改后的车辆生产类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> newCarType <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">double</span> <span class="token class-name">CarPrice</span><span class="token operator">=</span>user<span class="token punctuation">.</span><span class="token function">getCarPrice</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>modifyCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> <span class="token class-name">CarIsBorrowed</span><span class="token operator">=</span>user<span class="token punctuation">.</span><span class="token function">getCarIsBorrowed</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>modifyCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Car</span> addCar1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span> <span class="token punctuation">(</span>modifyCarName<span class="token punctuation">,</span> newCarType<span class="token punctuation">,</span> <span class="token class-name">CarPrice</span><span class="token punctuation">,</span><span class="token class-name">CarIsBorrowed</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>newCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayList</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">CarArrayList</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>addCar1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"更改车辆生产类型"</span><span class="token operator">+</span>modifyCarName<span class="token operator">+</span><span class="token string">"成功!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayListRemove</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>originalCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Car</span> <span class="token class-name">Car</span> <span class="token operator">=</span> <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>modifyCarName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">//要删除的车辆名存在进行删除</span>
                        <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

                        <span class="token comment">//删除车辆后需要判断该车辆所在ListJ集合长度是否为0</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token comment">//移除该键值对</span>
                            <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>originalCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">CarList</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>addCar1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// CarMap新添加键值对</span>
                <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>newCarType<span class="token punctuation">,</span> <span class="token class-name">CarList</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"更改"</span><span class="token operator">+</span>modifyCarName<span class="token operator">+</span><span class="token string">"的车辆生产类型"</span><span class="token operator">+</span><span class="token string">"成功!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayListRemove</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>originalCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Car</span> <span class="token class-name">Car</span> <span class="token operator">=</span> <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>modifyCarName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">//要删除的车辆名存在进行删除</span>
                        <span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//                    System.out.println("删除" + name + "成功!");</span>

                        <span class="token comment">//删除车辆后需要判断该车辆所在ListJ集合长度是否为0</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayListRemove</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token comment">//移除该键值对</span>
                            <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>originalCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>choose<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入该车辆生产类型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> <span class="token class-name">CarType</span> <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要修改的车辆名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> oldCarName <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span><span class="token class-name">CarType</span><span class="token punctuation">,</span> oldCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入新的车辆名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> newCarName <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入新的月租金"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">double</span> newCarPrice <span class="token operator">=</span> scan<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Car</span> <span class="token class-name">Car</span> <span class="token operator">:</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>oldCarName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>newCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>newCarPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"车辆"</span><span class="token operator">+</span>newCarName<span class="token operator">+</span><span class="token string">"的名称及月租金修改完成!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>choose<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

            user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

<span class="token comment">//        else{<!-- --></span>
<span class="token comment">//            System.out.println("输入有误，重新输入");</span>
<span class="token comment">//            Scanner scanner3= new Scanner(System.in);</span>
<span class="token comment">//               user.updateCarInfo(CarMap,scan);</span>
<span class="token comment">//        }</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="5GetCarsInfoOperation_653"></a>5.GetCarsInfoOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetCarsInfoOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"类型  \t车辆名\t\t月租金\t\t是否借出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//对CarMap进行遍历并打印</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Car</span> <span class="token operator">:</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//获取CarMap中的key(车辆生产类型)</span>
            <span class="token class-name">String</span> <span class="token class-name">CarType</span> <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//获取CarMap中的value（车辆List集合）</span>
            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//对车辆List集合进行遍历</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">CarInfo</span> <span class="token operator">:</span> <span class="token class-name">CarList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\t\t"</span><span class="token operator">+</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t\t"</span><span class="token operator">+</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t\t"</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string">"已借出"</span> <span class="token operator">:</span> <span class="token string">"未借出"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="6BorrowOperation_693"></a>6.BorrowOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token comment">/**
 * 租赁车辆
 * 对于租赁车辆只需要将车辆信息中的布尔型变量isBorrowed变量变为true即可，首先还是要遍历Carlist找到该车辆。
 */</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> scan<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------租赁车辆-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要租赁的车辆生产类型："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> borrowType<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>borrowType<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要租赁的车辆名称："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> borrowCarName<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>borrowType<span class="token punctuation">,</span>borrowCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>borrowType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//判断是否借出</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Car</span> <span class="token class-name">Car</span> <span class="token operator">:</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>borrowCarName<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"租赁车辆多少个月："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> carRentPrice<span class="token operator">=</span>user<span class="token punctuation">.</span><span class="token function">getCarPrice</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>borrowCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> month<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">double</span> yourPrice<span class="token operator">=</span>month<span class="token operator">*</span>carRentPrice<span class="token punctuation">;</span>
                <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">setBorrowed</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"租赁成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该车辆的最新信息为："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"本次租金金额为："</span><span class="token operator">+</span>yourPrice<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>borrowCarName<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该车辆已被借出"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


</code></pre> 
<h5><a id="7ReturnOperation_750"></a>7.ReturnOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * 归还车辆
 * 和借阅车辆进行对比可只，借阅车辆是将isBorrowed变量由false变为true，那么归还车辆就是将isBorrowed变量由true变为false.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReturnOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Scanner</span> scan<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----------归还车辆--------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要归还的车辆生产类型："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> returnCarType<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>returnCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要归还的车辆名称："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> returnCarName<span class="token operator">=</span>scan<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">,</span>returnCarType<span class="token punctuation">,</span>returnCarName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>returnCarType<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">Car</span> <span class="token operator">:</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>returnCarName<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">setBorrowed</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"归还成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该车辆的最新信息为："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>returnCarName<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该车辆已被归还"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        user<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>



</code></pre> 
<h5><a id="8ExitOperation_806"></a>8.ExitOperation类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExitOperation</span> <span class="token keyword">implements</span> <span class="token class-name">IOpreation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//正在退出系统</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"正在退出系统"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="4service_826"></a>4、service层</h4> 
<h5><a id="1MyCarManageService_827"></a>1.MyCarManageService类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">.</span>Database<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">.</span>UserDatabase<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>User<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>operation<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token comment">/**车辆管理系统优化点

 1 在修改车辆功能中 如果要修改的车辆生产类型或车辆名不存在的情况下 直接进行提示操作
 2 在修改车辆功能中 增加修改已有车辆的类型的功能
 3 在删除车辆功能中 如果删除的车辆生产类型和或车辆名不存在的情况下 直接进行提示操作

 在优化完的基础上 新增两个功能
 1 借车辆功能
 2 还车辆功能
 */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCarManageService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Database</span> database1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span> <span class="token operator">=</span> database1<span class="token punctuation">.</span><span class="token function">initCarMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">UserDatabase</span> database2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span>database2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token class-name">UserDatabase</span> database2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span>database2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOperation</span><span class="token punctuation">(</span><span class="token keyword">int</span> choice<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iOpreations<span class="token punctuation">[</span>choice<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token class-name">IOpreation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> iOpreations<span class="token punctuation">;</span>
    <span class="token comment">/**
     * IOpreation[] iOpreations，在这里就实例化了
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>iOpreations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IOpreation</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">new</span> <span class="token class-name">GetCarsInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">AddCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">UpdateCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">DeleteCarInfoOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">BorrowOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ReturnOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">ExitOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment"></span>

    <span class="token comment">/**
     * 起始菜单
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"1. 登录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2. 注册"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"3. 退出系统"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> enter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> choices <span class="token operator">=</span> enter<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>choices<span class="token operator">&gt;</span><span class="token number">3</span><span class="token operator">||</span>choices<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"你的输入不合要求！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>choices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                <span class="token function">firstLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//                GoBack1();</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                <span class="token function">enroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token comment">//创建键盘录入对象</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> choice <span class="token operator">=</span> <span class="token function">menu</span><span class="token punctuation">(</span>scanner<span class="token punctuation">,</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token function">doOperation</span><span class="token punctuation">(</span>choice<span class="token punctuation">,</span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对车辆进行相关的操作</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">menu</span><span class="token punctuation">(</span> <span class="token class-name">Scanner</span> scanner<span class="token punctuation">,</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-------欢迎使用车辆租借管理系统-------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"1.查看所有车辆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2.添加车辆信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"3.修改车辆信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"4.删除车辆信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"5.租赁车辆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"6.归还车辆"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"7.退出系统"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请您选择:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//获取键盘录入的数字</span>
        <span class="token keyword">int</span> chooseNum <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>chooseNum <span class="token operator">&gt;</span><span class="token number">7</span> <span class="token operator">||</span>chooseNum <span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"您的输入不合要求！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> chooseNum<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">GoBack1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> opt1 <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>opt1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 登陆
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span>  <span class="token function">firstLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入用户名："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> userName <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> userDao1<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//在数据库中找不到的账户，给出提示</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该用户不存在！\n请重新输入："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">firstLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入密码："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        else {<!-- --></span>
            <span class="token comment">//在数据库中找到的账户，再根据其密码和输入的密码比较</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"用户"</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">"登录成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//                mainMenu();</span>
<span class="token comment">//                GoBack1();</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"您输入的密码有误！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">firstLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token comment">//    }</span>

    <span class="token comment">/**
     * 注册
     */</span>
    <span class="token comment">//产生验证码</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">createValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//产生一位0-9的随机数</span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            code <span class="token operator">+=</span>num<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//返回验证码</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">enroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入注册的用户名："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> userName <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//判断用户名是否被注册</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userDao1<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"该用户已被注册"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">enroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入注册的密码："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password1 <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请确认密码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password2 <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>password1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password2<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"两次密码不一样"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            password1 <span class="token operator">=</span> <span class="token function">passWord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment">//            enroll();</span>
<span class="token comment">//            start();</span>

        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"验证码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> code<span class="token operator">=</span><span class="token function">createValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入验证码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">ValidateCode</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ValidateCode</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"验证码错误"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token class-name">ValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//            enroll();</span>
<span class="token comment">//                 start();</span>
        <span class="token punctuation">}</span>

                <span class="token class-name">User</span> enrollUser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>userName<span class="token punctuation">,</span> password1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                enrollUser<span class="token punctuation">.</span><span class="token function">setUserName</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                enrollUser<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//将注册的信息写入数据库</span>
                userDao1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>enrollUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"用户"</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">"创建成功！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//返回起始菜单</span>
                <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>



    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">passWord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入要注册的密码："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password1 <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请确认密码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password2 <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>password1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"两次密码不一样"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">passWord</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

            <span class="token keyword">return</span> password1<span class="token punctuation">;</span>

<span class="token comment">//        GoBack1();</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">ValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"验证码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> code<span class="token operator">=</span><span class="token function">createValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"请输入验证码:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token class-name">ValidateCode</span> <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ValidateCode</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"验证码错误"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ValidateCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token comment">//        GoBack1();</span>
    <span class="token punctuation">}</span>




    <span class="token comment">//</span>




    <span class="token comment">/**
     * 获取车辆原出租价格
     * @param CarMap
     * @param CarName
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">getCarPrice</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> price <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Car</span> <span class="token operator">:</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//对车辆List集合进行遍历</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">CarInfo</span> <span class="token operator">:</span> <span class="token class-name">CarList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">CarName</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    price <span class="token operator">=</span> <span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> price<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 判断车辆是否借出
     * @param CarMap
     * @param CarName
     * @return
     */</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">getCarIsBorrowed</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> isBorrowed<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Car</span> <span class="token operator">:</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car<span class="token punctuation">&gt;</span></span> <span class="token class-name">CarList</span> <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//对车辆List集合进行遍历</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">CarInfo</span> <span class="token operator">:</span> <span class="token class-name">CarList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">CarName</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

                    isBorrowed <span class="token operator">=</span> <span class="token class-name">CarInfo</span><span class="token punctuation">.</span><span class="token function">isBorrowed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> isBorrowed<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 判断车辆生产类型是否存在
     *
     * @param CarMap
     * @param CarType
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">isExitByType</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarType</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList1</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CarArrayList1</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token class-name">CarArrayList1</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"您要修改的车辆生产类型不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 判断车辆名称是否存在
     *
     * @param CarMap
     * @param CarType
     * @param CarName
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">isExitByName</span><span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarMap</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarType</span><span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">CarName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">//根据车辆生产类型获取车辆List集合</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CarArrayList</span> <span class="token operator">=</span> <span class="token class-name">CarMap</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">CarType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//判断要修改的车辆是否存在</span>
        <span class="token keyword">boolean</span> isExist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>Car <span class="token class-name">Car</span> <span class="token operator">:</span> <span class="token class-name">CarArrayList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">CarName</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                isExist <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isExist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"您要修改的车辆名:"</span> <span class="token operator">+</span> <span class="token class-name">CarName</span> <span class="token operator">+</span> <span class="token string">"在系统里不存在"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">CarMap</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<h5><a id="2UserDao_1191"></a>2.UserDao类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">.</span>UserDatabase<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>model<span class="token punctuation">.</span>User<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">UserDatabase</span> database1<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDatabase</span> database1<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>database1 <span class="token operator">=</span> database1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 根据用户名查找用户
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">User</span> user <span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> username<span class="token operator">:</span>database1<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>username<span class="token punctuation">.</span><span class="token function">getUserName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                user<span class="token operator">=</span>username<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 新增用户
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        database1<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 为了使每一个DAO对象访问到的数据库都是同一个数据库
 * 需要将数据库对象通过参数进行传递，以确保每个DAO访问到的是相同的数据库
 */</span>





</code></pre> 
<h4><a id="5test_1239"></a>5、test层</h4> 
<h5><a id="1Main_1240"></a>1.Main类</h5> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>test<span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>dataBase<span class="token punctuation">.</span>Database<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token class-name">CarManage</span><span class="token punctuation">.</span>cn<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>just<span class="token punctuation">.</span>service<span class="token punctuation">.</span>MyCarManageService<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Database</span> database <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyCarManageService</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCarManageService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             user<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1258"></a>三、运行截图</h3> 
<p>注册：</p> 
<p><img src="https://images2.imgbox.com/2e/d7/THN5qwIo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/37/96/Y1yJFlEx_o.png" alt="在这里插入图片描述"></p> 
<p>登录：</p> 
<p><img src="https://images2.imgbox.com/14/78/oncos2Cj_o.png" alt="在这里插入图片描述"></p> 
<p>查看车辆</p> 
<p><img src="https://images2.imgbox.com/27/2f/zbSEhgiI_o.png" alt="在这里插入图片描述"></p> 
<p>添加车辆</p> 
<p><img src="https://images2.imgbox.com/13/05/RCzMPdFm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/43/55/XGuYgLDk_o.png" alt="在这里插入图片描述"></p> 
<p>修改车辆</p> 
<p><img src="https://images2.imgbox.com/48/50/DbzDnlix_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ce/10/kj9m8Ml1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c5/f7/R9Z88nun_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/d0/d0/h0aG21OO_o.png" alt="在这里插入图片描述"></p> 
<p>删除车辆：</p> 
<p><img src="https://images2.imgbox.com/83/37/gJLctB70_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fb/f5/cZc4iX6Y_o.png" alt="在这里插入图片描述"></p> 
<p>租赁车辆</p> 
<p><img src="https://images2.imgbox.com/1f/a1/UnqSFshh_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/df/c7/ParjlmCm_o.png" alt="在这里插入图片描述"></p> 
<p>归还车辆</p> 
<p><img src="https://images2.imgbox.com/7f/11/m18KnQAk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/04/8f/JkZK1To3_o.png" alt="在这里插入图片描述"></p> 
<p>结束退出</p> 
<p><img src="https://images2.imgbox.com/08/93/Z2fRNTha_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/029e56ee6bfeff63e1a1165a961ca55f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 死锁的原理、检测和解决死锁</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/61d3e2d2508423b420e986ca7ea88949/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">流程图拖拽视觉编程--概述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>