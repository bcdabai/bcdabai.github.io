<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Event事件处理机制和原理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Event事件处理机制和原理" />
<meta property="og:description" content="一）事件处理机制的原理 事件模型定义了一套标准的生成和处理事件消息的方法，使程序中的对象可以相互交互、通信、保持自身状态和相应变化。简单的说，数据的提供者只管发出数据对象，只要确保数据对象是 Event类或者子类的实例即可。
这种数据对象，称为事件（Event）。数据对象的发出者，称之为事件发送者（Event dispatcher）。同时，接受事件的对象，称为 事件侦听者（Event listener)。
我们来看一个简单的例子。
当我们想要和男（女）朋友约会的时候，我们通常都会有一个约会的发起者，同时还有个一个约会对象。那么在这个邀请过程中，就是一个很好的事件过程。
这个过程请见下图：
男朋友是事件发送者，邀请约会就是男朋友发送的事件。而女朋友就是事件侦听器。
这个事件，包含三条主要内容：事件的类型，事件的目标，事件的相关数据。事件的类型就是邀请约会，女朋友会根据事件的不同，来执行不同的任务。比如，事件是“邀请约会”，那么女朋友可能会执行，梳妆打扮，然后赴约。如果事件是“肚子饿了”，那么女朋友会执行买菜做饭。
事件的目标，就是事件的发送者。如果没有这个信息，那么女朋友接到事件后，就无法知道是谁要约她，或者是谁饿了。
事件的数据，就是事件所要包含的信息。上面的约会事件中，事件的信息可以包括事件，地点，干什么。同理，“肚子饿了”这个事件，要包含的信息是想吃些什么，在家里吃还是去外面吃等等。当然，也有一些事件是不包含信息的，例如“捶背”，事件接受者只要收到这个事件，直接执行就可以了。
二） 事件执行流程 事件机制包含4个步骤：注册侦听器，发送事件，侦听事件，移除侦听器。这四个步骤是按照顺序来执行的。
注册侦听器，即指定事件由哪个对象的哪个方法来接受。在上一节约会的例子中，我们指定由男朋友来发送事件，由女朋友来接受事件。
只有在注册侦听器后，发送的事件才能被侦听。而且发送的事件必须和侦听器事件的类型匹配。在发送事件后，侦听器才能侦听到事件。
三）Event类 Event类是所有事件类的基类。当你你要创建一个自定义事件的时候，事件应该继承自Event类。同时Event类也包含一些事件。这些事件通常与显示列表，显示对象的状态有关。
在使用Event类时，有几个属性与方法需要我们注意。
首先是构造函数中的三个参数：type、bubbles和cancelable。
1）type指定我们事件的类型，在“约会”的例子中，我们的type事件类型为“DATE”。我们经常使用的事件类型有“ADDED”、“COMPLETE”等。
2）bubbles是指定事件是否参与事件流的冒泡阶段，关于事件流，会在后面的小节中介绍。
3）cancelable表示是否要取消Event对象。
另外还需要关注的属性就是target，这个属性表示事件的目标，也就是事件的发送者。其他的一些方法都与事件流有关，后面的内容会进行详细介绍。
四）事件侦听器 事件侦听器也就是事件的处理者，负责接收事件携带的信息，并在接收到该事件后执行特定的代码。
常见Event事件的侦听器必须是一个函数。事件的发送者必须是 EventDispather类或者子类的实例。只有事件发送者才能侦听事件，并且可以注册侦听器。
侦听事件分为两个部分，第一是建立侦听器，侦听器可以是独立的函数，也可以是某一个对象的方法。第二步是注册侦听器，使用事件发送者的 addEventDispather将相应的事件分配给侦听器。
对于注册侦听函数的定义。我们常用的只有三个参数：
1）第一个参数type表示事件类型。
2）listener就是用来处理事件的侦听器。
3）thisObject比较特殊，一般我们填写this。
五）创建侦听器 一个侦听器必须是函数，它可以是一个独立函数，也可以是一个实例的方法。侦听器必须有一个参数，并且这个参数必须是 Event类实例或其子类的实例，同时，侦听器的返回值必须为空（void）。范例代码如下：
listenerName(evt:Event):void{...}
六）注册侦听器与移除侦听器 只有事件的发送者才可以注册侦听器，事件的发送者必须是 EventDispatcher类或其子类的实例。移除侦听器也同理，通常情况下，注册侦听器与移除侦听器都是成对出现。
注册侦听器
事件发送者.addEventListener(事件类型,侦听器, this);
移除侦听器
事件发送者.removeEventListener(事件类型,侦听器, this);
七）检测侦听器 如果你需要在逻辑中检测某一个事件发送者是否注册了侦听器，那么你有两个方法可以使用。一个是 hasEventListener ,另外一个是willTrigger 。两个方法执行效果相同，都是判断一个事件发送者是否注册了某一个类型的事件。
如果该事件类型已经被注册过，返回 true，如果没有被注册过，返回 false。
事件发送者.hasEventListener(事件类型);
八）TouchEvent的启动开关 TouchEvent的启动开关 touchEnabled 指定此对象是否接收触摸或其他用户输入。默认值为 true，这表示默认情况下，显示列表上的任何 DisplayObject实例都会接收触摸事件或其他用户输入事件。如果将 touchEnabled设置为false，则实例将不接收任何触摸事件（或其他用户输入事件）。显示列表上的该实例的任何子级都不会受到影响。要更改显示列表上对象的所有子级的 touchEnabled行为，请使用 DisplayObjectContainer.touchChildren。
实际使用过程，如果某些显示对象不再需要侦听TouchEvent，那就及时关闭吧：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b4375646e25fb0564468aa0e89cbc90c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-03T10:25:56+08:00" />
<meta property="article:modified_time" content="2017-08-03T10:25:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Event事件处理机制和原理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="margin:0px; padding:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; line-height:35px"> <span style="font-size:18px">一）事件处理机制的原理</span></h4> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>        事件模型定义了一套标准的生成和处理事件消息的方法，使程序中的对象可以相互交互、通信、保持自身状态和相应</span><span style="color:rgb(51,51,51)">变化。简单的说，数据的提供者只管发出数据对象，只要确保数据对象是</span><span style="color:rgb(51,51,51)"> Event</span><span style="color:rgb(51,51,51)">类或者子类的实例即可。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">        这种数据对象</span><span style="color:rgb(51,51,51)">，称为<em>事件（</em></span><em><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">）</span></em><span style="color:rgb(51,51,51)">。数据对象的发出者，称之为事件<em>发送者（</em></span><em><span style="color:rgb(51,51,51)">Event dispatcher</span><span style="color:rgb(51,51,51)">）</span></em><span style="color:rgb(51,51,51)">。同时，接受事件的对象，称为</span><span style="color:rgb(51,51,51)"> </span><em><span style="color:rgb(51,51,51)">事件侦听者（</span><span style="color:rgb(51,51,51)">Event listener)</span></em><span style="color:rgb(51,51,51)">。</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px">我们来看一个简单的例子。</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"> </span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>         当我们想要和男（女）朋友约会的时候，我们通常都会有一个约会的发起者，同时还有个一个约会对象。那么在这个邀请过程中，就是一个很好的事件过程。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px">这个过程请见下图：</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; text-align:center"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><img src="" alt=""><br> </span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>           男朋友是事件<em>发送者</em>，邀请约会就是男朋友发送的<em>事件</em>。而女朋友就是<em>事件侦听器</em>。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>           这个事件，包含三条主要内容：事件的类型，事件的目标，事件的相关数据。事件的类型就是邀请约会，女朋友会</span><span style="color:rgb(51,51,51)">根据事件的不同，来执行不同的任务。比如，事件是</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">邀请约会</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">，那么女朋友可能会执行，梳妆打扮，然后赴约。如果事件</span><span style="color:rgb(51,51,51)">是</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">肚子饿了</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">，那么女朋友会执行买菜做饭。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px">          事件的<em>目标</em>，就是事件的发送者。如果没有这个信息，那么女朋友接到事件后，就无法知道是谁要约她，或者是谁饿了。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          事件的<em>数据</em>，就是事件所要包含的信息。上面的约会事件中，事件的信息可以包括事件，地点，干什么。同理，</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">肚子饿了</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">这个事件，要包含的信息是想吃些什么，在家里吃还是去外面吃等等。当然，也有一些事件是不包含信息的，例如</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">捶背</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">，事件接受者只要收到这个事件，直接执行就可以了。</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"> </span></p> 
<h4 style="margin:0px; padding:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; line-height:35px"> <a target="_blank" name="t1" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px">二） 事件执行流程</span></h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"> <span style="white-space:pre"> </span><span style="color:rgb(51,51,51)">事件机制包含</span><span style="color:rgb(51,51,51)">4</span><span style="color:rgb(51,51,51)">个步骤：</span><strong><span style="color:rgb(51,51,51)">注册侦听器，发送事件，侦听事件，移除侦听器</span></strong><span style="color:rgb(51,51,51)">。这四个步骤是按照顺序来执行的。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">注册侦听器，即指定事件由哪个对象的哪个方法来接受。在上一节约会的例子中，我们指定由男朋友来发送事件，由女朋友</span><span style="color:rgb(51,51,51)">来接受事件。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>           只有在注册侦听器后，发送的事件才能被侦听。而且发送的事件必须和侦听器事件的类型匹配。在发送事件后，侦听器才能</span><span style="color:rgb(51,51,51)">侦听到事件。</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"> </span></p> 
<h4 style="margin:0px; padding:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; line-height:35px"> <a target="_blank" name="t2" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px">三）Event类</span></h4> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>           Event</span><span style="color:rgb(51,51,51)">类是所有事件类的基类。当你你要创建一个自定义事件的时候，事件应该继承自</span><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">类。同时</span><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">类也包含一些事件。这些事件通常与显示列表，</span><span style="color:rgb(51,51,51)">显示对象的状态有关。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          在使用</span><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">类时，有几个属性与方法需要我们注意。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          首先是构造函数中的三个参数：</span><strong><span style="color:rgb(51,51,51)">type</span><span style="color:rgb(51,51,51)">、</span><span style="color:rgb(51,51,51)">bubbles</span><span style="color:rgb(51,51,51)">和</span><span style="color:rgb(51,51,51)">cancelable</span><span style="color:rgb(51,51,51)">。</span></strong></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">1</span><span style="color:rgb(51,51,51)">）</span><span style="color:rgb(51,51,51)">type</span><span style="color:rgb(51,51,51)">指定我们事件的类型，在</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">约会</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">的例子中，我们的</span><span style="color:rgb(51,51,51)">type</span><span style="color:rgb(51,51,51)">事件类型为</span><span style="color:rgb(51,51,51)">“DATE”</span><span style="color:rgb(51,51,51)">。我们经常使用的事件类型有</span><span style="color:rgb(51,51,51)">“ADDED”</span><span style="color:rgb(51,51,51)">、</span><span style="color:rgb(51,51,51)">“COMPLETE”</span><span style="color:rgb(51,51,51)">等。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">2</span><span style="color:rgb(51,51,51)">）</span><span style="color:rgb(51,51,51)">bubbles</span><span style="color:rgb(51,51,51)">是指定事件是否参与事件流的冒泡阶段，关于事件流，会在后面的小节中介绍。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">3</span><span style="color:rgb(51,51,51)">）</span><span style="color:rgb(51,51,51)">cancelable</span><span style="color:rgb(51,51,51)">表示是否要取消</span><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">对象。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">另外还需要关注的属性就是</span><span style="color:rgb(51,51,51)">target</span><span style="color:rgb(51,51,51)">，这个属性表示事件的目标，也就是事件的发送者。其他的一些方法都与事件流有关，后面的内容会进行详细介绍。</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><br> </span></p> 
<h4 style="margin:0px; padding:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; line-height:35px"> <a target="_blank" name="t3" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px">四）事件侦听器</span></h4> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>          事件侦听器也就是事件的处理者，负责接收事件携带的信息，并在接收到该事件后执行特定的代码。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          常见</span><span style="color:rgb(51,51,51)">Event</span><span style="color:rgb(51,51,51)">事件的侦听器必须是一个函数。事件的发送者必须是</span><span style="color:rgb(51,51,51)"> EventDispather</span><span style="color:rgb(51,51,51)">类或者子类的实例。只有事件发送者才能侦听事件，并且可以注册侦听器。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          侦听事件分为两个部分，第一是建立侦听器，侦听器可以是独立的函数，也可以是某一个对象的方法。第二步是注册侦听器，使用事件发送者的</span><span style="color:rgb(51,51,51)"> addEventDispather</span><span style="color:rgb(51,51,51)">将相应的事件分配给侦听器。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>          对于注册侦听函数的定义。我们常用的只有三个参数：</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">1</span><span style="color:rgb(51,51,51)">）第一个参数</span><span style="color:rgb(51,51,51)">type</span><span style="color:rgb(51,51,51)">表示事件类型。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">2</span><span style="color:rgb(51,51,51)">）</span><span style="color:rgb(51,51,51)">listener</span><span style="color:rgb(51,51,51)">就是用来处理事件的侦听器。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">3</span><span style="color:rgb(51,51,51)">）</span><span style="color:rgb(51,51,51)">thisObject</span><span style="color:rgb(51,51,51)">比较特殊，一般我们填写</span><span style="color:rgb(51,51,51)">this</span><span style="color:rgb(51,51,51)">。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><br> </span></span></p> 
<h4 style="margin:0px; padding:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; line-height:35px"> <a target="_blank" name="t4" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px"><span style="color:rgb(51,51,51)">五）</span>创建侦听器</span></h4> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>            一个侦听器必须是函数，它可以是一个独立函数，也可以是一个实例的方法。侦听器必须有一个参数，并且这个参数必须是</span><span style="color:rgb(51,51,51)"> Event</span><span style="color:rgb(51,51,51)">类实例或其子类的实例，</span><span style="color:rgb(51,51,51)">同时，侦听器的返回值必须为空（</span><span style="color:rgb(51,51,51)">void</span><span style="color:rgb(51,51,51)">）。范例代码如下：</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="color:rgb(153,153,153)"><span style="font-size:18px">listenerName(evt:Event):void{...}</span></span></p> 
<div style="color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> <span style="color:rgb(34,34,34)"><span style="font-size:18px"><br> </span></span></p> 
 <h4 style="margin:0px; padding:0px"><a target="_blank" name="t5" class=" " style="color:rgb(12,137,207)"></a><span style="color:rgb(34,34,34)"><span style="font-size:18px">六）注册侦听器与移除侦听器</span></span></h4> 
</div> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>            只有事件的发送者才可以注册侦听器，事件的发送者必须是</span><span style="color:rgb(51,51,51)"> EventDispatcher</span><span style="color:rgb(51,51,51)">类或其子类的实例。移除侦听器也同理，通常情况下，注册侦听器与移除</span><span style="color:rgb(51,51,51)">侦听器都是成对出现。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>注册侦听器</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="font-size:18px"><span style="color:rgb(153,153,153)">事件发送者</span><span style="color:rgb(153,153,153)">.addEventListener(</span><span style="color:rgb(153,153,153)">事件类型</span><span style="color:rgb(153,153,153)">,</span><span style="color:rgb(153,153,153)">侦听器</span><span style="color:rgb(153,153,153)">, this);</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>移除侦听器</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="font-size:18px"><span style="color:rgb(153,153,153)">事件发送者</span><span style="color:rgb(153,153,153)">.removeEventListener(</span><span style="color:rgb(153,153,153)">事件类型</span><span style="color:rgb(153,153,153)">,</span><span style="color:rgb(153,153,153)">侦听器</span><span style="color:rgb(153,153,153)">, this);</span></span></p> 
<div style="color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> <span style="font-size:18px"><br> </span></p> 
 <h4 style="margin:0px; padding:0px"><a target="_blank" name="t6" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px">七<span style="color:rgb(34,34,34)">）检测侦听器</span></span></h4> 
</div> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          如果你需要在逻辑中检测某一个事件发送者是否注册了侦听器，那么你有两个方法可以使用。</span><span style="color:rgb(51,51,51)">一个是</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(221,17,68)">hasEventListener</span><span style="color:rgb(51,51,51)"> ,</span><span style="color:rgb(51,51,51)">另外一个是</span><span style="color:rgb(221,17,68)">willTrigger</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(51,51,51)">。两个方法执行效果相同，都是判断一个事件发送者是否注册了某一个类型的事件。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>          如果该事件类型已经被注册过，返回</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(221,17,68)">true</span><span style="color:rgb(51,51,51)">，如果没有被注册过，返回</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(221,17,68)">false</span><span style="color:rgb(51,51,51)">。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="font-size:18px"><span style="color:rgb(153,153,153)">事件发送者</span><span style="color:rgb(153,153,153)">.hasEventListener(</span><span style="color:rgb(153,153,153)">事件类型</span><span style="color:rgb(153,153,153)">);</span></span></p> 
<div style="color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> <span style="color:rgb(34,34,34)"><span style="font-size:18px"><br> </span></span></p> 
 <h4 style="margin:0px; padding:0px"><a target="_blank" name="t7" class=" " style="color:rgb(12,137,207)"></a><span style="font-size:18px"><span style="color:rgb(34,34,34)">八）</span><span style="color:rgb(34,34,34)">TouchEvent</span><span style="color:rgb(34,34,34)">的启动开关</span></span></h4> 
</div> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>           TouchEvent</span><span style="color:rgb(51,51,51)">的启动开关</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(221,17,68)">touchEnabled</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(51,51,51)">指定此对象是否接收触摸或其他用户输入。默认值为</span><span style="color:rgb(51,51,51)"> true</span><span style="color:rgb(51,51,51)">，这表示默认情况下，显示列表上的任何</span><span style="color:rgb(51,51,51)"> DisplayObject</span><span style="color:rgb(51,51,51)">实例都会接收触摸事件或其他用户输入事件。如果将</span><span style="color:rgb(51,51,51)"> touchEnabled</span><span style="color:rgb(51,51,51)">设置为</span><span style="color:rgb(51,51,51)">false</span><span style="color:rgb(51,51,51)">，则实例将不接收任何触摸事件（或其他用户输入事件）。显示列表上的该实例的任何子级都不会受到影响。要更改显示列表上对象的所有子级的</span><span style="color:rgb(51,51,51)"> touchEnabled</span><span style="color:rgb(51,51,51)">行为，请使用</span><span style="color:rgb(51,51,51)"> </span><span style="color:rgb(221,17,68)">DisplayObjectContainer.touchChildren</span><span style="color:rgb(51,51,51)">。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">实际使用过程，如果某些显示对象不再需要侦听</span><span style="color:rgb(51,51,51)">TouchEvent</span><span style="color:rgb(51,51,51)">，那就及时关闭吧：</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="font-size:18px"><span style="color:rgb(153,153,153)">显示对象实例</span><span style="color:rgb(153,153,153)">.touchEnabled = false;</span></span></p> 
<div style="color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> <span style="color:rgb(34,34,34)"><span style="font-size:18px"><br> </span></span></p> 
 <h4 style="margin:0px; padding:0px"><a target="_blank" name="t8" class=" " style="color:rgb(12,137,207)"></a><span style="color:rgb(34,34,34)"><span style="font-size:18px">九）事件的优先级</span></span></h4> 
</div> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>           事件是可以设置优先级的，这是一个非常方便而且灵活的功能。我们可以通过制定事件的优先级来确保那个事件侦听器会得到提前处理。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="color:rgb(51,51,51)"><span style="font-size:18px"><span style="white-space:pre"></span>你可以在注册侦听器的时候制定事件的优先级。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px; background:rgb(247,247,247)"> <span style="color:rgb(153,153,153)"><span style="font-size:18px">publicaddEventListener(type:string, listener:Function, thisObject:any,useCapture:boolean = false, priority:number = 0)</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style="white-space:pre"></span>         制定优先级需要设置</span><span style="color:rgb(51,51,51)"> priority</span><span style="color:rgb(51,51,51)">属性。该属性为一个</span><span style="color:rgb(51,51,51)">number</span><span style="color:rgb(51,51,51)">类型，当数字越大，则优先级越大。在触发事件的时候优先级越高。</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><br> </span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><br> </span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><br> </span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><br> </span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)">简单实例应用链接：http://blog.csdn.net/xiu2016/article/details/76576871</span></span></p> 
<p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-size:18px"><span style="color:rgb(51,51,51)"><br> </span></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ed8fe66cb7212113c629d9648e16d07e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">模拟器安装搜狗输入法apk</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7d1d21979285ef0f4342e0ff5aca2715/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Gradle刷新异常及解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>