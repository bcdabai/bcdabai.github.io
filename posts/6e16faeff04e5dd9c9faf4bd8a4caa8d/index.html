<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 迭代器 与 异常处理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 迭代器 与 异常处理" />
<meta property="og:description" content="文章目录 迭代介绍可迭代对象迭代器对象迭代器对象取值 方法的简写for循环内部原理异常处理异常的分类异常的类型异常的处理try/except 语句try/except...else 语句try/except...finally 语句try/except.../else/finally 语句 断言主动报错 for 循环的本质迭代取值与索引取值的对比 迭代介绍 什么叫做迭代，迭代可以理解为更新换代，每一次迭代的过程都需要依赖于上一次的结果。迭代器有两个基本的方法：iter()和 next()
while True: print(666) 像这种单纯的循环并不能称之为迭代，因为它没有和上一次的结果有关系。 list_a = [&#39;XWeXiang&#39;, 123] i = 0 while i &lt; len(list_a): print(666) i &#43;= 1 这种属于迭代，但是并没有取值。 list_a = [&#39;XWeXiang&#39;, 123] i = 0 while i &lt; len(list_a): print(list_a[i]) i &#43;= 1 此时可以迭代列表中的元素并取出。 可迭代对象 什么是可迭代对象？如果某一个对象中有着内置方法 __iter__ 的称之为可迭代对象 这个方法读作双下iter方法。 如何判断一个对象是否为可迭代的对象
方式一 通过 dir() 函数来判断该对象是否有 __iter__ 方法 print(dir(list_a)) 方式二 直接在该对象加点就能弹出它能用的方法，相对于方式一更简单。 哪些是可迭代的对象
通过上面的方法我们可以得到可迭代的对象类型有：字符串、列表、字典、元组、集合、文件 我们可以发现这些都支持 for 循环，其实是因为它们是可迭代对象才支持 for 循环。 迭代器对象 迭代器" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6e16faeff04e5dd9c9faf4bd8a4caa8d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-23T18:04:47+08:00" />
<meta property="article:modified_time" content="2022-03-23T18:04:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 迭代器 与 异常处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">迭代介绍</a></li><li><a href="#_33" rel="nofollow">可迭代对象</a></li><li><a href="#_56" rel="nofollow">迭代器对象</a></li><li><ul><li><a href="#_89" rel="nofollow">迭代器对象取值</a></li></ul> 
   </li><li><a href="#_126" rel="nofollow">方法的简写</a></li><li><a href="#for_141" rel="nofollow">for循环内部原理</a></li><li><a href="#_163" rel="nofollow">异常处理</a></li><li><ul><li><a href="#_174" rel="nofollow">异常的分类</a></li><li><a href="#_186" rel="nofollow">异常的类型</a></li><li><a href="#_199" rel="nofollow">异常的处理</a></li><li><ul><li><a href="#tryexcept__203" rel="nofollow">try/except 语句</a></li><li><a href="#tryexceptelse__256" rel="nofollow">try/except...else 语句</a></li><li><a href="#tryexceptfinally__277" rel="nofollow">try/except...finally 语句</a></li><li><a href="#tryexceptelsefinally__299" rel="nofollow">try/except.../else/finally 语句</a></li></ul> 
    </li><li><a href="#_324" rel="nofollow">断言</a></li><li><a href="#_351" rel="nofollow">主动报错</a></li></ul> 
   </li><li><a href="#for__368" rel="nofollow">for 循环的本质</a></li><li><a href="#_381" rel="nofollow">迭代取值与索引取值的对比</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>迭代介绍</h3> 
<p>什么叫做迭代，迭代可以理解为更新换代，每一次迭代的过程都需要依赖于上一次的结果。迭代器有两个基本的方法：<code>iter()</code>和 <code>next()</code></p> 
<pre><code class="prism language-python">
		<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span>

像这种单纯的循环并不能称之为迭代，因为它没有和上一次的结果有关系。
</code></pre> 
<pre><code class="prism language-python">
		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		i <span class="token operator">=</span> <span class="token number">0</span>
		<span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>list_a<span class="token punctuation">)</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span>
		    i <span class="token operator">+=</span> <span class="token number">1</span>

这种属于迭代，但是并没有取值。
</code></pre> 
<pre><code class="prism language-python">
		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		i <span class="token operator">=</span> <span class="token number">0</span>
		<span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>list_a<span class="token punctuation">)</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>list_a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		    i <span class="token operator">+=</span> <span class="token number">1</span>

此时可以迭代列表中的元素并取出。
</code></pre> 
<h3><a id="_33"></a>可迭代对象</h3> 
<pre><code class="prism language-python">什么是可迭代对象？如果某一个对象中有着内置方法 __iter__ 的称之为可迭代对象
这个方法读作双下<span class="token builtin">iter</span>方法。
</code></pre> 
<p><strong>如何判断一个对象是否为可迭代的对象</strong></p> 
<pre><code class="prism language-python">方式一
通过 <span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 函数来判断该对象是否有 __iter__ 方法
	
		<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>list_a<span class="token punctuation">)</span><span class="token punctuation">)</span>

方式二
直接在该对象加点就能弹出它能用的方法，相对于方式一更简单。
</code></pre> 
<p><strong>哪些是可迭代的对象</strong></p> 
<pre><code class="prism language-python">通过上面的方法我们可以得到可迭代的对象类型有：字符串、列表、字典、元组、集合、文件
我们可以发现这些都支持 <span class="token keyword">for</span> 循环，其实是因为它们是可迭代对象才支持 <span class="token keyword">for</span> 循环。
</code></pre> 
<p><img src="https://images2.imgbox.com/2f/7b/BWWj40J5_o.jpg" alt=""></p> 
<h3><a id="_56"></a>迭代器对象</h3> 
<p><strong>迭代器</strong></p> 
<pre><code class="prism language-python">迭代器是一个可以记住遍历的位置的对象，它会将遍历出的元素先储存起来，当需要用的时候才调用，极大的
减少占用内存的空间。
</code></pre> 
<p><strong>迭代器对象</strong></p> 
<pre><code class="prism language-python">如何判断是否为迭代器对象，迭代器对象的特征是它有列个方法 __iter__方法和__next__方法，有这俩方
法才是迭代器对象。
<span class="token string">'需要注意的是，文件对象自带__iter__方法和__next__方法，既是可迭代对象优势迭代器对象。'</span>
</code></pre> 
<pre><code class="prism language-python">可迭代对象如何能编变成迭代器对象，可迭代对象在调用了方法 __iter__ 之后就成为了一个迭代器对象

代码示例
		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
输出结果
		<span class="token operator">&lt;</span>list_iterator <span class="token builtin">object</span> at <span class="token number">0x000001D5CBB6A8F0</span><span class="token operator">&gt;</span>

此时返回的值是迭代器对象。

<span class="token triple-quoted-string string">''' 
需要注意的是，如果已经调用了方法  __iter__ 成为迭代器对象之后再一次调用方法 __iter__ 返回的是
它本身而不是重新创建一个迭代器对象。

也就是说 list_a.__iter__() 等价于 list_a.__iter__().__iter__().__iter__()
'''</span>
</code></pre> 
<h4><a id="_89"></a>迭代器对象取值</h4> 
<pre><code class="prism language-python">知道了如何成为迭代器对象后，就需要了解怎么从迭代器对象中取值
使用的方法是 __next__方法，此方法会返回下一个迭代器对象
</code></pre> 
<pre><code class="prism language-python">代码示例一
		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		
		x <span class="token operator">=</span> list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

输出结果
		XWeXiang
		<span class="token number">123</span>
		
<span class="token string">'此时如果在调用一次 __next__方法的话程序就会报错，因为里面的元素都已经取完了。'</span>		
</code></pre> 
<pre><code class="prism language-python">代码示例二
		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		
		<span class="token keyword">print</span><span class="token punctuation">(</span>list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		
如果是这种情况下的话，打印的结果都一样，都为第一个元素。因为在打印的时候每一次都生成了新的迭代器
对象。

而在示例一中，因为已经提前生成了迭代器，所以在打印的时候不论调用多少次 __iter__<span class="token punctuation">(</span><span class="token punctuation">)</span>返回的值都是
自身，也就是不变。
</code></pre> 
<h3><a id="_126"></a>方法的简写</h3> 
<p>有很多双下方法其实都有简便写法（不是全部都有）</p> 
<pre><code class="prism language-python">__方法名__  等价于  方法名<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">例如  __iter__<span class="token punctuation">(</span><span class="token punctuation">)</span> 方法和__next__<span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
这俩种方法可以简写成 <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">例如 __len__<span class="token punctuation">(</span><span class="token punctuation">)</span> 可以简写成 <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="for_141"></a>for循环内部原理</h3> 
<p>我们在用 for 循环的时候也会逐个取出可迭代对象的值，其实它的底层原理很像下面的代码示例</p> 
<pre><code class="prism language-python">代码示例

		list_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XWeXiang'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>
		i <span class="token operator">=</span> <span class="token number">0</span>
		x <span class="token operator">=</span> list_a<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>list_a<span class="token punctuation">)</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		    i <span class="token operator">+=</span> <span class="token number">1</span>

输出结果
		XWeXiang
		<span class="token number">123</span>

<span class="token keyword">for</span> 循环的原理也是先调用__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span>将可迭代对象变成迭代器对象，<span class="token triple-quoted-string string">'''（文件自带 __iter__() 但是
在循环中在调用一遍结果也不变'''</span> 然后用 __next__ 方法来取值，只不过在 <span class="token keyword">for</span> 中不需要得到可迭代对
象的长度，我们需要长度是因为取完值继续取会报错，但是 <span class="token keyword">for</span> 循环对报错进行了处理，异常处理会在下面
讲到。
</code></pre> 
<h3><a id="_163"></a>异常处理</h3> 
<p>异常，也就是程序出错，会导致程序停止运行，俗称 bug 。<br> 我们先看下异常长啥样，混个脸熟，毕竟以后天天见…<br> <img src="https://images2.imgbox.com/b9/34/hcxzEFqF_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python">line <span class="token number">1</span> 表示的是在第一行出错，我们可以点击蓝色的地方跳转到该位置。
SyntaxError 表示的是错误的类型，类型有很多
错误类型后面的是具体错误的原因。
</code></pre> 
<p><img src="https://images2.imgbox.com/1f/5b/17OvufPS_o.jpg" alt=""></p> 
<h4><a id="_174"></a>异常的分类</h4> 
<pre><code class="prism language-python">异常有俩种分类，为 语法异常 和 逻辑异常。

<span class="token number">1</span><span class="token punctuation">.</span> 语法异常
语法异常或者叫解析错误，比如说丢了个冒号，丢了个括号之类的，这种是不被允许的，被发现只能删库跑路
了（开玩笑）

<span class="token number">2</span><span class="token punctuation">.</span> 逻辑异常
例如代码动态获取到了一个字符串类型的数据但是调用了列表的内置方法等运行期检测到的错误
</code></pre> 
<h4><a id="_186"></a>异常的类型</h4> 
<pre><code class="prism language-python">TypeError     		类型错误  
AttributeError    	属性错误
NameError   		变量名错误
SyntaxError   		语法错误
KeyError  			key错误
IndexError  		索引错误
IndentationError  	缩进错误

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>还有很多种，没有你想不到的错误哈哈
</code></pre> 
<h4><a id="_199"></a>异常的处理</h4> 
<p>针对可能会出错的代码 也可以自己提前写好处理措施</p> 
<h5><a id="tryexcept__203"></a>try/except 语句</h5> 
<pre><code class="prism language-python">处理异常的语法

		<span class="token keyword">try</span><span class="token punctuation">:</span>
			可能会出错的代码
		<span class="token keyword">except</span> 错误的类型一 <span class="token keyword">as</span> e<span class="token punctuation">:</span>
			代码A
		<span class="token keyword">except</span> 错误的类型二 <span class="token keyword">as</span> e<span class="token punctuation">:</span>  <span class="token comment"># 这里的 e 是详细的错误提示</span>
			代码B

上面的 <span class="token keyword">try</span><span class="token operator">/</span><span class="token keyword">except</span> 语句有点像 <span class="token keyword">if</span> 语句，<span class="token keyword">except</span> 可以有多个，如果错误的类型是类型一，执行代码 A，
如果错误的类型是类型二，执行代码 B。如果没有错误则执行完 <span class="token keyword">try</span> 的语句就结束。
</code></pre> 
<pre><code class="prism language-python">代码示例

		<span class="token keyword">try</span><span class="token punctuation">:</span>
		    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'XWenXiang'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
		        name
		    <span class="token keyword">else</span><span class="token punctuation">:</span>
		        <span class="token keyword">pass</span>
		<span class="token keyword">except</span> NameError<span class="token punctuation">:</span>  <span class="token comment"># 这里的 e 是详细的错误提示</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'错误在这里'</span><span class="token punctuation">)</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>

输出结果

		错误在这里
		name <span class="token string">'name'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined


当代码发生错误且类型为 NameError 的时候，打印字符串。e 是详细的错误提示
</code></pre> 
<p><strong>万能错误类型</strong></p> 
<pre><code class="prism language-python">当我们不知道会报什么错的时候，可以用通用的错误类型 Exception

代码示例
		<span class="token keyword">try</span><span class="token punctuation">:</span>
		    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'XWenXiang'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
		        name
		    <span class="token keyword">else</span><span class="token punctuation">:</span>
		        <span class="token keyword">pass</span>
		<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'错误在这里'</span><span class="token punctuation">)</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>

只是修改了 <span class="token keyword">except</span> 的错误类型，如果不是 Exception 且错误的类型不符合的话，处理异常的代码不会执
行。而 Exception 可以对任意类型异常使用。
</code></pre> 
<h5><a id="tryexceptelse__256"></a>try/except…else 语句</h5> 
<p>和 try/except 语句一样，只不过多了一个 else 分支。</p> 
<pre><code class="prism language-python">代码示例
		<span class="token keyword">try</span><span class="token punctuation">:</span>
		    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'XWenXiang'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
		        name <span class="token operator">=</span> <span class="token number">66</span>
		    <span class="token keyword">else</span><span class="token punctuation">:</span>
		        <span class="token keyword">pass</span>
		<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'错误在这里'</span><span class="token punctuation">)</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'没有错'</span><span class="token punctuation">)</span>

输出结果
		没有错
		
<span class="token keyword">else</span> 语句是在被检测的代码<span class="token string">'没有错误'</span>的时候执行的
</code></pre> 
<h5><a id="tryexceptfinally__277"></a>try/except…finally 语句</h5> 
<pre><code class="prism language-python">代码示例
		<span class="token keyword">try</span><span class="token punctuation">:</span>
		    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'XWenXiang'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
		        name 
		    <span class="token keyword">else</span><span class="token punctuation">:</span>
		        <span class="token keyword">pass</span>
		<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'错误在这里'</span><span class="token punctuation">)</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
		<span class="token keyword">finally</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'真厉害'</span><span class="token punctuation">)</span>

输出结果
		错误在这里
		name <span class="token string">'name'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined
		真厉害

<span class="token keyword">finally</span> 语句不管被检测的代码是否有错都执行
</code></pre> 
<h5><a id="tryexceptelsefinally__299"></a>try/except…/else/finally 语句</h5> 
<p>它们可以一起使用</p> 
<pre><code class="prism language-python">代码示例		
		<span class="token keyword">try</span><span class="token punctuation">:</span>
		    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">'XWenXiang'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">6</span><span class="token punctuation">:</span>
		        name <span class="token operator">=</span> <span class="token number">66</span>
		    <span class="token keyword">else</span><span class="token punctuation">:</span>
		        <span class="token keyword">pass</span>
		<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'错误在这里'</span><span class="token punctuation">)</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'没有错'</span><span class="token punctuation">)</span>
		<span class="token keyword">finally</span><span class="token punctuation">:</span>
		    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'真厉害'</span><span class="token punctuation">)</span>

输出结果
		没有错
		真厉害

当前被检测的代码并没有错误，所以会执行 <span class="token keyword">else</span> 的代码和不管错没错都执行的代码 <span class="token keyword">finally</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/47/a1/p8VyJ63O_o.jpg" alt="" width="200" height="200"></p> 
<h4><a id="_324"></a>断言</h4> 
<p>断言使用的关键字是 assert ，用于判断一个表达式，在表达式条件为 false 的时候触发异常</p> 
<pre><code class="prism language-python">断言语法
		<span class="token keyword">assert</span> expression <span class="token punctuation">[</span><span class="token punctuation">,</span> arguments<span class="token punctuation">]</span>

expression 是判断语句 
arguments 是报错的时候显示的语句
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">assert</span> <span class="token boolean">True</span>
<span class="token keyword">assert</span> <span class="token boolean">False</span><span class="token punctuation">,</span><span class="token string">'66'</span>

<span class="token boolean">False</span> 的时候会报错，报错显示 <span class="token number">66</span> 。
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">assert</span> 后面跟着条件语句，返回 <span class="token boolean">True</span> 或 <span class="token boolean">False</span>

所以 <span class="token keyword">assert</span> expression 相当于 

			<span class="token keyword">if</span> <span class="token keyword">not</span> expression<span class="token punctuation">:</span>
				<span class="token keyword">raise</span> AssertionError  <span class="token comment">#（主动报错）</span>
				
</code></pre> 
<h4><a id="_351"></a>主动报错</h4> 
<p>主动报错就是使用 raise 语句抛出一个指定的异常</p> 
<pre><code class="prism language-python">语法格式如下：
		<span class="token keyword">raise</span> <span class="token punctuation">[</span>Exception <span class="token punctuation">[</span><span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">,</span> traceback<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre> 
<pre><code class="prism language-python">代码示例
		<span class="token keyword">raise</span> NameError<span class="token punctuation">(</span><span class="token number">996</span><span class="token punctuation">)</span>
		
此时会报一个类型为 NameError 的错。

我们也可以使用万能的错位类型 <span class="token string">'Exception'</span> ，后面加括号，括号里跟着错误时显示的内容。
</code></pre> 
<h3><a id="for__368"></a>for 循环的本质</h3> 
<p>迭代所有的内容，并处理继续迭代报的错，类似于下面的代码</p> 
<pre><code class="prism language-python">		x <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
		    <span class="token keyword">try</span><span class="token punctuation">:</span>
		        <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>__iter__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		    <span class="token keyword">except</span> StopIteration <span class="token keyword">as</span> e<span class="token punctuation">:</span>
		        <span class="token keyword">break</span>
</code></pre> 
<p>不过 for 循环是已经封装好的，我们日常也是使用 for 循环，很少使用底层的迭代。<br> <img src="https://images2.imgbox.com/0c/15/w2A2zlZ1_o.jpg" alt=""></p> 
<h3><a id="_381"></a>迭代取值与索引取值的对比</h3> 
<pre><code class="prism language-python"><span class="token number">1</span><span class="token punctuation">.</span>索引取值
	优势<span class="token punctuation">:</span>可以反复获取相同的元素 并且没有固定的方向
  	劣势<span class="token punctuation">:</span>只能支持有序的容器类型 无序的无法取值兼容性没有迭代取值高
 
<span class="token number">2</span><span class="token punctuation">.</span>迭代取值
	优势<span class="token punctuation">:</span>兼容所有的容器类型
 	劣势<span class="token punctuation">:</span>取值的顺序永远都是从左往右 并且无法重复获取 去完就完了

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43a784f6367f1d70ffe3b6439d44635b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">查看Linux服务器内存情况</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d2b91ba671b9bd6d2a6711491fd8d309/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">hive select * 语法中去掉部分列</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>