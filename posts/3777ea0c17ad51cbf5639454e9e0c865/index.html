<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 电商平台购物数据分析，源码&#43;数据下载；整体销售情况分析(折线图、饼图分析） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 电商平台购物数据分析，源码&#43;数据下载；整体销售情况分析(折线图、饼图分析）" />
<meta property="og:description" content="开发环境： 开发环境：Python3
工具：pandas、matplotlib.pyplot
数据来源： 数据地址：数据集
数据描述：本数据集共收集了发生在一个月内的28010条数据，
包含以下：
[‘订单编号’, ‘总金额’, ‘买家实际支付金额’, ‘收货地址’, ‘订单创建时间’, &#39;订单付款时间 &#39;, ‘退款金额’] 7个字段。
7个字段说明： 订单编号：订单编号
总金额：订单总金额
买家实际支付金额：总金额 - 退款金额（在已付款的情况下）。金额为0（在未付款的情况下）
收货地址：各个省份
订单创建时间：下单时间
订单付款时间：付款时间
退款金额：付款后申请退款的金额。如无付过款，退款金额为0
数据截图 分析目标： 1、整体销售情况
订单交易数量退货订单数量退货率交易总金额成交总金额退款总金额实际成交额 2、买家地区分布（饼图）
3、支付金额时间分布（折线图）
4、销售额走势图（折线图）
代码及结果： 1、整体销售情况 def taobao_analysis(csv_path): df = pd.DataFrame(pd.read_csv(csv_path)) # id 总金额 实际支付金额 地址 订单创建时间 付款时间 退款金额 df.columns = [&#39;id&#39;, &#39;amount&#39;, &#39;paid&#39;, &#39;address&#39;, &#39;ordertime&#39;, &#39;paytime&#39;, &#39;refund&#39;] df.paytime = pd.to_datetime(df.paytime) df.ordertime = pd.to_datetime(df.ordertime) # 订单交易数量 order_num = df.id.count() # 退货订单数量 refund_num = df[df[&#39;refund&#39;] &gt; 0]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3777ea0c17ad51cbf5639454e9e0c865/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-20T12:47:45+08:00" />
<meta property="article:modified_time" content="2021-11-20T12:47:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 电商平台购物数据分析，源码&#43;数据下载；整体销售情况分析(折线图、饼图分析）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>开发环境：</h2> 
<p><font color="#999AAA">开发环境：Python3<br> 工具：pandas、matplotlib.pyplot</font></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_6"></a>数据来源：</h2> 
<p>数据地址：<a href="https://tianchi.aliyun.com/dataset/dataDetail?dataId=111551#1" rel="nofollow">数据集</a><br> 数据描述：本数据集共收集了发生在一个月内的28010条数据，<br> 包含以下：<br> [‘订单编号’, ‘总金额’, ‘买家实际支付金额’, ‘收货地址’, ‘订单创建时间’, '订单付款时间 ', ‘退款金额’] 7个字段。</p> 
<h6><a id="7_11"></a>7个字段说明：</h6> 
<p><strong>订单编号</strong>：订单编号<br> <strong>总金额</strong>：订单总金额<br> <strong>买家实际支付金额</strong>：总金额 - 退款金额（在已付款的情况下）。金额为0（在未付款的情况下）<br> <strong>收货地址</strong>：各个省份<br> <strong>订单创建时间</strong>：下单时间<br> <strong>订单付款时间</strong>：付款时间<br> <strong>退款金额</strong>：付款后申请退款的金额。如无付过款，退款金额为0</p> 
<h6><a id="_20"></a>数据截图</h6> 
<p><img src="https://images2.imgbox.com/be/55/ygMn8UDc_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_25"></a>分析目标：</h2> 
<p>1、整体销售情况</p> 
<ul><li>订单交易数量</li><li>退货订单数量</li><li>退货率</li><li>交易总金额</li><li>成交总金额</li><li>退款总金额</li><li>实际成交额</li></ul> 
<p>2、买家地区分布（饼图）<br> 3、支付金额时间分布（折线图）<br> 4、销售额走势图（折线图）</p> 
<hr color="#000000" size='1"'> 
<h2><a id="_42"></a>代码及结果：</h2> 
<h5><a id="1_43"></a>1、整体销售情况</h5> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">taobao_analysis</span><span class="token punctuation">(</span>csv_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>csv_path<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">#  id   总金额 实际支付金额  地址   订单创建时间   付款时间   退款金额</span>
    df<span class="token punctuation">.</span>columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'amount'</span><span class="token punctuation">,</span> <span class="token string">'paid'</span><span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">,</span> <span class="token string">'ordertime'</span><span class="token punctuation">,</span> <span class="token string">'paytime'</span><span class="token punctuation">,</span> <span class="token string">'refund'</span><span class="token punctuation">]</span>
    df<span class="token punctuation">.</span>paytime <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">.</span>paytime<span class="token punctuation">)</span>
    df<span class="token punctuation">.</span>ordertime <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">.</span>ordertime<span class="token punctuation">)</span>

    <span class="token comment"># 订单交易数量</span>
    order_num <span class="token operator">=</span> df<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 退货订单数量</span>
    refund_num <span class="token operator">=</span> df<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'refund'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>refund<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 退货率</span>
    refund_rate <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span>refund_num <span class="token operator">/</span> order_num <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token comment"># 交易总金额</span>
    amount_sum <span class="token operator">=</span> df<span class="token punctuation">.</span>amount<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 成交总金额</span>
    paid_sum <span class="token operator">=</span> df<span class="token punctuation">.</span>paid<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 退款总金额</span>
    refund_sum <span class="token operator">=</span> df<span class="token punctuation">.</span>refund<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 实际成交额</span>
    paymey <span class="token operator">=</span> paid_sum <span class="token operator">-</span> refund_sum

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'订单数量：'</span><span class="token punctuation">,</span> order_num<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'退货订单数量：'</span><span class="token punctuation">,</span> refund_num<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'退货率：{}%'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>refund_rate<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'交易总金额：'</span><span class="token punctuation">,</span> amount_sum<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'成交总金额：'</span><span class="token punctuation">,</span> paid_sum<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'退款总金额：'</span><span class="token punctuation">,</span> refund_sum<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'实际成交额：'</span><span class="token punctuation">,</span> paymey<span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_75"></a>结果截图：</h6> 
<p><img src="https://images2.imgbox.com/89/07/BtMrU5lR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2_78"></a>2、买家地区分布（饼图）</h5> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">address_chart</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span>
    add <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'address'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span>
    add<span class="token punctuation">.</span>plot<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>labels<span class="token operator">=</span>add<span class="token punctuation">.</span>index<span class="token punctuation">,</span> autopct<span class="token operator">=</span><span class="token string">'%1.1f'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'买家地区分布'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_88"></a>结果截图</h6> 
<p><img src="https://images2.imgbox.com/20/ab/QPdsIgwW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_91"></a>3、支付金额时间分布（折线图）</h5> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">time_chart</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span>
    df1 <span class="token operator">=</span> df<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
    df1<span class="token punctuation">[</span><span class="token string">'paytime'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df1<span class="token punctuation">[</span><span class="token string">'paytime'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>time
    df1<span class="token punctuation">[</span><span class="token string">'paytime'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">.</span>paytime<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
    s <span class="token operator">=</span> df1<span class="token punctuation">[</span><span class="token string">'paytime'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>floor<span class="token punctuation">(</span><span class="token string">'30T'</span><span class="token punctuation">)</span>
    df1<span class="token punctuation">[</span><span class="token string">'paytime'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%H:%M'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>s<span class="token operator">+</span>pd<span class="token punctuation">.</span>Timedelta<span class="token punctuation">(</span><span class="token number">29</span><span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">,</span>unit<span class="token operator">=</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%H:%M"</span><span class="token punctuation">)</span>
    timedf1 <span class="token operator">=</span> df1<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'paytime'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>
    timedf1<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token string">'NaT-NaT'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    timedf_x <span class="token operator">=</span> timedf1<span class="token punctuation">.</span>index
    timedf_y <span class="token operator">=</span> timedf1<span class="token punctuation">.</span>values
    plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>timedf_x<span class="token punctuation">,</span> timedf_y<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_109"></a>结果截图</h6> 
<p><img src="https://images2.imgbox.com/5d/5e/0U3S3yxS_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4_112"></a>4、销售额走势图（折线图）</h5> 
<pre><code class="prism language-python">
<span class="token keyword">def</span> <span class="token function">money_chart</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span>
    df<span class="token punctuation">[</span><span class="token string">'day'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'ordertime'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>day
    xx <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'amount'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index
    yy_1 <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'amount'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token operator">/</span><span class="token number">10000</span>
    yy_2 <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'paid'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token operator">/</span><span class="token number">10000</span>
    yy_3 <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'refund'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>values<span class="token operator">/</span><span class="token number">10000</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy_1<span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'Order Amount'</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token string">'+'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy_2<span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'Payment Amount'</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'green'</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>xx<span class="token punctuation">,</span>yy_3<span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'Refund Amount'</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token string">'.'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'money(10000yuan)'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h6><a id="_130"></a>结果截图</h6> 
<p><img src="https://images2.imgbox.com/8c/ee/WVMi9x3h_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_136"></a>源码及数据下载：</h2> 
<p>CSDN下载：<a href="https://download.csdn.net/download/weixin_43796109/45531945">下载地址</a><br> 百度网盘下载：</p> 
<blockquote> 
 <p>链接：https://pan.baidu.com/s/1fBMX27gkvkQ4Lowu35ymQA<br> 提取码：j43u</p> 
</blockquote> 
<p>阿里云网盘下载：</p> 
<blockquote> 
 <p>「淘宝交易数据分析代码」，点击链接保存，或者复制本段内容，打开「阿里云盘」APP ，无需下载，极速在线查看享用。<br> 链接：https://www.aliyundrive.com/s/rLmKsGffw8N</p> 
</blockquote> 
<p>CSDN下载：<a href="https://download.csdn.net/download/weixin_43796109/45531945">下载地址</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8b88d06e912e849b1ae742cefca1e56d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">web上传文件以及提交密码的简单设计界面)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/22f3530f4719ac5d322bfdc6a382d54b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu安装实时内核，make[1]: *** 没有规则可制作目标“debian/canonical-certs.pem”</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>