<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>银行管理系统--课后程序(Python程序开发案例教程-黑马程序员编著-第7章-课后作业) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="银行管理系统--课后程序(Python程序开发案例教程-黑马程序员编著-第7章-课后作业)" />
<meta property="og:description" content="实例1：银行管理系统 从早期的钱庄到现如今的银行，金融行业在不断地变革；随着科技的发展、计算机的普及，计算机技术在金融行业得到了广泛的应用。银行管理系统是一个集开户、查询、取款、存款、转账、锁定、解锁、退出等一系列的功能的管理系统，该系统中各功能的介绍如下。
开户功能：用户在ATM机上根据提示“请输入姓名:”、“请输入身份证号:”、“请输入手机号:”依次输入姓名、身份证号、手机号、预存金额、密码等信息，如果开户成功，系统随机生成一个不重复的6位数字卡号。查询功能：根据用户输入的卡号、密码查询卡中余额，如果连续3次输入错误密码，该卡号会被锁定。取款功能：首先根据用户输入的卡号、密码显示卡中余额，如果连续3次输入错误密码，该卡号会被锁定；然后接收用户输入的取款金额，如果取款金额大于卡中余额或取款金额小于0，系统进行提示并返回功能页面。存款功能：首先根据用户输入的卡号、密码显示卡中余额，如果连续3次输入错误密码，该卡号会被锁定，然后接收用户输入的取款金额，如果存款金额小于0，系统进行提示并返回功能页面。转账功能：用户需要分别输入转出卡号与转入卡号，如果连续3次输入错误密码，卡号会被锁定。当输入转账金额后，需要用户再次确认是否执行转账功能；如果确定执行转账功能，转出卡与转入卡做相应金额计算；如果取消转账功能，则回退之前操作。锁定功能：根据输入的卡号密码执行锁定功能，锁定之后该卡不能执行查询、取款、存款、转账等操作。解锁功能：根据输入的卡号密码执行解锁功能，解锁后能对该卡执行查询、取款、存款、转账等操作。存盘功能：执行存盘功能后，程序执行的数据会写入本地文件中。退出功能：执行退出功能时，需要输入管理员的账户密码，如果输入的账号密码错误，则返回功能页面，如果输入的账号密码正确，则执行存盘并退出系统。 本实例要求编写程序，实现一个具有上述功能的银行管理系统。
实例目标 理解面向对象的思想熟练地定义类熟练地创建对象、访问类的成员熟练使用构造方法 实例分析 实际生活中，银行管理系统在由银行工作人员打开时先显示欢迎界面，之后工作人员输入管理员账号与密码，银行管理系统被启动，启动后进入系统功能页面，可观察到该页面中展示了使用ATM机可办理的所有业务，包括开户（1）、查询（2）、取款（3）、存款（4）、转账（5）、锁定（6）、解锁（7）、退出（Q）等。用户可根据自己需求选择相应业务的编号，并按照提示完成相应的操作。
从以上模拟的过程中可知，要实现银行管理系统需要用到5种对象，分别是管理员、ATM机、银行卡、用户、银行管理系统。因此，我们需要设计5个类承担不同的职责，关于这些类的说明如下：
（1）银行管理系统类（HomePage）：负责提供整个系统流程的相关操作，包括打印欢迎登录界面和功能界面、接收用户输入、保存用户数据等。
（2）ATM机类（ATM）：负责处理系统中各个功能的相关操作，包括开户、查询、取款、存款、转账、锁定、解锁、退出功能。
（3）管理员类（Admin）：负责提供检测管理员账号与密码、显示欢迎登录界面和功能界面的相关操作。
（4）用户类（User）：负责提供用户对象的相关操作。
（5）银行卡（Card）：负责提供银行卡对象的相关操作。
设计后的类结构如图1所示。
图1 类设计图
本实例中涉及到多个类，为保证程序具有清晰的结构，可以将每个类的相关代码分别放置到与其同名的.py文件中。
代码实现 本实例的具体实现过程如下所示。
（1）打开PyCharm工具，创建一个名为“银行管理系统”的文件夹。在该文件夹下创建5个.py文件，分别为admin.py、atm.py、card.py、user.py与“银行系统.py”，此时程序的目录结构如图2所示。
图2 目录结构
（2）按照图1的类设计图，在card.py文件中编写Car类的代码，具体如下所示。
class Card:
def __init__(self,cardId,cardPwd,money):
self.cardId = cardId
self.cardPwd = cardPwd
self.money = money
self.cardLock = False
（3）按照图1的类设计图，在user.py文件中编写User类的代码，具体如下所示。
class User:
def __init__(self, name, id, phone, card):
self.name = name
self.id = id
self.phone = phone
self.card = card
（4）按照图1的类设计图，在admin.py文件中编写Admin类的代码，具体如下所示。
class Admin:
adminU = &#39;1&#39; # 管理员的账号" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7ec521b0ac0d178b373b2511e873b539/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-11T12:59:34+08:00" />
<meta property="article:modified_time" content="2023-03-11T12:59:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">银行管理系统--课后程序(Python程序开发案例教程-黑马程序员编著-第7章-课后作业)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:21.25pt;text-align:center;">实例1：银行管理系统</h2> 
<p style="margin-left:0;text-align:justify;">从早期的钱庄到现如今的银行，金融行业在不断地变革；随着科技的发展、计算机的普及，计算机技术在金融行业得到了广泛的应用。银行管理系统是一个集开户、查询、取款、存款、转账、锁定、解锁、退出等一系列的功能的管理系统，该系统中各功能的介绍如下。</p> 
<ol><li style="text-align:justify;">开户功能：用户在ATM机上根据提示“请输入姓名:”、“请输入身份证号:”、“请输入手机号:”依次输入姓名、身份证号、手机号、预存金额、密码等信息，如果开户成功，系统随机生成一个不重复的6位数字卡号。</li><li style="text-align:justify;">查询功能：根据用户输入的卡号、密码查询卡中余额，如果连续3次输入错误密码，该卡号会被锁定。</li><li style="text-align:justify;">取款功能：首先根据用户输入的卡号、密码显示卡中余额，如果连续3次输入错误密码，该卡号会被锁定；然后接收用户输入的取款金额，如果取款金额大于卡中余额或取款金额小于0，系统进行提示并返回功能页面。</li><li style="text-align:justify;">存款功能：首先根据用户输入的卡号、密码显示卡中余额，如果连续3次输入错误密码，该卡号会被锁定，然后接收用户输入的取款金额，如果存款金额小于0，系统进行提示并返回功能页面。</li><li style="text-align:justify;">转账功能：用户需要分别输入转出卡号与转入卡号，如果连续3次输入错误密码，卡号会被锁定。当输入转账金额后，需要用户再次确认是否执行转账功能；如果确定执行转账功能，转出卡与转入卡做相应金额计算；如果取消转账功能，则回退之前操作。</li><li style="text-align:justify;">锁定功能：根据输入的卡号密码执行锁定功能，锁定之后该卡不能执行查询、取款、存款、转账等操作。</li><li style="text-align:justify;">解锁功能：根据输入的卡号密码执行解锁功能，解锁后能对该卡执行查询、取款、存款、转账等操作。</li><li style="text-align:justify;">存盘功能：执行存盘功能后，程序执行的数据会写入本地文件中。</li><li style="text-align:justify;">退出功能：执行退出功能时，需要输入管理员的账户密码，如果输入的账号密码错误，则返回功能页面，如果输入的账号密码正确，则执行存盘并退出系统。</li></ol> 
<p style="margin-left:0;text-align:justify;">本实例要求编写程序，实现一个具有上述功能的银行管理系统。</p> 
<h3 style="margin-left:1cm;text-align:justify;">实例目标</h3> 
<ol><li>理解面向对象的思想</li><li>熟练地定义类</li><li>熟练地创建对象、访问类的成员</li><li>熟练使用构造方法</li></ol> 
<h3 style="margin-left:1cm;text-align:justify;">实例分析</h3> 
<p style="margin-left:0;text-align:justify;">实际生活中，银行管理系统在由银行工作人员打开时先显示欢迎界面，之后工作人员输入管理员账号与密码，银行管理系统被启动，启动后进入系统功能页面，可观察到该页面中展示了使用ATM机可办理的所有业务，包括开户（1）、查询（2）、取款（3）、存款（4）、转账（5）、锁定（6）、解锁（7）、退出（Q）等。用户可根据自己需求选择相应业务的编号，并按照提示完成相应的操作。</p> 
<p style="margin-left:0;text-align:justify;">从以上模拟的过程中可知，要实现银行管理系统需要用到5种对象，分别是管理员、ATM机、银行卡、用户、银行管理系统。因此，我们需要设计5个类承担不同的职责，关于这些类的说明如下：</p> 
<p style="margin-left:0;text-align:justify;">（1）银行管理系统类（HomePage）：负责提供整个系统流程的相关操作，包括打印欢迎登录界面和功能界面、接收用户输入、保存用户数据等。</p> 
<p style="margin-left:0;text-align:justify;">（2）ATM机类（ATM）：负责处理系统中各个功能的相关操作，包括开户、查询、取款、存款、转账、锁定、解锁、退出功能。</p> 
<p style="margin-left:0;text-align:justify;">（3）管理员类（Admin）：负责提供检测管理员账号与密码、显示欢迎登录界面和功能界面的相关操作。</p> 
<p style="margin-left:0;text-align:justify;">（4）用户类（User）：负责提供用户对象的相关操作。</p> 
<p style="margin-left:0;text-align:justify;">（5）银行卡（Card）：负责提供银行卡对象的相关操作。</p> 
<p style="margin-left:0;text-align:justify;">设计后的类结构如图1所示。</p> 
<pre style="margin-left:.0001pt;"></pre> 
<p> </p> 
<p style="margin-left:0;text-align:center;">图1 类设计图</p> 
<p style="margin-left:0;text-align:justify;">本实例中涉及到多个类，为保证程序具有清晰的结构，可以将每个类的相关代码分别放置到与其同名的.py文件中。</p> 
<h3 style="margin-left:1cm;text-align:justify;">代码实现</h3> 
<p style="margin-left:0;text-align:justify;">本实例的具体实现过程如下所示。</p> 
<p style="margin-left:0;text-align:justify;">（1）打开PyCharm工具，创建一个名为“银行管理系统”的文件夹。在该文件夹下创建5个.py文件，分别为admin.py、atm.py、card.py、user.py与“银行系统.py”，此时程序的目录结构如图2所示。</p> 
<p class="img-center"><img alt="" height="124" src="https://images2.imgbox.com/bb/e7/bbg4aEX0_o.png" width="212"></p> 
<p> </p> 
<p style="margin-left:0;text-align:center;"></p> 
<p style="margin-left:0;text-align:center;">图2 目录结构</p> 
<p style="margin-left:0;text-align:justify;">（2）按照图1的类设计图，在card.py文件中编写Car类的代码，具体如下所示。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">class Card:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def __init__(self,cardId,cardPwd,money):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.cardId = cardId</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.cardPwd = cardPwd</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.money = money</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.cardLock = False</span></span></p> 
<p style="margin-left:0;text-align:justify;">（3）按照图1的类设计图，在user.py文件中编写User类的代码，具体如下所示。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">class User:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def __init__(self, name, id, phone, card):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.name = name</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.id = id</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.phone = phone</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.card = card</span></span></p> 
<p style="margin-left:0;text-align:justify;">（4）按照图1的类设计图，在admin.py文件中编写Admin类的代码，具体如下所示。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">class Admin:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    adminU = '1'  # </span><span style="color:#000000;">管理员的账号</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    adpwd = '1'  # </span><span style="color:#000000;">管理员的密码</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def printAdminView(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("******************************************")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                    ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                    ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***         </span><span style="color:#000000;">欢迎登录银行系统</span><span style="color:#000000;">            ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                    ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                    ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("******************************************")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def printsysFunctionView(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***********************************************")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                         ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***    1.</span><span style="color:#000000;">开户</span><span style="color:#000000;">(1)                2.</span><span style="color:#000000;">查询</span><span style="color:#000000;">(2)   ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***    3.</span><span style="color:#000000;">取款</span><span style="color:#000000;">(3)                4.</span><span style="color:#000000;">存款</span><span style="color:#000000;">(4)   ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***    5.</span><span style="color:#000000;">转账</span><span style="color:#000000;">(5)                6.</span><span style="color:#000000;">锁定</span><span style="color:#000000;">(6)   ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***    7.</span><span style="color:#000000;">解锁</span><span style="color:#000000;">(7)                            ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                         ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***    </span><span style="color:#000000;">退出</span><span style="color:#000000;">(Q)                              ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***                                         ***")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("***********************************************")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def adminOption(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        adminInput = input("</span><span style="color:#000000;">请输入管理员账户：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if self.adminU != adminInput:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">管理员账户输入错误</span><span style="color:#000000;">......")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        passwordInput = input("</span><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if self.adpwd != passwordInput:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">输入密码有误</span><span style="color:#000000;">......")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">操作成功，请稍后</span><span style="color:#000000;">......")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return 0</span></span></p> 
<p style="margin-left:0;text-align:justify;">（5）按照图1的类设计图，在atm.py文件中编写ATM类的代码。ATM是本实例的核心类，该类中包含所有与系统功能相关的方法。由于ATM类包含开户的功能，在实现这些功能时需要访问Card与User类的属性，而且这些类分别处于不同的py文件中，因此这里需提前使用import语句（下章会有相关介绍）导入Card和User类，此时便可以在ATM类中访问Card类与User类的属性，具体代码如下</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">from user import User</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">from card import Card</span></span></p> 
<p style="margin-left:0;text-align:justify;">下面分别介绍ATM类的属性与方法。</p> 
<ol><li style="text-align:justify;">alluser属性</li></ol> 
<p style="margin-left:0;text-align:justify;">在ATM类的构造方法中添加属性alluser，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">class ATM:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def __init__(self, alluser):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.alluser = alluser</span></span></p> 
<ol><li style="text-align:justify;">randomiCardId()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">randomiCardId()方法的作用是在用户开户时生成随机银行卡号，该方法中需要借助random模块的函数生成随机数，也需要排除生成重复卡号的情况，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">import random</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def randomiCardId(self):     # </span><span style="color:#000000;">随机生成开户卡号</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    while True:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        str_data = ''          # </span><span style="color:#000000;">存储卡号</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        for i in range(6):    # </span><span style="color:#000000;">随机生成</span><span style="color:#000000;">6</span><span style="color:#000000;">位卡号</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            ch = chr(random.randrange(ord('0'), ord('9') + 1))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            str_data += ch</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if not self.alluser.get(str):  # </span><span style="color:#000000;">判断卡号是否重复</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return str_data</span></span></p> 
<ol><li>creatUser()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">creatUser()方法用于为用户开设账户，在该方法中需要用户先根据提示信息依次输入姓名、身份证号、手机号、预存金额（必须大于0，否则提示“开户失败”），再连续输入两次银行卡的密码（必须一致，否则因开户失败重新回到功能界面），最后随机生成开户卡号，根据该卡号创建卡信息和用户信息，并将用户的信息存储到alluser中，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def creatUser(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    # </span><span style="color:#000000;">目标向用户字典中添加一个键值对（卡号、用户对象）</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    name = input("</span><span style="color:#000000;">请输入姓名</span><span style="color:#000000;">:")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    Uid = input("</span><span style="color:#000000;">请输入身份证号</span><span style="color:#000000;">:")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    phone = input("</span><span style="color:#000000;">请输入手机号</span><span style="color:#000000;">:")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    prestMoney = float(input("</span><span style="color:#000000;">请输入预存金额</span><span style="color:#000000;">:"))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if prestMoney &lt;= 0:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">预存款输入有误，开户失败</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    oncePwd = input("</span><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    passWord = input("</span><span style="color:#000000;">请再次输入密码：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if passWord != oncePwd:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">两次密码输入不同</span><span style="color:#000000;">......")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    print("</span><span style="color:#000000;">密码设置成功，请牢记密码</span><span style="color:#000000;">:  %s " % passWord)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    cardId = self.randomiCardId()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    card = Card(cardId, oncePwd, prestMoney)    # </span><span style="color:#000000;">创建卡</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    user = User(name, Uid, phone, card)          # </span><span style="color:#000000;">创建用户</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    self.alluser[cardId] = user                    # </span><span style="color:#000000;">存入用户字典</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    print("</span><span style="color:#000000;">您的开户已完成，请牢记开户账号</span><span style="color:#000000;">: %s" % cardId)</span></span></p> 
<ol><li>checkpwg ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">creatUser()方法用于核对用户输入的密码，且限定至多输入3次，超过三次则返回False，输入正确则返回True，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def checkpwg(self, realPwd):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    for i in range(3):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        psd2 = input("</span><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if realPwd == psd2:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return True</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    print("</span><span style="color:#000000;">密码输错三次，系统自动退出</span><span style="color:#000000;">......")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    return False</span></span></p> 
<ol><li>lockCard ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">lockCard()方法用于在用户主要要求锁定银行卡，该方法中需要用户输入银行卡号，并将银行卡设为锁定状态，锁定失败的情况包括以下任一情况：若用户输入错误的银行卡号，则提示“此卡号不存在...锁定失败！”；若用户持有的银行卡已经处于锁定状态，则提示“该卡已经被锁定，无需再次锁定！”；若用户输入错误的密码，则提示“密码错误...锁定失败！！”。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def lockCard(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    inptcardId = input("</span><span style="color:#000000;">请输入您的卡号：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    user = self.alluser.get(inptcardId)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if not self.alluser.get(inptcardId):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">此卡号不存在</span><span style="color:#000000;">...</span><span style="color:#000000;">锁定失败！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if user.card.cardLock:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">该卡已经被锁定，无需再次锁定！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if not self.checkpwg(user.card.cardPwd):  # </span><span style="color:#000000;">验证密码</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">密码错误</span><span style="color:#000000;">...</span><span style="color:#000000;">锁定失败！！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    user.card.cardLock = True</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    print("</span><span style="color:#000000;">该卡被锁定成功！</span><span style="color:#000000;">")</span></span></p> 
<ol><li>searchUser ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">searchUser ()方法实现查询余额的功能，确保用户在发生存钱、取钱和转账行为之前能输入正确的银行卡号，以及银行卡处于非锁定状态，此时返回拥有该银行卡的用户，否则返回-1，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def searchUser(self, base=1):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if base == 2:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        inptcardId = input("</span><span style="color:#000000;">请输入转出主卡号：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    elif base == 3:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        inptcardId = input("</span><span style="color:#000000;">请输入转入卡号：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    elif base == 1:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        inptcardId = input("</span><span style="color:#000000;">请输入您的卡号：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    user = self.alluser.get(inptcardId)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    # </span><span style="color:#000000;">如果卡号不存在，下面代码就会执行</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if not self.alluser.get(inptcardId):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">此卡号不存在</span><span style="color:#000000;">...</span><span style="color:#000000;">查询失败！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if user.card.cardLock:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">该用户已经被锁定</span><span style="color:#000000;">...</span><span style="color:#000000;">请解卡后使用！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if not self.checkpwg(user.card.cardPwd):  # </span><span style="color:#000000;">验证密码</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">密码错误过多</span><span style="color:#000000;">...</span><span style="color:#000000;">卡已经被锁定，请解卡后使用！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        user.card.cardLock = True</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if not base == 3:  # </span><span style="color:#000000;">查询转入账户</span>   <span style="color:#000000;">不打印余额</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">账户</span><span style="color:#000000;">: %s   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: %.2f  " % (user.card.cardId, user.card.money))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    return user</span></span></p> 
<ol><li>getMoney ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">getMoney ()方法实现用户使用银行管理系统取钱的功能，该方法中首先需调用searchUser ()方法根据用户输入的卡号返回拥有该卡的用户，然后处理用户输入不同金额的情况：若输入的金额低于银行卡余额，则将取款后的银行卡余额展示给用户，同时提示取款成功；若输入的金额高于银行卡余额，则提示用户信息并返回系统功能界面，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def getMoney(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    userTF = self.searchUser()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if userTF != -1:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if userTF.card.cardId != '':</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            inptMoney = float(input("</span><span style="color:#000000;">请输入取款金额</span><span style="color:#000000;">:"))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            if inptMoney &gt; int(userTF.card.money):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                print("</span><span style="color:#000000;">输入的金额大于余额，请先查询余额！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            userTF.card.money = float(userTF.card.money) – inptMoney</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">取款成功！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: %s   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: %.2f  " %</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                (userTF.card.cardId, userTF.card.money))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<ol><li>saveMoney ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">saveMoney()方法实现用户使用银行管理系统存钱的功能，与getMoney ()方法的功能类似，需要先查询银行卡的用户，查询结果无误后则需要用户输入要存入的金额：金额小于0提示错误信息，并返回到银行系统的功能界面；金额大于等于0则累加到银行卡的余额中，并向用户展示账户余额，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def saveMoney(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    userTF = self.searchUser()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if userTF != -1:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if not userTF.card.cardLock == True:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            if userTF.card.cardId != '':</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                inptMoney = float(input("</span><span style="color:#000000;">请输入要存入得金额</span><span style="color:#000000;">:"))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                if inptMoney &lt; 0:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    print("</span><span style="color:#000000;">请输入正确金额</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    userTF.card.money += inptMoney</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    print("</span><span style="color:#000000;">存款成功！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: %s   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: %.2f  " %</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                          (userTF.card.cardId, userTF.card.money))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<ol><li>transferMoney ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">transferMoney ()方法实现用户向其它银行卡转账的功能，该方法中需先确保主卡用户和转入卡用户同时存在，再向用户提示要转入的金额进而判断：若主卡中的余额充足，将减少主卡中相应的金额，将增加转入卡中相应的金额；若主卡中的余额不足，则将为用户显示主卡余额，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def transferMoney(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    MasterTF = self.searchUser(base=2)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if (MasterTF == -1):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    userTF = self.searchUser(base=3)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if (userTF == -1):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    in_tr_Money = float(input("</span><span style="color:#000000;">请输入转账金额：</span><span style="color:#000000;">"))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    if MasterTF.card.money &gt;= in_tr_Money:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        str = input("</span><span style="color:#000000;">您确认要继续转账操作吗（</span><span style="color:#000000;">y/n</span><span style="color:#000000;">）？：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if str.upper() == "Y":</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            MasterTF.card.money -= in_tr_Money</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            userTF.card.money += in_tr_Money</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">转账成功！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: %s   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: %.2f  " %</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                  (MasterTF.card.cardId, MasterTF.card.money))</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">转账失败，中止了操作</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    else:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">转账失败</span><span style="color:#000000;">,</span><span style="color:#000000;">余额不足！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: %s   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: %.2f  " %</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">              (MasterTF.card.cardId, MasterTF.card.money))</span></span></p> 
<ol><li>unlockCard ()方法</li></ol> 
<p style="margin-left:0;text-align:justify;">unlockCard ()方法实现解锁银行卡的功能，该方法中需要求用户先输入要解锁的银行卡号，再分别对不同的情况做处理：若用户输入错误的卡号，提示用户解锁失败的信息；若用户输入卡号的银行卡未被锁定，提示用户无需解锁；若用户输入错误的密码，提示用户解锁失败；其它情况则提示解锁成功，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">def unlockCard(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    inptcardId = input("</span><span style="color:#000000;">请输入您的卡号：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    user = self.alluser.get(inptcardId)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    while 1:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if not self.alluser.get(inptcardId):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">此卡号不存在</span><span style="color:#000000;">...</span><span style="color:#000000;">解锁失败！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        elif not user.card.cardLock:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">该卡未被锁定，无需解锁！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            break</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        elif not self.checkpwg(user.card.cardPwd):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            print("</span><span style="color:#000000;">密码错误</span><span style="color:#000000;">...</span><span style="color:#000000;">解锁失败！！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            return -1</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            user.card.cardLock = False  # </span><span style="color:#000000;">解锁</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">该卡</span> <span style="color:#000000;">解锁</span> <span style="color:#000000;">成功！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        break</span></span></p> 
<p style="margin-left:0;text-align:justify;">（6）按照图7的类设计图，在“银行系统.py”文件中编写HomePage类的代码，具体如下所示。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">from admin import Admin</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">from atm import ATM</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">import time</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">class HomePage:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def __init__(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.allUserD = {}    # </span><span style="color:#000000;">使用字典存储数据</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.atm = ATM(self.allUserD)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.admin = Admin()  # </span><span style="color:#000000;">管理员开机界面</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def saveUser(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.allUserD.update(self.atm.alluser)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        print("</span><span style="color:#000000;">数据存盘成功</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;"># </span><span style="color:#000000;">程序的入口</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    def main(self):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        self.admin.printAdminView()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        resL = self.admin.adminOption()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">        if not resL:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">            while True:</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                self.admin.printsysFunctionView()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                option = input("</span><span style="color:#000000;">请输入您的操作：</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                if option not in ("1", "2", "3", "4", "5",</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                                  "6", "7", "S", "Q", "q"):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    print("</span><span style="color:#000000;">输入操作项有误</span><span style="color:#000000;">,</span><span style="color:#000000;">请仔细确认！</span><span style="color:#000000;">")</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    time.sleep(1)</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                if option == "1":  # </span><span style="color:#000000;">开户</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.creatUser()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "2":  # </span><span style="color:#000000;">查询</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.searchUser()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "3":  # </span><span style="color:#000000;">取款</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.getMoney()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "4":  # </span><span style="color:#000000;">存储</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.saveMoney()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "5":  # </span><span style="color:#000000;">转账</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.transferMoney()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "6":  # </span><span style="color:#000000;">锁定</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.lockCard()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option == "7":  # </span><span style="color:#000000;">解锁</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    self.atm.unlockCard()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                elif option.upper() == "Q":</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                    if not (self.admin.adminOption()):</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                        self.saveUser()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                        print('</span><span style="color:#000000;">退出系统</span><span style="color:#000000;">')</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">                        return -1</span></span></p> 
<p style="margin-left:0;text-align:justify;">（7）在“银行系统.py”文件中，创建HomePage类对象，调用main()函数，具体代码如下。</p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">if __name__ == "__main__":</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    homepage = HomePage()</span></span></p> 
<p style="margin-left:0;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">    homepage.main()</span></span></p> 
<p style="margin-left:0;text-align:justify;">至此，程序的全部功能全部实现。</p> 
<h3 style="margin-left:1cm;text-align:justify;">代码测试</h3> 
<p style="margin-left:0;text-align:justify;">运行程序，在控制台输入管理员账户“1”和密码“1”的结果如下所示：</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">******************************************</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                    ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                    ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***         </span><span style="color:#000000;">欢迎登录银行系统</span><span style="color:#000000;">            ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                    ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                    ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">******************************************</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入管理员账户：</span><span style="color:#000000;">1</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">1</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">操作成功，请稍后</span><span style="color:#000000;">......</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***********************************************</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                         ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***    1.</span><span style="color:#000000;">开户</span><span style="color:#000000;">(1)                2.</span><span style="color:#000000;">查询</span><span style="color:#000000;">(2)   ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***    3.</span><span style="color:#000000;">取款</span><span style="color:#000000;">(3)                4.</span><span style="color:#000000;">存款</span><span style="color:#000000;">(4)   ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***    5.</span><span style="color:#000000;">转账</span><span style="color:#000000;">(5)                6.</span><span style="color:#000000;">锁定</span><span style="color:#000000;">(6)   ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***    7.</span><span style="color:#000000;">解锁</span><span style="color:#000000;">(7)                            ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                         ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***    </span><span style="color:#000000;">退出</span><span style="color:#000000;">(Q)                              ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***                                         ***</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">***********************************************</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的操作：</span></span></p> 
<p style="margin-left:0;text-align:justify;">开户功能的运行结果如下所示：</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的操作：</span><span style="color:#000000;">1</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入姓名</span><span style="color:#000000;">:</span><span style="color:#000000;">小明</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入身份证号</span><span style="color:#000000;">:123456789</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入手机号</span><span style="color:#000000;">:188888</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入预存金额</span><span style="color:#000000;">:500</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">000000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请再次输入密码：</span><span style="color:#000000;">000000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">密码设置成功，请牢记密码</span><span style="color:#000000;">:  000000 </span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">您的开户已完成，请牢记开户账号</span><span style="color:#000000;">: 836095</span></span></p> 
<p style="margin-left:0;text-align:justify;">存款功能的运行结果如下所示：</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的操作：</span><span style="color:#000000;">4</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的卡号：</span><span style="color:#000000;">836095</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">000000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">账户</span><span style="color:#000000;">: 836095   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: 500.00  </span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入要存入得金额</span><span style="color:#000000;">:100000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">存款成功！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: 836095   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: 100500.00  </span></span></p> 
<p style="margin-left:0;text-align:justify;">取款功能的运行结果如下所示：</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的操作：</span><span style="color:#000000;">3</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入您的卡号：</span><span style="color:#000000;">836095</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入密码：</span><span style="color:#000000;">000000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">账户</span><span style="color:#000000;">: 836095   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: 100500.00  </span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">请输入取款金额</span><span style="color:#000000;">:5000</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#e0e0e0;"><span style="color:#000000;">取款成功！</span>  <span style="color:#000000;">账户</span><span style="color:#000000;">: 836095   </span><span style="color:#000000;">余额</span><span style="color:#000000;">: 95500.00  </span></span></p> 
<p style="margin-left:0;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d0f921372b4c39d65703bbefbd5f51cd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[python]用flask框架搭建微信公众号的后台</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a76613fda5c660768cfd843f5c4de625/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">学习ArcGIS Maps SDK for Kotlin(200)系列 001-初识ArcGIS Maps SDK for Kotlin</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>