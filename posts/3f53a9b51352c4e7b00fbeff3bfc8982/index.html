<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>çˆ¬è™«è·å–ç”µå½±æ•°æ®----ä»¥æ²ˆè…¾å‚æ¼”ç”µå½±ä¸ºä¾‹ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="çˆ¬è™«è·å–ç”µå½±æ•°æ®----ä»¥æ²ˆè…¾å‚æ¼”ç”µå½±ä¸ºä¾‹" />
<meta property="og:description" content="æ•°æ®å¯è§†åŒ–&amp;åˆ†æå®æˆ˜ 1.1 æ²ˆè…¾å‚æ¼”ç”µå½±æ•°æ®è·å–
1.2 ç”µå½±æ•°æ®å¯è§†åŒ–åˆ†æ
æ–‡ç« ç›®å½• æ•°æ®å¯è§†åŒ–&amp;åˆ†æå®æˆ˜å‰è¨€1. ç½‘é¡µåˆ†æ2. æ„å»ºæ•°æ®è·å–å‡½æ•°2.1 ç½‘é¡µæ•°æ®è·å–å‡½æ•°2.2 ç½‘é¡µç…§ç‰‡è·å–å‡½æ•° 3. è·å–å‚æ¼”å½±è§†ä½œå“åŸºæœ¬æ•°æ®4. ç”µå½±è¯¦ç»†æ•°æ®è·å–4.1 å¯¼æ¼”ã€æ¼”å‘˜ã€æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯ã€ç”µå½±æµ·æŠ¥è·å–4.1.1 ç”µå½±æµ·æŠ¥è·å–ï¼ˆä»¥è¶…èƒ½ä¸€å®¶äººä¸ºä¾‹ï¼‰ï¼š4.1.2 å¯¼æ¼”ã€æ¼”å‘˜ä¿¡æ¯è·å–ï¼š4.1.3 æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯è·å–ï¼š 4.2 IMDbå·ã€æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–4.2.1 IMDbå·è·å–ï¼š4.2.2 æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–: 4.3 è¯¦ç»†ä¿¡æ¯è·å–å…¨ä»£ç  æ€»ç»“ å‰è¨€ å¤§å®¶å¥½âœ¨ï¼Œè¿™é‡Œæ˜¯bioğŸ¦–ã€‚ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„æ˜¯æ•°æ®è·å–çš„ä¸€ç§æ–¹æ³•ï¼Œç½‘ç»œçˆ¬è™«ï¼ˆWeb Crawlerï¼‰ã€‚æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–ç¨‹åºï¼Œç”¨äºåœ¨äº’è”ç½‘ä¸Šè·å–ä¿¡æ¯ã€æŠ“å–ç½‘é¡µå†…å®¹å¹¶è¿›è¡Œæ•°æ®æ”¶é›†ã€‚ç½‘ç»œçˆ¬è™«é€šè¿‡è®¿é—®ç½‘é¡µçš„é“¾æ¥ï¼Œå¹¶ä»ä¸­æå–ä¿¡æ¯å’Œæ•°æ®ï¼Œç„¶åå°†è¿™äº›æ•°æ®ä¿å­˜æˆ–ç”¨äºåç»­å¤„ç†å’Œåˆ†æã€‚å¯è§†åŒ–åˆ†æå·²æ›´æ–°ï¼š1.2 ç”µå½±æ•°æ®å¯è§†åŒ–åˆ†æ
ç½‘ç»œçˆ¬è™«çš„å·¥ä½œæµç¨‹é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š
å‘é€è¯·æ±‚ï¼šç½‘ç»œçˆ¬è™«é¦–å…ˆå‘é€HTTPè¯·æ±‚åˆ°æŒ‡å®šçš„URLï¼Œè¯·æ±‚è·å–ç½‘é¡µå†…å®¹ã€‚è·å–å“åº”ï¼šç½‘ç«™æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè¿”å›ç›¸åº”çš„ç½‘é¡µå†…å®¹ä½œä¸ºHTTPå“åº”ã€‚çˆ¬è™«ä¼šè·å–å¹¶æ¥æ”¶è¿™ä¸ªå“åº”å†…å®¹ã€‚è§£æç½‘é¡µï¼šçˆ¬è™«ä¼šå¯¹ç½‘é¡µå†…å®¹è¿›è¡Œè§£æï¼Œæå–å‡ºéœ€è¦çš„æ•°æ®å’Œä¿¡æ¯ã€‚é€šå¸¸ä½¿ç”¨HTMLè§£æå™¨æˆ–XPathç­‰æŠ€æœ¯æ¥è§£æç½‘é¡µçš„ç»“æ„å’Œå…ƒç´ ã€‚æ•°æ®æå–ï¼šä»è§£æçš„ç½‘é¡µä¸­ï¼Œçˆ¬è™«ä¼šæå–å‡ºæ„Ÿå…´è¶£çš„æ•°æ®ï¼Œå¦‚æ–‡å­—ã€å›¾ç‰‡ã€é“¾æ¥ç­‰ã€‚å­˜å‚¨æ•°æ®ï¼šçˆ¬è™«å°†æå–çš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ã€æ–‡ä»¶æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸­ï¼Œä»¥å¤‡åç»­åˆ†æå’Œåº”ç”¨ã€‚ é€šè¿‡æœ¬æ–‡è·å–ç”µå½±æ•°æ®ä¿¡æ¯ï¼Œä¸ºåç»­çš„æ•°æ®å¯è§†åŒ–æä¾›æ•°æ®æ”¯æ’‘~
1. ç½‘é¡µåˆ†æ æ•°æ®æ¥æºäºè±†ç“£ç”µå½±ç½‘ï¼Œåœ¨è±†ç“£ç”µå½±ç½‘æœç´¢æ¼”å‘˜æ²ˆè…¾ï¼Œæ‰¾åˆ°ä»–å‚æ¼”çš„æ‰€æœ‰ä½œå“ï¼ˆæ²ˆè…¾å‚æ¼”ä½œå“ï¼‰ã€‚æ‰“å¼€é¡µé¢å‘ç°æ²ˆè…¾ä¸€å…±å‚æ¼”134éƒ¨ä½œå“ï¼Œå…¶ä¸­ç¬¬ä¸€é¡µæ‰€æœ‰ä½œå“å‡æœªä¸Šæ˜ ï¼Œæ‰€ä»¥ä¹‹åè·å–æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ç”¨å…³æ³¨ç¬¬ä¸€é¡µã€‚å…¶æ¬¡åº”è¯¥å…³æ³¨ç½‘é¡µé“¾æ¥ï¼ŒæŸ¥çœ‹ä¸åŒç½‘é¡µé“¾æ¥ä¹‹é—´çš„å·®å¼‚ï¼Œä»¥ä¾¿äºæ‰¹é‡è·å–æ•°æ®ã€‚
ä¸‹é¢æ˜¯å„ä¸ªé¡µé¢çš„é“¾æ¥ï¼Œé€šè¿‡è§‚å¯Ÿä¸éš¾çœ‹å‡ºå„ä¸ªé“¾æ¥ä¹‹é—´çš„å·®å¼‚åœ¨start=åçš„æ•°å­—ï¼Œç¬¬ä¸€é¡µæ˜¯0ï¼Œç¬¬äºŒé¡µæ˜¯1ï¼Œç¬¬ä¸‰é¡µæ˜¯2â€¦â€¦æœ€åä¸€é¡µæ˜¯13ã€‚åœ¨ä¸Šæ–‡ä¸­è¯´åˆ°ç¬¬ä¸€é¡µçš„æ‰€æœ‰ç”µå½±å‡æœªä¸Šæ˜ ï¼Œæœªä¸Šæ˜ çš„ç”µå½±æ²¡æœ‰åç»­æ•°æ®å¯è§†åŒ–å¯ç”¨çš„æ•°æ®ï¼Œæ•…ä¸ç”¨è·å–ã€‚ä½¿ç”¨1åˆ°13çš„å¾ªç¯ï¼Œä¾¿å¯è·å–æ²ˆè…¾å‚æ¼”çš„æ‰€æœ‰ç”µå½±æ•°æ®ã€‚
https://movie.douban.com/celebrity/1325700/movies?start=0&amp;format=pic&amp;sortby=time&amp;
https://movie.douban.com/celebrity/1325700/movies?start=10&amp;format=pic&amp;sortby=time&amp;
https://movie.douban.com/celebrity/1325700/movies?start=20&amp;format=pic&amp;sortby=time&amp;
â€¦
https://movie.douban.com/celebrity/1325700/movies?start=130&amp;format=pic&amp;sortby=time&amp;
2. æ„å»ºæ•°æ®è·å–å‡½æ•° 2.1 ç½‘é¡µæ•°æ®è·å–å‡½æ•° ç”±äºç½‘ç»œçˆ¬è™«çš„è®¿é—®ç½‘ç«™çš„é€Ÿåº¦å¾ˆå¿«ï¼Œä¼šç»™ç½‘ç«™æœåŠ¡å™¨å¢åŠ è´Ÿæ‹…ï¼Œå› æ­¤ç½‘ç«™ä¼šè®¾ç½®åçˆ¬æœºåˆ¶ã€‚
ä¸ºäº†é˜²æ­¢ç½‘ç«™æ£€æµ‹å‡ºæ¥ï¼Œä½¿ç”¨headerå‚æ•°ä¼ªé€ æµè§ˆå™¨ä¿¡å·ã€‚
ç„¶åä½¿ç”¨requestsåŒ…è·å–ç½‘é¡µæ•°æ®ï¼Œå¯¹è·å¾—çš„æ–‡æœ¬æ•°æ®ä½¿ç”¨gbkç¼–ç ï¼ŒåŒæ—¶é—å¿˜ä¸èƒ½è¢«gbkç¼–ç çš„æ•°æ®
æœ€åä½¿ç”¨BeautifulSoupå¯¹è·å–çš„æ•°æ®è½¬åŒ–æˆhtmlæ ¼å¼ã€‚
# time: 2023.07.26 # author: bioå¤§æé¾™ # define a function to get website infomation with html format import requests from bs4 import BeautifulSoup def get_url_info(url): headers = {&#39;User-Agent&#39;:&#39;Mozilla/5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3f53a9b51352c4e7b00fbeff3bfc8982/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-15T14:28:12+08:00" />
<meta property="article:modified_time" content="2023-08-15T14:28:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">çˆ¬è™«è·å–ç”µå½±æ•°æ®----ä»¥æ²ˆè…¾å‚æ¼”ç”µå½±ä¸ºä¾‹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>æ•°æ®å¯è§†åŒ–&amp;åˆ†æå®æˆ˜</h2> 
<p><a href="https://editor.csdn.net/md/?articleId=132016703" rel="nofollow">1.1 æ²ˆè…¾å‚æ¼”ç”µå½±æ•°æ®è·å–</a><br> <a href="https://editor.csdn.net/md/?articleId=132131218" rel="nofollow">1.2 ç”µå½±æ•°æ®å¯è§†åŒ–åˆ†æ</a></p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#_0" rel="nofollow">æ•°æ®å¯è§†åŒ–&amp;åˆ†æå®æˆ˜</a></li><li><a href="#_10" rel="nofollow">å‰è¨€</a></li><li><a href="#1__23" rel="nofollow">1. ç½‘é¡µåˆ†æ</a></li><li><a href="#2__35" rel="nofollow">2. æ„å»ºæ•°æ®è·å–å‡½æ•°</a></li><li><ul><li><a href="#21__36" rel="nofollow">2.1 ç½‘é¡µæ•°æ®è·å–å‡½æ•°</a></li><li><a href="#22__60" rel="nofollow">2.2 ç½‘é¡µç…§ç‰‡è·å–å‡½æ•°</a></li></ul> 
  </li><li><a href="#3__74" rel="nofollow">3. è·å–å‚æ¼”å½±è§†ä½œå“åŸºæœ¬æ•°æ®</a></li><li><a href="#4__122" rel="nofollow">4. ç”µå½±è¯¦ç»†æ•°æ®è·å–</a></li><li><ul><li><a href="#41__127" rel="nofollow">4.1 å¯¼æ¼”ã€æ¼”å‘˜ã€æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯ã€ç”µå½±æµ·æŠ¥è·å–</a></li><li><ul><li><a href="#411__128" rel="nofollow">4.1.1 ç”µå½±æµ·æŠ¥è·å–ï¼ˆä»¥è¶…èƒ½ä¸€å®¶äººä¸ºä¾‹ï¼‰ï¼š</a></li><li><a href="#412__136" rel="nofollow">4.1.2 å¯¼æ¼”ã€æ¼”å‘˜ä¿¡æ¯è·å–ï¼š</a></li><li><a href="#413__143" rel="nofollow">4.1.3 æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯è·å–ï¼š</a></li></ul> 
   </li><li><a href="#42_IMDb_216" rel="nofollow">4.2 IMDbå·ã€æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–</a></li><li><ul><li><a href="#421_IMDb_217" rel="nofollow">4.2.1 IMDbå·è·å–ï¼š</a></li><li><a href="#422__226" rel="nofollow">4.2.2 æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–:</a></li></ul> 
   </li><li><a href="#43__245" rel="nofollow">4.3 è¯¦ç»†ä¿¡æ¯è·å–å…¨ä»£ç </a></li></ul> 
  </li><li><a href="#_334" rel="nofollow">æ€»ç»“</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_10"></a>å‰è¨€</h2> 
<p>å¤§å®¶å¥½âœ¨ï¼Œè¿™é‡Œæ˜¯bioğŸ¦–ã€‚ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„æ˜¯æ•°æ®è·å–çš„ä¸€ç§æ–¹æ³•ï¼Œç½‘ç»œçˆ¬è™«ï¼ˆWeb Crawlerï¼‰ã€‚æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–ç¨‹åºï¼Œç”¨äºåœ¨äº’è”ç½‘ä¸Šè·å–ä¿¡æ¯ã€æŠ“å–ç½‘é¡µå†…å®¹å¹¶è¿›è¡Œæ•°æ®æ”¶é›†ã€‚ç½‘ç»œçˆ¬è™«é€šè¿‡è®¿é—®ç½‘é¡µçš„é“¾æ¥ï¼Œå¹¶ä»ä¸­æå–ä¿¡æ¯å’Œæ•°æ®ï¼Œç„¶åå°†è¿™äº›æ•°æ®ä¿å­˜æˆ–ç”¨äºåç»­å¤„ç†å’Œåˆ†æã€‚å¯è§†åŒ–åˆ†æå·²æ›´æ–°ï¼š<a href="https://editor.csdn.net/md/?articleId=132131218" rel="nofollow">1.2 ç”µå½±æ•°æ®å¯è§†åŒ–åˆ†æ</a><br> ç½‘ç»œçˆ¬è™«çš„å·¥ä½œæµç¨‹é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p> 
<ol><li>å‘é€è¯·æ±‚ï¼šç½‘ç»œçˆ¬è™«é¦–å…ˆå‘é€HTTPè¯·æ±‚åˆ°æŒ‡å®šçš„URLï¼Œè¯·æ±‚è·å–ç½‘é¡µå†…å®¹ã€‚</li><li>è·å–å“åº”ï¼šç½‘ç«™æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè¿”å›ç›¸åº”çš„ç½‘é¡µå†…å®¹ä½œä¸ºHTTPå“åº”ã€‚çˆ¬è™«ä¼šè·å–å¹¶æ¥æ”¶è¿™ä¸ªå“åº”å†…å®¹ã€‚</li><li>è§£æç½‘é¡µï¼šçˆ¬è™«ä¼šå¯¹ç½‘é¡µå†…å®¹è¿›è¡Œè§£æï¼Œæå–å‡ºéœ€è¦çš„æ•°æ®å’Œä¿¡æ¯ã€‚é€šå¸¸ä½¿ç”¨HTMLè§£æå™¨æˆ–XPathç­‰æŠ€æœ¯æ¥è§£æç½‘é¡µçš„ç»“æ„å’Œå…ƒç´ ã€‚</li><li>æ•°æ®æå–ï¼šä»è§£æçš„ç½‘é¡µä¸­ï¼Œçˆ¬è™«ä¼šæå–å‡ºæ„Ÿå…´è¶£çš„æ•°æ®ï¼Œå¦‚æ–‡å­—ã€å›¾ç‰‡ã€é“¾æ¥ç­‰ã€‚</li><li>å­˜å‚¨æ•°æ®ï¼šçˆ¬è™«å°†æå–çš„æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ã€æ–‡ä»¶æˆ–å…¶ä»–å­˜å‚¨ä»‹è´¨ä¸­ï¼Œä»¥å¤‡åç»­åˆ†æå’Œåº”ç”¨ã€‚</li></ol> 
<p>é€šè¿‡æœ¬æ–‡è·å–ç”µå½±æ•°æ®ä¿¡æ¯ï¼Œä¸ºåç»­çš„æ•°æ®å¯è§†åŒ–æä¾›æ•°æ®æ”¯æ’‘~</p> 
<hr> 
<h2><a id="1__23"></a>1. ç½‘é¡µåˆ†æ</h2> 
<p>æ•°æ®æ¥æºäºè±†ç“£ç”µå½±ç½‘ï¼Œåœ¨è±†ç“£ç”µå½±ç½‘æœç´¢æ¼”å‘˜æ²ˆè…¾ï¼Œæ‰¾åˆ°ä»–å‚æ¼”çš„æ‰€æœ‰ä½œå“ï¼ˆ<a href="https://movie.douban.com/celebrity/1325700/movies?start=0&amp;format=pic&amp;sortby=time&amp;" rel="nofollow">æ²ˆè…¾å‚æ¼”ä½œå“</a>ï¼‰ã€‚æ‰“å¼€é¡µé¢å‘ç°æ²ˆè…¾ä¸€å…±å‚æ¼”134éƒ¨ä½œå“ï¼Œå…¶ä¸­ç¬¬ä¸€é¡µæ‰€æœ‰ä½œå“å‡æœªä¸Šæ˜ ï¼Œæ‰€ä»¥ä¹‹åè·å–æ•°æ®æ—¶ï¼Œå¯ä»¥ä¸ç”¨å…³æ³¨ç¬¬ä¸€é¡µã€‚å…¶æ¬¡åº”è¯¥å…³æ³¨ç½‘é¡µé“¾æ¥ï¼ŒæŸ¥çœ‹<strong>ä¸åŒç½‘é¡µé“¾æ¥ä¹‹é—´çš„å·®å¼‚</strong>ï¼Œä»¥ä¾¿äºæ‰¹é‡è·å–æ•°æ®ã€‚<br> <img src="https://images2.imgbox.com/8c/92/nTUk4Aah_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä¸‹é¢æ˜¯å„ä¸ªé¡µé¢çš„é“¾æ¥ï¼Œé€šè¿‡è§‚å¯Ÿä¸éš¾çœ‹å‡ºå„ä¸ªé“¾æ¥ä¹‹é—´çš„å·®å¼‚åœ¨<code>start=</code>åçš„æ•°å­—ï¼Œç¬¬ä¸€é¡µæ˜¯<code>0</code>ï¼Œç¬¬äºŒé¡µæ˜¯<code>1</code>ï¼Œç¬¬ä¸‰é¡µæ˜¯<code>2</code>â€¦â€¦æœ€åä¸€é¡µæ˜¯<code>13</code>ã€‚åœ¨ä¸Šæ–‡ä¸­è¯´åˆ°ç¬¬ä¸€é¡µçš„æ‰€æœ‰ç”µå½±å‡æœªä¸Šæ˜ ï¼Œæœªä¸Šæ˜ çš„ç”µå½±æ²¡æœ‰åç»­æ•°æ®å¯è§†åŒ–å¯ç”¨çš„æ•°æ®ï¼Œæ•…ä¸ç”¨è·å–ã€‚ä½¿ç”¨<strong>1</strong>åˆ°<strong>13</strong>çš„å¾ªç¯ï¼Œä¾¿å¯è·å–æ²ˆè…¾å‚æ¼”çš„æ‰€æœ‰ç”µå½±æ•°æ®ã€‚</p> 
<blockquote> 
 <p>https://movie.douban.com/celebrity/1325700/movies?start=<strong>0</strong>&amp;format=pic&amp;sortby=time&amp;<br> https://movie.douban.com/celebrity/1325700/movies?start=<strong>10</strong>&amp;format=pic&amp;sortby=time&amp;<br> https://movie.douban.com/celebrity/1325700/movies?start=<strong>20</strong>&amp;format=pic&amp;sortby=time&amp;<br> â€¦<br> https://movie.douban.com/celebrity/1325700/movies?start=<strong>130</strong>&amp;format=pic&amp;sortby=time&amp;</p> 
</blockquote> 
<h2><a id="2__35"></a>2. æ„å»ºæ•°æ®è·å–å‡½æ•°</h2> 
<h3><a id="21__36"></a>2.1 ç½‘é¡µæ•°æ®è·å–å‡½æ•°</h3> 
<p>ç”±äºç½‘ç»œçˆ¬è™«çš„è®¿é—®ç½‘ç«™çš„é€Ÿåº¦å¾ˆå¿«ï¼Œä¼šç»™ç½‘ç«™æœåŠ¡å™¨å¢åŠ è´Ÿæ‹…ï¼Œå› æ­¤ç½‘ç«™ä¼šè®¾ç½®åçˆ¬æœºåˆ¶ã€‚<br> ä¸ºäº†é˜²æ­¢ç½‘ç«™æ£€æµ‹å‡ºæ¥ï¼Œä½¿ç”¨<code>header</code>å‚æ•°ä¼ªé€ æµè§ˆå™¨ä¿¡å·ã€‚<br> ç„¶åä½¿ç”¨<code>requests</code>åŒ…è·å–ç½‘é¡µæ•°æ®ï¼Œå¯¹è·å¾—çš„æ–‡æœ¬æ•°æ®ä½¿ç”¨<code>gbk</code>ç¼–ç ï¼ŒåŒæ—¶é—å¿˜ä¸èƒ½è¢«<code>gbk</code>ç¼–ç çš„æ•°æ®<br> æœ€åä½¿ç”¨<code>BeautifulSoup</code>å¯¹è·å–çš„æ•°æ®è½¬åŒ–æˆ<code>html</code>æ ¼å¼ã€‚</p> 
<pre><code class="prism language-python"><span class="token comment"># time: 2023.07.26</span>
<span class="token comment"># author: bioå¤§æé¾™</span>

<span class="token comment"># define a function to get website infomation with html format</span>
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token keyword">def</span> <span class="token function">get_url_info</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36 QIHU 360SE'</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        info <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">,</span> <span class="token string">'ignore'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> soup
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Sorry! The film information is not got'</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h3><a id="22__60"></a>2.2 ç½‘é¡µç…§ç‰‡è·å–å‡½æ•°</h3> 
<p>æ¯ä¸ªç”µå½±éƒ½æœ‰è‡ªå·±çš„æµ·æŠ¥ï¼Œå…·æœ‰è§‚èµä»·å€¼ã€‚è·å–çš„å›¾ç‰‡æ•°æ®æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ‰€æœ‰å½“ä¿å­˜ç…§ç‰‡æ˜¯ä½¿ç”¨<code>b</code>ï¼ˆäºŒè¿›åˆ¶å†™å…¥ï¼‰ã€‚å…¶ä»–ä»£ç æ³¨é‡ŠåŒç½‘é¡µæ•°æ®è·å–å‡½æ•°ã€‚</p> 
<pre><code class="prism language-python"><span class="token comment"># define a function to download film poster</span>
<span class="token keyword">def</span> <span class="token function">download_image</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span><span class="token string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36 QIHU 360SE'</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        image <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>image<span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Sorry! failure to download the image'</span><span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h2><a id="3__74"></a>3. è·å–å‚æ¼”å½±è§†ä½œå“åŸºæœ¬æ•°æ®</h2> 
<p>é€šè¿‡ç½‘é¡µæ•°æ®è·å–å‡½æ•°<code>get_url_info()</code>è·å–ä¸€ä¸ªä»»æ„ä¸€ä¸ªç½‘é¡µçš„ä¿¡æ¯ï¼Œè¿™é‡Œä»¥æœ€åä¸€é¡µä¸ºä¾‹ã€‚é¦–å…ˆè·å–å‚æ¼”å½±è§†ä½œå“ï¼ˆä¸ä¸€å®šæ˜¯ç”µå½±ï¼‰çš„åå­—ï¼ŒURLå’Œå¹´ä»½ï¼Œä¹‹åæ ¹æ®å½±è§†ä½œå“çš„URLè·å–å…·ä½“ä¿¡æ¯ã€‚<br> åœ¨è·å–çš„ç½‘é¡µä¿¡æ¯ä¸­å‘ç°ï¼Œæƒ³è·å¾—çš„æ•°æ®åœ¨<code>h6</code>ä¸‹ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<code>BeautifulSoup</code>çš„<code>find()</code>å»è·å–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œè·å–å¹´ä»½ä¿¡æ¯å¯ä»¥ä½¿ç”¨<code>html_content.find('span').text.strip('()')</code>ï¼Œå…¶ä¸­<code>.text</code>æ˜¯è¿”å›æ–‡æœ¬ä¿¡æ¯ï¼Œ<code>strip('()')</code>æ˜¯å»é™¤æ‹¬å·ã€‚(å‡è®¾ä½ å·²ç»ä½¿ç”¨äº†<code>find(h6)</code>å¾—åˆ°äº†ä¸‹é¢htmlçš„å†…å®¹)ï¼Œ</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ¡ˆå‘ç°åœº2<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://img1.doubanio.com/view/photo/s_ratio_poster/public/p2466501379.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ¡ˆå‘ç°åœº2<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://movie.douban.com/subject/3151813/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ¡ˆå‘ç°åœº2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>(2007)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>[ æ¼”å‘˜ (é¥° å¤æ™“å¼º) ]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>åŒç†ï¼Œå¯ä»¥è·å¾—å½±è§†æ•°æ®çš„åå­—ã€URLã€‚è·å–ç¬¬äºŒé¡µåˆ°ç¬¬åå››é¡µæ‰€æœ‰å½±è§†ä½œå“çš„åŸºæœ¬ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼Œæ€è·¯ä¸å¯»æ‰¾ä¸€è‡´ã€‚</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> time

<span class="token comment"># construct a dataframe to store movies shenteng involved in information</span>
shenteng_movies_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Film_Name'</span><span class="token punctuation">,</span> <span class="token string">'URL'</span><span class="token punctuation">,</span> <span class="token string">'Year'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
the urls of website were constructed as following url with difference in "start" and total pages are 13
'https://movie.douban.com/celebrity/1325700/movies?start=10&amp;format=pic&amp;sortby=time&amp;'
'https://movie.douban.com/celebrity/1325700/movies?start=20&amp;format=pic&amp;sortby=time&amp;'
'''</span>
df_index <span class="token operator">=</span> <span class="token number">0</span>
website_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> website_list<span class="token punctuation">:</span>
    movie_info <span class="token operator">=</span> get_url_info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'https://movie.douban.com/celebrity/1325700/movies?start=</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">0&amp;format=pic&amp;sortby=time&amp;'</span></span><span class="token punctuation">)</span>
    interest_info <span class="token operator">=</span> movie_info<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'h6'</span><span class="token punctuation">)</span>
    <span class="token comment">#print(interest_info[0].find('span'))</span>
    <span class="token comment">#break</span>
    <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>interest_info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        movie_year <span class="token operator">=</span> interest_info<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'()'</span><span class="token punctuation">)</span>
        movie_url <span class="token operator">=</span> interest_info<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span>
        movie_name <span class="token operator">=</span> interest_info<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text
        shenteng_movies_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df_index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>movie_name<span class="token punctuation">,</span> movie_url<span class="token punctuation">,</span> movie_year<span class="token punctuation">]</span>
        df_index <span class="token operator">+=</span> <span class="token number">1</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> 
<p>è·å–çš„ç»“æœå¦‚ä¸‹ï¼Œå¯¹åº”çš„CSVæ–‡ä»¶å¯ä»¥ä»CSDNèµ„æºåº“ä¸­ä¸‹è½½â€”â€”<a href="https://download.csdn.net/download/ouyangk1026/88152948">æ²ˆè…¾å‚æ¼”å½±è§†ä½œå“åŸºç¡€ä¿¡æ¯</a>ã€‚<br> <img src="https://images2.imgbox.com/e9/88/LmlyYoQb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<h2><a id="4__122"></a>4. ç”µå½±è¯¦ç»†æ•°æ®è·å–</h2> 
<p>ç”±äºåç»­æ˜¯æƒ³åšæ•°æ®å¯è§†åŒ–ï¼Œæ•…æ‹Ÿè·å–ç”µå½±åç§°ã€URLã€å¹´ä»½ã€å¯¼æ¼”ã€æ¼”å‘˜ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ã€IMDbå·ã€æè¿°ã€æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ã€‚åç§°ã€URLã€å¹´ä»½åœ¨ä¸Šä¸€æ­¥ä¸­å·²ç»è·å–äº†ï¼Œè¿™ä¸€æ­¥ä¸»è¦æ˜¯ä¸ºäº†è·å–å‰©ä½™ä¿¡æ¯ï¼Œç”±äºéƒ¨åˆ†ä¿¡æ¯ä¸æ˜¯ç”µå½±ã€ä¸”éƒ¨åˆ†ç”µå½±ä¿¡æ¯ä¸å«æœ‰æŠ•ç¥¨äººæ•°ã€æ„Ÿå…´è¶£äººæ•°ç­‰ï¼Œéœ€è¦ä¸æ–­è°ƒè¯•ï¼Œæ•…å¯¹æœ€åçš„å…¨éƒ¨ä»£ç è§£é‡Šå¯èƒ½ä¸å…¨é¢ï¼Œå¦‚æœä½ æ²¡æœ‰çœ‹æ‡‚ï¼Œæ¬¢è¿ç•™è¨€orç§ä¿¡ã€‚</p> 
<hr> 
<h3><a id="41__127"></a>4.1 å¯¼æ¼”ã€æ¼”å‘˜ã€æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯ã€ç”µå½±æµ·æŠ¥è·å–</h3> 
<h4><a id="411__128"></a>4.1.1 ç”µå½±æµ·æŠ¥è·å–ï¼ˆä»¥è¶…èƒ½ä¸€å®¶äººä¸ºä¾‹ï¼‰ï¼š</h4> 
<p>é€šè¿‡2.1ã€2.2å®šä¹‰çš„<code>get_url_info()</code>ï¼Œ<code>download_iamge()</code>å‡½æ•°ï¼Œåœ¨ä¸‹é¢çš„htmlä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°<code>"image": "https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2890369636.jpg"</code>åœ¨<code>&lt;script type="application/ld+json"&gt;</code>ä¸€æ ä¸‹ï¼Œæ‰€ä»¥é¦–å…ˆé€šè¿‡<code>find()</code>å‡½æ•°æå–è¿™éƒ¨åˆ†ä¿¡æ¯ï¼Œç„¶åé€šè¿‡<code>json.load()</code>å‡½æ•°å°†htmlæ ¼å¼è½¬æ¢ä¸ºå­—å…¸å½¢å¼ï¼Œç„¶åæ ¹æ®é”®åæå–å¯¹åº”çš„å€¼ã€‚ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-python">json_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">"application/ld+json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># å‡è®¾movie_infoä½ é€šè¿‡get_url_info()è·å–çš„ç”µå½±ä¿¡æ¯æ•°æ®</span>
image_url <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'image'</span><span class="token punctuation">]</span> <span class="token comment"># æå–å›¾ç‰‡url</span>
downloaw_image<span class="token punctuation">(</span>image_url<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span> <span class="token comment"># ä¸‹è½½å›¾ç‰‡</span>
</code></pre> 
<p>è·å–çš„æµ·æŠ¥å…±è®¡27å¼ ï¼Œä¹Ÿå°±æ˜¯è¯´æ€»å…±27éƒ¨ç”µå½±~~<img src="https://images2.imgbox.com/bf/97/HGiVjDtK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="412__136"></a>4.1.2 å¯¼æ¼”ã€æ¼”å‘˜ä¿¡æ¯è·å–ï¼š</h4> 
<p>é€šè¿‡ä¹‹å‰è½¬æ¢çš„å­—å…¸æ ¼å¼æ•°æ®ï¼Œå¯ä»¥è½»æ¾è·å–å¯¼æ¼”ã€æ¼”å‘˜ä¿¡æ¯ã€‚è¿™é‡Œåªè·å–ä¸­æ–‡å</p> 
<pre><code class="prism language-python">director <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'director'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
actors <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">'actor'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'[]'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="413__143"></a>4.1.3 æè¿°ã€ç±»å‹ã€æŠ•ç¥¨äººæ•°ã€è¯„åˆ†ä¿¡æ¯è·å–ï¼š</h4> 
<p>åŒç†ï¼Œè¿ç”¨å­—å…¸çš„é”®å€¼å¯¹æå–ä¿¡æ¯å³å¯</p> 
<pre><code class="prism language-python">genre <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>json_data<span class="token punctuation">[</span><span class="token string">'genre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'[]'</span><span class="token punctuation">)</span> <span class="token comment"># ç±»å‹</span>
rating_count <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'aggregateRating'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ratingCount'</span><span class="token punctuation">]</span> <span class="token comment"># æŠ•ç¥¨äººæ•°</span>
rating_value <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'aggregateRating'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ratingValue'</span><span class="token punctuation">]</span> <span class="token comment"># è¯„åˆ†</span>
description <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'description'</span><span class="token punctuation">]</span> <span class="token comment"># æè¿°</span>
</code></pre> 
<p>htmlä¿¡æ¯ï¼š</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>application/ld+json<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
{
  "@context": "http://schema.org",
  "name": "è¶…èƒ½ä¸€å®¶äºº",
  "url": "/subject/35228789/",
  "image": "https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2890369636.jpg",
  "director": 
  [
    {
      "@type": "Person",
      "url": "/celebrity/1350407/",
      "name": "å®‹é˜³ Yang Song"
    }
  ]
,
  "author": 
  [
    {
      "@type": "Person",
      "url": "/celebrity/1350407/",
      "name": "å®‹é˜³ Yang Song"
    }
    ,
    {
      "@type": "Person",
      "url": "/celebrity/1375192/",
      "name": "æ¯•æ…· Kang Bi"
    }
  ]
,
  "actor": 
  [
    {
      "@type": "Person",
      "url": "/celebrity/1350408/",
      "name": "è‰¾ä¼¦ Allen"
    }
    ,
    {
      "@type": "Person",
      "url": "/celebrity/1325700/",
      "name": "æ²ˆè…¾ Teng Shen"
    }
  ]
,
  "datePublished": "2023-07-21",
  "genre": ["\u559c\u5267", "\u5bb6\u5ead", "\u5947\u5e7b"],
  "duration": "PT1H53M",
  "description": "éƒ‘å‰ï¼ˆè‰¾ä¼¦ é¥°ï¼‰æ–°å¼€å‘çš„APPè¢«ç‹¡çŒ¾åˆè¯šå®çš„åæ´¾ä¹ä¹ç§‘å¤«ï¼ˆæ²ˆè…¾ é¥°ï¼‰ç›¯ä¸Šäº†ã€‚å¹¸å¥½éƒ‘å‰ä¸€å®¶äººæ„å¤–è·å¾—äº†è¶…èƒ½åŠ›ï¼Œå§å§ä¼šé£å¤©ï¼Œçˆ¸çˆ¸èƒ½éšèº«ï¼Œçˆ·çˆ·ä¸æ­»æœ¯ï¼Œå¦¹å¦¹åŠ›å¤§æ— ç©·ã€‚éƒ‘å‰æœ¬æŒ‡æœ›å®¶äººä»¬å‡ºæ‰‹å¸®å¿™ï¼Œä¸€å®¶äººå´å¸¸å¸¸å‡ºç³—...",
  "@type": "Movie",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingCount": "60348",
    "bestRating": "10",
    "worstRating": "2",
    "ratingValue": "4.0"
  }
}
</code></pre> 
<hr> 
<h3><a id="42_IMDb_216"></a>4.2 IMDbå·ã€æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–</h3> 
<h4><a id="421_IMDb_217"></a>4.2.1 IMDbå·è·å–ï¼š</h4> 
<p>IMDbåœ¨htmlä¿¡æ¯ä¸­å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨<code>span class="pl"</code>ä¸‹ï¼Œæ‰€ä»¥é€šè¿‡<code>find()</code>å‡½æ•°è·å–è¯¥ä¿¡æ¯æ‰€åœ¨ä½ç½®ï¼Œç„¶åä½¿ç”¨<code>next_sibling</code>è·å–å…„å¼ŸèŠ‚ç‚¹çš„ä¿¡æ¯å³å¯ï¼Œä»£ç å¦‚ä¸‹</p> 
<pre><code class="prism language-python">movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'pl'</span><span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"IMDb:"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>next_sibling<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>htmlä¿¡æ¯ï¼š</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>IMDb:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> tt12787014<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
</code></pre> 
<h4><a id="422__226"></a>4.2.2 æ„Ÿå…´è¶£çš„äººæ•°ï¼Œçœ‹è¿‡çš„äººæ•°ä¿¡æ¯è·å–:</h4> 
<p>è¯¥ä¿¡æ¯ä½äº<code>&lt;div class="subject-others-interests-ft"&gt;</code>ä¸‹ï¼Œæ‰€ä»¥å…ˆé€šè¿‡find_all()æ‰¾åˆ°ä¿¡æ¯æ‰€åœ¨ä½ç½®ï¼Œç„¶åæå–ç›¸å…³ä¿¡æ¯å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-python">tem_info <span class="token operator">=</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"subject-others-interests-ft"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
interest_count <span class="token operator">=</span> tem_info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'äºº'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
watched_count <span class="token operator">=</span> tem_info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'äºº'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p>htmlä¿¡æ¯ï¼š</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subject-others-interests-ft<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://movie.douban.com/subject/35228789/comments?status=P<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>62456äººçœ‹è¿‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                 / 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://movie.douban.com/subject/35228789/comments?status=F<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>36999äººæƒ³çœ‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<hr> 
<h3><a id="43__245"></a>4.3 è¯¦ç»†ä¿¡æ¯è·å–å…¨ä»£ç </h3> 
<p>å…¶ä¸­å¾ˆå¤šè¿‡æ»¤æ¡ä»¶æ˜¯ä¸ºäº†ç­›é€‰æ‰ä¸å±äºç”µå½±ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶ä¸ºäº†é˜²æ­¢éƒ¨åˆ†ç”µå½±æ•°æ®ä¿¡æ¯ç¼ºå¤±é€ æˆè„šæœ¬æŠ¥é”™ï¼Œå¼•å…¥äº†<code>Tag</code>ï¼Œæ˜¯beautifulsoupä¸­çš„ä¸€ç§ç±»å‹ã€‚</p> 
<p>å…¶ä¸­<code>[\x00-\x1F\x7F-\x9F]</code>æ˜¯ä¸èƒ½è¢«è½¬ä¹‰çš„ç¬¦å·ï¼Œæ•…è¿›è¡Œæ›¿æ¢ï¼Œé˜²æ­¢è„šæœ¬æŠ¥é”™ã€‚</p> 
<pre><code class="prism language-python">json_data <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\x00-\x1F\x7F-\x9F]'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">"application/ld+json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>æœ€åè·å¾—çš„è¡¨ç°å¦‚å›¾æ‰€ç¤ºï¼Œå¯¹åº”çš„CSVæ–‡ä»¶å¯ä»¥ä»CSDNèµ„æºåº“ä¸­ä¸‹è½½â€”â€”<a href="https://download.csdn.net/download/ouyangk1026/88152949">æ²ˆè…¾å‚æ¼”ç”µå½±è¯¦ç»†ä¿¡æ¯</a>ï¼š</p> 
<p><img src="https://images2.imgbox.com/6c/a0/0pYtz3q7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> json
<span class="token keyword">import</span> os
<span class="token keyword">from</span> bs4<span class="token punctuation">.</span>element <span class="token keyword">import</span> Tag
<span class="token keyword">import</span> re

<span class="token comment"># create a directory to store the posters of film</span>
dir_path <span class="token operator">=</span> <span class="token string">'/mnt/c/Users/ouyangkang/Desktop/film_poster/'</span>
<span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>dir_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>dir_path<span class="token punctuation">)</span>
    
<span class="token comment"># construct a dataframe to store new infomation of films</span>
films_detail_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Film_name'</span><span class="token punctuation">,</span> <span class="token string">'URL'</span><span class="token punctuation">,</span> <span class="token string">'Year'</span><span class="token punctuation">,</span> <span class="token string">'Director'</span><span class="token punctuation">,</span> <span class="token string">'Actors'</span><span class="token punctuation">,</span> <span class="token string">'Genre'</span><span class="token punctuation">,</span> <span class="token string">'Rating_count'</span><span class="token punctuation">,</span> <span class="token string">'Rating_value'</span><span class="token punctuation">,</span> <span class="token string">'IMDb'</span><span class="token punctuation">,</span> <span class="token string">'Description'</span><span class="token punctuation">,</span> <span class="token string">'Interesting_count'</span><span class="token punctuation">,</span> <span class="token string">'Watched_count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># index</span>
initial_number <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">for</span> single_movie_url <span class="token keyword">in</span> shenteng_movies_df<span class="token punctuation">[</span><span class="token string">'URL'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    movie_info <span class="token operator">=</span> get_url_info<span class="token punctuation">(</span>single_movie_url<span class="token punctuation">)</span>

    <span class="token comment"># screen non-film infomation and not yet shown</span>
    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"rating_sum"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token string">"æš‚æ— "</span> <span class="token keyword">not</span> <span class="token keyword">in</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"rating_sum"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token keyword">and</span> <span class="token string">"å°šæœª"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"rating_sum"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">:</span> 
            <span class="token comment"># construct directory data foramt</span>
            json_data <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'[\x00-\x1F\x7F-\x9F]'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">"application/ld+json"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            json_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_data<span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> json_data<span class="token punctuation">[</span><span class="token string">'@type'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'Movie'</span> <span class="token keyword">and</span> json_data<span class="token punctuation">[</span><span class="token string">'aggregateRating'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ratingValue'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">""</span> <span class="token keyword">and</span> json_data<span class="token punctuation">[</span><span class="token string">'description'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">""</span> <span class="token keyword">and</span> <span class="token string">"çœŸäººç§€"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">'genre'</span><span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token string">"è„±å£ç§€"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">'genre'</span><span class="token punctuation">]</span> <span class="token keyword">and</span> <span class="token string">'æ­Œèˆ'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">'genre'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token comment"># name</span>
                name <span class="token operator">=</span> shenteng_movies_df<span class="token punctuation">[</span>shenteng_movies_df<span class="token punctuation">[</span><span class="token string">"URL"</span><span class="token punctuation">]</span> <span class="token operator">==</span> single_movie_url<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'Film_Name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token comment"># url</span>
                url <span class="token operator">=</span> single_movie_url
                <span class="token comment"># year</span>
                year <span class="token operator">=</span> shenteng_movies_df<span class="token punctuation">[</span>shenteng_movies_df<span class="token punctuation">[</span><span class="token string">"URL"</span><span class="token punctuation">]</span> <span class="token operator">==</span> single_movie_url<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'Year'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token comment"># director</span>
                director <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'director'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token comment"># actors</span>
                actors <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> json_data<span class="token punctuation">[</span><span class="token string">'actor'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'[]'</span><span class="token punctuation">)</span> <span class="token comment"># only chinese name</span>
                <span class="token comment"># genre</span>
                genre <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>json_data<span class="token punctuation">[</span><span class="token string">'genre'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'[]'</span><span class="token punctuation">)</span>
                <span class="token comment"># rating count</span>
                rating_count <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'aggregateRating'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ratingCount'</span><span class="token punctuation">]</span>
                <span class="token comment"># rating value</span>
                rating_value <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'aggregateRating'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ratingValue'</span><span class="token punctuation">]</span>
                <span class="token comment"># IMDb</span>
                <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'pl'</span><span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"IMDb:"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    imdb <span class="token operator">=</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'pl'</span><span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">"IMDb:"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>next_sibling<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    imdb <span class="token operator">=</span> <span class="token boolean">None</span>
                <span class="token comment"># description</span>
                description <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'description'</span><span class="token punctuation">]</span>
                <span class="token comment"># how many people are interested in the film and had watched</span>
                <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"subject-others-interests-ft"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Tag<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    tem_info <span class="token operator">=</span> movie_info<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"subject-others-interests-ft"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
                    interest_count <span class="token operator">=</span> tem_info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'äºº'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                    watched_count <span class="token operator">=</span> tem_info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'äºº'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    interest_count <span class="token operator">=</span> <span class="token boolean">None</span>
                    watched_count <span class="token operator">=</span> <span class="token boolean">None</span>
                <span class="token comment"># poster url</span>
                image_url <span class="token operator">=</span> json_data<span class="token punctuation">[</span><span class="token string">'image'</span><span class="token punctuation">]</span>
                
                films_detail_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>initial_number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> url<span class="token punctuation">,</span> year<span class="token punctuation">,</span> director<span class="token punctuation">,</span> actors<span class="token punctuation">,</span> genre<span class="token punctuation">,</span> rating_count<span class="token punctuation">,</span> rating_value<span class="token punctuation">,</span> imdb<span class="token punctuation">,</span> description<span class="token punctuation">,</span> interest_count<span class="token punctuation">,</span> watched_count<span class="token punctuation">]</span>
                initial_number <span class="token operator">+=</span> <span class="token number">1</span>

                time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
                save_path <span class="token operator">=</span> dir_path <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'.jpg'</span>
                download_image<span class="token punctuation">(</span>image_url<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span>
                time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>

films_detail_df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># conserve file</span>
<span class="token comment"># films_detail_df.to_csv('/mnt/c/Users/ouyangkang/Desktop/films_info.csv', index=None, encoding='gbk')</span>
</code></pre> 
<hr> 
<h2><a id="_334"></a>æ€»ç»“</h2> 
<p>æœ¬æ–‡å‘å¤§å®¶ä»‹ç»å¦‚ä½•è·å–ç½‘é¡µä¿¡æ¯ï¼ˆä»¥ç”µå½±ä¿¡æ¯ä¸ºä¾‹ï¼‰ï¼Œä½†æ˜¯ç›¸å…³çš„å‡½æ•°åŠŸèƒ½å¹¶æ²¡æœ‰è¯¦ç»†ä»‹ç»ï¼Œå¦‚æœä½ æœ‰ç–‘é—®å¯ä»¥ç•™è¨€ã€ç§ä¿¡æˆ–è€…è‡ªè¡Œç™¾åº¦ï¼Œè¿™é‡Œå‘å¤§å®¶æä¾›çš„æ˜¯ä¸€ä¸ªæ€è·¯ï¼Œå…ˆå®šä½ä¿¡æ¯çš„ä½ç½®ï¼Œç„¶åé€šè¿‡å°†htmlæ•°æ®è½¬æ¢ä¸ºå­—å…¸æ•°æ®æå–ç›¸å…³ä¿¡æ¯ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–ä½ æƒ³æå–çš„ä¿¡æ¯ã€‚</p> 
<p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¦‚æœæœŸå¾…åç»­çš„å¯è§†åŒ–æ–‡ç« ï¼ˆå·²æ›´æ–°<a href="https://editor.csdn.net/md/?articleId=132131218" rel="nofollow">1.2 ç”µå½±æ•°æ®å¯è§†åŒ–åˆ†æ</a>ï¼‰ï¼Œç‚¹ç‚¹å…³æ³¨ä¸è¿·è·¯~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba720969efb4b9dfac00d6d8e3bf3c73/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æŠ–éŸ³å°ç¨‹åºé¡µé¢é“¾æ¥/å¯¼èˆª</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87a845cbd7f212b5074db4f14ec37373/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">day8 STM32æ•°æ®æ¬è¿å·¥ - DMA</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>