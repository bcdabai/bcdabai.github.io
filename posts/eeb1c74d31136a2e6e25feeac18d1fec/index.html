<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>RESTful API规范（详细版） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="RESTful API规范（详细版）" />
<meta property="og:description" content="rest
是一种软件架构风格，如果你们的接口是 rest
接口，那么就可被认为你们的的接口是restful的，英文名词和形容词的区别。
rest
接口是围绕“资源”展开的，利用HTTP的协议，其实rest本也可以和HTTP无关，但是现在大家普遍的使用 rest
都是依托于HTTP协议。HTTP 的url即资源。
RFC 3986
定义了通用的URI语法：
URI = scheme “://” authority “/” path [ “?” query ][ “#” fragment ] scheme: 指底层用的协议，如http、https、ftphost: 服务器的IP地址或者域名port: 端口，http中默认80path: 访问资源的路径，就是咱们各种web 框架中定义的route路由query: 为发送给服务器的参数fragment: 锚点，定位到页面的资源，锚点为资源id RESTful API设计 资源路径 对于rest资源的定义，即URL的定义，是最重要的；想要设计出优雅的、易读的rest 接口，其实还是听不容易的。
URL中不能有动词 在Restful架构中，每个网址代表的是一种资源，所以网址中不能有动词，只能有名词，动词由HTTP的 get、post、put、delete 四种方法来表示。
URL结尾不应该包含斜杠“/” 这是作为URL路径中处理中最重要的规则之一，正斜杠（/）不会增加语义值，且可能导致混淆。REST API不允许一个尾部的斜杠，不应该将它们包含在提供给客户端的链接的结尾处。
许多Web组件和框架将平等对待以下两个URI：
http://api.canvas.com/shapes/
http://api.canvas.com/shapes
但是，实际上URI中的每个字符都会计入资源的唯一身份的识别中。
两个不同的URI映射到两个不同的资源。如果URI不同，那么资源也是如此，反之亦然。因此，REST API必须生成和传递精确的URI，不能容忍任何的客户端尝试不精确的资源定位。
有些API碰到这种情况，可能设计为让客户端重定向到相应没有尾斜杠的URI（也有可能会返回301 - 用来资源重定向）。
正斜杠分隔符”/“必须用来指示层级关系 rul的路径中的正斜杠“/“字符用于指示资源之间的层次关系。
例如：
http://api.user.com/schools/grades/classes/boys
- 学校中所有的男生
http://api.college.com/students/3248234/courses
- 检索id为3248234的学生学习的所有课程的清单。
应该使用连字符”-“来提高URL的可读性，而不是使用下划线”_” 为了使URL容易让人们理解，请使用连字符”-“字符来提高长路径中名称的可读性。
一些文本查看器为了区分强调URI，常常会在URI下加上下划线。这样下划线”_”字符可能被文本查看器中默认的下划线部分地遮蔽或完全隐藏。
为避免这种混淆，请使用连字符”-“而不是下划线
URL路径中首选小写字母 RFC 3986将URI定义为区分大小写，但scheme 和 host components除外。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/eeb1c74d31136a2e6e25feeac18d1fec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-25T17:16:53+08:00" />
<meta property="article:modified_time" content="2018-07-25T17:16:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">RESTful API规范（详细版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><code>rest</code><br> 是一种软件架构风格，如果你们的接口是 <code>rest</code><br> 接口，那么就可被认为你们的的接口是restful的，英文名词和形容词的区别。</p> 
<p><code>rest</code><br> 接口是围绕“资源”展开的，利用HTTP的协议，其实rest本也可以和HTTP无关，但是现在大家普遍的使用 <code>rest</code><br> 都是依托于HTTP协议。HTTP 的url即资源。</p> 
<p><code>RFC 3986</code><br> 定义了通用的URI语法：</p> 
<pre>URI = scheme “://” authority “/” path [ “?” query ][ “#” fragment ]
</pre> 
<ul><li>scheme: 指底层用的协议，如http、https、ftp</li><li>host: 服务器的IP地址或者域名</li><li>port: 端口，http中默认80</li><li>path: 访问资源的路径，就是咱们各种web 框架中定义的route路由</li><li>query: 为发送给服务器的参数</li><li>fragment: 锚点，定位到页面的资源，锚点为资源id</li></ul> 
<h3>RESTful API设计</h3> 
<h4>资源路径</h4> 
<p>对于rest资源的定义，即URL的定义，是最重要的；想要设计出优雅的、易读的rest 接口，其实还是听不容易的。</p> 
<h4>URL中不能有动词</h4> 
<p>在Restful架构中，每个网址代表的是一种资源，所以网址中不能有动词，只能有名词，动词由HTTP的 get、post、put、delete 四种方法来表示。</p> 
<h4>URL结尾不应该包含斜杠“/”</h4> 
<p>这是作为URL路径中处理中最重要的规则之一，正斜杠（/）不会增加语义值，且可能导致混淆。REST API不允许一个尾部的斜杠，不应该将它们包含在提供给客户端的链接的结尾处。</p> 
<p>许多Web组件和框架将平等对待以下两个URI：</p> 
<p><a href="https://www.colabug.com/goto/aHR0cDovL2FwaS5jYW52YXMuY29tL3NoYXBlcy8=" rel="nofollow">http://api.canvas.com/shapes/</a></p> 
<p><a href="https://www.colabug.com/goto/aHR0cDovL2FwaS5jYW52YXMuY29tL3NoYXBlcw==" rel="nofollow">http://api.canvas.com/shapes</a></p> 
<p>但是，实际上URI中的每个字符都会计入资源的唯一身份的识别中。</p> 
<p>两个不同的URI映射到两个不同的资源。如果URI不同，那么资源也是如此，反之亦然。因此，REST API必须生成和传递精确的URI，不能容忍任何的客户端尝试不精确的资源定位。</p> 
<p>有些API碰到这种情况，可能设计为让客户端重定向到相应没有尾斜杠的URI（也有可能会返回301 - 用来资源重定向）。</p> 
<h4>正斜杠分隔符”/“必须用来指示层级关系</h4> 
<p>rul的路径中的正斜杠“/“字符用于指示资源之间的层次关系。</p> 
<p>例如：</p> 
<p><a href="https://www.colabug.com/goto/aHR0cDovL2FwaS51c2VyLmNvbS9zY2hvb2xzL2dyYWRlcy9jbGFzc2VzL2JveXM=" rel="nofollow">http://api.user.com/schools/grades/classes/boys</a><br> - 学校中所有的男生</p> 
<p><a href="https://www.colabug.com/goto/aHR0cDovL2FwaS5jb2xsZWdlLmNvbS9zdHVkZW50cy8zMjQ4MjM0L2NvdXJzZXM=" rel="nofollow">http://api.college.com/students/3248234/courses</a><br> - 检索id为3248234的学生学习的所有课程的清单。</p> 
<h4>应该使用连字符”-“来提高URL的可读性，而不是使用下划线”_”</h4> 
<p>为了使URL容易让人们理解，请使用连字符”-“字符来提高长路径中名称的可读性。</p> 
<p>一些文本查看器为了区分强调URI，常常会在URI下加上下划线。这样下划线”_”字符可能被文本查看器中默认的下划线部分地遮蔽或完全隐藏。</p> 
<p>为避免这种混淆，请使用连字符”-“而不是下划线</p> 
<h4>URL路径中首选小写字母</h4> 
<p>RFC 3986将URI定义为区分大小写，但scheme 和 host components除外。</p> 
<h4>URL路径名词均为复数</h4> 
<p>为了保证url格式的一致性，建议使用复数形式。</p> 
<h3>RESTful API对资源的操作</h3> 
<p>对于rest api资源的操作，由HTTP动词表示</p> 
<h4>CURD操作</h4> 
<ul><li>GET: 获取资源</li><li>POST： 新建资源</li><li>PUT：在服务器更新资源（向客户端提供改变后的所有资源）</li><li>PATCH: 在服务器更新资源（向客户端提供改变的属性）</li><li>DELETE：删除资源</li></ul> 
<p><code>PATCH</code><br> 一般不用，用 <code>PUT</code></p> 
<h4>资源过滤</h4> 
<p>在获取资源的时候，有可能需要获取某些“过滤”后的资源，例如指定前10行数据</p> 
<p>http://api.user.com/schools/grades/classes/boys?page=1&amp;page-size=10</p> 
<h4>返回状态码推荐标准HTTP状态码</h4> 
<p>有很多服务器将返回状态码一直设为200，然后在返回body里面自定义一些状态码来表示服务器返回结果的状态码。由于rest api是直接使用的HTTP协议，所以它的状态码也要尽量使用HTTP协议的状态码。</p> 
<ul><li>200 OK 服务器返回用户请求的数据，该操作是幂等的</li><li>201 CREATED 新建或者修改数据成功</li><li>204 NOT CONTENT 删除数据成功</li><li>400 BAD REQUEST 用户发出的请求有问题，该操作是幂等的</li><li>401 Unauthoried 表示用户没有认证，无法进行操作</li><li>403 Forbidden 用户访问是被禁止的</li><li>422 Unprocesable Entity 当创建一个对象时，发生一个验证错误</li><li>500 INTERNAL SERVER ERROR 服务器内部错误，用户将无法判断发出的请求是否成功</li><li>503 Service Unavailable 服务不可用状态，多半是因为服务器问题，例如CPU占用率大，等等</li></ul> 
<p>转载：<a href="https://www.colabug.com/228298.html" rel="nofollow">https://www.colabug.com/228298.html</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fab8d2534f25930e4e3f03824e8aec2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">leetcode 338. Counting Bits</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c9ae7b8358993242a046ee2745e1a3d5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">创建maven项目时结构不对，没有web.xml文件这些</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>