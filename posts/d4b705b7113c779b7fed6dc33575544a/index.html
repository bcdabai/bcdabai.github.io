<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vulfocus靶场轻松搭建（centos7&#43;docker环境） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vulfocus靶场轻松搭建（centos7&#43;docker环境）" />
<meta property="og:description" content="搭建过程虽然简单，但也有些坑，经过摸索终于可以正常使用了，特记录下来分享给大家。
一、虚拟机中安装centos7(过程省略)
二、centos7中搭建docker运行环境
１．在Centos7进行安装前，可以使用以下命令查看CentOS版本
cat /etc/redhat-release
２．在 CentOS 7安装docker要求系统为64位、系统内核版本为 3.10 以上
uname -r
３．查看是否已安装docker列表
yum list installed | grep docker
４．安装docker
yum -y install docker
-y表示不询问安装，直到安装成功，安装完后再次查看安装列表
５．启动docker
systemctl start docker
６．查看docker服务状态
systemctl status docker
出现以上，说明docker安装成功！
７．查看docker版本
docker version
８．设置docker开机关机和自启动
开机自启动:
systemctl enable docker
９．配置docker镜像，源：
vi /etc/docker/daemon.json
按ｉ键进入编辑状态
{ &#34;registry-mirrors&#34;: [&#34;https://ckib1ecu.mirror.aliyuncs.com&#34;] } 按ESC键退出编辑
输入　：ｗｑ保存退出。
sudo systemctl daemon-reload sudo systemctl restart docker 三、拉取vulfocus镜像
坑１：使用说明文档中方法，会导致安装成功后“一键同步镜像”报错，据说原因是此方式安装的不是最新版数据库。
docker pull vulfocus/vulfocus:latest 正确方法：
docker pull vulfocus/vulfocus:0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d4b705b7113c779b7fed6dc33575544a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-13T22:02:59+08:00" />
<meta property="article:modified_time" content="2023-11-13T22:02:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vulfocus靶场轻松搭建（centos7&#43;docker环境）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p></p> 
<p></p> 
<p>搭建过程虽然简单，但也有些坑，经过摸索终于可以正常使用了，特记录下来分享给大家。</p> 
<p><strong>一、虚拟机中安装centos7(过程省略)</strong></p> 
<p><strong>二、centos7中搭建docker运行环境</strong></p> 
<p><strong>１．在Centos7进行安装前，可以使用以下命令查看CentOS版本</strong></p> 
<p>cat /etc/redhat-release</p> 
<p><strong>２．在 CentOS 7安装docker要求系统为64位、系统内核版本为 3.10 以上</strong></p> 
<p>uname -r</p> 
<p><strong>３．查看是否已安装docker列表</strong></p> 
<p>yum list installed | grep docker</p> 
<p><strong>４．安装docker</strong></p> 
<p>yum -y install docker</p> 
<p>-y表示不询问安装，直到安装成功，安装完后再次查看安装列表</p> 
<p><strong>５．启动docker</strong></p> 
<p>systemctl start docker</p> 
<p><strong>６．查看docker服务状态</strong></p> 
<p>systemctl status docker</p> 
<p><img alt="" height="263" src="https://images2.imgbox.com/a7/36/duS0gFsp_o.png" width="724"></p> 
<p>出现以上，说明docker安装成功！</p> 
<p><strong>７．查看docker版本</strong></p> 
<p>docker version</p> 
<p><strong>８．设置docker开机关机和自启动</strong></p> 
<p>开机自启动:</p> 
<p>systemctl enable docker</p> 
<p><strong>９．配置docker镜像，</strong>源：</p> 
<p>vi /etc/docker/daemon.json</p> 
<p>按ｉ键进入编辑状态</p> 
<pre><code class="language-bash">{
  "registry-mirrors": ["https://ckib1ecu.mirror.aliyuncs.com"]
}</code></pre> 
<p>按ESC键退出编辑</p> 
<p>输入　　：ｗｑ保存退出。</p> 
<pre><code class="language-bash">
sudo systemctl daemon-reload
sudo systemctl restart docker</code></pre> 
<p><strong>三、拉取vulfocus镜像</strong></p> 
<p><strong>坑１：使用说明文档中方法，会导致安装成功后“一键同步镜像”报错，据说原因是此方式安装的不是最新版数据库。</strong></p> 
<pre><code>docker pull vulfocus/vulfocus:latest</code></pre> 
<p><span style="color:#fe2c24;">正确方法：</span></p> 
<pre><code class="language-bash">docker pull vulfocus/vulfocus:0.3.2.11</code></pre> 
<p>安装好最新版镜像可解决“一键同步镜像”问题。</p> 
<h4 id="h_587058913_2">四、运行vulfocus</h4> 
<pre><code class="language-bash">docker run -d -p 80:80 -v /var/run/docker.sock:/var/run/docker.sock  -e VUL_IP=192.168.182.132 vulfocus/vulfocus:0.3.2.11</code></pre> 
<p>坑２：</p> 
<p>８０：８０ 表示内网８０端口映射到外网８０端口，如果外网８０端口被占用就要换成其他端口，如８０：８１８１。</p> 
<p>坑３：说明文档运行的镜像是这样的。</p> 
<pre><code>vulfocus/vulfocus</code></pre> 
<p>而此时要运行安装的最新版镜像，应该是这样：</p> 
<pre><code class="language-bash">vulfocus/vulfocus:0.3.2.11</code></pre> 
<h4 id="h_587058913_3">五、打开vulfocus的web页面并进入</h4> 
<h4><img alt="" height="851" src="https://images2.imgbox.com/f8/79/7LpnuRIt_o.png" width="1200"></h4> 
<p>用户名和密码都是ａｄｍｉｎ</p> 
<h4 id="h_587058913_5">六、在镜像管理中管理自己的漏洞镜像</h4> 
<p><img alt="" height="799" src="https://images2.imgbox.com/a1/15/ZSmzK8y1_o.png" width="1200"></p> 
<p>点击“一键同步”，获得漏洞镜像资源。</p> 
<p><strong>七、下载漏洞镜像</strong></p> 
<p>选择某镜像，点击“下载”。</p> 
<p>坑４：提示镜像下载成功，但是在“首页”中却没有显示已下载的镜像。此问题困绕了很长时间，偶然发现下载镜像时一闪而过的错误提示：selinux：avc拒绝下载。</p> 
<p>百度结果：</p> 
<p>SELinux 提供了 3 种工作模式：Disabled、Permissive 和 Enforcing，而每种模式都为 Linux 系统安全提供了不同的好处。</p> 
<h5>Disable工作模式（关闭模式）</h5> 
<p>在 Disable 模式中，SELinux 被关闭，默认的 DAC 访问控制方式被使用。对于那些不需要增强安全性的环境来说，该模式是非常有用的。</p> 
<p><span style="color:#fe2c24;">果断设置关闭模式：</span></p> 
<p><span style="color:#fe2c24;">编辑配置文件 /etc/selinux/config，并将文本中 SELINUX= 更改为 SELINUX=disabled 即可，重启系统后，SELinux 就被禁用了。</span></p> 
<p><span style="color:#fe2c24;">再次进入vulfocus，终于可以正常下载镜像了！</span></p> 
<h4 id="h_587058913_6">八、在首页中启停已经下载的漏洞镜像</h4> 
<p><img alt="" height="795" src="https://images2.imgbox.com/3b/a1/RtvwNKcq_o.png" width="1200"></p> 
<h4 id="h_587058913_7">九、开始你的漏洞安全靶场实验</h4> 
<p><img alt="" height="373" src="https://images2.imgbox.com/fd/c8/29sT0usg_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a4aa0f207af6ceb85d9eefb48e0547ee/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">easyExcel导入导出</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc5008a2309c5acebd779a439f7f5cab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">死锁（JAVA）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>