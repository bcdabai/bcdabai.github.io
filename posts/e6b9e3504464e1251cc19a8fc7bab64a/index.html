<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ ‘çš„ç›´å¾„ï¼ˆ2æ¬¡DFSæ³•&#43;DPæ³•ï¼‰ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="æ ‘çš„ç›´å¾„ï¼ˆ2æ¬¡DFSæ³•&#43;DPæ³•ï¼‰" />
<meta property="og:description" content="å®šä¹‰ å¼•ä¾‹ ç»™å®šç”± ğ‘› ä¸ªç»“ç‚¹æ„æˆçš„æ ‘ï¼Œæ ‘è¾¹å¸¦æƒï¼Œæ±‚æ ‘ä¸Šæœ€é•¿è·¯å¾„çš„é•¿åº¦ã€‚
è¿™æ¡æœ€é•¿è·¯å¾„ï¼Œè¢«ç§°ä¸ºæ ‘çš„ç›´å¾„ã€‚
æ ‘çš„ç›´å¾„æœ‰æ—¶ä¹Ÿå¯æŒ‡ä»£è¯¥è·¯å¾„é•¿åº¦ã€‚
2æ¬¡DFSæ³• åŸºæœ¬æ€è·¯ ä¸¤æ¬¡ D F S DFS DFS æ³•çš„æ€è·¯å¾ˆç®€å•ï¼Œåˆ†ä¸ºä¸¤æ­¥ ï¼ˆå…¶å®å°±æ˜¯ä¸¤æ¬¡æ·±æœ
1.éšä¾¿æ‰¾ä¸€ä¸ªå¹¸è¿èŠ‚ç‚¹ x x x åš D F S DFS DFS æ‰¾å‡ºç¦»è¯¥èŠ‚ç‚¹æœ€è¿œçš„èŠ‚ç‚¹ y y y
2.ä»¥ y y y ä¸ºèŠ‚ç‚¹ï¼Œå†åšä¸€æ¬¡ D F S DFS DFS æ‰¾å‡ºç¦» y y y æœ€è¿œçš„èŠ‚ç‚¹ z z z
æ­¤æ—¶ y y y åˆ° z z z å°±æ˜¯æ ‘çš„ä¸€æ¡ç›´å¾„
æ­£ç¡®æ€§åç»­ä¼šç»™å‡ºè¯æ˜
å…³äº B F S BFS BFS å…¶å®è¿™é‡Œç”¨ä¸¤æ¬¡ B F S BFS BFS ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæœ¬è´¨ä¸Šæ˜¯åšä¸¤æ¬¡æ ‘çš„éå†æ±‚å‡ºæœ€é•¿è·¯" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e6b9e3504464e1251cc19a8fc7bab64a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-07T13:04:15+08:00" />
<meta property="article:modified_time" content="2023-04-07T13:04:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ ‘çš„ç›´å¾„ï¼ˆ2æ¬¡DFSæ³•&#43;DPæ³•ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>å®šä¹‰</h3> 
<h4><a id="_1"></a>å¼•ä¾‹</h4> 
<p>ç»™å®šç”± ğ‘› ä¸ªç»“ç‚¹æ„æˆçš„æ ‘ï¼Œ<strong>æ ‘è¾¹å¸¦æƒï¼Œæ±‚æ ‘ä¸Šæœ€é•¿è·¯å¾„çš„é•¿åº¦ã€‚</strong></p> 
<p>è¿™æ¡æœ€é•¿è·¯å¾„ï¼Œè¢«ç§°ä¸º<strong>æ ‘çš„ç›´å¾„ã€‚</strong><br> æ ‘çš„ç›´å¾„æœ‰æ—¶ä¹Ÿå¯æŒ‡ä»£è¯¥è·¯å¾„é•¿åº¦ã€‚</p> 
<h2><a id="2DFS_7"></a>2æ¬¡DFSæ³•</h2> 
<h3><a id="_9"></a>åŸºæœ¬æ€è·¯</h3> 
<p>ä¸¤æ¬¡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         D 
        
       
         F 
        
       
         S 
        
       
      
        DFS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0576em;">FS</span></span></span></span></span> æ³•çš„æ€è·¯å¾ˆç®€å•ï¼Œåˆ†ä¸ºä¸¤æ­¥ <s>ï¼ˆå…¶å®å°±æ˜¯ä¸¤æ¬¡æ·±æœ</s></p> 
<blockquote> 
 <p><strong>1.éšä¾¿æ‰¾ä¸€ä¸ªå¹¸è¿èŠ‚ç‚¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           x 
          
         
        
          x 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> åš <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           D 
          
         
           F 
          
         
           S 
          
         
        
          DFS 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0576em;">FS</span></span></span></span></span> æ‰¾å‡ºç¦»è¯¥èŠ‚ç‚¹æœ€è¿œçš„èŠ‚ç‚¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           y 
          
         
        
          y 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span></strong><br> <strong>2.ä»¥ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           y 
          
         
        
          y 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> ä¸ºèŠ‚ç‚¹ï¼Œå†åšä¸€æ¬¡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           D 
          
         
           F 
          
         
           S 
          
         
        
          DFS 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0576em;">FS</span></span></span></span></span> æ‰¾å‡ºç¦» <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           y 
          
         
        
          y 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> æœ€è¿œçš„èŠ‚ç‚¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           z 
          
         
        
          z 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span></strong></p> 
</blockquote> 
<p>æ­¤æ—¶ <strong><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
       
         y 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          z 
         
        
       
         z 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> å°±æ˜¯æ ‘çš„ä¸€æ¡ç›´å¾„</strong></p> 
<p>æ­£ç¡®æ€§åç»­ä¼šç»™å‡ºè¯æ˜</p> 
<h3><a id="_BFS_19"></a>å…³äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
         F 
        
       
         S 
        
       
      
        BFS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">BFS</span></span></span></span></span></h3> 
<p>å…¶å®è¿™é‡Œç”¨ä¸¤æ¬¡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
         F 
        
       
         S 
        
       
      
        BFS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">BFS</span></span></span></span></span> ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæœ¬è´¨ä¸Šæ˜¯<strong>åšä¸¤æ¬¡æ ‘çš„éå†æ±‚å‡ºæœ€é•¿è·¯</strong></p> 
<p>ä¸è¿‡<s>ä¼¼ä¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          B 
         
        
          F 
         
        
          S 
         
        
       
         BFS 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0576em;">BFS</span></span></span></span></span> çš„ä»£ç æ›´åŠ ç®€æ´ï¼Ÿ</s></p> 
<h3><a id="_24"></a>æ­£ç¡®æ€§è¯æ˜ï¼ˆåè¯æ³•ï¼‰</h3> 
<p>å¯¹äºæ­£ç¡®æ€§çš„è¯æ˜ï¼Œæˆ‘ä»¬é‡‡ç”¨åè¯æ³•</p> 
<p><strong>é¦–å…ˆå‡è®¾ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          y 
         
        
       
         y 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          z 
         
        
       
         z 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> ä¸æ˜¯æ ‘çš„ç›´å¾„ï¼Œæ ‘çš„çœŸå®ç›´å¾„æ˜¯ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          x 
         
        
       
         x 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          t 
         
        
       
         t 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span></strong></p> 
<p>åˆ†ç±»è®¨è®ºï¼š</p> 
<h4><a id="1_x__31"></a>1.å½“ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        x 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> åœ¨çœŸå®ç›´å¾„ä¸Š</h4> 
<p><img src="https://images2.imgbox.com/e5/81/dqsNjv4f_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ˜¾ç„¶ï¼Œ<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        x 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         y 
        
       
      
        y 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> å¤§äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        x 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
      
        t 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span>ï¼Œé‚£ä¹ˆå°±æœ‰ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
      
        s 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         y 
        
       
      
        y 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> å¤§äº <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
      
        s 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         z 
        
       
      
        z 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> ã€‚ä¸å‡è®¾ä¸ç¬¦ï¼Œ<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         p 
        
       
         a 
        
       
         s 
        
       
         s 
        
       
      
        pass 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ss</span></span></span></span></span></p> 
<h4><a id="2_x__36"></a>2.å½“ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        x 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> ä¸åœ¨çœŸå®ç›´å¾„ä¸Š</h4> 
<h5><a id="21_z__y__37"></a>2.1.å½“ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         z 
        
       
      
        z 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         y 
        
       
      
        y 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> ä¸çœŸå®ç›´å¾„æœ‰é‡åˆ</h5> 
<p><img src="https://images2.imgbox.com/2d/b1/PoDyDuS1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç”±ç›´å¾„çš„å®šä¹‰å¯çŸ¥ï¼Œ<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
      
        s 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
      
        t 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span> åº”å½“æ˜¯æ ‘ä¸Šæœ€é•¿çš„è·¯å¾„ï¼Œä½† <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         z 
        
       
      
        z 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
      
        t 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span> æ˜æ˜¾æ›´é•¿ï¼ŒçŸ›ç›¾ï¼</p> 
<h5><a id="22_z__y__42"></a>2.2.å½“ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         z 
        
       
      
        z 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span></span></span></span></span> åˆ° <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         y 
        
       
      
        y 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span></span></span></span></span> ä¸çœŸå®ç›´å¾„æ²¡æœ‰é‡åˆ</h5> 
<p><img src="https://images2.imgbox.com/f8/6c/w1tneeh0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><s>æ‡’çš„è§£é‡Šäº†ï¼Œè‡ªå·±çœ‹ç½¢</s></p> 
<h3><a id="Code_47"></a><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
         o 
        
       
         d 
        
       
         e 
        
       
      
        Code 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span></span></span></span></span></h3> 
<p><a href="https://www.luogu.com.cn/problem/SP1437" rel="nofollow">SP1437</a></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ll</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ull</span> <span class="token expression"><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e4</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> <span class="token number">1e4</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> e<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span>
<span class="token keyword">int</span> dis<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> fa<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> to <span class="token operator">:</span> e<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>to <span class="token operator">==</span> fa<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
		dis<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token keyword">int</span> node<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">dfs</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> dis<span class="token punctuation">[</span>ans<span class="token punctuation">]</span><span class="token punctuation">)</span> ans <span class="token operator">=</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> u <span class="token operator">&gt;&gt;</span> v<span class="token punctuation">;</span>
		e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
		e<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> s1 <span class="token operator">=</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	dis<span class="token punctuation">[</span>s1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è¿™é‡Œä¹Ÿå¯ä»¥å…¨éƒ¨éƒ½æ¸…ç©º</span>
	<span class="token keyword">int</span> s2 <span class="token operator">=</span> <span class="token function">work</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> dis<span class="token punctuation">[</span>s2<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="_DFS__93"></a>æ³¨æ„ï¼šä¸¤æ¬¡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         D 
        
       
         F 
        
       
         S 
        
       
      
        DFS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0576em;">FS</span></span></span></span></span> æ³•ä¸èƒ½ç”¨æ¥å¤„ç†å¸¦è´Ÿè¾¹æƒçš„æ ‘</h3> 
<h4><a id="DP_95"></a>é™„èµ æ ‘ä¸ŠDPæ±‚æ ‘çš„ç›´å¾„</h4> 
<p><a href="https://www.luogu.com.cn/problem/P8602" rel="nofollow">å¤§è‡£çš„æ—…è´¹</a></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ll</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ull</span> <span class="token expression"><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">int</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e4</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> <span class="token number">1e4</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span> <span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> e<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span>
<span class="token comment">/*int dis[N];
void dfs(int pos,int fa){
	for(auto to : e[pos]){
		if(to == fa) continue;
		dis[to] = dis[pos] + 1;
		dfs(to,pos);
	}
}
int work(int node){
	dfs(node,0);
	int ans = 0;
	for(int i = 1; i &lt;= n; i++){
		if(dis[i] &gt; dis[ans]) ans = i;
	}
	return ans;
}*/</span>
<span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">dp</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> fa<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> d1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> d2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> to <span class="token operator">:</span> e<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>first <span class="token operator">==</span> fa<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token function">dp</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>first<span class="token punctuation">,</span>pos<span class="token punctuation">)</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> d1<span class="token punctuation">)</span> d2 <span class="token operator">=</span> d1<span class="token punctuation">,</span>d1 <span class="token operator">=</span> d<span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> d2<span class="token punctuation">)</span> d2 <span class="token operator">=</span> d<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> d1 <span class="token operator">+</span> d2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> d1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">signed</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">,</span>w<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> u <span class="token operator">&gt;&gt;</span> v <span class="token operator">&gt;&gt;</span> w<span class="token punctuation">;</span>
		e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		e<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	<span class="token comment">/*int s1 = work(1);
	dis[s1] = 0;
	int s2 = work(s1);
	cout &lt;&lt; dis[s2] &lt;&lt; endl;*/</span>
	<span class="token function">dp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>ans<span class="token operator">+</span><span class="token number">21</span><span class="token punctuation">)</span> <span class="token operator">*</span> ans<span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="DP_157"></a>DPæ³•</h2> 
<h3><a id="_158"></a>åŸºæœ¬æ€è·¯</h3> 
<p>å…¶å®DPçš„æ—¶é—´å¤æ‚åº¦å’Œä¸¤æ¬¡ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         D 
        
       
         F 
        
       
         S 
        
       
      
        DFS 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">D</span><span class="mord mathnormal" style="margin-right: 0.0576em;">FS</span></span></span></span></span> æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         O 
        
       
         ( 
        
       
         n 
        
       
         ) 
        
       
      
        O(n) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> ï¼Œä¸è¿‡DPå¯ä»¥è§£å†³<strong>å¸¦è´Ÿè¾¹æƒçš„æ ‘</strong><br> è€Œä¸”DPçš„<strong>å¸¸æ•°æ›´å°</strong></p> 
<h4><a id="_162"></a>å¼•å…¥</h4> 
<p>æ¥æ€è€ƒè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š</p> 
<blockquote> 
 <p>å‡è®¾èŠ‚ç‚¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          u 
         
        
       
         u 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> åœ¨æ ‘çš„ç›´å¾„ä¸Šï¼Œé‚£ä¹ˆç”±èŠ‚ç‚¹ <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          u 
         
        
       
         u 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> ä¸ºé“¾å¤´çš„é“¾ä¸­å“ªä¸¤æ¡ä¼šç»„æˆæ ‘çš„ç›´å¾„</p> 
</blockquote> 
<p>ç”±äºæ ‘çš„ç›´å¾„æ˜¯æ ‘ä¸Šæœ€é•¿çš„ä¸€æ¡é“¾ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯é€‰å– <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         u 
        
       
      
        u 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span></span> ä¸­<strong>æœ€é•¿å’Œæ¬¡é•¿</strong>çš„ä¸¤æ¡é“¾</p> 
<p>æ²¡é”™è¿™å°±æ˜¯æˆ‘ä»¬çš„æ€è·¯ï¼Œ<strong>æšä¸¾æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ±‚å‡ºå…¶ä¸­æœ€é•¿å’Œæ¬¡é•¿çš„ä¸¤æ¡é“¾</strong></p> 
<h3><a id="Code_171"></a><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
         o 
        
       
         d 
        
       
         e 
        
       
      
        Code 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span></span></span></span></span></h3> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">dp</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> fa<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> d1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> d2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> to <span class="token operator">:</span> e<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>first <span class="token operator">==</span> fa<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token function">dp</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>first<span class="token punctuation">,</span>pos<span class="token punctuation">)</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> d1<span class="token punctuation">)</span> d2 <span class="token operator">=</span> d1<span class="token punctuation">,</span>d1 <span class="token operator">=</span> d<span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> d2<span class="token punctuation">)</span> d2 <span class="token operator">=</span> d<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> d1 <span class="token operator">+</span> d2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> d1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/48d3256c96c0196554884445c88b3a5e/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">pythonæ–‡ä»¶è¯»å†™æ“ä½œ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/abe880a0e9e31647bafc1ef6fa108db0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å›¾è¡¨æ’ä»¶vue-hxhchart vue&#43;echartsæ’ä»¶/è§£å†³domæ— æ•ˆæ•°æ®å»¶æ—¶è·å–</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>