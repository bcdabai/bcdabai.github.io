<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>快排（动图详细版，快速理解） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="快排（动图详细版，快速理解）" />
<meta property="og:description" content="注：本文主要介绍六大排序中的快排
文章目录 前言一、三大法则1.1 Hoare法1.2 挖坑法1.3 双指针法（更加便捷）1.4 三种方法时间复杂度计算 二、快排栈问题优化方式2.1 三数取中2.2 小区间优化 三、非递归快排 前言 快速排序是Hoare于1962年提出的一种二叉树结构的交换排序方法，其基本思想为：任取待排序元素序列中的某元素作为基准值，按照该排序码将待排序集合分割成两子序列，左子序列中所有元素均小于基准值，右子序列中所有元素均大于基准值，然后最左右子序列重复该过程，直到所有元素都排列在相应位置上为止。
一、三大法则 1.1 Hoare法 什么是Hoare法则呢？
Hoare法是指在对数组进行排序时，定义两个变量，与一个在单子循环中不变的key值，右值先动找比key小的数字，找到后左值动，找比key大的数字，后进行交换以完成对数组的排序。
初始状态
right先进行寻找，找到5&lt;key3
left进行寻找找到7&gt;key,进行交换
继续进行刚才的工作交换9/4
当左值与右值相等时，一次循环结束，left与right所在位置与初始的key位置进行Swap交换，进入递归循环。
1.Hoare法代码 void PartSort1(vector&lt;int&gt;&amp; v, int begin, int end) { //出递归判断 if (begin &gt;= end) { return; } int key = begin; int left = begin, right = end; while (left &lt; right) { //寻找小于key的左值 while (right &gt; left &amp;&amp; v[right] &gt;= v[key]) { right--; } //寻找大于key的右值 while (right &gt; left &amp;&amp; v[left] &lt;= v[key]) { left&#43;&#43;; } Swap(v[left], v[right]); } Swap(v[key], v[left]); //key左边都是小于key的数，key右边都是大于key的数字 key = left; //进入递归，先递归左半部分小于key的区间，后递归右半部分大于key的区间 QuickSort(v, begin, key - 1); QuickSort(v, key &#43; 1, end); } int main() { vector&lt;int&gt; v = { 8,12,5,3,6,4,7,91,5,16,35,21,52,2,1 }; QuickSort(v, 0, v." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8f4b91b6f1681f592da8b79ae9fee94e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-13T21:22:03+08:00" />
<meta property="article:modified_time" content="2023-04-13T21:22:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">快排（动图详细版，快速理解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>注：本文主要介绍六大排序中的快排</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1e/ab/oDU6xP2C_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_10" rel="nofollow">前言</a></li><li><a href="#_16" rel="nofollow">一、三大法则</a></li><li><ul><li><a href="#11_Hoare_17" rel="nofollow">1.1 Hoare法</a></li><li><a href="#12__78" rel="nofollow">1.2 挖坑法</a></li><li><a href="#13__141" rel="nofollow">1.3 双指针法（更加便捷）</a></li><li><a href="#14__198" rel="nofollow">1.4 三种方法时间复杂度计算</a></li></ul> 
  </li><li><a href="#_214" rel="nofollow">二、快排栈问题优化方式</a></li><li><ul><li><a href="#21__215" rel="nofollow">2.1 三数取中</a></li><li><a href="#22__299" rel="nofollow">2.2 小区间优化</a></li></ul> 
  </li><li><a href="#_598" rel="nofollow">三、非递归快排</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_10"></a>前言</h2> 
<p>快速排序是Hoare于<strong>1962</strong>年提出的一种二叉树结构的交换排序方法，其基本思想为：任取待排序元素序列中的某元素作为<strong>基准值</strong>，按照该排序码将待排序集合分割成两子序列，左子序列中所有元素均小于基准值，右子序列中所有元素均大于基准值，然后最左右子序列重复该过程，直到所有元素都排列在相应位置上为止。</p> 
<hr> 
<h2><a id="_16"></a>一、三大法则</h2> 
<h3><a id="11_Hoare_17"></a>1.1 Hoare法</h3> 
<p>什么是Hoare法则呢？<br> Hoare法是指在对数组进行排序时，定义两个变量，与一个在单子循环中不变的key值，右值先动找比key小的数字，找到后左值动，找比key大的数字，后进行交换以完成对数组的排序。</p> 
<p>初始状态<br> <img src="https://images2.imgbox.com/2d/31/rN9vv5my_o.png" alt="初始状态"></p> 
<p>right先进行寻找，找到5&lt;key3<img src="https://images2.imgbox.com/ea/2b/1y7YV9Ty_o.png" alt="在这里插入图片描述"></p> 
<p>left进行寻找找到7&gt;key,进行交换<br> <img src="https://images2.imgbox.com/2c/17/DHsPiDYE_o.png" alt="哈哈哈"></p> 
<p>继续进行刚才的工作交换9/4<br> <img src="https://images2.imgbox.com/48/08/CfDEPyaw_o.png" alt="在这里插入图片描述"></p> 
<p>当左值与右值相等时，一次循环结束，left与right所在位置与初始的key位置进行Swap交换，进入递归循环。<br> <img src="https://images2.imgbox.com/59/f2/0KLTRdAD_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token number">1</span>.Hoare法代码
void PartSort1<span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>int<span class="token operator">&gt;&amp;</span> v, int begin, int end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	//出递归判断
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token builtin class-name">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	int key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	int left <span class="token operator">=</span> begin, right <span class="token operator">=</span> end<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		//寻找小于key的左值
		<span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&gt;</span> left <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			right--<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		//寻找大于key的右值
		<span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&gt;</span> left <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			left++<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		Swap<span class="token punctuation">(</span>v<span class="token punctuation">[</span>left<span class="token punctuation">]</span>, v<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	Swap<span class="token punctuation">(</span>v<span class="token punctuation">[</span>key<span class="token punctuation">]</span>, v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	//key左边都是小于key的数，key右边都是大于key的数字
	key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	//进入递归，先递归左半部分小于key的区间，后递归右半部分大于key的区间
	QuickSort<span class="token punctuation">(</span>v, begin, key - <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QuickSort<span class="token punctuation">(</span>v, key + <span class="token number">1</span>, end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span>int<span class="token operator">&gt;</span> <span class="token function">v</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">8,12</span>,5,3,6,4,7,91,5,16,35,21,52,2,1 <span class="token punctuation">}</span><span class="token punctuation">;</span>
	QuickSort<span class="token punctuation">(</span>v, <span class="token number">0</span>, v.size<span class="token punctuation">(</span><span class="token punctuation">)</span> - <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	PrintArray<span class="token punctuation">(</span>v, v.size<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
	<span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>排序结果<br> <img src="https://images2.imgbox.com/4b/41/uglSIOso_o.png" alt="![在这里插入图片描述](https://img-blog.csdnimg.cn/a5636b9a6b024053b2ed668c7b897e73.png"></p> 
<h3><a id="12__78"></a>1.2 挖坑法</h3> 
<p>挖坑法原理与Hoare法一致，不过相较于Hoare法更易理解它遵循着两个原则<br> 1.先将第一个数据存放在临时变量key中。<br> 2.左边是坑的话，右边先走找小，找到后与左坑值交换，右位变成坑位。<br> 3.左边再找大值，交换循环。</p> 
<p>初始状态<br> <img src="https://images2.imgbox.com/50/ff/Eetl41YC_o.png" alt="在这里插入图片描述"></p> 
<p>right找到第一个小于key的值5，然后将5给与坑所在位置，将right位置为坑<br> <img src="https://images2.imgbox.com/80/c1/WNis8ll2_o.png" alt="在这里插入图片描述"></p> 
<p>left开始找大<br> <img src="https://images2.imgbox.com/cd/90/mWHoJajn_o.png" alt="在这里插入图片描述"></p> 
<p>left找到第一个大于key的数7，与坑置换，并将left位置设为坑<br> <img src="https://images2.imgbox.com/e8/f2/gAuD9QK9_o.png" alt="在这里插入图片描述"></p> 
<p>多次置换后left==right时，坑的左边都是小于key的数，坑的右边都是大于key1的数，将key赋值于坑所在位置，单词排序成功，进入递归<br> <img src="https://images2.imgbox.com/87/e6/3LeZRPdo_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token number">2.</span>挖坑法代码
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> left <span class="token operator">=</span> begin<span class="token punctuation">,</span> right <span class="token operator">=</span> end<span class="token punctuation">;</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//找右值</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">--</span>right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//入坑，与坑的替换</span>
		v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
		hole<span class="token operator">=</span>right<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
		hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
	<span class="token comment">//进入递归，先递归左半部分小于key的区间，后递归右半部分大于key的区间</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> hole <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> hole <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>排序结果与Hoare相同</p> 
<h3><a id="13__141"></a>1.3 双指针法（更加便捷）</h3> 
<p>1.cur找比key小的，找到后停下。<br> 2.prev++，prev与cur所在交换。</p> 
<p>初始状态，这边我定义cur从第二个位置开始，当然它也可以从第一个位置开始，具体可以在程序中改进<br> <img src="https://images2.imgbox.com/8a/0d/hz3aKyb1_o.png" alt="在这里插入图片描述"></p> 
<p>当prev与cur相同时不进行交换，继续便利寻找可交换的数字找到第一组7/3,进行交换<br> <img src="https://images2.imgbox.com/76/82/I9y7TB3u_o.png" alt="在这里插入图片描述"></p> 
<p>找到第二组交换数据9/4，进行交换<br> <img src="https://images2.imgbox.com/98/6b/v66NXUFt_o.png" alt="在这里插入图片描述"></p> 
<p>多次交换后我们可以发现cur走到了最后的位置，此时，一次循环结束，当然不要忘记将初始设置的key与最后prev位置的数字进行交换。我们就可以得到以prev为分界线的左边小，右边大的两个数据区间，进行递归排序<br> <img src="https://images2.imgbox.com/11/83/ihXXS9Yo_o.png" alt="在这里插入图片描述"></p> 
<p>结果<br> <img src="https://images2.imgbox.com/64/f9/tNP8mjS2_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token number">3.</span>双指针法代码
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> prev <span class="token operator">=</span> begin<span class="token punctuation">,</span> cur <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>	
		<span class="token comment">//当prev与cur相等时交换的写法</span>
		<span class="token comment">/*if (v[cur] &lt; v[key])
		{
			prev++;
			Swap(v[prev], v[cur]);
		}*/</span>
		<span class="token comment">//当prev与cur相等时直接跳过不交换的写法</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cur<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	key <span class="token operator">=</span> prev<span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="14__198"></a>1.4 三种方法时间复杂度计算</h3> 
<p>这里较难描述，我直接给出答案以及答案出现的情乱<br> 快排的时间复杂度最<strong>理想</strong>下可达到<strong>O(n*logn)</strong>。<br> 当一组数据趋近于有序（逆序、正序）时，时间复杂度可达<strong>O(n * n)</strong>。<br> 这是为什么呢？</p> 
<p>话不多说直接上图<br> <img src="https://images2.imgbox.com/ce/26/Sb2JlmRw_o.png" alt="在这里插入图片描述"><br> 这张图是不是和二叉树很像，当每次key都能选到，中间值时，它的时间复杂度就是n*logn。</p> 
<p><img src="https://images2.imgbox.com/f9/11/aA1Yhy1z_o.png" alt="在这里插入图片描述"><br> 而当所排数组趋近于有序数组时，就会出现如上图所示的情况，而我们又知道，进行递归时，CPU需要不停的进行栈帧的开辟，如果遇到趋近于有序的数组时，时间复杂度为O(n * n)，我们得不到想要的有序数组，还会使<strong>编译器崩溃</strong>，那它怎么能叫快排的，徒有其表吗。<br> 接下来要讲两种规避这种情况的优化方式。<br> 1.三数取中<br> 2.小区间优化</p> 
<h2><a id="_214"></a>二、快排栈问题优化方式</h2> 
<h3><a id="21__215"></a>2.1 三数取中</h3> 
<p>三数取中法选<strong>key</strong>，可以解决上述最坏情况<strong>有序</strong>（顺序、逆序）的问题。<br> 有效避免因为深度遍历而开过多栈，引起的栈溢出问题。<br> <strong>思维图：</strong></p> 
<p>初始状态<br> <img src="https://images2.imgbox.com/b1/d6/LZLTacPF_o.png" alt="在这里插入图片描述"></p> 
<p>mid为中值<br> <img src="https://images2.imgbox.com/8f/df/EjkeRc4L_o.png" alt="在这里插入图片描述"></p> 
<p>end为中值<br> <img src="https://images2.imgbox.com/1e/b8/CdryuX60_o.png" alt="在这里插入图片描述"></p> 
<p>begin为中值<br> <img src="https://images2.imgbox.com/11/8d/OC1KeNuf_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token comment">//中值判断函数</span>
<span class="token keyword">int</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&gt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> end<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token comment">// v[begin] &gt; v[mid]</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> end<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//加入中止判断的快排</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//加入中值判断</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> prev <span class="token operator">=</span> begin<span class="token punctuation">,</span> cur <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">/*if (v[cur] &lt; v[key])
		{
			prev++;
			Swap(v[prev], v[cur]);
		}*/</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cur<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	key <span class="token operator">=</span> prev<span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="22__299"></a>2.2 小区间优化</h3> 
<p><strong>小区间优化</strong>，字如其名，在进行递归排序时，会无限制的进行栈帧开辟，但是我们所用的内存空间的栈区往往最大就只有<strong>8M</strong>大小的空间，有概率会<strong>爆栈</strong>。<br> 经过多次排序后的数据在每个小区间会十分集中。<br> 此时进行小区间的优化可以避免少开70%~90%的栈帧。<br> <strong>方法：</strong> 当小区间元素小于10/15时，使用直接插入排序进行排序。<br> <strong>思维图：</strong></p> 
<p>在所排数组非常大的情况下，如下图，会无线的开辟栈帧<br> <img src="https://images2.imgbox.com/fd/be/1DTolaXb_o.png" alt="在这里插入图片描述"></p> 
<p>适当的裁剪，换取更高的效率，减少百分之八十五左右的栈帧开辟<br> <img src="https://images2.imgbox.com/04/37/4erdqZS0_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token comment">//直接插入排序</span>
<span class="token keyword">void</span> <span class="token function">InsertSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> end <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token keyword">int</span> tmp <span class="token operator">=</span> v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token operator">--</span>end<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//加入三数取中与小区间优化的快排</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//小区间优化，防止递归深度过大，进行的剪枝行为，后使用直接插入排序进行小范围排序</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">InsertSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//三数取中</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> prev <span class="token operator">=</span> begin<span class="token punctuation">,</span> cur <span class="token operator">=</span> begin <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*if (v[cur] &lt; v[key])
			{
				prev++;
				Swap(v[prev], v[cur]);
			}*/</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			cur<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		key <span class="token operator">=</span> prev<span class="token punctuation">;</span>
		<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>递归类快排，整体代码</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stack&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//交换</span>
<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> tmp <span class="token operator">=</span> a<span class="token punctuation">;</span>
	a <span class="token operator">=</span> b<span class="token punctuation">;</span>
	b <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//打印</span>
<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//三数取中</span>
<span class="token keyword">int</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>begin <span class="token operator">+</span> end<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&gt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> end<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token comment">// v[begin] &gt; v[mid]</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> mid<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> end<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//直接插入排序 O(n*n)</span>
<span class="token keyword">void</span> <span class="token function">InsertSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> end <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token keyword">int</span> tmp <span class="token operator">=</span> v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token operator">--</span>end<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		v<span class="token punctuation">[</span>end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//一、Hoare法</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token keyword">int</span> left <span class="token operator">=</span> begin<span class="token punctuation">,</span> right <span class="token operator">=</span> end<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&gt;</span> left <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			right<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&gt;</span> left <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			left<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	key <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">//二、挖坑法</span>
<span class="token comment">//先将第一个数据存放在临时变量key中</span>
<span class="token comment">//左边是坑的话，右边先走找小，找到后与左坑值交换，右位变成坑位</span>
<span class="token comment">//左边再找大值，交换循环</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> left <span class="token operator">=</span> begin<span class="token punctuation">,</span> right <span class="token operator">=</span> end<span class="token punctuation">;</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">--</span>right<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
		hole<span class="token operator">=</span>right<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
		hole <span class="token operator">=</span> left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	v<span class="token punctuation">[</span>hole<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> hole <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> hole <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">//三、前后指针法</span>
<span class="token comment">//1.cur找比key小的，找到后停下</span>
<span class="token comment">//2.prev++，prev与cur所在交换</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> prev <span class="token operator">=</span> begin<span class="token punctuation">,</span> cur <span class="token operator">=</span> begin<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">/*if (v[cur] &lt; v[key])
		{
			prev++;
			Swap(v[prev], v[cur]);
		}*/</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cur<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	key <span class="token operator">=</span> prev<span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//三数取中+小区间优化快排</span>
<span class="token keyword">void</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">&gt;=</span> end<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//小区间优化，防止递归深度过大，进行的剪枝行为，后使用直接插入排序进行小范围排序</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">InsertSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//三数取中</span>
		<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token function">GetMidIndex</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> prev <span class="token operator">=</span> begin<span class="token punctuation">,</span> cur <span class="token operator">=</span> begin <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> key <span class="token operator">=</span> begin<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> end<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/*if (v[cur] &lt; v[key])
			{
				prev++;
				Swap(v[prev], v[cur]);
			}*/</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>prev <span class="token operator">!=</span> cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			cur<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">Swap</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		key <span class="token operator">=</span> prev<span class="token punctuation">;</span>
		<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">QuickSort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_598"></a>三、非递归快排</h2> 
<p>非递归快排借助<strong>栈</strong>进行操作，是一种分治思维的延申。<br> 因为栈的出入规则是先进后出。<br> 我们要对排序<strong>区间进行划分</strong>，每次的出栈、入栈操作就是递归中处理数据、子区间划分操作。</p> 
<p><strong>原理图：</strong></p> 
<p><img src="https://images2.imgbox.com/08/35/3FP2qDAs_o.png" alt="在这里插入图片描述"><br> <strong>程序：</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//非递归快排</span>
<span class="token keyword">void</span> <span class="token function">QuickSortNonr</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//自定义栈为ST，定义栈st，并初始化栈，将头尾位置压入栈</span>
	<span class="token comment">//成功压入后我们得到需要的排序空间的头和尾</span>
	<span class="token comment">//依次进行出栈入栈，重新定义排序区间，模拟递归排序</span>
	ST st<span class="token punctuation">;</span>
	<span class="token function">StackInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token function">StackTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">StackPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//调用单次快排，单次排序</span>
		<span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// [left, keyi-1] keyi [keyi+1, right]</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//进行右区间入栈操作，进入模拟递归进入操作</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> key <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//进行左区间入栈操作，进入模拟递归进入操作</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">StackPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span> key <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//排序完毕销毁</span>
	<span class="token function">StackDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eee2aeabee05ee11498296f4d8a9231f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android开发中四种常用的多线程实现方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ea855156b28c3ee2ec85a04a2257f190/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQL——多表连接查询</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>