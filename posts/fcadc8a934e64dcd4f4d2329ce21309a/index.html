<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络 TCP/UDP程序开发网络聊天室 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络 TCP/UDP程序开发网络聊天室" />
<meta property="og:description" content="一、实验名称 TCP/UDP程序开发
二、实验目的 开发TCP/UDP协议应用程序，掌握网络应用程序的工作原理。通过该实验，深入理解UDP和TCP协议的异同点，了解网络协议的工作过程，学会网络通信编程的基本方法，能够编制网络应用程序。
三、实验内容及要求 （1）了解和掌握“基于UDP－面向无连接的应用程序/基于TCP－面向连接的应用程序”的运行机制和编程方法；
（2）编写一个网络通信应用程序：聊天程序；
（3）使用任意网络编程语言（Java、C、VB、Delphi、Python等）编写基于TCP或UDP协议的网络应用程序。
（4）总结实验过程：方案、编程、调试、结果、分析、结论。
四、实验设备 硬件要求
计算机、Internet网软件要求
Windows操作系统、Microsoft Visual Studio2019. 五、实验步骤及记录 1. 方案 1.1 Win Sock编程 Win Sock编程是一种网络编程接口，实际上是作为TCP/IP协议的一种封装。可以通过调用WinSock的接口函数来调用TCP/IP的各种功能。
WinSock 编程简单流程：WinSock编程分为服务器端和客户端两部分。
1.2 服务器端编程步骤 2.1 使用WSAStartup()函数检查系统协议栈安装情况；
2.2 使用socket()函数创建服务器端通信套接字；
2.3 使用bind()函数将创建的套接字与服务器地址绑定；
2.4 使用listen()函数使服务器套接字做好接收连接请求准备;
2.5 使用accept()接收来自客户端由connect()函数发出的连接请求;
2.6 根据连接请求建立连接后，使用send()函数发送数据，或者使用recv()函数接收数据;
2.7 使用closesocket()函数关闭套接字;
2.8 最后调用WSACleanup()函数结束Winsock Sockets API。
1.3 客户端编程步骤 3.1 使用WSAStartup()函数检查系统协议栈安装情况；
3.2 使用socket()函数创建客户端套接字；
3.3 使用connect()函数发出也服务器建立连接的请求(调用前可以不用bind()端口号，由系统自动完成)；
3.4 连接建立后使用send()函数发送数据，或使用recv()函数接收数据；
3.5 使用closesocet()函数关闭套接字；
3.6 最后调用WSACleanup()函数，结束Winsock Sockets API。
2 应用进程跨越网络通信的编程基本方法（socket）及基本函数： 2.1 socket概述 在计算机通信领域，socket 被翻译为“套接字”，它是计算机之间进行通信的一种约定或一种方式。通过 socket 这种约定，一台计算机可以接收其他计算机的数据，也可以向其他计算机发送数据。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fcadc8a934e64dcd4f4d2329ce21309a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-20T12:07:24+08:00" />
<meta property="article:modified_time" content="2023-03-20T12:07:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络 TCP/UDP程序开发网络聊天室</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、实验名称</h2> 
<p>TCP/UDP程序开发</p> 
<h2><a id="_2"></a>二、实验目的</h2> 
<p>开发TCP/UDP协议应用程序，掌握网络应用程序的工作原理。通过该实验，深入理解UDP和TCP协议的异同点，了解网络协议的工作过程，学会网络通信编程的基本方法，能够编制网络应用程序。</p> 
<h2><a id="_4"></a>三、实验内容及要求</h2> 
<p>（1）了解和掌握“基于UDP－面向无连接的应用程序/基于TCP－面向连接的应用程序”的运行机制和编程方法；<br> （2）编写一个网络通信应用程序：聊天程序；<br> （3）使用任意网络编程语言（Java、C、VB、Delphi、Python等）编写基于TCP或UDP协议的网络应用程序。<br> （4）总结实验过程：方案、编程、调试、结果、分析、结论。</p> 
<h2><a id="_9"></a>四、实验设备</h2> 
<ol><li>硬件要求<br> 计算机、Internet网</li><li>软件要求<br> Windows操作系统、Microsoft Visual Studio2019.</li></ol> 
<h2><a id="_14"></a>五、实验步骤及记录</h2> 
<h3><a id="1__15"></a>1. 方案</h3> 
<h4><a id="11_Win_Sock_16"></a>1.1 Win Sock编程</h4> 
<p>Win Sock编程是一种网络编程接口，实际上是作为TCP/IP协议的一种封装。可以通过调用WinSock的接口函数来调用TCP/IP的各种功能。<br> WinSock 编程简单流程：WinSock编程分为服务器端和客户端两部分。</p> 
<h4><a id="12__20"></a>1.2 服务器端编程步骤</h4> 
<p>2.1 使用WSAStartup()函数检查系统协议栈安装情况；</p> 
<p>2.2 使用socket()函数创建服务器端通信套接字；</p> 
<p>2.3 使用bind()函数将创建的套接字与服务器地址绑定；</p> 
<p>2.4 使用listen()函数使服务器套接字做好接收连接请求准备;</p> 
<p>2.5 使用accept()接收来自客户端由connect()函数发出的连接请求;</p> 
<p>2.6 根据连接请求建立连接后，使用send()函数发送数据，或者使用recv()函数接收数据;</p> 
<p>2.7 使用closesocket()函数关闭套接字;</p> 
<p>2.8 最后调用WSACleanup()函数结束Winsock Sockets API。</p> 
<h4><a id="13__37"></a>1.3 客户端编程步骤</h4> 
<p>3.1 使用WSAStartup()函数检查系统协议栈安装情况；</p> 
<p>3.2 使用socket()函数创建客户端套接字；</p> 
<p>3.3 使用connect()函数发出也服务器建立连接的请求(调用前可以不用bind()端口号，由系统自动完成)；</p> 
<p>3.4 连接建立后使用send()函数发送数据，或使用recv()函数接收数据；</p> 
<p>3.5 使用closesocet()函数关闭套接字；</p> 
<p>3.6 最后调用WSACleanup()函数，结束Winsock Sockets API。</p> 
<h3><a id="2_socket_50"></a>2 应用进程跨越网络通信的编程基本方法（socket）及基本函数：</h3> 
<h4><a id="21_socket_51"></a>2.1 socket概述</h4> 
<p>在计算机通信领域，socket 被翻译为“套接字”，它是计算机之间进行通信的一种约定或一种方式。通过 socket 这种约定，一台计算机可以接收其他计算机的数据，也可以向其他计算机发送数据。</p> 
<p>socket起源于Unix，而Unix/Linux基本哲学之一就是“一切皆文件”，都可以用“打开open –&gt; 读写write/read –&gt; 关闭close”模式来操作。Socket就是该模式的一个实现：即socket是一种特殊的文件，一些socket函数就是对其进行的操作（读/写IO、打开、关闭）。Socket()函数返回一个整型的Socket描述符，随后的连接建立、数据传输等操作都是通过该Socket实现的。</p> 
<p>socket是利用三元组解决网络通信的一个中间件工具，就目前而言，几乎所有的应用程序都是采用socket，如UNIX BSD的套接字（socket）和UNIX System V的TLI（已经被淘汰）。</p> 
<p>Socket通信的数据传输方式，常用的有两种：</p> 
<ol><li>SOCK_STREAM：表示面向连接的数据传输方式。数据可以准确无误地到达另一台计算机，如果损坏或丢失，可以重新发送，但效率相对较慢。常见的 http 协议就使用 SOCK_STREAM 传输数据，因为要确保数据的正确性，否则网页不能正常解析。</li><li>SOCK_DGRAM：表示无连接的数据传输方式。计算机只管传输数据，不作数据校验，如果数据在传输中损坏，或者没有到达另一台计算机，是没有办法补救的。也就是说，数据错了就错了，无法重传。因为SOCK_DGRAM 所做的校验工作少，所以效率比 SOCK_STREAM 高。</li></ol> 
<h4><a id="22_socket_62"></a>2.2 socket基本函数</h4> 
<h5><a id="221_socket_63"></a>2.2.1 socket()函数</h5> 
<p>socket函数对应于普通文件的打开操作。普通文件的打开操作返回一个文件描述字，而socket()用于创建一个socket描述符（socket descriptor），它唯一标识一个socket。这个socket描述字跟文件描述字一样，后续的操作都有用到它，把它作为参数，通过它来进行一些读写操作。</p> 
<p>socket函数的三个参数分别为：</p> 
<ol><li>domain：即协议域，又称为协议簇（family）。常用的协议簇有，AF_INET、AF_INET6、AF_LOCAL（或称AF_UNIX，Unix域socket）、AF_ROUTE等等。协议簇决定了socket的地址类型，在通信中必须采用对应的地址，如AF_INET决定了要用ipv4地址（32位的）与端口号（16位的）的组合、AF_UNIX决定了要用一个绝对路径名作为地址。</li><li>type：指定socket类型。常用的socket类型有，SOCK_STREAM、SOCK_DGRAM、SOCK_RAW、SOCK_PACKET、SOCK_SEQPACKET等等。</li><li>protocol：故名思意，就是指定协议。常用的协议有，IPPROTO_TCP、IPPTOTO_UDP、IPPROTO_SCTP、IPPROTO_TIPC等，它们分别对应TCP传输协议、UDP传输协议、STCP传输协议、TIPC传输协议。</li></ol> 
<p>注意：并不是上面的type和protocol可以随意组合的，如SOCK_STREAM不可以跟IPPROTO_UDP组合。当protocol为0时，会自动选择type类型对应的默认协议。</p> 
<p>当调用socket创建一个socket时，返回的socket描述字它存在于协议簇（address family，AF_XXX）空间中，但没有一个具体的地址。如果想要给它赋值一个地址，就必须调用bind()函数，否则就当调用connect()、listen()时系统会自动随机分配一个端口。</p> 
<h5><a id="222_bind_75"></a>2.2.2 bind()函数</h5> 
<p>bind()函数把一个地址族中的特定地址赋给socket。例如对应AF_INET、AF_INET6就是把一个ipv4或ipv6地址和端口号组合赋给socket。当我们调用socket创建一个socket时，返回的socket描述字它存在于协议簇（address family，AF_XXX）空间中，但没有一个具体的地址。如果想要给它赋值一个地址，就必须调用bind()函数，否则就当调用connect()、listen()时系统会自动随机分配一个端口。<br> 函数的三个参数分别为：</p> 
<ol><li>sockfd：即socket描述字，它是通过socket()函数创建了，唯一标识一个socket。bind()函数就是将给这个描述字绑定一个名字。</li><li>addr：一个const struct sockaddr *指针，指向要绑定给sockfd的协议地址。这个地址结构根据地址创建socket时的地址协议簇的不同而不同，如ipv4对应的是：<br> struct sockaddr_in {<!-- --><br> sa_family_t sin_family;<br> in_port_t sin_port;<br> struct in_addr sin_addr;<br> };<br> struct in_addr {<!-- --><br> uint32_t s_addr;<br> };<br> ipv6对应的是：<br> struct sockaddr_in6 {<!-- --><br> sa_family_t sin6_family;<br> in_port_t sin6_port;<br> uint32_t sin6_flowinfo;<br> struct in6_addr sin6_addr;<br> uint32_t sin6_scope_id;<br> };<br> struct in6_addr {<!-- --><br> unsigned char s6_addr[16];<br> };<br> Unix域对应的是：<br> #define UNIX_PATH_MAX 108<br> struct sockaddr_un {<!-- --><br> sa_family_t sun_family;<br> char sun_path[UNIX_PATH_MAX];<br> };</li><li>addrlen：对应的是地址的长度。<br> 通常服务器在启动的时候都会绑定一个众所周知的地址（如ip地址+端口号），用于提供服务，客户就可以通过它来接连服务器；而客户端就不用指定，有系统自动分配一个端口号和自身的ip地址组合。因此，通常服务器端在listen()之前会调用bind()，而客户端就不会调用，而是在connect()时由系统随机生成一个。</li></ol> 
<h5><a id="223_listenconnect_107"></a>2.2.3 listen()、connect()函数</h5> 
<p>如果作为一个服务器，在调用socket()、bind()之后就会调用listen()来监听这个socket，如果客户端这时调用connect()发出连接请求，服务器端就会接收到这个请求。<br> listen函数的第一个参数即为要监听的socket描述字，第二个参数为相应socket可以排队的最大连接个数。socket()函数创建的socket默认是一个主动类型的，listen函数将socket变为被动类型的，等待客户的连接请求。<br> connect函数的第一个参数即为客户端的socket描述字，第二参数为服务器的socket地址，第三个参数为socket地址的长度。客户端通过调用connect函数来建立与TCP服务器的连接。</p> 
<h5><a id="224_accept_112"></a>2.2.4 accept()函数</h5> 
<p>TCP服务器端依次调用socket()、bind()、listen()之后，就会监听指定的socket地址了。TCP客户端依次调用socket()、connect()之后就想TCP服务器发送了一个连接请求。TCP服务器监听到这个请求之后，就会调用accept()函数取接收请求，这样连接就建立好了。之后就可以开始网络I/O操作了，即类同于普通文件的读写I/O操作。</p> 
<p>accept函数的第一个参数为服务器的socket描述字，第二个参数为指向struct sockaddr *的指针，用于返回客户端的协议地址，第三个参数为协议地址的长度。如果accpet成功，那么其返回值是由内核自动生成的一个全新的描述字，代表与返回客户的TCP连接。</p> 
<p>注意：accept的第一个参数为服务器的socket描述字，是服务器开始调用socket()函数生成的，称为监听socket描述字；而accept函数返回的是已连接的socket描述字。一个服务器通常通常仅仅只创建一个监听socket描述字，它在该服务器的生命周期内一直存在。内核为每个由服务器进程接受的客户连接创建了一个已连接socket描述字，当服务器完成了对某个客户的服务，相应的已连接socket描述字就被关闭。</p> 
<h5><a id="225_readwrite_120"></a>2.2.5 read()、write()函数</h5> 
<p>read()函数是负责从fd中读取内容.当读成功时，read返回实际所读的字节数，如果返回的值是0表示已经读到文件的结束了，小于0表示出现了错误。如果错误为EINTR说明读是由中断引起的，如果是ECONNREST表示网络连接出了问题。</p> 
<p>write()函数将buf中的nbytes字节内容写入文件描述符fd.成功时返回写的字节 数。失败时返回-1，并设置error变量。在网络程序中，当我们向套接字文件描述符写时有俩种可能：（1）write的返回值大于0，表示写了部分或者是 全部的数据。（2）返回的值小于0，此时出现了错误。我们要根据错误类型来处理。如果错误为EINTR表示在写的时候出现了中断错误。如果为EPIPE表示 网络连接出现了问题(对方已经关闭了连接)。</p> 
<h5><a id="226_close_125"></a>2.2.6 close()函数</h5> 
<p>在服务器与客户端建立连接之后，会进行一些读写操作，完成了读写操作就要关闭相应的socket描述字。close一个TCP socket的缺省行为时把该socket标记为以关闭，然后立即返回到调用进程。该描述字不能再由调用进程使用，也就是说不能再作为read或write的第一个参数。注意：close操作只是使相应socket描述字的引用计数-1，只有当引用计数为0的时候，才会触发TCP客户端向服务器发送终止连接请求。</p> 
<h3><a id="3__128"></a>3 编程原理</h3> 
<p>3.1 连接建立：服务器调用socket()、 bind()、 listen()完成初始化后，调用accept()阻塞等待，处于监听端口的状态，客户端调用socket()初始化后，调用connect()发出SYN段并阻塞等待服务器应答，服务器应答一个SYN-ACK段，客户端收到后从connect()返回，同时应答一个ACK段，服务器收到后从accept()返回。</p> 
<p>3.2 数据传输：建立连接后， TCP协议提供全双工的通信服务，但是一般的客户端/服务器程序的流程是由客户端主动发起请求，服务器被动处理请求，一问一答的方式。因此，服务器从accept()返回后立刻调用read()，读socket就像读管道一样，如果没有数据到达就阻塞等待，这时客户端调用write()发送请求给服务器，服务器收到后从read()返回，对客户端的请求进行处理，在此期间客户端调用read()阻塞等待服务器的应答，服务器调用write()将处理结果发回给客户端，再次调用read()阻塞等待下一条请求，客户端收到后从read()返回，发送下一条请求，如此循环下去。</p> 
<p>3.3 关闭连接：如果客户端没有更多的请求了，就调用close()关闭连接，就像写端关闭的管道一样，服务器的read()返回0，这样服务器就知道客户端关闭了连接，也调用close()关闭连接。注意，任何一方调用close()后，连接的两个传输方向都关闭，不能再发送数据了。如果一方调用shutdown()则连接处于半关闭状态，仍可接收对方发来的数据。</p> 
<h3><a id="4__135"></a>4 编程</h3> 
<h4><a id="41__136"></a>4.1 服务器端代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_WINSOCK_DEPRECATED_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;WinSock2.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"ws2_32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>

SOCKADDR_IN cAddr <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token keyword">sizeof</span> cAddr<span class="token punctuation">;</span>
SOCKET clientSocket<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//通信</span>
	<span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> r<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		r <span class="token operator">=</span> <span class="token function">recv</span><span class="token punctuation">(</span>clientSocket<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> buff<span class="token punctuation">,</span> <span class="token number">1023</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			buff<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s发来的数据：%s\n"</span><span class="token punctuation">,</span> <span class="token function">inet_ntoa</span><span class="token punctuation">(</span>cAddr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">)</span><span class="token punctuation">,</span> buff<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//确定协议版本</span>
	WSADATA wsaData<span class="token punctuation">;</span>
	<span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">LOBYTE</span><span class="token punctuation">(</span>wsaData<span class="token punctuation">.</span>wVersion<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token function">HIBYTE</span><span class="token punctuation">(</span>wsaData<span class="token punctuation">.</span>wVersion<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">2</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"确定协议版本失败！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//创建socket</span>
	SOCKET serverSocket<span class="token operator">=</span><span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> IPPROTO_TCP<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>SOCKET_ERROR <span class="token operator">==</span> serverSocket<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"创建socket失败:%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//清理协议版本信息</span>
		<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"创建socket成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//创建服务器协议地址簇</span>
	SOCKADDR_IN addr <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span><span class="token comment">//协议地址簇</span>
	addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token string">"192.168.217.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9853</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10000左右 小端转大端</span>

	<span class="token comment">//绑定</span>
	<span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">bind</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span> addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">==</span>r<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"绑定失败：%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//关闭socket</span>
		<span class="token function">closesocket</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//清理协议版本信息</span>
		<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"绑定成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//监听</span>
	r <span class="token operator">=</span> <span class="token function">listen</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"监听失败：%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//关闭socket</span>
		<span class="token function">closesocket</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//清理协议版本信息</span>
		<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"监听成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//等待客户端连接</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1024</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		clientSocket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">accept</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">,</span> <span class="token punctuation">(</span>sockaddr<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>cAddr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>SOCKET_ERROR <span class="token operator">==</span> clientSocket<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"客户端连接失败：%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">closesocket</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"客户端连接成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">CreateThread</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LPTHREAD_START_ROUTINE<span class="token punctuation">)</span>func<span class="token punctuation">,</span> <span class="token punctuation">(</span>LPVOID<span class="token punctuation">)</span>i<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		

	<span class="token comment">//关闭socket</span>
	<span class="token function">closesocket</span><span class="token punctuation">(</span>serverSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//清理版本协议信息</span>
	<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//停顿</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="42__245"></a>4.2 客户端代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_WINSOCK_DEPRECATED_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;WinSock2.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"ws2_32.lib"</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//确定协议版本</span>
	WSADATA wsaData<span class="token punctuation">;</span>
	<span class="token function">WSAStartup</span><span class="token punctuation">(</span><span class="token function">MAKEWORD</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>wsaData<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">LOBYTE</span><span class="token punctuation">(</span>wsaData<span class="token punctuation">.</span>wVersion<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token function">HIBYTE</span><span class="token punctuation">(</span>wsaData<span class="token punctuation">.</span>wVersion<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"确定协议版本失败！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//创建socket</span>
	SOCKET clientSocket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> IPPROTO_TCP<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>SOCKET_ERROR <span class="token operator">==</span> clientSocket<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"创建socket失败:%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//清理协议版本信息</span>
		<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"创建socket成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//获取服务器协议地址簇</span>
	SOCKADDR_IN addr <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	addr<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span><span class="token comment">//协议地址簇</span>
	addr<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>S_un<span class="token punctuation">.</span>S_addr <span class="token operator">=</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span><span class="token string">"192.168.217.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	addr<span class="token punctuation">.</span>sin_port <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span><span class="token number">9853</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10000左右 小端转大端</span>

	<span class="token comment">//连接服务器</span>
	<span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>clientSocket<span class="token punctuation">,</span> <span class="token punctuation">(</span>sockaddr<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>addr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span> addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">==</span> r<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"连接服务器失败：%d\n"</span><span class="token punctuation">,</span> <span class="token function">GetLastError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">closesocket</span><span class="token punctuation">(</span>clientSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"连接服务器成功！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//通信</span>
	<span class="token keyword">char</span> buff<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> buff<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//接受用户输入</span>
		<span class="token function">send</span><span class="token punctuation">(</span>clientSocket<span class="token punctuation">,</span> buff<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>buff<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//发送给服务器</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//关闭socket</span>
	<span class="token function">closesocket</span><span class="token punctuation">(</span>clientSocket<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//清理版本协议信息</span>
	<span class="token function">WSACleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//停顿</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="5__312"></a>5 调试</h3> 
<h4><a id="51__313"></a>5.1 调试过程中出现的问题</h4> 
<p>（1）无法让多个客户端同时发送信息给服务器；<br> （2）出现’inet_addr’: Use inet_pton() or InetPton() instead or define _WINSOCK_DEPREC报错；<br> （3）出现’inet_ntoa’: Use inet_ntop() or InetNtop() instead or define _WINSOCK_DEPREC报错；</p> 
<h4><a id="52__318"></a>5.2 相应的解决方法</h4> 
<p>（1）使用CreateThread函数，CreateThread是一种微软在Windows API中提供了建立新的线程的函数，该函数在主线程的基础上创建一个新线程。线程终止运行后，线程对象仍然在系统中，必须通过CloseHandle函数来关闭该线程对象。<br> （2）该问题出现的原因是在VS2013以后的版本中，增加了inet_pton()、InetPton()之类的新函数，用于IP地址在“点分十进制”和“二进制整数”之间转换，并且能够处理ipv4和ipv6。而inet_addr是老函数，高版本VS在编译时默认使用了新函数，所以会报该错误。因此，只需对VS进行设置让其忽略报错。<br> （3）该问题出现的原因是socket2已经丢弃inet_ntoa()、inet_addr()这些老版本函数，当在Socket2上调用这些老版本(Socket1版本)函数时，warning变成error了。因此，只需在代码开头加个 #pragma warning(disable:4996) ，用于屏蔽warning，提高兼容性。</p> 
<h4><a id="53_322"></a>5.3调试演示</h4> 
<p>调试时我们为了验证其稳定性，及多客户端在同一时间发消息时是否会造成一些忙碌问题我们打开并建立五个客户端端口：</p> 
<p>5.3.1 服务端总视图<br> <img src="https://images2.imgbox.com/93/81/8WQbj2Nd_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.2 第一个客户端创建<br> <img src="https://images2.imgbox.com/71/e7/OYHcUQuE_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.3 第二个客户端创建<br> <img src="https://images2.imgbox.com/8a/e1/bv6WBIh7_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.4 第三个客户端创建<br> <img src="https://images2.imgbox.com/62/02/VJ71Mnsx_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.5 第四个客户端创建<br> <img src="https://images2.imgbox.com/7f/bf/UinGsPRs_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.6 第五个客户端创建<br> <img src="https://images2.imgbox.com/7e/6e/YY15nvjP_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/65/86/H2mKVhKV_o.png" alt="在这里插入图片描述"></p> 
<p>上述就是同时打开了5个客户端窗口，并通过服务器端窗口可以看出5个客户端全部成功连接。</p> 
<p>下面进行测试，看服务端是否可以接收来自每个不同的客户端发来的信息。<br> 5.3.7 第一个客户端发送111<br> <img src="https://images2.imgbox.com/ac/fe/K6MgD9yo_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.8 第二个客户端发送222<br> <img src="https://images2.imgbox.com/01/2c/SAKsou2w_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.9 第三个客户端发送333<br> <img src="https://images2.imgbox.com/74/7a/LJDGIcf6_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.10 第四个客户端发送444<br> <img src="https://images2.imgbox.com/64/c3/tXWv3d5z_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.11 第五个客户端发送555<br> <img src="https://images2.imgbox.com/ab/0a/78PshR63_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.12 服务端接收到所有客户端发送的信息<br> <img src="https://images2.imgbox.com/5e/5f/2235HQ9K_o.png" alt="在这里插入图片描述"></p> 
<p>5.3.13 调试结果图总述<br> <img src="https://images2.imgbox.com/e8/69/ynoIGqpG_o.png" alt="在这里插入图片描述"></p> 
<p>由上述结果可知：5个客户端向服务器发送了不同的信息并且都被服务器收到了。</p> 
<h2><a id="_371"></a>六、实验总结</h2> 
<p>本实验是从整体上对于网络协议的应用有了一个全面的认识。首先，在此之前我们没有接触过使用socket接口实现网络协议的一系列编程思想，在实验一总我们学会了socket中简单的协议的用法，服务端的建立，绑定，使用，监听等一系列的问题的研究已经从客户端连接服务端的各项内容。</p> 
<p>从整体上对于winsock的使用流程有了更深一步的了解，通过阅读源码，对于TCP/UDP有了更深的理解。并能够深刻认识到二者直接的区别：</p> 
<ol><li>有无连接：<br> 使用UDP协议的通讯双方是随时可以进行数据传输的，无需建立连接，而TCP是面向连接服务的，在传输数据的时候需要三次握手进行连接。四次挥手释放连接</li><li>是否支持广播或多播<br> UDP支持了广播、多播和单播的服务，而TCP只支持单播</li><li>报文是面向字节流或报文段<br> UDP是面向应用报文，UDP对应用层交下来的报文，既不会拆分，也不会合并。TCP是面向字节流的，应用程序与TCP交互是一次一个大小不等的数据块，发送方的TCP把应用进程交付下来的报文数据块，看成是无结构的字节流，它不保证接收方收到的数据块和发送方发送的数据块具有对应大小关系。发送方TCP会将数据放入缓冲区，等到可以发送的时候再发送，TCP会根据发送策略，发送给接受方</li><li>首部<br> UDP首部开销比较小，只有8字节，TCP最少首部为20字节，最大首部是60字节，主要因为他实现的功能比较多，实现可靠传输、拥塞控制、流量传输等等。</li><li>可靠性<br> UDP向其上层提供无连接不可靠传输服务，数据可能会发生丢失，误码，但是传输效率高。所以主要适用于传输效率要求相对高，对准确性要求相对低和实时性要求高的场景，比如视频会议（因为我们可以接受图像稍微模糊一点，声音稍微不清晰一点）、网络语音电话、广播通信（广播、多播）</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a66ca3db96678d8a229d3c164a236728/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mq主题与分组命名规范</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7bd12cf41e92059782deab2322e84977/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【渗透测试】信息收集与社工技巧</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>