<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>é¡¹ç›®å®æˆ˜ â€” åšå®¢ç³»ç»Ÿâ‘¢ {åŠŸèƒ½å®ç°} - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="é¡¹ç›®å®æˆ˜ â€” åšå®¢ç³»ç»Ÿâ‘¢ {åŠŸèƒ½å®ç°}" />
<meta property="og:description" content="ç›®å½•
ä¸€ã€ç¼–å†™æ³¨å†ŒåŠŸèƒ½
ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚ï¼ˆå‰ç«¯ï¼‰
ğŸ… 2ã€ç»Ÿä¸€å¤„ç†
ğŸ„ ç»Ÿä¸€å¯¹è±¡å¤„ç†
ğŸ„Â ä¿åº•ç»Ÿä¸€è¿”å›å¤„ç†Â ğŸ„ ç»Ÿä¸€å¼‚å¸¸å¤„ç†
ğŸ… 3ã€å¤„ç†è¯·æ±‚
äºŒã€ç¼–å†™ç™»å½•åŠŸèƒ½
ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚
ğŸ… 2ã€å¤„ç†è¯·æ±‚
ğŸ„ åˆ›å»ºå®ä½“ç±»
ğŸ„ æ·»åŠ æ¥å£æ–¹æ³•
ğŸ„ serviceå±‚
ğŸ„ controllerï¼šå¤„ç†è¯·æ±‚å¹¶è¿”å›
ä¸‰ã€ç¼–å†™åšå®¢åˆ—è¡¨é¡µé¢
ğŸ… 1ã€SessionUtils
ğŸ… 2ã€å¤„ç†è¯·æ±‚
ğŸ… 3ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚
ä¸‰ã€ç¼–å†™æ³¨é”€åŠŸèƒ½
ğŸ… 1ã€ä½¿ç”¨ajaxè·å–è¯·æ±‚
ğŸ… 2ã€å¤„ç†è¯·æ±‚
å››ã€ç¼–å†™åˆ é™¤æ–‡ç« åŠŸèƒ½
ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚
ğŸ… 2ã€å¤„ç†è¯·æ±‚
ğŸ„ mapperå±‚ï¼šæ¥å£æ–¹æ³•
ğŸ„ serviceå±‚
ğŸ„ controllerå±‚ï¼šå¤„ç†è¯·æ±‚
äº”ã€ç¼–å†™æ–‡ç« æ·»åŠ åŠŸèƒ½
ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚
ğŸ… 2ã€å¤„ç†è¯·æ±‚
ğŸ„mapperå±‚ï¼šæ·»åŠ æ¥å£æ–¹æ³•
ğŸ„serviceå±‚ï¼šè¿”å›å—å½±å“è¡Œæ•°
ğŸ„ controllerï¼šå¤„ç†æ·»åŠ æ–‡ç« çš„è¯·æ±‚
å…­ã€ä¿®æ”¹åŠŸèƒ½ï¼šæŸ¥è¯¢åˆ°ä¿®æ”¹çš„æ–‡ç« 
ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚
ğŸ… 2ã€å¤„ç†è¯·æ±‚
ğŸ„Mapperå±‚ï¼šæ·»åŠ æ¥å£
ğŸ„serviceå±‚
ğŸ„controllerå±‚
ä¸ƒã€ä¿®æ”¹åŠŸèƒ½ï¼šä¿®æ”¹æŸ¥è¯¢åˆ°çš„æ–‡ç« 
ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚Â ğŸ… 2ã€å¤„ç†è¯·æ±‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/eab2d8a9a5cf814305c45b48a6071f0e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-02T00:02:56+08:00" />
<meta property="article:modified_time" content="2023-09-02T00:02:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">é¡¹ç›®å®æˆ˜ â€” åšå®¢ç³»ç»Ÿâ‘¢ {åŠŸèƒ½å®ç°}</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%C2%A0%E4%B8%80%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%80%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD" rel="nofollow">Â ä¸€ã€ç¼–å†™æ³¨å†ŒåŠŸèƒ½</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89" rel="nofollow">ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚ï¼ˆå‰ç«¯ï¼‰</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86" rel="nofollow">ğŸ… 2ã€ç»Ÿä¸€å¤„ç†</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86" rel="nofollow">Â  Â  Â  Â  ğŸ„ ç»Ÿä¸€å¯¹è±¡å¤„ç†</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%C2%A0%E4%BF%9D%E5%BA%95%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E5%A4%84%E7%90%86%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%C2%A0%E4%BF%9D%E5%BA%95%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E5%A4%84%E7%90%86%C2%A0" rel="nofollow">Â  Â  Â  Â  ğŸ„Â ä¿åº•ç»Ÿä¸€è¿”å›å¤„ç†Â </a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86" rel="nofollow">Â  Â  Â  Â  ğŸ„ ç»Ÿä¸€å¼‚å¸¸å¤„ç†</a></p> 
<p id="%C2%A0%F0%9F%8D%85%203%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%C2%A0%F0%9F%8D%85%203%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">Â ğŸ… 3ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%E4%BA%8C%E3%80%81%E7%BC%96%E5%86%99%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E7%BC%96%E5%86%99%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD" rel="nofollow">äºŒã€ç¼–å†™ç™»å½•åŠŸèƒ½</a></p> 
<p id="%C2%A0%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%C2%A0%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">Â ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB" rel="nofollow">Â  Â  Â  Â  ğŸ„ åˆ›å»ºå®ä½“ç±»</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95" rel="nofollow">Â  Â  Â  Â  ğŸ„ æ·»åŠ æ¥å£æ–¹æ³•</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">Â  Â  Â  Â  Â ğŸ„ serviceå±‚</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E5%B9%B6%E8%BF%94%E5%9B%9E-toc" style="margin-left:80px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E5%B9%B6%E8%BF%94%E5%9B%9E" rel="nofollow">Â  Â  Â  Â  ğŸ„ controllerï¼šå¤„ç†è¯·æ±‚å¹¶è¿”å›</a></p> 
<p id="%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2" rel="nofollow">ä¸‰ã€ç¼–å†™åšå®¢åˆ—è¡¨é¡µé¢</a></p> 
<p id="%C2%A0%F0%9F%8D%85%201%E3%80%81SessionUtils-toc" style="margin-left:40px;"><a href="#%C2%A0%F0%9F%8D%85%201%E3%80%81SessionUtils" rel="nofollow">Â ğŸ… 1ã€SessionUtils</a></p> 
<p id="%C2%A0%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%C2%A0%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">Â ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%203%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%203%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 3ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E9%94%80%E5%8A%9F%E8%83%BD-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E9%94%80%E5%8A%9F%E8%83%BD" rel="nofollow">ä¸‰ã€ç¼–å†™æ³¨é”€åŠŸèƒ½</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 1ã€ä½¿ç”¨ajaxè·å–è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E5%9B%9B%E3%80%81%E7%BC%96%E5%86%99%E5%88%A0%E9%99%A4%E6%96%87%E7%AB%A0%E5%8A%9F%E8%83%BD-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E7%BC%96%E5%86%99%E5%88%A0%E9%99%A4%E6%96%87%E7%AB%A0%E5%8A%9F%E8%83%BD" rel="nofollow">å››ã€ç¼–å†™åˆ é™¤æ–‡ç« åŠŸèƒ½</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8E%84%20mapper%E5%B1%82%EF%BC%9A%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20mapper%E5%B1%82%EF%BC%9A%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95" rel="nofollow">ğŸ„ mapperå±‚ï¼šæ¥å£æ–¹æ³•</a></p> 
<p id="%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">ğŸ„ serviceå±‚</a></p> 
<p id="%F0%9F%8E%84%20controller%E5%B1%82%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%E5%B1%82%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ„ controllerå±‚ï¼šå¤„ç†è¯·æ±‚</a></p> 
<p id="%E4%BA%94%E3%80%81%E7%BC%96%E5%86%99%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E7%BC%96%E5%86%99%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD" rel="nofollow">äº”ã€ç¼–å†™æ–‡ç« æ·»åŠ åŠŸèƒ½</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%C2%A0%F0%9F%8E%84mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#%C2%A0%F0%9F%8E%84mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95" rel="nofollow">Â ğŸ„mapperå±‚ï¼šæ·»åŠ æ¥å£æ–¹æ³•</a></p> 
<p id="%C2%A0%F0%9F%8E%84service%E5%B1%82%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%8F%97%E5%BD%B1%E5%93%8D%E8%A1%8C%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0%F0%9F%8E%84service%E5%B1%82%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%8F%97%E5%BD%B1%E5%93%8D%E8%A1%8C%E6%95%B0" rel="nofollow">Â ğŸ„serviceå±‚ï¼šè¿”å›å—å½±å“è¡Œæ•°</a></p> 
<p id="%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E7%9A%84%E8%AF%B7%E6%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E7%9A%84%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ„ controllerï¼šå¤„ç†æ·»åŠ æ–‡ç« çš„è¯·æ±‚</a></p> 
<p id="%E5%85%AD%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%88%B0%E4%BF%AE%E6%94%B9%E7%9A%84%E6%96%87%E7%AB%A0-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%88%B0%E4%BF%AE%E6%94%B9%E7%9A%84%E6%96%87%E7%AB%A0" rel="nofollow">å…­ã€ä¿®æ”¹åŠŸèƒ½ï¼šæŸ¥è¯¢åˆ°ä¿®æ”¹çš„æ–‡ç« </a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8E%84Mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84Mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3" rel="nofollow">ğŸ„Mapperå±‚ï¼šæ·»åŠ æ¥å£</a></p> 
<p id="%F0%9F%8E%84service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84service%E5%B1%82" rel="nofollow">ğŸ„serviceå±‚</a></p> 
<p id="%F0%9F%8E%84controller%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84controller%E5%B1%82" rel="nofollow">ğŸ„controllerå±‚</a></p> 
<p id="%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E4%BF%AE%E6%94%B9%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%96%87%E7%AB%A0-toc" style="margin-left:0px;"><a href="#%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E4%BF%AE%E6%94%B9%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%96%87%E7%AB%A0" rel="nofollow">ä¸ƒã€ä¿®æ”¹åŠŸèƒ½ï¼šä¿®æ”¹æŸ¥è¯¢åˆ°çš„æ–‡ç« </a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0" rel="nofollow">ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚Â  Â  Â  Â  Â  Â </a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8E%84%20mapper%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20mapper%E5%B1%82" rel="nofollow">ğŸ„ mapperå±‚</a></p> 
<p id="%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">ğŸ„ serviceå±‚</a></p> 
<p id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0%20%C2%A0%20%C2%A0-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%E5%B1%82%C2%A0%20%C2%A0%20%C2%A0" rel="nofollow">ğŸ„ controllerå±‚Â  Â  Â </a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%E5%85%AB%E3%80%81%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85-toc" style="margin-left:0px;"><a href="#%E5%85%AB%E3%80%81%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85" rel="nofollow">å…«ã€æ–‡ç« è¯¦æƒ…</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E7%BC%96%E5%86%99-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E7%BC%96%E5%86%99" rel="nofollow">ğŸ… 1ã€å‰ç«¯é¡µé¢ç¼–å†™</a></p> 
<p id="%F0%9F%8E%84%20%E7%BB%99%E5%AE%9Aid%E5%80%BC-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20%E7%BB%99%E5%AE%9Aid%E5%80%BC" rel="nofollow">ğŸ„ ç»™å®šidå€¼</a></p> 
<p id="%C2%A0%F0%9F%8E%84%20%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82-toc" style="margin-left:80px;"><a href="#%C2%A0%F0%9F%8E%84%20%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82" rel="nofollow">Â ğŸ„ ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… 2ã€å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8E%84%20mapper%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20mapper%E5%B1%82" rel="nofollow">ğŸ„ mapperå±‚</a></p> 
<p id="%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">ğŸ„ serviceå±‚</a></p> 
<p id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%E5%B1%82%C2%A0" rel="nofollow">ğŸ„ controllerå±‚Â </a></p> 
<p id="%E4%B9%9D%E3%80%81%E9%98%85%E8%AF%BB%E9%87%8F%E8%AE%BE%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%B9%9D%E3%80%81%E9%98%85%E8%AF%BB%E9%87%8F%E8%AE%BE%E7%BD%AE" rel="nofollow">ä¹ã€é˜…è¯»é‡è®¾ç½®</a></p> 
<p id="%F0%9F%8D%85%20%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%20%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82" rel="nofollow">ğŸ… å¤„ç†è¯·æ±‚</a></p> 
<p id="%F0%9F%8E%84%20mapper%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20mapper%E5%B1%82" rel="nofollow">ğŸ„ mapperå±‚</a></p> 
<p id="%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">ğŸ„ serviceå±‚</a></p> 
<p id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%E5%B1%82%C2%A0" rel="nofollow">ğŸ„ controllerå±‚Â </a></p> 
<p id="%C2%A0%E5%8D%81%E3%80%81%E5%88%86%E9%A1%B5%E5%A4%84%E7%90%86-toc" style="margin-left:0px;"><a href="#%C2%A0%E5%8D%81%E3%80%81%E5%88%86%E9%A1%B5%E5%A4%84%E7%90%86" rel="nofollow">Â åã€åˆ†é¡µå¤„ç†</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E5%A4%84%E7%90%86-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E5%A4%84%E7%90%86" rel="nofollow">ğŸ… 1ã€å‰ç«¯å¤„ç†</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E5%90%8E%E7%AB%AF%E5%A4%84%E7%90%86-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E5%90%8E%E7%AB%AF%E5%A4%84%E7%90%86" rel="nofollow">ğŸ… 2ã€åç«¯å¤„ç†</a></p> 
<p id="%F0%9F%8E%84%20mapper%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20mapper%E5%B1%82" rel="nofollow">ğŸ„ mapperå±‚</a></p> 
<p id="%F0%9F%8E%84%20service%E5%B1%82-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20service%E5%B1%82" rel="nofollow">ğŸ„ serviceå±‚</a></p> 
<p id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0-toc" style="margin-left:80px;"><a href="#%F0%9F%8E%84%20controller%E5%B1%82%C2%A0" rel="nofollow">ğŸ„ controllerå±‚Â </a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81%E5%AF%86%E7%A0%81%E5%8A%A0%E7%9B%90-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81%E5%AF%86%E7%A0%81%E5%8A%A0%E7%9B%90" rel="nofollow">åä¸€ã€å¯†ç åŠ ç›</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E5%AE%9A%E4%B9%89%E5%8A%A0%E5%AF%86%E8%A7%84%E5%88%99-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E5%AE%9A%E4%B9%89%E5%8A%A0%E5%AF%86%E8%A7%84%E5%88%99" rel="nofollow">ğŸ… 1ã€å®šä¹‰åŠ å¯†è§„åˆ™</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E4%BF%AE%E6%94%B9UserController%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E4%BF%AE%E6%94%B9UserController%E4%BB%A3%E7%A0%81" rel="nofollow">ğŸ… 2ã€ä¿®æ”¹UserControllerä»£ç </a></p> 
<p id="%E5%8D%81%E4%BA%8C%E3%80%81session%E5%8D%87%E7%BA%A7%E5%AD%98%E5%82%A8%E5%88%B0redis-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81session%E5%8D%87%E7%BA%A7%E5%AD%98%E5%82%A8%E5%88%B0redis" rel="nofollow">åäºŒã€sessionå‡çº§å­˜å‚¨åˆ°redis</a></p> 
<p id="%F0%9F%8D%85%201%E3%80%81%E5%85%88%E6%B7%BB%E5%8A%A0redis%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%201%E3%80%81%E5%85%88%E6%B7%BB%E5%8A%A0redis%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96" rel="nofollow">ğŸ… 1ã€å…ˆæ·»åŠ redisç›¸å…³ä¾èµ–</a></p> 
<p id="%F0%9F%8D%85%202%E3%80%81%E6%B7%BB%E5%8A%A0redis%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%EF%BC%88properties%EF%BC%89-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%85%202%E3%80%81%E6%B7%BB%E5%8A%A0redis%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%EF%BC%88properties%EF%BC%89" rel="nofollow">ğŸ… 2ã€æ·»åŠ redisé…ç½®ä¿¡æ¯ï¼ˆpropertiesï¼‰</a></p> 
<p id="%C2%A0%E5%8D%81%E4%B8%89%E3%80%81%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8-toc" style="margin-left:0px;"><a href="#%C2%A0%E5%8D%81%E4%B8%89%E3%80%81%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8" rel="nofollow">Â åä¸‰ã€å®ç°è‡ªå®šä¹‰æ‹¦æˆªå™¨</a></p> 
<hr> 
<p><strong>å‰ç½®çŸ¥è¯†ï¼š</strong></p> 
<blockquote> 
 <p><strong>å‰åç«¯äº¤äº’çš„å…³é”®ï¼š</strong>ä½¿ç”¨AJAXï¼ˆå¼‚æ­¥å±€éƒ¨æäº¤ï¼‰</p> 
 <p><strong>å†™æ³•ï¼š</strong></p> 
 <p>Â  Â  Â  Â  1ã€åŸç”Ÿå†™æ³•ï¼ˆå…¼å®¹æ€§å·®ï¼‰</p> 
 <p>Â  Â  Â  Â  2ã€ä½¿ç”¨æ¡†æ¶ï¼ŒjQuery ajaxï¼ˆç®€å• / é€šç”¨æ€§æµ©ï¼‰</p> 
 <p>è¯­æ³•ï¼š</p> 
 <pre><code class="language-css">Â  Â  Â  Â  jQuery.ajax({
Â  Â  Â  Â  Â  Â  Â  Â  url:"æ¥å£åœ°å€",Â  Â  Â  Â  Â Â Â //æé«˜çš„æ¥å£åœ°å€
Â  Â  Â  Â  Â  Â  Â  Â  type:"GET",Â  Â  Â  Â  Â  Â  Â  Â //è¯·æ±‚çš„ç±»å‹
Â  Â  Â  Â  Â  Â  Â  Â  data:{Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â //ä¼ é€’çš„æ•°æ®
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "username":"å¼ ä¸‰"ï¼Œ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "password":"123"
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â },

Â  Â  Â  Â  Â  Â  Â  Â  success:function(res){Â  Â  Â  Â  //ç›¸åº”çš„ç»“æœæ˜¯ä»€ä¹ˆ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  //åç«¯è¿”å›æ•°æ®åçš„ä¸šåŠ¡å¤„ç†ä»£ç 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });</code></pre> 
</blockquote> 
<h2 id="%C2%A0%E4%B8%80%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E5%86%8C%E5%8A%9F%E8%83%BD">Â ä¸€ã€ç¼–å†™æ³¨å†ŒåŠŸèƒ½</h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%EF%BC%88%E5%89%8D%E7%AB%AF%EF%BC%89">ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚ï¼ˆå‰ç«¯ï¼‰</h3> 
<p>åœ¨å‰ç«¯é¡µé¢çš„&lt;head&gt;&lt;/head&gt;æ·»åŠ jquery</p> 
<pre><code class="language-html">&lt;script src="js/jquery.min.js"&gt;&lt;/script&gt;</code></pre> 
<p>æ·»åŠ äº‹ä»¶ï¼šç‚¹å‡»æäº¤æŒ‰é’®ï¼Œè§¦å‘mysub()</p> 
<pre><code class="language-html">&lt;div class="row"&gt;
       &lt;button id="submit" onclick="mysub()"&gt;æäº¤&lt;/button&gt;
&lt;/div&gt;</code></pre> 
<p>åœ¨&lt;script&gt;&lt;/script&gt;ä¸­æäº¤ç”¨æˆ·æ³¨å†Œä¿¡æ¯</p> 
<blockquote> 
 <p>ä¸»è¦æœ‰è¿™å‡ æ­¥ï¼š</p> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰å‚æ•°æ•ˆéªŒï¼ˆè·å–åˆ°æ•°æ®|éç©ºæ•ˆéªŒï¼‰</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰å°†æ•°æ®æäº¤ç»™åç«¯</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†åç«¯è¿”å›çš„ç»“æœç»™ç”¨æˆ·</p> 
 <p>username.focus()ï¼šæŒ‡å°†å…‰æ ‡è¿”å›</p> 
 <p>trim()ï¼šå»ç©ºæ ¼æ“ä½œï¼ˆæ ¡éªŒåˆ°å…¨æ˜¯ç©ºæ ¼ï¼‰</p> 
</blockquote> 
<pre><code class="language-javascript">&lt;script&gt;
        //  æäº¤ç”¨æˆ·æ³¨å†Œä¿¡æ¯
        function mysub(){
            // å‚æ•°æ ¡éªŒ
            var username = jQuery("#username");
            var password = jQuery("#password");
            var password2 = jQuery("#password2");
            if(username.val().trim()==""){
                alert("è¯·å…ˆè¾“å…¥ç”¨æˆ·åï¼");
                username.focus();
                return false;
            }
            if(password.val().trim()==""){
                alert("è¯·å…ˆè¾“å…¥å¯†ç ï¼");
                password.focus();
                return false;
            }
            if(password2.val().trim()==""){
                alert("è¯·å…ˆè¾“å…¥ç¡®è®¤å¯†ç ï¼");
                password2.focus();
                return false;
            }
            // æ•ˆéªŒä¸¤æ¬¡è¾“å…¥çš„å¯†ç æ˜¯å¦ä¸€è‡´
            if(password.val()!=password2.val()){
                alert("ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´ï¼Œè¯·å…ˆæ£€æŸ¥ï¼");
                return false;
            }
        //     æäº¤æ•°æ®ç»™åç«¯
            jQuery.ajax({
                url:"/user/reg",
                // æŸ¥è¯¢ä½¿ç”¨get,éæŸ¥è¯¢ä½¿ç”¨post
                type:"POST",
                data:{
                    "username":username.val().trim(),
                    "password":password.val().trim()
                },
                success:function (res){
                //     è¿”å›ç»“æœç»™ç”¨æˆ·
                    if (res.code==200 &amp;&amp; res.data==1){
                        alert("æ³¨å†ŒæˆåŠŸï¼")
                        location.href = "login.html";
                    }else {
                        alert("æ³¨å†Œå¤±è´¥ï¼" + res.msg);
                    }
                }
            });
        }
    &lt;/script&gt;
&lt;/body&gt;</code></pre> 
<h3 id="%F0%9F%8D%85%202%E3%80%81%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86">ğŸ… 2ã€ç»Ÿä¸€å¤„ç†</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86">Â  Â  Â  Â  ğŸ„ ç»Ÿä¸€å¯¹è±¡å¤„ç†</h4> 
<p>Â åœ¨commonåŒ…ä¸­ï¼Œç¼–å†™ResultAjaxï¼Œè¡¨ç¤ºå‰åç«¯äº¤äº’çš„ç»Ÿä¸€å¯¹è±¡ï¼Œç»Ÿä¸€å¤„ç†</p> 
<p><img alt="" height="188" src="https://images2.imgbox.com/1d/4f/sEEOeNlk_o.png" width="733"></p> 
<pre><code class="language-javascript">@Data
public class ResultAjax {
    private int code;   //çŠ¶æ€ç 
    private String msg; //çŠ¶æ€ç çš„æè¿°ä¿¡æ¯
    private Object data;

    public static ResultAjax success(Object data){
        ResultAjax result = new ResultAjax();
        result.setCode(200);
        result.setMsg("");
        result.setData(data);
        return result;
    }

    public static ResultAjax success(int code,String msg,Object data){
        ResultAjax result = new ResultAjax();
        result.setCode(code);
        result.setMsg(msg);
        result.setData(data);
        return result;
    }

    public static ResultAjax fail(int code,String msg){
        ResultAjax result = new ResultAjax();
        result.setCode(code);
        result.setMsg(msg);
        result.setData(null);
        return result;
    }

    public static ResultAjax fail(int code,String msg,Object data){
        ResultAjax result = new ResultAjax();
        result.setCode(code);
        result.setMsg(msg);
        result.setData(data);
        return result;
    }
}
</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%C2%A0%E4%BF%9D%E5%BA%95%E7%BB%9F%E4%B8%80%E8%BF%94%E5%9B%9E%E5%A4%84%E7%90%86%C2%A0">Â  Â  Â  Â  ğŸ„Â ä¿åº•ç»Ÿä¸€è¿”å›å¤„ç†Â </h4> 
<p>Â Â Â Â Â Â Â Â åœ¨commonä¸­åˆ›å»ºç±»</p> 
<p><img alt="" height="176" src="https://images2.imgbox.com/da/e2/EqC6AaBj_o.png" width="725"></p> 
<pre><code class="language-javascript">@ControllerAdvice
public class ResponseAdvice implements ResponseBodyAdvice {
    @Autowired
    private ObjectMapper objectMapper;
    @Override
    public boolean supports(MethodParameter returnType, Class converterType) {
        return true;
    }

    @Override
    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {
        if (body instanceof ResultAjax){
            return body;
        }
        if (body instanceof String){
            ResultAjax resultAjax = ResultAjax.success(body);
            try {
                return objectMapper.writeValueAsString(resultAjax);
            } catch (JsonProcessingException e) {
                e.printStackTrace();
            }
        }
        return ResultAjax.success(body);
    }
}</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">Â  Â  Â  Â  ğŸ„ ç»Ÿä¸€å¼‚å¸¸å¤„ç†</h4> 
<pre><code class="language-javascript">/*
* ç»Ÿä¸€å¼‚å¸¸å¤„ç†
* */
@RestControllerAdvice
public class ExceptionAdvice {
    @ExceptionHandler(Exception.class)
    public ResultAjax doException(Exception e){
        return ResultAjax.fail(-1,e.getMessage());
    }
}</code></pre> 
<h3 id="%C2%A0%F0%9F%8D%85%203%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82">Â ğŸ… 3ã€å¤„ç†è¯·æ±‚</h3> 
<p>Â ç¼–å†™Mapperå±‚ï¼Œå°†æ‹¿åˆ°çš„æ•°æ®è¿›è¡Œæ’å…¥</p> 
<pre><code class="language-javascript">@Mapper
public interface UserMapper {
    @Insert("insert into userinfo(username,password) values (#{username},#{password})")
    int reg(Userinfo userinfo);
}</code></pre> 
<p>ç„¶ååœ¨Serviceå±‚ä¸­ä½¿ç”¨@Autowiredå°†userMapperæ³¨å…¥</p> 
<pre><code class="language-javascript">@Service
public class UserService {

    @Autowired
    private UserMapper userMapper;
    public int reg(Userinfo userinfo){
        return userMapper.reg(userinfo);
    }
}
</code></pre> 
<p>Â åœ¨UserControllerä¸­ä½¿ç”¨Userinfoå¯¹è±¡æ¥æ”¶è¯·æ±‚ä¿¡æ¯</p> 
<blockquote> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰æ ¡éªŒå‚æ•°</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰è¯·æ±‚ service è¿›è¡Œæ·»åŠ æ“ä½œ</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†æ‰§è¡Œçš„ç»“æœè¿”å›ç»™å‰ç«¯</p> 
</blockquote> 
<pre><code class="language-javascript">@RestController
@RequestMapping("/user")
public class UserController {

    @Autowired
    UserService userService;

    @RequestMapping("/reg")
    public ResultAjax reg(Userinfo userinfo){
        if (userinfo == null || !StringUtils.hasLength(userinfo.getUsername())
        || !StringUtils.hasLength(userinfo.getPassword())){
            return ResultAjax.fail(-1,"éæ³•å‚æ•°");
        }
        int result = userService.reg(userinfo);
        return ResultAjax.success(result);
    }</code></pre> 
<p>æ£€éªŒè¯¥åŠŸèƒ½æ˜¯å¦å®ç°</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/ca/3a/CO2Ghq1N_o.png" width="1200"></p> 
<p>Â æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦æ’å…¥å¼ ä¸‰çš„ä¿¡æ¯ï¼š</p> 
<p><img alt="" height="262" src="https://images2.imgbox.com/34/ee/FkzSQih9_o.png" width="1200"></p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81%E7%BC%96%E5%86%99%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD">äºŒã€ç¼–å†™ç™»å½•åŠŸèƒ½</h2> 
<h3 id="%C2%A0%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82">Â ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</h3> 
<p>Â åœ¨å‰ç«¯é¡µé¢çš„&lt;head&gt;&lt;/head&gt;æ·»åŠ jquery</p> 
<pre><code class="language-html">&lt;script src="js/jquery.min.js"&gt;&lt;/script&gt;</code></pre> 
<p>æ·»åŠ äº‹ä»¶ï¼šç‚¹å‡»æäº¤æŒ‰é’®ï¼Œè§¦å‘mysub()</p> 
<pre><code class="language-html">&lt;div class="row"&gt;
       &lt;button id="submit" onclick="doLogin()"&gt;æäº¤&lt;/button&gt;
&lt;/div&gt;</code></pre> 
<blockquote> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰æ ¡éªŒå‚æ•°</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰å°†æ•°æ®æäº¤ç»™åç«¯</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†ç»“æœå±•ç¤ºç»™å‰ç«¯</p> 
</blockquote> 
<pre><code class="language-javascript">&lt;script&gt;
    function doLogin(){
        // å‚æ•°æ ¡éªŒ
        var username = jQuery("#username");
        var password = jQuery("#password");
        if(username.val().trim()==""){
            alert("è¯·å…ˆè¾“å…¥ç”¨æˆ·åï¼");
            username.focus();
            return false;
        }
        if(password.val().trim()==""){
            alert("è¯·å…ˆè¾“å…¥å¯†ç ï¼");
            password.focus();
            return false;
        }
    //     å°†æ•°æ®æäº¤ç»™åç«¯
        jQuery.ajax({
            url:"/user/login",
            type:"GET",
            data:{
                "username":username.val(),
                "password":password.val()
            },
            success:function(res){
            //     å°†ç»“æœå±•ç¤ºç»™ç”¨æˆ·
                if (res.code==200 &amp;&amp; res.data==1){
                    alert("ç™»å½•æˆåŠŸï¼");
                    location.href="myblog_list.html";
                }else {
                    alert("ç™»å½•å¤±è´¥!" + res.msg);
                }
            }
        });
    }
&lt;/script&gt;</code></pre> 
<h3 id="%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82">ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB">Â  Â  Â  Â  ğŸ„ åˆ›å»ºå®ä½“ç±»</h4> 
<p>é¦–å…ˆï¼Œå†åˆ›å»ºä¸€ä¸ªæ‰©å±•Userinfoçš„å®ä½“ç±»ï¼ŒUserinfoVO</p> 
<p><img alt="" height="220" src="https://images2.imgbox.com/c5/a3/FdAOWUWz_o.png" width="641"></p> 
<p></p> 
<pre><code class="language-javascript">/*
* userinfoæ‰©å±•ç±»
* */
@Data
public class UserinfoVO extends Userinfo {
    private String checkCode;
}</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95">Â  Â  Â  Â  ğŸ„ æ·»åŠ æ¥å£æ–¹æ³•</h4> 
<p>åœ¨UserMapperä¸­æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼š</p> 
<pre><code class="language-javascript">@Select("select * from userinfo where username = #{username} order by id desc")
    Userinfo getUserByName(@Param("username")String username);</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%F0%9F%8E%84%20service%E5%B1%82">Â  Â  Â  Â  Â ğŸ„ serviceå±‚</h4> 
<pre><code class="language-javascript"> public Userinfo getUserByName(String username){
        return userMapper.getUserByName(username);
    }</code></pre> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E5%B9%B6%E8%BF%94%E5%9B%9E">Â  Â  Â  Â  ğŸ„ controllerï¼šå¤„ç†è¯·æ±‚å¹¶è¿”å›</h4> 
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå…¬å…±ç±»ï¼ˆcommonåŒ…ä¸­ï¼‰ï¼šAppVariable</p> 
<p>è®¾ç½®ä¸€ä¸ªç”¨æˆ·çš„session key</p> 
<pre><code class="language-javascript">/*
* å…¨å±€å˜é‡
* */
public class AppVariable {
    public static final String SESSION_USERINFO_KEY = "SESSION_USERINFO";
}</code></pre> 
<blockquote> 
 <p>Â Â Â Â Â Â Â Â ï¼ˆ1ï¼‰å‚æ•°æ ¡éªŒ</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢å¯¹è±¡</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰é€‚ç”¨å¯¹è±¡ä¸­çš„å¯†ç å’Œç”¨æˆ·è¾“å…¥çš„å¯†ç è¿›è¡Œæ¯”è¾ƒ</p> 
 <p>Â  Â  Â  Â  Â  ç™»å½•éªŒè¯æ€è·¯ï¼šæ ¹æ®ç”¨æˆ·åæŸ¥è¯¢å¯¹è±¡ï¼Œå¦‚æœæŸ¥è¯¢åˆ°å¯¹è±¡ï¼Œåˆ™ç”¨æŸ¥è¯¢åˆ°çš„å¯¹è±¡å’Œä¼ é€’è¿‡Â  Â  Â  Â  Â  Â  Â  æ¥çš„å¯†ç å¯¹æ¯”ã€‚å¦‚æœç›¸åŒï¼Œåˆ™è¯´æ˜ç™»é™†æˆåŠŸï¼Œåä¹‹åˆ™ä¸èƒ½ã€‚Â  Â </p> 
 <p>Â  Â  Â  Â  ï¼ˆ4ï¼‰æ¯”è¾ƒæˆåŠŸä¹‹åï¼Œå°†å¯¹è±¡å­˜å‚¨åˆ°sessionä¸­</p> 
 <p>Â  Â  Â  Â  ï¼ˆ5ï¼‰å°†ç»“æœè¿”å›ç»™ç”¨æˆ·</p> 
</blockquote> 
<pre><code class="language-javascript"> @RequestMapping("/login")
    public ResultAjax login(UserinfoVO userinfoVO, HttpServletRequest request){
        //å‚æ•°æ ¡éªŒ
        if (userinfoVO == null || !StringUtils.hasLength(userinfoVO.getUsername()) ||
                !StringUtils.hasLength(userinfoVO.getPassword())){
//            æ˜¯éæ³•ç™»å½•
            return ResultAjax.fail(-1,"å‚æ•°æœ‰è¯¯ï¼");
        }
        //æ ¹æ®ç”¨æˆ·æŸ¥è¯¢å¯¹è±¡
        Userinfo userinfo = userService.getUserByName(userinfoVO.getUsername());
        if (userinfo == null || userinfo.getId() == 0){
            return ResultAjax.fail(-2,"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼");
        }
        //ä½¿ç”¨å¯¹è±¡ä¸­çš„å¯†ç å’Œç”¨æˆ·è¾“å…¥çš„å¯†ç è¿›è¡Œæ¯”è¾ƒ
        if (!userinfoVO.getPassword().equals(userinfo.getPassword())){
//            å¯†ç é”™è¯¯
            return ResultAjax.fail(-2,"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼");
        }
        //æ¯”è¾ƒæˆåŠŸï¼Œå°†å¯¹è±¡å­˜å‚¨åˆ°sessionä¸­
        HttpSession session = request.getSession();
        session.setAttribute(AppVariable.SESSION_USERINFO_KEY,userinfo);
        //å°†ç»“æœè¿”å›ç»™ç”¨æˆ·
        return ResultAjax.success(1);
    }</code></pre> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E5%8D%9A%E5%AE%A2%E5%88%97%E8%A1%A8%E9%A1%B5%E9%9D%A2">ä¸‰ã€ç¼–å†™åšå®¢åˆ—è¡¨é¡µé¢</h2> 
<h3 id="%C2%A0%F0%9F%8D%85%201%E3%80%81SessionUtils">Â ğŸ… 1ã€SessionUtils</h3> 
<p>ç”±äºè¦æ‹¿åˆ°ç”¨æˆ·çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°ç”¨æˆ·å¯¹è±¡ï¼Œæ¯”å¦‚ä¿®æ”¹å’Œåˆ é™¤åšå®¢ç­‰åŠŸèƒ½ï¼ˆéƒ½æ˜¯éœ€è¦æ‹¿åˆ°ç”¨æˆ·ï¼‰ï¼Œæ‰€ä»¥å¾—åˆ°ç”¨æˆ·å¯¹è±¡å°±å±äºä¸€ä¸ªé«˜é¢‘äº‹ä»¶ã€‚</p> 
<p>æ‰€ä»¥å°±åˆ›å»ºä¸€ä¸ªç±»ï¼Œå¯ä»¥å¾—åˆ°ç”¨æˆ·å¯¹è±¡ã€‚</p> 
<p><img alt="" height="141" src="https://images2.imgbox.com/53/f5/EP6OsFhz_o.png" width="578"></p> 
<pre><code class="language-java">/*
* sessionå·¥å…·ç±»
* */
public class SessionUtils {
//    å¾—åˆ°ç™»å½•ç”¨æˆ·
    public static Userinfo getUser(HttpServletRequest request){
//        falseä»£è¡¨æœ‰sessionå°±åˆ›å»ºsessionï¼Œæ²¡æœ‰å°±åˆ›å»º
        HttpSession session = request.getSession(false);
        if (session != null &amp;&amp; session.getAttribute(AppVariable.SESSION_USERINFO_KEY) != null){
//            ç™»å½•çŠ¶æ€
            return (Userinfo) session.getAttribute(AppVariable.SESSION_USERINFO_KEY);
        }
        return null;
    }
}</code></pre> 
<h3 id="%C2%A0%F0%9F%8D%85%202%E3%80%81%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82">Â ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<p>ğŸ„ æ·»åŠ æ¥å£æ–¹æ³•ï¼ˆmapperï¼‰</p> 
<pre><code class="language-java">@Mapper
public interface ArticleMapper {
    @Select("select * from articleinfo where uid=#{uid}")
    List&lt;ArticleMapper&gt; getListByUid(@Param("uid")int uid);
}</code></pre> 
<p>ğŸ„ serviceå±‚</p> 
<p>å¯¹è±¡æ³¨å…¥</p> 
<pre><code class="language-java">@Service
public class ArticleService {
    @Autowired
    private ArticleMapper articleMapper;
    public List&lt;ArticleMapper&gt; getListByUid(int uid){
        return articleMapper.getListByUid(uid);
    }
}</code></pre> 
<p>ğŸ„controllerå¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”</p> 
<p>ä½¿ç”¨å¹¶è¡Œçš„æ–¹å¼å¤„ç†æ–‡ç« æ­£æ–‡ï¼ˆ_DESC_LENGTHæ˜¯ç®€ä»‹ï¼‰</p> 
<pre><code class="language-java">@RestController
@RequestMapping("art")
public class ArticleController {
    @Autowired
    public ArticleService articleService;
    private static final int _DESC_LENGTH = 120;
    @RequestMapping("/mylist")
    public ResultAjax myList(HttpServletRequest request){
//        å¾—åˆ°ç™»å½•ç”¨æˆ·
        Userinfo userinfo = SessionUtils.getUser(request);
        if (userinfo == null){
            return ResultAjax.fail(-1,"è¯·å…ˆç™»å½•");
        }
//      æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·å‘è¡¨çš„æ–‡ç« 
        List&lt;Articleinfo&gt; list = articleService.getListByUid(userinfo.getId());
//        å¤„ç†list -&gt; å°†æ–‡ç« æ­£æ–‡å˜æˆç®€ä»‹
        if (list != null &amp;&amp; list.size() &gt; 0){
//            å¹¶è¡Œå¤„ç†listé›†åˆ
            list.stream().parallel().forEach((art)-&gt;{
                if (art.getContent().length() &gt; _DESC_LENGTH){
                    art.setContent(art.getContent().substring(0,_DESC_LENGTH));
                }
            });
        }
//        è¿”å›å‰ç«¯
        return ResultAjax.success(list);
    }
}</code></pre> 
<p></p> 
<h3 id="%F0%9F%8D%85%203%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82">ğŸ… 3ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</h3> 
<p>åœ¨å‰ç«¯é¡µé¢çš„&lt;head&gt;&lt;/head&gt;æ·»åŠ jquery</p> 
<pre><code class="language-html">&lt;script src="js/jquery.min.js"&gt;&lt;/script&gt;</code></pre> 
<p>æ·»åŠ ä¸€ä¸ªidï¼ŒåŒ…å«äº†æ–‡ç« åˆ—è¡¨çš„div</p> 
<pre><code class="language-java">       &lt;div id="artListDiv" class="container-right"&gt;</code></pre> 
<pre><code class="language-javascript"> &lt;script&gt;
        // åˆå§‹åŒ–æ–¹æ³•
        function init(){
            jQuery.ajax({
                url:"/art/mylist",
                type:"GET",
                data:{},
                success:function(res){
                    if(res.code==200){
                        // è¯·æ±‚æˆåŠŸ
                        var createHtml = "";
                        var artList = res.data;
                        if(artList==null || artList.length==0){
                            // æœªå‘è¡¨æ–‡ç« 
                            createHtml += "&lt;h3 style='margin-left:20px;margin-top:20px'&gt;æš‚æ— æ–‡ç« ï¼Œè¯·å…ˆ"+
                                "&lt;a href='blog_add.html'&gt;æ·»åŠ &lt;/a&gt;ï¼&lt;/h3&gt;";
                        }else{
                            for(var i=0;i&lt;artList.length;i++){
                                var art = artList[i];
                                createHtml += '&lt;div class="blog"&gt;';
                                createHtml += '&lt;div class="title"&gt;'+art.title+'&lt;/div&gt;';
                                createHtml += '&lt;div class="date"&gt;'+art.createtime+'&lt;/div&gt;';
                                createHtml += '&lt;div class="desc"&gt;';
                                createHtml += art.content;
                                createHtml += '&lt;/div&gt;';
                                createHtml += ' &lt;a href="blog_content.html?aid='+
                                    art.id + '" class="detail"&gt;æŸ¥çœ‹å…¨æ–‡ &amp;gt;&amp;gt;&lt;/a&gt;&amp;nbsp;&amp;nbsp;';
                                createHtml += '&lt;a href="blog_edit.html?aid='+
                                    art.id + '" class="detail"&gt;ä¿®æ”¹ &amp;gt;&amp;gt;&lt;/a&gt;&amp;nbsp;&amp;nbsp;';
                                createHtml += ' &lt;a href="javascript:del('+art.id+')" class="detail"&gt;åˆ é™¤ &amp;gt;&amp;gt;&lt;/a&gt;';
                                createHtml += '&lt;/div&gt;';
                            }
                        }
                        jQuery("#artListDiv").html(createHtml);
                    }else{
                        alert("æŠ±æ­‰ï¼šæ“ä½œå¤±è´¥ï¼"+res.msg);
                    }
                }
            });
        }
        init();
    &lt;/script&gt;
&lt;/body&gt;</code></pre> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E7%BC%96%E5%86%99%E6%B3%A8%E9%94%80%E5%8A%9F%E8%83%BD">ä¸‰ã€ç¼–å†™æ³¨é”€åŠŸèƒ½</h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82">ğŸ… 1ã€ä½¿ç”¨ajaxè·å–è¯·æ±‚</h3> 
<p>ç”±äºæ³¨é”€åŠŸèƒ½ï¼Œåœ¨å¾ˆå¤šé¡µé¢éƒ½éœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç»™ä¸€ä¸ªå…¬å…±çš„js</p> 
<p><img alt="" height="158" src="https://images2.imgbox.com/a9/26/xLGhM0yD_o.png" width="623"></p> 
<pre><code class="language-javascript">function logout(){
    if (confirm("æ˜¯å¦ç¡®å®šæ³¨é”€ï¼Ÿ")){
        // 1ã€åœ¨åç«¯åˆ é™¤sessionä¿¡æ¯
        jQuery.ajax({
            url:"/user/logout",
            type:"POST",
            data:{},
            success:function (res){}
        });
        // 2ã€è·³è½¬åˆ°ç™»å½•é¡µ
        location.href = "login.html"
    }
}</code></pre> 
<p>Â è¿›å…¥åˆ°myblog_list.htmlä¸­ï¼š</p> 
<pre><code class="language-javascript">&lt;script src="js/logout.js"&gt;&lt;/script&gt;</code></pre> 
<pre><code class="language-javascript">&lt;a href="javascript:logout()"&gt;æ³¨é”€&lt;/a&gt;</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<pre><code class="language-javascript">//æ³¨é”€
    @RequestMapping("/logout")
    public ResultAjax logout(HttpServletRequest request){
        HttpSession session = request.getSession(false);
        if (session!=null &amp;&amp;
                session.getAttribute(AppVariable.SESSION_USERINFO_KEY)!=null){
            session.removeAttribute(AppVariable.SESSION_USERINFO_KEY);
        }
        return ResultAjax.success(1);
    }</code></pre> 
<h3></h3> 
<h2 id="%E5%9B%9B%E3%80%81%E7%BC%96%E5%86%99%E5%88%A0%E9%99%A4%E6%96%87%E7%AB%A0%E5%8A%9F%E8%83%BD">å››ã€ç¼–å†™åˆ é™¤æ–‡ç« åŠŸèƒ½</h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82">ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</h3> 
<p>åœ¨myblog_list.htmlä¸­æ·»åŠ å¯¹åº”çš„jsä»£ç </p> 
<blockquote> 
 <p>ä¸»è¦æ˜¯æ ¹æ®idåˆ é™¤æ–‡ç« ï¼š</p> 
 <p>Â  Â  Â  Â  1ã€æ ¡éªŒå‚æ•°</p> 
 <p>Â  Â  Â  Â  2ã€å°†æ•°æ®è¿”å›ç»™åç«¯è¿›è¡Œåˆ é™¤æ“ä½œ</p> 
 <p>Â  Â  Â  Â  2ã€å°†ç»“æœå±•ç¤ºç»™ç”¨æˆ·</p> 
</blockquote> 
<pre><code class="language-javascript"> //     åˆ é™¤æ–‡ç« æ“ä½œï¼ˆæ ¹æ®idåˆ é™¤ï¼‰
        function del(aid){
        //     å‚æ•°æ ¡éªŒ
            if(aid=="" || aid&lt;=0){
                alert("å‚æ•°é”™è¯¯");
                return false;
            }
        //     å°†æ•°æ®è¿”å›ç»™åç«¯è¿›è¡Œåˆ é™¤æ“ä½œ
            jQuery.ajax({
                url:"/art/del",
                type:"POST",
                data:{
                    "aid":aid
                },
                success:function (res){
                //     å°†ç»“æœå±•ç¤ºç»™ç”¨æˆ·
                    if (res.code==200 &amp;&amp; res.data==1){
                        alert("æ­å–œï¼šåˆ é™¤æˆåŠŸï¼");
                    //     åˆ·æ–°é¡µé¢
                        location.href = location.href;
                    }else {
                    //     åˆ é™¤å¤±è´¥
                        alert("æŠ±æ­‰ï¼šæ“ä½œå¤±è´¥ï¼"+res.msg);
                    }
                }
            });
        }</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<h4 id="%F0%9F%8E%84%20mapper%E5%B1%82%EF%BC%9A%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95">ğŸ„ mapperå±‚ï¼šæ¥å£æ–¹æ³•</h4> 
<p>åœ¨ArticleMapperä¸­æ·»åŠ æ¥å£æ–¹æ³•</p> 
<pre><code class="language-javascript">@Delete("delete from articleinfo where id=#{aid} and uid=#{uid}")
int del(@Param("aid")Integer aid,int uid);</code></pre> 
<h4 id="%F0%9F%8E%84%20service%E5%B1%82">ğŸ„ serviceå±‚</h4> 
<pre><code class="language-javascript">public int del(Integer aid,int uid){
        return articleMapper.del(aid,uid);
    }</code></pre> 
<h4 id="%F0%9F%8E%84%20controller%E5%B1%82%EF%BC%9A%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82">ğŸ„ controllerå±‚ï¼šå¤„ç†è¯·æ±‚</h4> 
<blockquote> 
 <p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ­¥ï¼š</p> 
 <p>Â  Â  Â  Â  1ã€å‚æ•°æ ¡éªŒ</p> 
 <p>Â  Â  Â  Â  2ã€å¾—åˆ°å½“å‰ç™»å½•çš„ç”¨æˆ·</p> 
 <p>Â  Â  Â  Â  3ã€åˆ¤æ–­æ–‡ç« çš„å½’å±äººå¹¶ä¸”è¿›è¡Œåˆ é™¤æ“ä½œ</p> 
 <p>Â  Â  Â  Â  4ã€å°†ç»“æœè¿”å›ç»™å‰ç«¯</p> 
</blockquote> 
<pre><code class="language-javascript">//    åˆ é™¤æ–‡ç« 
    @RequestMapping("/del")
    public ResultAjax del(Integer aid,HttpServletRequest request){
        if (aid==null || aid&lt;=0){
            return ResultAjax.fail(-1,"å‚æ•°é”™è¯¯ï¼");
        }
        Userinfo userinfo = SessionUtils.getUser(request);
        if (userinfo == null){
            return ResultAjax.fail(-1,"è¯·å…ˆç™»å½•ï¼");
        }
        int result = articleService.del(aid,userinfo.getId());
        return ResultAjax.success(result);
    }</code></pre> 
<h2 id="%E4%BA%94%E3%80%81%E7%BC%96%E5%86%99%E6%96%87%E7%AB%A0%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD">äº”ã€ç¼–å†™æ–‡ç« æ·»åŠ åŠŸèƒ½</h2> 
<h3>ğŸ… 1ã€ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</h3> 
<blockquote> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰éç©ºæ ¡éªŒ</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰å°†ç”¨æˆ·æäº¤çš„æ•°æ®ä¼ é€’ç»™åç«¯</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†åç«¯è¿”å›çš„ç»“æœå±•ç¤ºç»™ç”¨æˆ·</p> 
</blockquote> 
<p>è¿›å…¥åˆ°blog_add.htmlä¸­ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç </p> 
<pre><code class="language-javascript"> function mysub(){
            var title = jQuery("#title");
            if (title.val.trim()==""){
                alert("è¯·å…ˆè¾“å…¥æ ‡é¢˜ï¼");
                title.focus();
                return false;
            }
            if (editor.getValue()==""){
                alert("è¯·å…ˆè¾“å…¥æ­£æ–‡ï¼");
                return false;
            }
            jQuery.ajax({
                url:"/art/add",
                type:"POST",
                data:{
                    "title":title.val(),
                    "content":editor.getValue()
                },
                success:function (res){
                    // æ–‡ç« æ·»åŠ æˆåŠŸ
                    if (res.code==200 &amp;&amp; res.data==1){
                        if (confirm("æ­å–œï¼šæ·»åŠ æˆåŠŸï¼æ˜¯å¦ç»§ç»­æ·»åŠ æ–‡ç« ï¼Ÿ")){
                            location.href=location.href;
                        }else{
                            location.href="myblog_list.html"
                        }
                    }else {
                    //æ–‡ç« æ·»åŠ å¤±è´¥
                        alert("æŠ±æ­‰ï¼šæ“ä½œå¤±è´¥ï¼"+res.msg);
                    }
                }
            });
        }</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<h4 id="%C2%A0%F0%9F%8E%84mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95">Â ğŸ„mapperå±‚ï¼šæ·»åŠ æ¥å£æ–¹æ³•</h4> 
<pre><code class="language-javascript">@Insert("insert into articleinfo(title,content,uid) values(#{title},#{content},#{uid})")
    int add(Articleinfo articleinfo);</code></pre> 
<h4 id="%C2%A0%F0%9F%8E%84service%E5%B1%82%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%8F%97%E5%BD%B1%E5%93%8D%E8%A1%8C%E6%95%B0">Â ğŸ„serviceå±‚ï¼šè¿”å›å—å½±å“è¡Œæ•°</h4> 
<pre><code class="language-javascript">public int add(Articleinfo articleinfo){
        return articleMapper.add(articleinfo);
    }</code></pre> 
<h4 id="%F0%9F%8E%84%20controller%EF%BC%9A%E5%A4%84%E7%90%86%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E7%9A%84%E8%AF%B7%E6%B1%82">ğŸ„ controllerï¼šå¤„ç†æ·»åŠ æ–‡ç« çš„è¯·æ±‚</h4> 
<blockquote> 
 <p>ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰æ ¡éªŒå‚æ•°</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰ç»„è£…æ•°æ®</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†æ•°æ®å…¥åº“</p> 
 <p>Â  Â  Â  Â  ï¼ˆ4ï¼‰å°†ç»“æœè¿”å›ç»™å‰ç«¯</p> 
</blockquote> 
<pre><code class="language-java">@RequestMapping("/add")
    public ResultAjax add(Articleinfo articleinfo,HttpServletRequest request){
        if (articleinfo==null || !StringUtils.hasLength(articleinfo.getTitle())
                || !StringUtils.hasLength(articleinfo.getContent())){
            return ResultAjax.fail(-1,"éæ³•å‚æ•°ï¼");
        }
        Userinfo userinfo = SessionUtils.getUser(request);
        if (userinfo == null){
            return ResultAjax.fail(-2,"è¯·å…ˆç™»å½•");
        }
        articleinfo.setUid(userinfo.getId());
        int result = articleService.add(articleinfo);
        return ResultAjax.success(result);
    }</code></pre> 
<h2 id="%E5%85%AD%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%88%B0%E4%BF%AE%E6%94%B9%E7%9A%84%E6%96%87%E7%AB%A0">å…­ã€ä¿®æ”¹åŠŸèƒ½ï¼šæŸ¥è¯¢åˆ°ä¿®æ”¹çš„æ–‡ç« </h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82">ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚</h3> 
<blockquote> 
 <p>ï¼ˆ1ï¼‰è·å–urlä¸­çš„å‚æ•°ï¼š</p> 
 <p>ï¼ˆä¾‹å¦‚ï¼‰localhost:8080/blog_edit.html?aid=2&amp;uid=1</p> 
 <p>Â  Â  Â  Â  aã€é€šè¿‡location.searchè·å–â€œï¼Ÿâ€åé¢çš„å‚æ•°</p> 
 <p>Â  Â  Â  Â  bã€å»é™¤â€œï¼Ÿâ€</p> 
 <p>Â  Â  Â  Â  cã€æ ¹æ®â€œ&amp;â€å°†å‚æ•°åˆ†å‰²æˆå¤šä¸ªæ•°ç»„</p> 
 <p>Â  Â  Â  Â  dã€å¾ªç¯å¯¹æ¯”keyï¼Œå¹¶è¿”å›æŸ¥è¯¢value</p> 
 <p>åˆ›å»ºä¸€ä¸ªå…¬å…±çš„jsï¼š</p> 
 <p></p> 
 <p><img alt="" height="165" src="https://images2.imgbox.com/0b/ac/6GlSGWBq_o.png" width="494"></p> 
 <pre><code class="language-java">// æ ¹æ®keyè·å–åˆ°å¯¹åº”çš„urlä¸­å¯¹åº”çš„value
function getParamValue(key){
    var params = location.search;
    if (params.indexOf("?")&gt;=0){
        params=params.substring(1);
        var paramArray=params.split("&amp;");
        if (paramArray.length&gt;=1){
            for (var i = 0; i &lt; paramArray.length; i++) {
                var item=paramArray[i].split("=");
                if (item[0]==key[1]){
                    return item;
                }
            }
        }
    }
    return null;
}</code></pre> 
 <p>ï¼ˆ2ï¼‰æ ¡éªŒÂ aid</p> 
 <p>ï¼ˆ3ï¼‰æŸ¥è¯¢æ–‡ç« è¯¦æƒ…</p> 
 <p>ï¼ˆ4ï¼‰å°†æ–‡ç« çš„è¯¦æƒ…ä¿¡æ¯å±•ç¤ºåˆ°é¡µé¢</p> 
</blockquote> 
<p>é¦–å…ˆåœ¨headä¸­æ·»åŠ å¾—åˆ°å‚æ•°çš„æ–¹æ³•</p> 
<pre><code class="language-javascript">    &lt;script src="js/urlutils.js"&gt;&lt;/script&gt;
</code></pre> 
<p>åœ¨blog_edit.htmlä¸­çš„&lt;script&gt;&lt;/script&gt;ä¸­æ·»åŠ ä»£ç </p> 
<pre><code class="language-java">        var aid=getParamValue("aid");
        function init(){
            if (aid==null || aid&lt;=0){
                alert("éæ³•å‚æ•°")
                return false;
            }
            jQuert.ajax({
                url:"/art/getdetail",
                type:"GET",
                data:{
                  "aid":aid
                },
                success:function(res){
                    if (res.code==200 &amp;&amp; res.data!=null &amp;&amp; res.data.id&gt;0){
                        jQuery("#title").val(res.data.title);
                        initEdit(res.data.content);
                    }else {
                        alert("æŠ±æ­‰ï¼ŒæŸ¥è¯¢å¤±è´¥ï¼"+res.msg);
                    }
                }
            });
        }
        init();</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<h4 id="%F0%9F%8E%84Mapper%E5%B1%82%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3">ğŸ„Mapperå±‚ï¼šæ·»åŠ æ¥å£</h4> 
<p>è¿›å…¥åˆ°ArticleMapperä¸­</p> 
<pre><code class="language-java">@Select("select  * from aeticleinfo where id=#{aid} and uid=#{uid}")
    Articleinfo getArticleByIdAndUid(@Param("aid")int aid,
                                     @Param("uid")int uid);</code></pre> 
<h4 id="%F0%9F%8E%84service%E5%B1%82">ğŸ„serviceå±‚</h4> 
<pre><code class="language-java"> public Articleinfo getArticleByIdAndUid(int aid,int uid){
        return ArticleMapper.getArticleByIdAndUid(aid,uid);
    }</code></pre> 
<h4 id="%F0%9F%8E%84controller%E5%B1%82">ğŸ„controllerå±‚</h4> 
<blockquote> 
 <p>ï¼ˆ1ï¼‰æ ¡éªŒå‚æ•°</p> 
 <p>ï¼ˆ2ï¼‰å¾—åˆ°å½“å‰ç™»å½•ç”¨æˆ·id</p> 
 <p>ï¼ˆ3ï¼‰æŸ¥è¯¢æ–‡ç« å¹¶ä¸”æ ¡éªŒæƒé™</p> 
</blockquote> 
<pre><code class="language-java">@RequestMapping("/update_init")
    public ResultAjax updateInit(Integer aid,HttpServletRequest request){
        if (aid==null || aid&lt;=0 ){
            return ResultAjax.fail(-1,"å‚æ•°æœ‰è¯¯ï¼");
        }
        Userinfo userinfo = SessionUtils.getUser(request);
        if (userinfo == null){
            return ResultAjax.fail(-2,"è¯·å…ˆç™»å½•ï¼");
        }
        Articleinfo articleinfo = articleService.getArticleByIdAndUid(aid,userinfo.getId())
        return ResultAjax.success(articleinfo);
    }</code></pre> 
<p></p> 
<h2 id="%E4%B8%83%E3%80%81%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%EF%BC%9A%E4%BF%AE%E6%94%B9%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%96%87%E7%AB%A0">ä¸ƒã€ä¿®æ”¹åŠŸèƒ½ï¼šä¿®æ”¹æŸ¥è¯¢åˆ°çš„æ–‡ç« </h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E9%80%9A%E8%BF%87ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0"><strong>ğŸ… 1ã€é€šè¿‡ajaxæ„é€ è¯·æ±‚Â  Â  Â  Â  Â  Â  </strong></h3> 
<p>è¿›å…¥åˆ°blog_edit.htmlä¸­Â  Â  Â </p> 
<pre><code class="language-javascript">        &lt;button onclick="doUpdate()"&gt;ä¿®æ”¹æ–‡ç« &lt;/button&gt;
</code></pre> 
<pre><code class="language-java">function doUpdate(){
            if(title.val().trim()==""){
                alert("è¯·å…ˆè¾“å…¥æ ‡é¢˜ï¼");
                title.focus();
                return false;
            }
            if(editor.getValue()==""){
                alert("è¯·å…ˆè¾“å…¥æ­£æ–‡ï¼");
                return false;
            }

            jQuery.ajax({
                url:"/art/update",
                type:"POST",
                data:{
                    "id":aid,
                    "title":title.val(),
                    "content":editor.getValue()
                },
                success:function(res){
                    if(res.code==200 &amp;&amp; res.data==1){
                        // ä¿®æ”¹æˆåŠŸ
                        alert("æ­å–œï¼šä¿®æ”¹æˆåŠŸï¼");
                        // è·³è½¬åˆ°æˆ‘çš„æ–‡ç« ç®¡ç†å‘˜
                        location.href = "myblog_list.html";
                    }else if(res.code==-2){
                        alert("è¯·å…ˆçš„ç™»å½•ï¼");
                        location.href = "login.html";
                    }
                    else{
                        alert("æŠ±æ­‰ï¼šä¿®æ”¹å¤±è´¥ï¼"+res.msg);
                    }
                }
            });
        }</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<h4 id="%F0%9F%8E%84%20mapper%E5%B1%82">ğŸ„ mapperå±‚</h4> 
<p>è¿›å…¥åˆ°ArticleMappeä¸­</p> 
<pre><code class="language-java">@Update("update articleinfo set title=#{title},content=#{content} where id=#{id} and uid=#{uid}")
    int update(Articleinfo articleinfo);</code></pre> 
<h4>ğŸ„ serviceå±‚</h4> 
<p>è¿›å…¥åˆ°ArticleServiceä¸­</p> 
<pre><code class="language-java">public int update(Articleinfo articleinfo){
        return articleMapper.update(articleinfo);
    }</code></pre> 
<h4 id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0%20%C2%A0%20%C2%A0">ğŸ„ controllerå±‚Â  Â  Â </h4> 
<blockquote> 
 <p>ï¼ˆ1ï¼‰å‚æ•°æ ¡éªŒ</p> 
 <p>ï¼ˆ2ï¼‰è·å–ç™»å½•ç”¨æˆ·</p> 
 <p>ï¼ˆ3ï¼‰ä¿®æ”¹æ–‡ç« ï¼Œå¹¶ä¸”æ ¡éªŒå½’å±äºº</p> 
 <p>ï¼ˆ4ï¼‰è¿”å›ç»“æœ</p> 
</blockquote> 
<pre><code class="language-java">//    ä¿®æ”¹æ–‡ç« ä¿¡æ¯
    @RequestMapping("/update")
    public ResultAjax update(Articleinfo articleinfo,HttpServletRequest request){
        if (articleinfo==null || !StringUtils.hasLength(articleinfo.getTitle())
                || !StringUtils.hasLength(articleinfo.getContent())
                || articleinfo.getId() == 0){
            return ResultAjax.fail(-1,"éæ³•å‚æ•°ï¼");
        }

        Userinfo userinfo = SessionUtils.getUser(request);
        if (userinfo == null){
            return ResultAjax.fail(-2,"è¯·å…ˆç™»å½•ï¼");
        }
        articleinfo.setUid(userinfo.getId());
        int result = articleService.update(articleinfo);
        return ResultAjax.success(result);
    }</code></pre> 
<h3></h3> 
<h2 id="%E5%85%AB%E3%80%81%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85">å…«ã€æ–‡ç« è¯¦æƒ…</h2> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E7%BC%96%E5%86%99">ğŸ… 1ã€å‰ç«¯é¡µé¢ç¼–å†™</h3> 
<p>è¿›å…¥åˆ°blog_content.htmlä¸­</p> 
<h4 id="%F0%9F%8E%84%20%E7%BB%99%E5%AE%9Aid%E5%80%BC">ğŸ„ ç»™å®šidå€¼</h4> 
<pre><code class="language-java">    //å·¦ä¾§çš„ä¸ªäººä¿¡æ¯
                &lt;img id="photo" src="img/avatar.png" class="avtar" alt=""&gt;
                &lt;h3 id="username"&gt;&lt;/h3&gt;
                &lt;a href="http:www.github.com"&gt;github åœ°å€&lt;/a&gt;</code></pre> 
<pre><code class="language-java">        //å³ä¾§çš„åšå®¢ä¿¡æ¯
                 &lt;!-- åšå®¢æ ‡é¢˜ --&gt;
                &lt;h3 id="title"&gt;&lt;/h3&gt;
                &lt;!-- åšå®¢æ—¶é—´ --&gt;
                &lt;div class="date"&gt;
                    å‘å¸ƒæ—¶é—´ï¼š&lt;span id="createtime"&gt;&lt;/span&gt;
                     /
                    é˜…è¯»é‡ï¼š&lt;span id="rcount"&gt;&lt;/span&gt;
                &lt;/div&gt;</code></pre> 
<h4 id="%C2%A0%F0%9F%8E%84%20%E4%BD%BF%E7%94%A8ajax%E6%9E%84%E9%80%A0%E8%AF%B7%E6%B1%82">Â ğŸ„ ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</h4> 
<pre><code class="language-java">        var aid = getParamValue("aid");
//åˆå§‹åŒ–é¡µé¢
            function init(){
                var aid = getParamValue("aid");
                if (aid==null || aid&lt;=0){
                    alert("å‚æ•°æœ‰è¯¯ï¼");
                    return false;
                }
                jQuery.ajax({
                    url:"/art/detail",
                    type:"GET",
                    data:{
                        "aid":aid
                    },
                    success: function (res){
                        if (res.code==200 &amp;&amp; res.data!=null){
                            var user = res.data.user;
                            var art = res.data.art;
                            if (user!=null){
                                if(user.photo!=""){
                                    jQuery("#photo").art("src,user.photo");
                                }
                                jQuery("#username").html(user.username);
                                jQuery("#artcount").html(user.artCount);
                            }else{
                                alert("æŠ±æ­‰ï¼šæŸ¥è¯¢å¤±è´¥!"+reg.msg);
                            }
                            if(art!=null){
                                jQuery("#title").html(art.title);
                                jQuery("#createtime").html(art.createtime);
                                jQuery("#rcount").html(art.rcount);
                                initEdit(art.content);
                            }else{
                                alert("æŠ±æ­‰ï¼šæŸ¥è¯¢å¤±è´¥ï¼"+reg.msg)
                            }
                        }else{
                            alert("æŠ±æ­‰ï¼ŒæŸ¥è¯¢å¤±è´¥ï¼"+res.msg);
                        }
                    }
                });
            }</code></pre> 
<h3>ğŸ… 2ã€å¤„ç†è¯·æ±‚</h3> 
<p>é¦–å…ˆåœ¨userinfoVOä¸­æ·»åŠ ä¸€ä¸ªå˜é‡ï¼š</p> 
<pre><code class="language-java">    private int artCount;   //ç”¨æˆ·å‘å¸ƒçš„æ–‡ç« æ€»æ•°
</code></pre> 
<h4>ğŸ„ mapperå±‚</h4> 
<p>é¦–å…ˆåœ¨Articleinfoä¸­æ·»åŠ ä¸€æ¡sqlï¼šæ ¹æ®idæŸ¥è¯¢æ–‡ç« </p> 
<pre><code class="language-java">@Select("select * from articleinfo where id=#{aid}")
    Articleinfo getDetaiById(@Param("aid") int aid);

 @Select("select count(*) from articleinfo where uid=#{uid}")
    int getArticleByUid(@Param("uid")int uid);</code></pre> 
<p>Â ç„¶åå†Userinfoä¸­æ·»åŠ ä¸€æ¡sqlï¼šæ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</p> 
<pre><code class="language-java">@Select("select * from us erinfo where id=#{uid}")
    UserinfoVO getUserById(@Param("uid") int uid);</code></pre> 
<h4>ğŸ„ serviceå±‚</h4> 
<p>ArticleServiceä¸­</p> 
<pre><code class="language-java">    public Articleinfo getDetail(int aid){
        return articleMapper.getDetaiById(aid);
    }

 public int getArtCountByUid(int uid){
        return articleMapper.getArticleByUid(uid);
    }</code></pre> 
<p>Â UserServiceä¸­</p> 
<pre><code class="language-java">    public UserinfoVO getUserById(int uid){
        return userMapper.getUserById(uid);
    }</code></pre> 
<h4 id="%F0%9F%8E%84%20controller%E5%B1%82%C2%A0">ğŸ„ controllerå±‚Â </h4> 
<blockquote> 
 <p>ï¼ˆ1ï¼‰å‚æ•°æ ¡éªŒ</p> 
 <p>ï¼ˆ2ï¼‰æŸ¥è¯¢æ–‡ç« è¯¦æƒ…Â </p> 
 <p>ï¼ˆ3ï¼‰æ ¹æ®uidæŸ¥è¯¢ç”¨æˆ·çš„è¯¦æƒ…</p> 
 <p>ï¼ˆ4ï¼‰æ ¹æ®uidæŸ¥è¯¢ç”¨æˆ·å‘è¡¨çš„æ€»æ–‡ç« æ•°</p> 
 <p>ï¼ˆ5ï¼‰ç»„è£…æ•°æ®</p> 
 <p>ï¼ˆ6ï¼‰è¿”å›ç»“æœç»™å‰ç«¯</p> 
</blockquote> 
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± </p> 
<p><img alt="" height="159" src="https://images2.imgbox.com/43/6b/aUo7b2v7_o.png" width="466"></p> 
<p>ä½¿ç”¨ThreadPoolExecutoræ¥æ„é€ çº¿ç¨‹æ± ï¼Œè¯¥æ–¹æ³•å…¶å®å’ŒJDKä¸­çš„ThreadPoolåŒºåˆ«å°±åœ¨äºï¼ŒThreadPoolExecutorå¼é€šè¿‡å‚æ•°çš„æ–¹å¼å»è®¾ç½®ï¼Œè€ŒThreadPoolæ˜¯é€šè¿‡æ„é€ æ–¹æ³•ï¼ŒThreadPoolExecutorä¸­çš„æ–¹å¼æ›´åŠ ç›´è§‚ç®€å•ã€‚</p> 
<p>ThreadPoolç„¶åå°†å…¶æ³¨å…¥ä¾èµ–</p> 
<pre><code class="language-java">    @Autowired
    private ThreadPoolTaskExecutor taskExecutor;</code></pre> 
<p>Â å¤„ç†è¯·æ±‚ï¼š</p> 
<p>å…ˆæ³¨å…¥ä¾èµ–ï¼š</p> 
<pre><code class="language-java">    @Autowired
    private UserService userService;</code></pre> 
<p>Â ä½¿ç”¨å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹å°±å¯ä»¥å¾ˆå¿«çš„æŸ¥è¯¢åˆ°å¯¹åº”çš„æ–‡ç« è¯¦æƒ…äº†ã€‚</p> 
<pre><code class="language-java">//æŸ¥è¯¢æ–‡ç« è¯¦æƒ…é¡µ
    @RequestMapping("/detail")
    public ResultAjax detail(Integer aid) throws ExecutionException, InterruptedException {
        if(aid==null || aid&lt;=0){
            return ResultAjax.fail(-1,"éæ³•å‚æ•°");
        }

        Articleinfo articleinfo = articleService.getDetail(aid);
        if (articleinfo == null || articleinfo.getId() &lt;= 0){
            return ResultAjax.fail(-1,"éæ³•å‚æ•°ï¼");
        }
        //æ ¹æ®uidæŸ¥è¯¢ç”¨æˆ·çš„è¯¦æƒ…
        FutureTask&lt;UserinfoVO&gt; userTask = new FutureTask(()-&gt;{
            return userService.getUserById(articleinfo.getUid());
        });
        taskExecutor.submit(userTask);

        //æ ¹æ®uidæŸ¥è¯¢ç”¨æˆ·å‘è¡¨çš„æ–‡ç« æ•°
        FutureTask&lt;Integer&gt; artCountTask = new FutureTask&lt;&gt;(()-&gt;{
            return articleService.getArtCountByUid(articleinfo.getUid());
        });
        taskExecutor.submit(artCountTask);

        //ç­‰å¾…ä»»åŠ¡ï¼ˆçº¿ç¨‹æ± ï¼‰æ‰§è¡Œå®Œ
        UserinfoVO userinfoVO = userTask.get();
        int artCount = artCountTask.get();
        userinfoVO.setArtCount(artCount);

        //æ•°æ®ç»„è£…
        HashMap&lt;String,Object&gt; result = new HashMap&lt;&gt;();
        result.put("user",userinfoVO);
        result.put("art",articleinfo);

        return ResultAjax.success(result);
    }</code></pre> 
<h2 id="%E4%B9%9D%E3%80%81%E9%98%85%E8%AF%BB%E9%87%8F%E8%AE%BE%E7%BD%AE">ä¹ã€é˜…è¯»é‡è®¾ç½®</h2> 
<p>ğŸ… ä½¿ç”¨ajaxæ„é€ è¯·æ±‚</p> 
<pre><code class="language-java"> //è®¿é—®é‡+1
            function increamentRCount(){
                if (aid==null || aid&lt;=0 ){
                    return false;
                }
                jQuery.ajax({
                   url:"/art/increment_rcount",
                   type:"POST",
                   data:{
                       "aid":aid
                   },
                    success:function(res){}
                });
            }
            increamentRCount();</code></pre> 
<h3 id="%F0%9F%8D%85%20%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82">ğŸ… å¤„ç†è¯·æ±‚</h3> 
<h4>ğŸ„ mapperå±‚</h4> 
<pre><code class="language-java">    @Update("update articleinfo set rcount=rcount+1 where id=#{aid}")
    int incrementRCount(@Param("aid") int aid);</code></pre> 
<h4>ğŸ„ serviceå±‚</h4> 
<pre><code class="language-java">    public int incrementRCount(int aid){
        return articleMapper.incrementRCount(aid);
    }</code></pre> 
<h4>ğŸ„ controllerå±‚Â </h4> 
<blockquote> 
 <p>ï¼ˆ1ï¼‰æ ¡éªŒå‚æ•°</p> 
 <p>ï¼ˆ2ï¼‰æ›´æ”¹æ•°æ®åº“</p> 
 <p>ï¼ˆ3ï¼‰è¿”å›ç»“æœ</p> 
</blockquote> 
<pre><code class="language-java"> @RequestMapping("/increment_rcount")
    public ResultAjax incrementRCount(Integer aid){
        if (aid==null || aid&lt;=0){
            return ResultAjax.fail(-1,"å‚æ•°æœ‰è¯¯ï¼");
        }

        int result = articleService.incrementRCount(aid);
        return ResultAjax.success(result);
    }</code></pre> 
<hr> 
<h2 id="%C2%A0%E5%8D%81%E3%80%81%E5%88%86%E9%A1%B5%E5%A4%84%E7%90%86">Â åã€åˆ†é¡µå¤„ç†</h2> 
<blockquote> 
 <p><strong>æ ¸å¿ƒå‚æ•°ï¼š</strong></p> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰é¡µç ï¼ˆå½“å‰åœ¨ç¬¬å‡ é¡µï¼‰</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰æ¯é¡µæ˜¾ç¤ºçš„æœ€å¤§æ¡æ•°ï¼ˆå‰ç«¯çµæ´»çš„æ§åˆ¶åˆ†é¡µåŠŸèƒ½ï¼‰</p> 
 <p><strong>åç«¯åˆ†é¡µè¿”å›ï¼š</strong></p> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰å½“å‰é¡µé¢çš„æ–‡ç« åˆ—è¡¨</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰æ€»å…±æœ‰å¤šå°‘é¡µï¼šæ ¹æ®åšå®¢æ€»æ¡æ•°/æ¯ä¸€é¡µæ˜¾ç¤ºæ¡æ•°çš„ç»“æœï¼Œå‘ä¸Šå–æ•´ï¼ˆæ¯”å¦‚3.3333Â  Â  Â  Â  Â  Â  Â å–ä¸º4ï¼‰</p> 
</blockquote> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E5%89%8D%E7%AB%AF%E5%A4%84%E7%90%86" style="background-color:transparent;">ğŸ… 1ã€å‰ç«¯å¤„ç†</h3> 
<p>é¦–å…ˆå°†å¯¹åº”çš„jså¼•å…¥è¿›ï¼Œæ¥æ ¹æ®æ€»æ¡æ•°æ¯é¡µæ˜¾ç¤ºæ¡æ•°ï¼ˆå‘ä¸Šå–æ•´</p> 
<p>æ·»åŠ ä¸€ä¸ªidå±æ€§ï¼šä¸»è¦æ˜¯ä¸ºäº†æ„é€ å‡ºæ¯ä¸€æ¡åšå®¢çš„divå‡ºæ¥</p> 
<pre><code class="language-javascript">&lt;!-- æ¯ä¸€ç¯‡åšå®¢åŒ…å«æ ‡é¢˜, æ‘˜è¦, æ—¶é—´ --&gt;    
     &lt;div id="artListDiv"&gt;

            &lt;/div&gt;</code></pre> 
<blockquote> 
 <p>Â ç„¶ååˆå§‹åŒ–æ•°æ®ï¼š</p> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰å¾—åˆ°urlä¸­çš„åˆ†é¡µå‚æ•°</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰qingæ±‚åç«¯æ¥å£</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰å°†ç»“æœè¿”å›ç»™ç”¨æˆ·</p> 
</blockquote> 
<pre><code class="language-javascript">var psize = 2; // æ¯é¡µæ˜¾ç¤ºæ¡æ•°
    var pindex = 1; // é¡µç 
    var totalpage = 1; // æ€»å…±æœ‰å¤šå°‘é¡µ
    // åˆå§‹åŒ–æ•°æ®
    function init(){
        // 1.å¤„ç†åˆ†é¡µå‚æ•°
        psize = getParamValue("psize");
        if(psize==null){
            psize = 2; // æ¯é¡µæ˜¾ç¤ºæ¡æ•°
        }
        pindex = getParamValue("pindex");
        if(pindex==null){
            pindex = 1; // é¡µç 
        }
        jQuery("#pindex").html(pindex);
        // 2.è¯·æ±‚åç«¯æ¥å£
        jQuery.ajax({
            url:"/art/getlistbypage",
            type:"GET",
            data:{
                "pindex":pindex,
                "psize":psize
            },
            success:function(res){
                // 3.å°†ç»“æœå±•ç¤ºç»™ç”¨æˆ·
                if(res.code==200 &amp;&amp; res.data!=null){
                    var createHtml = "";
                    if(res.data.list!=null &amp;&amp; res.data.list.length&gt;0){
                        // æœ‰æ–‡ç« 
                        totalpage = res.data.size;
                        jQuery("#pszie").html(totalpage);
                        var artlist = res.data.list;
                        for(var i=0;i&lt;artlist.length;i++){
                            var art = artlist[i]; // æ–‡ç« å¯¹è±¡
                            createHtml += '&lt;div class="blog" &gt;';
                            createHtml += '&lt;div class="title"&gt;'+art.title+'&lt;/div&gt;';
                            createHtml += '&lt;div class="date"&gt;'+art.createtime+'&lt;/div&gt;';
                            createHtml += '&lt;div class="desc"&gt;'+art.content+'&lt;/div&gt;';
                            createHtml += '&lt;a href="blog_content.html?aid='+
                                art.id+'" class="detail"&gt;æŸ¥çœ‹å…¨æ–‡ &amp;gt;&amp;gt;&lt;/a&gt;';
                            createHtml += '&lt;/div&gt;';
                        }
                    }else{
                        // æš‚æ— æ–‡ç« 
                        createHtml += '&lt;h3 style="margin-top:20px;margin-left:20px;"&gt;æš‚æ— æ–‡ç« ï¼&lt;/h3&gt;';
                    }
                    jQuery("#artListDiv").html(createHtml);
                }else{
                    alert("æŠ±æ­‰ï¼šæŸ¥è¯¢å¤±è´¥ï¼"+res.msg);
                }
            }
        });
    }
    init();

    
    //ç‚¹å‡»é¦–é¡µ
    function doFirst(){
        if (pindex&lt;=1){
            alert("å·²ç»åœ¨é¦–é¡µäº†ï¼Œæ— éœ€è·³è½¬");
            return false;
        }
        location.href = "blog_list.html";
    }
    //è·³è½¬åˆ°æœ«é¡µ
    function doLast(){
        if (pindex&gt;=totalpage){
            alert("å·²ç»åœ¨æœ«é¡µäº†ï¼Œæ— éœ€è·³è½¬ï¼");
            return false;
        }
        location.href="blog_list.html?pindex="+totalpage;
    }
    //ç‚¹å‡»ä¸Šä¸€é¡µ
    function doBefore(){
        if (pindex&lt;=1){
            alert("å·²ç»åœ¨é¦–é¡µäº†ï¼Œæ— éœ€è·³è½¬");
            return false;
        }
        location.href="blog_list.html?pindex="+(parseInt(pindex)-1);
    }
    //ç‚¹å‡»ä¸‹ä¸€é¡µ
    function doNext(){
        if (pindex&gt;=totalpage){
            alert("å·²ç»åœ¨æœ«é¡µäº†ï¼Œæ— éœ€è·³è½¬ï¼");
            return false;
        }
        location.href="blog_list.html?pindex="+(parseInt(pindex)+1);
    }</code></pre> 
<h3 id="%F0%9F%8D%85%202%E3%80%81%E5%90%8E%E7%AB%AF%E5%A4%84%E7%90%86">ğŸ… 2ã€åç«¯å¤„ç†</h3> 
<blockquote> 
 <p>æ¨å¯¼åˆ°åˆ†é¡µå…¬å¼ï¼šæ¯é¡µæ˜¾ç¤º2æ¡æ•°æ®</p> 
 <p>æ¯æ¬¡åªæœ‰åç§»é‡offsetå˜äº†</p> 
 <pre><code class="language-sql"># ç¬¬ä¸€é¡µ
mysql&gt; select * from articleinfo order by id limit 2 offset 0;

# ç¬¬äºŒé¡µ
mysql&gt; select * from articleinfo order by id limit 2 offset 2;

# ç¬¬ä¸‰é¡µ
mysql&gt; select * from articleinfo order by id limit 2 offset 4;
.....</code></pre> 
 <p>å‡è®¾æ¯æ¡æ˜¾ç¤ºæ¡æ•°ä¸ºpageSizeï¼Œé¡µç ä¸ºpageIndex</p> 
 <p><strong>æ•…è€Œæ¨åˆ°å‡ºçš„å…¬å¼ä¸ºï¼šoffset = pageSize*(pageIndex-1ï¼‰</strong></p> 
</blockquote> 
<h4>ğŸ„ mapperå±‚</h4> 
<pre><code class="language-java">    @Select("select * from articleinfo order by id desc limit #{psize} offset #{offset} ")
    public List&lt;Articleinfo&gt; getListByPage(@Param("psize") int psize,@Param("offset")int offset);

        @Select("select count(*) from articleinfo")
    int getCount();</code></pre> 
<h4>ğŸ„ serviceå±‚</h4> 
<pre><code class="language-java">   public List&lt;Articleinfo&gt; getListByPage(int psize,int offset){
        return articleMapper.getListByPage(psize, offset);
    }</code></pre> 
<h4>ğŸ„ controllerå±‚Â </h4> 
<blockquote> 
 <p>Â  Â  Â  Â  ï¼ˆ1ï¼‰åŠ å·¥çŸ«æ­£</p> 
 <p>Â  Â  Â  Â  ï¼ˆ2ï¼‰å¹¶å‘è¿›è¡Œæ–‡ç« åˆ—è¡¨å’Œæ€»é¡µæ•°çš„æŸ¥è¯¢</p> 
 <p>Â  Â  Â  Â  ï¼ˆ3ï¼‰ç»„è£…æ•°æ®</p> 
 <p>Â  Â  Â  Â  ï¼ˆ4ï¼‰å°†ç»“æœè¿”å›ç»™å‰ç«¯</p> 
</blockquote> 
<pre><code class="language-java">   @RequestMapping("/getlistbypage")
    public ResultAjax getListByPage(Integer pindex,Integer psize) throws ExecutionException, InterruptedException {
        if (pindex == null || pindex &lt; 1){
            pindex = 1;
        }
        if (psize==null || psize&lt;1){
            psize = 2;
        }

        //æŸ¥è¯¢åˆ†é¡µåˆ—è¡¨æ•°æ®ï¼š
        Integer finalPsize = psize;
        Integer finalPindex = pindex;
        FutureTask&lt;List&lt;Articleinfo&gt;&gt; listTask = new FutureTask&lt;&gt;(()-&gt;{
            int finalOffset = finalPsize *(finalPindex -1);
            return articleService.getListByPage(finalPsize,finalOffset);
        }) ;

        //æŸ¥è¯¢æ€»é¡µæ•°
        FutureTask&lt;Integer&gt; sizeTask = new FutureTask&lt;&gt;(()-&gt;{
            int totalCount = articleService.getCount();
            double sizeTemp = (totalCount * 1.0) / (finalPsize * 1.0);
            return (int) Math.ceil(sizeTemp);
        });
        taskExecutor.submit(listTask);
        taskExecutor.submit(sizeTask);

        List&lt;Articleinfo&gt; list = listTask.get();
        int size = sizeTask.get();
        HashMap&lt;String,Object&gt; map = new HashMap&lt;&gt;();
        map.put("list",list);
        map.put("size",size);

        return ResultAjax.success(map);
    }</code></pre> 
<h2 id="%E5%8D%81%E4%B8%80%E3%80%81%E5%AF%86%E7%A0%81%E5%8A%A0%E7%9B%90">åä¸€ã€å¯†ç åŠ ç›</h2> 
<p>å…ˆä¿®æ”¹æ•°æ®åº“ä¸­çš„å­—æ®µï¼š</p> 
<pre><code class="language-javascript">mysql&gt; alter table userinfo modify password varchar(65) not null;</code></pre> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E5%AE%9A%E4%B9%89%E5%8A%A0%E5%AF%86%E8%A7%84%E5%88%99">ğŸ… 1ã€å®šä¹‰åŠ å¯†è§„åˆ™</h3> 
<blockquote> 
 <p><strong>åŠ å¯†æµç¨‹ï¼šÂ </strong></p> 
 <p>ä½¿ç”¨åŠ ç›ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªä¸é‡å¤éšæœºçš„ç›å€¼+å¯†ç ï¼Œå¾—åˆ°ä¸€ä¸ªæ— è§„å¾‹çš„å¯†ç Â  Â Â  Â  Â  Â  Â  Â  Â  ï¼ˆ1ï¼‰ç”Ÿæˆä¸€ä¸ªç›å€¼</p> 
 <p>ï¼ˆ2ï¼‰ï¼ˆæ ¹æ®ç›å€¼ + å›ºå®šå¯†ç ï¼‰è¿›è¡ŒåŠ å¯† -&gt; md5ï¼ˆç›å€¼ + å¯†ç ï¼‰= æœ€ç»ˆå¯†ç </p> 
 <p>ï¼ˆ3ï¼‰å°†[ç›å€¼]+ [åˆ†éš”ç¬¦$] + æœ€ç»ˆå¯†ç ä¿å­˜åˆ°æ•°æ®åº“ä¸­Â </p> 
 <p></p> 
 <p><strong>éªŒè¯å¯†ç æµç¨‹ï¼š</strong></p> 
 <p>ï¼ˆ1ï¼‰å¾—åˆ°ç›å€¼</p> 
 <p>ï¼ˆ2ï¼‰md5ï¼ˆç›å€¼+å¾…éªŒè¯å¯†ç ï¼‰-&gt;Â  æœ€ç»ˆå¾…éªŒè¯çš„å¯†ç </p> 
 <p>ï¼ˆ3ï¼‰å¯¹æ¯”æœ€ç»ˆå¾…éªŒè¯çš„å¯†ç å’Œæ•°æ®ä¸­çš„æœ€ç»ˆå¯†ç æ˜¯å¦ç›¸åŒ-&gt; ç›¸åŒå¯†ç æ­£ç¡®</p> 
 <p>Â Â Â Â Â Â Â Â </p> 
</blockquote> 
<p>åˆ›å»ºä¸€ä¸ªåŠ å¯†è§£å¯†çš„ç±»ï¼šÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â </p> 
<p>Â <img alt="" height="216" src="https://images2.imgbox.com/e9/e3/mSAdYS9k_o.png" width="575"></p> 
<p></p> 
<pre><code class="language-javascript">public class PasswordUtils {
    //åŠ ç›åŠ å¯†
    public static String encrypt(String password){
        String salt = UUID.randomUUID().toString().replace("-","");
        String finalPassword = DigestUtils.md5DigestAsHex((salt+password).getBytes(StandardCharsets.UTF_8));

        return salt+"$"+finalPassword;
    }

    //å¾…éªŒè¯å¯†ç 
    public static boolean decrypt(String password,String dbPassword){
        if (!StringUtils.hasLength(password) || !StringUtils.hasLength(dbPassword) ||
                dbPassword.length() != 65){
            return false;
        }
        String[] dbPasswordArray = dbPassword.split("$");
        if (dbPasswordArray.length!=2){
            return false;
        }
        String salt = dbPasswordArray[0];
        String dbFinalPassword = dbPasswordArray[1];

        String finalPassword = DigestUtils.md5DigestAsHex((salt+password).getBytes(StandardCharsets.UTF_8));
        if (finalPassword.equals(dbFinalPassword)){
            return true;
        }
        return false;
    }
}</code></pre> 
<h3 id="%F0%9F%8D%85%202%E3%80%81%E4%BF%AE%E6%94%B9UserController%E4%BB%A3%E7%A0%81">ğŸ… 2ã€ä¿®æ”¹UserControllerä»£ç </h3> 
<p>reg()æ–¹æ³•ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p> 
<pre><code class="language-javascript">        userinfo.setPassword(PasswordUtils.encrypt(userinfo.getPassword()));
</code></pre> 
<p>Â åœ¨login()æ–¹æ³•ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </p> 
<pre><code class="language-javascript">//ä½¿ç”¨å¯¹è±¡ä¸­çš„å¯†ç å’Œç”¨æˆ·è¾“å…¥çš„å¯†ç è¿›è¡Œæ¯”è¾ƒ
       if (!PasswordUtils.decrypt(userinfoVO.getPassword(),userinfo.getPassword())){
           return ResultAjax.fail(-2,"ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯ï¼");
       }</code></pre> 
<h2 id="%E5%8D%81%E4%BA%8C%E3%80%81session%E5%8D%87%E7%BA%A7%E5%AD%98%E5%82%A8%E5%88%B0redis">åäºŒã€sessionå‡çº§å­˜å‚¨åˆ°redis</h2> 
<p>è¿™ä¸ªéƒ¨åˆ†ï¼Œè¿˜éœ€è¦éƒ¨ç½²redisï¼Œå…ˆä½¿ç”¨finalShellæˆ–è€…xshellè¿œç¨‹è¿æ¥LinuxæœåŠ¡å™¨ï¼Œç„¶åå‚è€ƒåé¢çš„åšå®¢å»å®‰è£…<a href="https://blog.csdn.net/qq_53332052/article/details/132109748?spm=1001.2014.3001.5506" title="Redis å®‰è£…ä»¥åŠé…ç½®éš§é“è¿æ¥_ç‚¹å­æçš„åšå®¢-CSDNåšå®¢">Redis å®‰è£…ä»¥åŠé…ç½®éš§é“è¿æ¥_ç‚¹å­æçš„åšå®¢-CSDNåšå®¢</a></p> 
<h3 id="%F0%9F%8D%85%201%E3%80%81%E5%85%88%E6%B7%BB%E5%8A%A0redis%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96">ğŸ… 1ã€å…ˆæ·»åŠ redisç›¸å…³ä¾èµ–</h3> 
<pre><code class="language-XML">   &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
            &lt;version&gt;2.6.13&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;
            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
<h3 id="%F0%9F%8D%85%202%E3%80%81%E6%B7%BB%E5%8A%A0redis%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%EF%BC%88properties%EF%BC%89">ğŸ… 2ã€æ·»åŠ redisé…ç½®ä¿¡æ¯ï¼ˆpropertiesï¼‰</h3> 
<pre><code class="language-XML">spring.redis.host=39.107.159.218
spring.redis.port=6379
spring.redis.password=
spring.redis.database=2
spring.session.store-type=redis</code></pre> 
<p>æ‰“å¼€ç™»å½•é¡µé¢ï¼Œå‘ç°å­˜å‚¨æˆåŠŸ</p> 
<p><img alt="" height="1189" src="https://images2.imgbox.com/4c/57/1VkDEjiG_o.png" width="1200"></p> 
<p></p> 
<h2 id="%C2%A0%E5%8D%81%E4%B8%89%E3%80%81%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8">Â åä¸‰ã€å®ç°è‡ªå®šä¹‰æ‹¦æˆªå™¨</h2> 
<p><strong><code>Spring MVC</code></strong>ä¸­çš„æ‹¦æˆªå™¨(<strong><code>Interceptor</code></strong>)ç±»ä¼¼äºServLetä¸­çš„è¿‡æ»¤å™¨<strong>(<code>Filter</code>)</strong>ï¼Œå®ƒä¸»è¦ç”¨äºæ‹¦æˆªç”¨æˆ·è¯·æ±‚å¹¶ä½œå‡ºç›¸åº”çš„å¤„ç†ã€‚ä¾‹å¦‚é€šè¿‡æ‹¦æˆªå™¨å¯ä»¥è¿›è¡Œæƒé™éªŒè¯ã€è®°å½•è¯·æ±‚ä¿¡æ¯çš„æ—¥å¿—ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ç­‰ã€‚</p> 
<p>é¦–å…ˆåˆ›å»ºæ‹¦æˆªå™¨</p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/04/21/xWs0mtS3_o.png" width="684"></p> 
<p></p> 
<pre><code class="language-java">public class LoginIntercept implements HandlerInterceptor {
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        HttpSession session = request.getSession(false);
        if (session!=null &amp;&amp; session.getAttribute(AppVariable.SESSION_USERINFO_KEY)!=null){
            //ç”¨æˆ·ç™»å½•
            return true;
        }
        response.sendRedirect("/login.html");
        return false;
    }
}</code></pre> 
<p>ç„¶ååˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰æ‹¦æˆªå™¨è§„åˆ™</p> 
<p><img alt="" height="205" src="https://images2.imgbox.com/fa/35/VnhRLcWu_o.png" width="481"></p> 
<p></p> 
<pre><code class="language-java">@Configuration
public class MyConfig implements WebMvcConfigurer {
    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(new LoginIntercept())
                .addPathPatterns("/**")
                .excludePathPatterns("/user/login")
                .excludePathPatterns("/user/reg")
                .excludePathPatterns("/user/detail")
                .excludePathPatterns("/art/getlistbypage")
                .excludePathPatterns("/editor.md/*")
                .excludePathPatterns("/img/*")
                .excludePathPatterns("/js/*")
                .excludePathPatterns("/css/*")
                .excludePathPatterns("/login.html")
                .excludePathPatterns("/reg.html")
                .excludePathPatterns("/blog_list.html")
                .excludePathPatterns("/blog_content");
    }
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75ee36b4be1e5b7e63d9c7f4dd4b8760/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ï¼ˆpythonï¼‰æ±‚eçš„è¿‘ä¼¼å€¼</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/68f77444c4442c330da860eb991bcbcd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ç–‘é—®ï¼šç›¸åŒService IDã€ä¸åŒInstance IDçš„SOME/IPæœåŠ¡å¦‚ä½•è¢«ä½¿ç”¨ï¼Ÿ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>