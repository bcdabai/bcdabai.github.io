<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python基础教程(8)——bug清除手册 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python基础教程(8)——bug清除手册" />
<meta property="og:description" content="在开始正题之前，让我们先来看看本次学习的重难点。本次的知识点可以分为三个部分：
(1）常见的语法错误。
(2）基础语法中的常见异常。
(3）操作文件过程中的常见异常，这部分也是重难点知识。
编写代码时经常会遇到错误，因此掌握本课的内容对你将来自己做项目非常有帮助。至少可以节省大量排查错误的时间。加油！
1. 常见的语法错误
下面图片中显示的情况，相信你在平时写代码的过程中，肯定已经遇到过不少次了。
如果程序能够顺利运行，是不会出现这样的消息的。
这些在终端显示的&#34;错误消息&#34;表示我们在编写或运行程序时可能出现了问题。通常需要在Python中进行异常处理，以确保程序能够正确运行。
“异常处理”这个名词你应该是第一次接触，它包括我们在程序运行前的处理和在程序运行过程中的处理。
在Python中，异常处理是一门比较深奥的学问，涉及到很多特有的机制。不过我们暂时不需要掌握那么深入的知识，为了方便理解，你可以将解决问题或处理&#34;错误消息&#34;的过程称为&#34;异常处理&#34;。
不过，我们还不需要掌握这么难的知识，为了方便理解，你可以把解决问题或处理“错误消息”的过程称为“异常处理”。
我相信你凭借现有的编程经验，也能发现&#34;错误消息&#34;不仅限于图片中显示的那一种。实际上，按照Python官方文档的定义，这些&#34;错误消息&#34;至少可以分为两类：语法错误(syntax errors)和异常(exceptions)。
1.1 基本概念 语法错误(syntax errors)是初学者最容易犯的错误，简单来说就是代码不符合Python的基本语法规范，导致程序出错。
当你的代码完全符合Python的语法规范后，就可以尝试运行程序了。但是在程序运行过程中，仍然可能出现问题，我们称这类问题为异常。
作为一个有经验的人，为了让你少走弯路，我将根据你的技术水平列举一些常见的语法错误和异常。当然，我还会讲解它们产生的原因以及相应的解决办法。
此外，我还总结了一些在操作文件过程中可能遇到的常见异常，希望你引以为戒，尽量避免这些问题。
需要强调的是，本次讲解的语法错误和异常并不能代表全部，实际上，这只是冰山一角，还有许多复杂且棘手的异常等待你以后慢慢解决。
但是不要害怕，这是提高编程水平的必经之路。送你八个字：“遇事不慌，问题不大。”保持积极的心态是最重要的。
好了，按顺序，我们先来学习常见的语法错误。
正如前面所述，语法错误(syntax errors)是初学者最容易犯的错误，如果代码不符合 Python 的语法规范，比如漏了冒号，混用中英文符号等，就会出现这种错误。
如下图所示：
想要解决问题，最基本动作就是查看错误消息，终端会显示出现语法错误的那一行，并显示一个箭头^，指向这行里面检测到的第一个错误。
例如，在上图中，line 1和SyntaxError告诉你第一行有语法错误，出错位置很可能是在print() 附近。
需要说明的是，行数告诉你代码出现问题的位置，但不一定是最初出错的地方。有时候，真正的错误可能出现在提示信息所指示的位置之前，通常在前一行。
知道错误出现的位置后，就可以尝试解决错误了。下面我将分别讲解两种常见的语法错误：SyntaxError 和 IndentationError，以及它们产生的原因和相应的解决办法。
1.2 SyntaxError 第一种：SyntaxError: invalid syntax（无效语法）
在Python中，&#34;SyntaxError: invalid syntax&#34;是最常见的语法错误之一。它通常由以下几种情况引起：
一、遗漏了标点符号。
在第一种情况下，我们需要检查是否有遗漏标点符号。例如，在函数定义时，是否忘记了在括号后面加上冒号；在if条件判断和while循环中的条件后面是否有冒号；在for循环的可迭代对象后是否有冒号；以及在字典中的每个键值对之间是否有逗号等等。
此外，还要注意区分等于号（=）和等于比较运算符（==）的使用。
二、关键字拼写错误或遗漏。
第二种情况，很有可能是因为你手抖或者粗心，将 while 写成了 whlie，将 def 写成了 dfe 之类的错误，或者可能是你将 for...in... 中的关键字 in 忘写了。
三、变量名或函数名使用了关键字。
例：
# class 是 Python 的关键字，不可充当变量名class = False" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9ca40a9782014767dcc0918e8aafeaee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-04T09:11:02+08:00" />
<meta property="article:modified_time" content="2023-07-04T09:11:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python基础教程(8)——bug清除手册</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" src="https://images2.imgbox.com/34/bf/0Tsxf4pY_o.png"></p> 
<p>在开始正题之前，让我们先来看看本次学习的重难点。本次的知识点可以分为三个部分：</p> 
<p>(1）常见的语法错误。</p> 
<p>(2）基础语法中的常见异常。</p> 
<p>(3）操作文件过程中的常见异常，这部分也是重难点知识。</p> 
<p>编写代码时经常会遇到错误，因此掌握本课的内容对你将来自己做项目非常有帮助。至少可以节省大量排查错误的时间。加油！</p> 
<p>1. 常见的语法错误</p> 
<p>下面图片中显示的情况，相信你在平时写代码的过程中，肯定已经遇到过不少次了。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d1/e1/WsRfNPHm_o.png"></p> 
<p>如果程序能够顺利运行，是不会出现这样的消息的。</p> 
<p>这些在终端显示的"错误消息"表示我们在编写或运行程序时可能出现了问题。通常需要在Python中进行异常处理，以确保程序能够正确运行。</p> 
<p>“异常处理”这个名词你应该是第一次接触，它包括我们在程序运行前的处理和在程序运行过程中的处理。</p> 
<p>在Python中，异常处理是一门比较深奥的学问，涉及到很多特有的机制。不过我们暂时不需要掌握那么深入的知识，为了方便理解，你可以将解决问题或处理"错误消息"的过程称为"异常处理"。</p> 
<p>不过，我们还不需要掌握这么难的知识，为了方便理解，你可以把解决问题或处理“错误消息”的过程称为“异常处理”。</p> 
<p>我相信你凭借现有的编程经验，也能发现"错误消息"不仅限于图片中显示的那一种。实际上，按照Python官方文档的定义，这些"错误消息"至少可以分为两类：<strong>语法错误(syntax errors)</strong>和<strong>异常(exceptions)</strong>。</p> 
<h3>1.1 基本概念</h3> 
<p><strong>语法错误(syntax errors)</strong>是初学者最容易犯的错误，简单来说就是代码不符合Python的基本语法规范，导致程序出错。</p> 
<p>当你的代码完全符合Python的语法规范后，就可以尝试运行程序了。但是在程序运行过程中，仍然可能出现问题，我们称这类问题为异常。</p> 
<p></p> 
<p>作为一个有经验的人，为了让你少走弯路，我将根据你的技术水平列举一些常见的语法错误和异常。当然，我还会讲解它们产生的原因以及相应的解决办法。</p> 
<p></p> 
<p>此外，我还总结了一些在操作文件过程中可能遇到的常见异常，希望你引以为戒，尽量避免这些问题。</p> 
<p></p> 
<p>需要强调的是，本次讲解的语法错误和异常并不能代表全部，实际上，这只是冰山一角，还有许多复杂且棘手的异常等待你以后慢慢解决。</p> 
<p>但是不要害怕，这是提高编程水平的必经之路。送你八个字：“遇事不慌，问题不大。”保持积极的心态是最重要的。</p> 
<p>好了，按顺序，我们先来学习常见的语法错误。</p> 
<p>正如前面所述，<strong>语法错误(syntax errors)</strong>是初学者最容易犯的错误，如果代码不符合 Python 的语法规范，比如漏了冒号，混用中英文符号等，就会出现这种错误。</p> 
<p>如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/98/ef/kvwiIGJ1_o.png"></p> 
<p>想要解决问题，最基本动作就是查看<strong>错误消息</strong>，终端会显示出现语法错误的那一行，并显示一个<strong>箭头^</strong>，指向这行里面检测到的第一个错误。</p> 
<p>例如，在上图中，line 1和SyntaxError告诉你第一行有语法错误，出错位置很可能是在<strong>print() </strong>附近。</p> 
<p></p> 
<p>需要说明的是，行数告诉你代码出现问题的位置，但不一定是最初出错的地方。有时候，真正的错误可能出现在提示信息所指示的位置之前，通常在前一行。</p> 
<p></p> 
<p>知道错误出现的位置后，就可以尝试解决错误了。下面我将分别讲解两种常见的语法错误：<strong>SyntaxError</strong> 和 <strong>IndentationError</strong>，以及它们产生的原因和相应的解决办法。</p> 
<h3>1.2 SyntaxError</h3> 
<p></p> 
<p>第一种：SyntaxError: invalid syntax（无效语法）</p> 
<p>在Python中，"SyntaxError: invalid syntax"是最常见的语法错误之一。它通常由以下几种情况引起：</p> 
<p>一、遗漏了标点符号。</p> 
<p>在第一种情况下，我们需要检查是否有遗漏标点符号。例如，在函数定义时，是否忘记了在括号后面加上冒号；在if条件判断和while循环中的条件后面是否有冒号；在for循环的可迭代对象后是否有冒号；以及在字典中的每个键值对之间是否有逗号等等。</p> 
<p></p> 
<p>此外，还要注意区分等于号（=）和等于比较运算符（==）的使用。</p> 
<p>二、关键字拼写错误或遗漏。</p> 
<p>第二种情况，很有可能是因为你手抖或者粗心，将 while 写成了 whlie，将 def 写成了 dfe 之类的错误，或者可能是你将<strong> for...in...</strong> 中的关键字<strong> in</strong> 忘写了。</p> 
<p>三、变量名或函数名使用了关键字。</p> 
<p>例：</p> 
<ul><li><li><li><li><li></ul> 
<pre></pre> 
<p><code># class 是 Python 的关键字，不可充当变量名</code><code>class = False</code></p> 
<p></p> 
<p><code># True 是 Python 关键字，不可作为函数名</code><code>def True():</code><code>    print('好好学习，天天向上')</code></p> 
<p></p> 
<p></p> 
<p>正如代码里注释写的，class 和 True 都是 Python 中的关键字，关键字是不可以用来作为变量名、函数名或者类名的。</p> 
<p>Python 还有以下关键字（看一眼就好，不用记住）。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8d/3f/vCiu55gN_o.png"></p> 
<p>大多数开发环境都会使用不同的颜色来显示关键字，因此当不小心使用关键字作为变量名时，会看到颜色变化，从而知道需要修改变量名。显然，上述代码问题的解决办法是将<strong>class</strong>和<strong>True</strong><strong> </strong>替换为其他非关键字的变量名。类似的情况都可以用这种方法解决。</p> 
<p>第二种：SyntaxError: invalid character in identifier（标识符中有无效字符）</p> 
<p>请观察下面的代码是否存在问题：</p> 
<ul><li><li><li></ul> 
<pre></pre> 
<p><code>member_list = ['月娜', '廖雨', ‘王晴’，‘陈知枫’]</code><code>def member_printer（）：</code><code>    print（member_list）</code></p> 
<p></p> 
<p>如果运行上面的代码，就会报 SyntaxError: invalid character in identifier 这个错误。</p> 
<p>仔细观察，你会发现代码中使用了大量的中文符号，比如中文括号、中文逗号、中文冒号和中文引号。这可能是因为在编写代码时频繁切换中英文输入法所导致的。</p> 
<p></p> 
<p>了解了问题的原因，解决方法就呼之欲出了：将我标记出来的中文标点修改为对应的英文符号即可。</p> 
<p>过于简单，就不让你改了。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/14/1b/J0Fu97mv_o.png"></p> 
<p>第三种：SyntaxError: EOL while scanning string literal（检查到不完整的字符串）</p> 
<p>这种情况通常是因为遗漏了字符串两边的引号，或者混用了引号（即字符串两边的引号不统一）。</p> 
<p>请看下图：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/16/14/w1nlWZ1e_o.png"></p> 
<p>解决办法也很简单，仔细检查字符串两头的引号是否有遗漏，而且需要记住，单引号和单引号匹配，双引号和双引号匹配，三引号和三引号匹配。</p> 
<p>图片总结一下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dc/16/twSKn4Cz_o.png"></p> 
<h3>1.3 IndentationError</h3> 
<p></p> 
<p>第二个要介绍的常见语法错误就是 <strong>IndentationError</strong>，即缩进错误。</p> 
<p>在Python中，冒号下面的缩进帮助程序区分代码之间的层次结构，这些不同的层次表示代码运行的逻辑和先后顺序。</p> 
<p></p> 
<p>但如果在需要缩进的语句下面没有使用正确的缩进层级，甚至没有缩进，程序就会报错。</p> 
<p>这次我主要讲两种常见的缩进错误。</p> 
<p>第一种：IndentationError: expected an indented block（需要缩进的代码块）</p> 
<p>请你观察下面的代码中第二和第三行。</p> 
<ul><li><li><li></ul> 
<pre></pre> 
<p><code>member_list = ['月娜', '陈知枫']</code><code>if '陈知枫' in member_list:</code><code>print('陈知枫正在学习Python')</code></p> 
<p>如果运行上述代码，会得到如下错误提示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/9f/23/a3XXDmwX_o.png"></p> 
<p>造成上面错误的原因很简单，<strong>print('陈知枫正在学习Python')</strong> 前面没有缩进。</p> 
<p>在缺少缩进的情况下，if条件判断和需要执行的print()语句会被视为两个独立的语句，可以理解为它们处于"平行关系"。</p> 
<p></p> 
<p>这样，if条件判断下面就没有可执行的语句了。无论条件是否成立，都不会有任何相应的操作，因此该条件判断失去了存在的意义。</p> 
<p></p> 
<p>修复这种缩进错误的方法也很简单：根据代码的运行顺序和逻辑，在需要缩进的地方（例如：if条件判断、for循环、while循环、def函数定义、class类的创建等）加入缩进即可。</p> 
<p>修复后的代码运行结果如下。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/47/de/BUvXyRT7_o.png"></p> 
<p>第二种：IndentationError: unindent does not match any outer indentation level（缩进内容不匹配任何一个层级）</p> 
<p>例：</p> 
<ul><li><li><li><li><li><li></ul> 
<pre></pre> 
<p><code>a = 0</code><code>while a &lt; 5:</code><code>    if a == 3:</code><code>        break</code><code>    a += 1</code><code>   print(a)</code></p> 
<p>代码中的最后一行，<strong>print(a) </strong>无法找到属于它的代码块。即<strong> print(a)</strong> 要么和 if 条件判断平级，要么直接与 while 循环平级。</p> 
<p>它现在的缩进层级使 Python 无法识别出它到底属于哪一部分，这是在难为 Python 啊。</p> 
<p>要让上述代码顺利运行，需要将 <strong>print(a)</strong>调整到与if条件判断平级，这样程序就会在每次循环后打印a的值。或者将 <strong>print(a) </strong>调整到与while循环平级，这样程序就会在最后一次循环后打印a的值。</p> 
<p>IndentationError 总结</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/78/e1/MLKPaZEX_o.png"></p> 
<p>要解决缩进错误，最重要的是分析代码的逻辑，然后确定代码块的层级关系，从而确定缩进的层级。</p> 
<h3>1.4 总结</h3> 
<p>常见的语法错误总结</p> 
<p>我们主要讲了三种 SyntaxError：</p> 
<p>1）invalid syntax（无效语法）<br> 2）invalid character in identifier（标识符中有无效字符）<br> 3）EOL while scanning string literal（检查到不完整的字符串）</p> 
<p>两种 IndentationError：</p> 
<p>1）expected an indented block（需要缩进的代码块）<br> 2）unindent does not match any outer indentation level（缩进内容不匹配任何一个层级）</p> 
<p>其实，对于语法错误，只要我们细心一点，多留意一些注意事项就可以了，给你提供一份自检清单：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a5/01/WmfTDvTZ_o.png"></p> 
<h2>2. 基础语法中常见的异常</h2> 
<p>上面我说过，在程序运行过程中发生的问题，可以被称为异常。</p> 
<p>下面我会先讲几个新手在学习 Python 基础语法过程中会遇到的异常，然后再讲几个你在操作文件的过程中会遇到的异常。</p> 
<h3>2.1 TypeError</h3> 
<p>第一个要介绍的是基础语法中常见的异常：<strong>TypeError</strong>，即类型错误。</p> 
<p>你可能会很疑惑，明明出现了错误这两个字，为什么还要叫异常。确实有些诡异，但 Python 就是这么规定的，这种在程序运行过程中出现的错误，就得称为异常。</p> 
<p>有一种很直观的方法可以帮助你来区分它们——观察终端显示的“错误消息”。</p> 
<p>一般情况下，异常的“错误消息”会显示<strong>Traceback (most recent call last)</strong>，而语法错误就不会显示。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dd/d2/DUeE20vq_o.png"></p> 
<p>回到 TypeError，通俗来说，发生这种异常的原因往往是使用的数据类型做了不太适合它自己的事。</p> 
<p>下面我来列举三种较为常见的类型错误。</p> 
<p>第一种：TypeError: unsupported operand type(s) for …（不支持的运算）</p> 
<p>下面的代码就会引发这样的异常。</p> 
<ul><li><li><li><li></ul> 
<pre></pre> 
<p><code>a = 1</code><code>b = '10.0'</code><code>c = '5'</code><code>print(a * (b - c))</code></p> 
<p>代码的“错误消息”如图所示。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e3/ce/bGiWmEab_o.png"></p> 
<p>代码的第三行，将字符串类型的数据<strong> '10.0'</strong> 和字符串类型的数据<strong> '5'</strong> 相减，发生了错误。</p> 
<p>要修改代码中的问题，你可以使用<strong> int()</strong> 将 c 转换为整数类型，同时使用<strong> float()</strong> 将 b 转换为浮点数类型。</p> 
<p>当字符串类型的数据与数字相互运算时，需要进行类型转换才能确保程序顺利运行。类型转换时需要使用 <strong>int()</strong> 或<strong> float()</strong>。</p> 
<p>灵活使用 <strong>int()</strong> 和 <strong>float()</strong> 是处理这个异常的关键。</p> 
<p>b是字符串类型的浮点数，所以需要使用 <strong>float(b)</strong> 将 b 转换为浮点类型。</p> 
<p>c是字符串类型的整数，要使用 <strong>int(c)</strong> 将 c 转换为整数类型。</p> 
<p>由于需要使用了<strong> int() </strong>和 <strong>float()</strong>，这会造成代码中存在很多括号 <code>()</code>，你一定要注意括号是否能一一对应，避免遗漏括号或有多余括号的情况出现。</p> 
<p>来看看我是如何修改的。</p> 
<ul><li><li><li><li></ul> 
<pre></pre> 
<p><code>a = 1</code><code>b = '10.0'</code><code>c = '5'</code><code>print(a * (float(b) - int(c)))</code></p> 
<p>第二种：TypeError: can only concatenate str (not "int") to str （只能用字符串拼接字符串）</p> 
<p>顾名思义，这个 TypeError 是由不恰当的字符串拼接引起的。观察下面的代码。</p> 
<ul><li><li></ul> 
<pre></pre> 
<p><code>living_expenses = 1500</code><code>print('陈知枫在学校的生活费是：' + living_expenses + '元')</code></p> 
<p>代码的“错误消息”如图所示。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e0/27/YF45W1gw_o.png"></p> 
<p>iving_expenses 是整数类型 <strong>int</strong>，但在第二行，<strong>'</strong><strong>陈知枫在学校的生活费是</strong><strong>：</strong><strong>'</strong>和<strong>'元'</strong>都是字符串类型 <strong>str</strong>，我们是不能将整数类型和字符串类型的数据直接连接的。</p> 
<p>所以处理这种异常的方法就是使用<strong> str()</strong>，将非字符串数据转换为字符串，然后再进行拼接。</p> 
<p>上面的代码修复后，运行结果如图所示。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b1/2a/HMccUuWs_o.png"></p> 
<p>第三种：TypeError: 'xxx' object is not iterable（对象不可被迭代）</p> 
<p>例：</p> 
<ul><li><li><li></ul> 
<pre></pre> 
<p><code>living_expenses = 1500</code><code>for number in living_expenses:</code><code>    print(number)</code></p> 
<p>运行后，会出现错误信息，<strong>TypeError: 'int' object is not iterable</strong>。这是因为代码尝试遍历一个整数类型的数据，但是整数类型不是一个可迭代对象。</p> 
<p>还记得吗？for 循环只能循环遍历可迭代对象。</p> 
<p>目前为止，你见过的可迭代对象应该包括：字符串类型，列表，元组和字典。剩下的一些类型，比如：int 类型，float 类型，布尔类型和 None 就不是可迭代对象。</p> 
<p>请你一定要记住，使用 for 循环去遍历一个数据时，一定要确保其是可迭代对象。</p> 
<p>总结</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dc/1c/M7IDrJQP_o.png"></p> 
<p>以上就是我介绍的三种常见的<strong> TypeError</strong>：不支持的运算，只能用字符串拼接字符串，还有对象不可被迭代。</p> 
<p>一句话总结：为了避免类型错误，你需要确定自己使用的数据类型是什么（可以借助<strong> type()</strong>），需要进行的操作是什么，从而去确认是否需要使用函数来进行类型转换。</p> 
<h3>2.2 IndexError</h3> 
<p><strong>IndexError</strong> 这个异常，和列表取值有关。</p> 
<p>出现频率较高的索引错误是 IndexError: list index out of range（索引超出了范围）</p> 
<p>例：</p> 
<ul><li><li></ul> 
<pre></pre> 
<p><code>member_list = ['月娜', '廖雨', '王晴', '陈知枫']</code><code>print(member_list[4])</code></p> 
<p>代码的问题就出在 <strong>member_list[4]</strong>，列表的索引最大值是 3，但代码里却写了 4，导致程序运行时出错。</p> 
<p>通常，我们通过列表名[索引]的方式来获取列表中的元素。</p> 
<p>列表的索引方向有两种：</p> 
<p>从左往右：索引的最小值为 <code>0</code>，最大值为<strong>列表长度 -1</strong>。</p> 
<p>从右往左：索引的最小值为<code>-</code><strong>列表长度</strong>，最大值为 <code>-1</code>。</p> 
<p>如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1b/14/daniTZBS_o.png"></p> 
<p>所以，在列表中使用索引取值时，一定要确保索引在正确的范围区间内。</p> 
<h2>3. 操作文件过程中的常见异常</h2> 
<p></p> 
<p>在之前的课程中，我们学习了如何使用Python操作文件，现在让我们简单回顾一下相关知识点。</p> 
<p></p> 
<p>Python中的内置函数open()经常用于打开文件，并返回一个文件对象。</p> 
<p>它有三个比较重要的参数，<strong>file</strong> 是需要传入文件的路径，<strong>mode </strong>用来控制读写模式，还有 <strong>encoding</strong> 来控制文件的编码方式。</p> 
<p>如果我们得到的是 csv 文件对象，可以使用 csv 模块的函数<strong> DictReader()</strong>，该方法会将文件内容以字典形式返回。</p> 
<p>如果我们得到的是一个CSV文件对象，可以使用csv模块的函数<strong>DictReader()</strong>，它会将文件内容以字典形式返回。要将内容写入文件，可以使用csv模块的函数<strong>DictWriter()</strong>，但需要将<strong>open()</strong>函数的mode参数设置为写模式或追加模式。</p> 
<p></p> 
<p>所有被打开的文件对象最后都应该被关闭，可以使用文件对象的方法<strong>close()</strong>来实现。</p> 
<p></p> 
<p>现在，我们正式开始学习操作文件过程中常见的异常。</p> 
<h3>3.1 ModuleNotFoundError</h3> 
<p>ModuleNotFoundError 未找到模块错误，是一种有关模块的异常</p> 
<p>下面的代码都存在这类异常，你可以运行一下，观察出现的错误消息 </p> 
<ul><li><li><li></ul> 
<pre></pre> 
<p><code>import QS</code></p> 
<p></p> 
<p><code>import OS</code></p> 
<p></p> 
<p><code>import ps</code></p> 
<p></p> 
<p></p> 
<p>之前我们接触过 Python 中的内置模块——<strong> os 模块</strong>。在使用 os 模块时，需要先导入该模块。</p> 
<p>但上面的三种写法都是错误的，会引发异常<strong>ModuleNotFoundError: No module named 'xx'</strong>（没有名为xx的模块）。</p> 
<p>因为上面的代码中都将 <strong>os</strong> 写错了，第一个虽然很像，但 QS 和 os 还是有区别的；第二个虽然写了 OS，但是正确的写法应该是小写的 <strong>os</strong>；第三个可能是因为手抖，在键盘上敲 o 的时候误触成了它旁边的 p。</p> 
<p>解决这个异常的方法很简单，只需要在导入模块时仔细检查模块名的拼写是否正确即可。</p> 
<h3>3.2 AttributeError</h3> 
<p>正确导入<strong>os</strong>模块后，我们使用了它的方法<strong>os.listdir(path)</strong>，来获取目标文件夹下的所有文件和文件夹的名称。</p> 
<p></p> 
<p>然而，如果在这一步出现问题，会导致什么样的错误呢？我们来探究一下。</p> 
<p>让我们先运行下面的代码，观察错误消息：</p> 
<ul><li><li><li><li></ul> 
<pre></pre> 
<p><code>import os</code><code>path = './'</code><code>files_list = os.dirlist(path)</code><code>print(files_list)</code></p> 
<p>运行后，代码报错<strong> AttributeEr</strong><strong>ror: module 'os' has no attribute 'dirlist'</strong>。</p> 
<p>翻译过来就是<strong>属性错误</strong><code>：</code><strong>模块 'os' 没有属性 'dirlist'</strong>。</p> 
<p>问题已经很明显了，我们本应该使用的方法是<strong> os.listdir()</strong>，但误将其写为 <strong>os.dirlist()</strong> 这个不存在的方法。这就导致了异常的产生。</p> 
<p>为了避免这种异常，我们在使用模块中的方法时，需要仔细检查拼写是否正确，并确保所使用的模块或库中存在该方法或属性。</p> 
<p>至于如何查找这些方法或属性，我推荐你去查阅要使用的模块或库的官方文档，或者你也可以在百度输入你想要使用的方法，去看看网络上的“大牛们”是怎么使用的。</p> 
<h3>3.3 FileNotFoundError</h3> 
<p>之前学习的函数<strong> open()</strong>，如果使用不当，也有可能会产生一些异常，需要你特别注意。</p> 
<p>比如它的第一个参数 <strong>file</strong>。</p> 
<p><strong>file </strong>要求我们传入一个正确的文件路径，无论是绝对路径还是相对路径，只要确保这个路径是正确的即可。</p> 
<p>但如果这个路径错误了，会发生什么呢。</p> 
<p>假设在<code>【工作】</code>文件夹下有 csv 文本文件 <code>【demo.csv】</code>，但我们的代码却写成了下面的样子。</p> 
<ul><li><li><li><li><li></ul> 
<pre></pre> 
<p><code>demo_file = open('./目标文件夹/demo.csv')</code><code>file_dict = csv.DictReader(demo_file)</code><code>for row in file_dict:</code><code>    print(row)</code><code>demo_file.close()</code></p> 
<p>请注意，代码的第一行错误地将文件路径写成了<strong>目标文件夹</strong>。这将导致出现下面图片中的异常：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f7/87/XDXm8OGr_o.png"></p> 
<p>错误消息 <strong>FileNotFoundError: [Errno 2] No such file or directory: './目标文件夹/demo.csv'</strong> 的意思就是：没有文件或文件夹的路径是 './目标文件夹/demo.csv'。</p> 
<p>总结一下，open() 函数打开一个文件，并且第二个参数是读取模式时（默认就是读取模式），若第一个参数的路径错误或者该路径指向的文件根本不存在，就会报文件找不到的错误。</p> 
<p>因此，为了避免这种异常，我们需要根据路径找到相应的文件或文件夹，并检查文件或文件夹名是否正确。</p> 
<h3>3.4 UnicodeDecodeError</h3> 
<p>下面来讲最后的内容，也是<strong> open()</strong> 函数的另一个参数<strong> encoding</strong> 会引发的异常，很多新手在这个参数上容易“摔跟头”。</p> 
<p>之前我们介绍的写法是<strong>encoding='utf-8'</strong>，因为大多数情况下，文件的编码格式都是'utf-8'。</p> 
<p>但如果你需要使用别人分享的代码时，很有可能会因为你们之间使用了不同的编码格式而引发异常。</p> 
<p>图片中显示的 csv 文件使用了 utf-8 格式的编码（你可以在 VSCode 的右下角查看到当前文件的编码格式，如图片中所示）。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/70/4e/652Blycx_o.png"></p> 
<p>下面的代码中的open函数使用了 gbk 格式 下面的代码来读取该文件，观察出现的错误消息</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b4/05/53lxW8CL_o.png"></p> 
<p>看见了吗？终端出现错误消息：</p> 
<p><strong>UnicodeDecodeError: 'gbk' codec can't decode byte xxxx in position xx: invalid continuation byte</strong>。</p> 
<p>这就是由编码格式不匹配引发的异常，要修复这个异常也很简单，写为<strong> encoding='utf-8'</strong> 即可。</p> 
<p>以后遇到这样的异常，你有两种解决方法：</p> 
<p>第一种，先利用 VSCode 等软件去查看文件的编码格式，然后再将文件的编码格式修改为你在代码中写的编码格式即可。</p> 
<p>第二种，还是先在 VSCode 里面查看文件的编码格式，然后将代码中的 encoding 参数改为该文件的编码格式即可。</p> 
<p>好了，操作文件过程中的常见异常就这么多了，总结图如下所示。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f0/2d/ntartjFE_o.png"></p> 
<h2>4. 知识总结 </h2> 
<p>面对错误与异常的时候，一定要记住：不要慌！你要知道，程序出了问题，很大一部分原因是因为我们对代码的细节和实现方法思考得不够清楚。</p> 
<p>当你不确定如何修改错误时，可以借助<strong>print()</strong>函数，将代码中关键步骤的结果打印出来，检查这些结果是否符合预期，以找出问题所在。</p> 
<p></p> 
<p>另外，如果你的代码总是出错，而且不清楚具体出错的地方，可以使用#号将后面的代码注释掉，然后逐行解除注释，逐行运行代码，以帮助你排除异常。</p> 
<p></p> 
<p>本教程讲解的内容虽然看似繁多，但实际上只是涉及到了一小部分适合初学者理解的、可能会在今后遇到的问题。不要觉得这些问题很简单，Python的世界非常广阔，随着你水平的提高，你将会遇到更具挑战性的问题。</p> 
<p>来一起复习下知识点。</p> 
<p>首先来看知识点汇总图：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ed/77/XCGjwu7g_o.png"></p> 
<p>再看看重难点部分。</p> 
<p>本节的重难点在于操作文件过程中的常见异常。</p> 
<p>首先是 <strong>ModuleNotFoundError 未找到模块错误</strong>，出现这种异常的时候，你需要检查模块名是否输入正确，想使用的模块是否存在。</p> 
<p>第二个是 <strong>AttributeError 属性错误</strong>，该异常需要你检查使用的方法或属性的拼写是否正确，确认拼写无误后，如果还报错，就得检查模块或库中是否存在该方法或者属性。</p> 
<p>接着是 <strong>FileNotFoundError 文件未找到错误</strong>，这个需要你确保传入的文件路径（绝对路径或相对路径）是存在并且正确的。</p> 
<p>最后是 <strong>UnicodeDecodeError 解码错误</strong>，如果 open() 函数的参数 encoding 设置错误，就会引发这个异常。所以你需要搞清楚文件的编码格式，并且将正确的编码传给 encoding。</p> 
<p>今天的学习内容到这里就结束啦，为你的坚持鼓个掌吧。加油，基础阶段也快结束了，期待你学习完成，可以继续下一个阶段内容的学习。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/699a27613675cef05e5dc6cbd7224cb1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pytorch/torch 导包时出现：[WinError 182]操作系统无法运行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6802f0cce899d6e0d5406fe66451b1fd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis10大数据类型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>