<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Git拒绝在变基上合并不相关的历史 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Git拒绝在变基上合并不相关的历史" />
<meta property="og:description" content="问： 在 git rebase origin/development 期间，Git 显示以下错误消息：
fatal: refusing to merge unrelated histories Error redoing merge 1234deadbeef1234deadbeef 我的 Git 版本是 2.9.0。它曾经在以前的版本中工作正常。
如何使用新版本中引入的强制标志继续此变基以允许不相关的历史记录？
答1: huntsbot.com高效搞钱，一站式跟进超10&#43;任务平台外包需求
您可以使用 --allow-unrelated-histories 强制合并发生。
这背后的原因是自 Git 2.9 以来默认行为发生了变化：
“git merge”用于允许合并两个默认情况下没有共同基础的分支，这导致创建现有项目的全新历史，然后被毫无戒心的维护者拉取，这允许将不必要的并行历史合并到现有项目中.该命令已被教导默认情况下不允许这样做，并在罕见事件中使用逃生舱口 --allow-unrelated-histories 选项，该事件合并了两个独立开始其生活的项目的历史。
有关详细信息，请参阅 Git release changelog。
知道合并更改，但此选项不适用于 rebase
是否有任何选项可以永久开启 --allow-unrelated-histories？
@jmarceli “因为这种“两个项目合并”是罕见的事件，所以没有添加始终允许这种合并的配置选项。”。所以不行。
我试图以这种方式为不同的 repo 合并一个分支，但它在我当前的分支上创建了一个新的提交，并且没有保留来自其他 repo 的历史记录。然后我从另一个 repo 中检查了一个本地分支，然后才合并它，突然出现了一个正常的合并提交。诡异的。
非常好，也适用于 git pull。在那次“罕见的事件中，合并了两个独立开始生活的项目的历史”。 git --work-tree=&#34;.&#34; pull --allow-unrelated-histories
答2: huntsbot.com – 高效赚钱，自由工作
在我的情况下，每次尝试的错误只是 fatal: refusing to merge unrelated histories，尤其是远程添加 Git 存储库后的第一个拉取请求。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7469570acf6313466693b6b7c94b81d6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-21T12:45:20+08:00" />
<meta property="article:modified_time" content="2022-12-21T12:45:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Git拒绝在变基上合并不相关的历史</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>问：</h2> 
<p>在 git rebase origin/development 期间，Git 显示以下错误消息：</p> 
<pre><code class="prism language-java">fatal<span class="token operator">:</span> refusing <span class="token keyword">to</span> <span class="token namespace">merge</span> unrelated histories
<span class="token class-name">Error</span> redoing merge <span class="token number">1234d</span>eadbeef1234deadbeef

</code></pre> 
<p>我的 Git 版本是 2.9.0。它曾经在以前的版本中工作正常。</p> 
<p>如何使用新版本中引入的强制标志继续此变基以允许不相关的历史记录？</p> 
<h2><a id="1_15"></a>答1:</h2> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p>您可以使用 --allow-unrelated-histories 强制合并发生。</p> 
<p>这背后的原因是自 Git 2.9 以来默认行为发生了变化：</p> 
<p>“git merge”用于允许合并两个默认情况下没有共同基础的分支，这导致创建现有项目的全新历史，然后被毫无戒心的维护者拉取，这允许将不必要的并行历史合并到现有项目中.该命令已被教导默认情况下不允许这样做，并在罕见事件中使用逃生舱口 --allow-unrelated-histories 选项，该事件合并了两个独立开始其生活的项目的历史。</p> 
<p>有关详细信息，请参阅 Git release changelog。</p> 
<p><code>知道合并更改，但此选项不适用于 rebase</code></p> 
<p><code>是否有任何选项可以永久开启 --allow-unrelated-histories？</code></p> 
<p><code>@jmarceli “因为这种“两个项目合并”是罕见的事件，所以没有添加始终允许这种合并的配置选项。”。所以不行。</code></p> 
<p><code>我试图以这种方式为不同的 repo 合并一个分支，但它在我当前的分支上创建了一个新的提交，并且没有保留来自其他 repo 的历史记录。然后我从另一个 repo 中检查了一个本地分支，然后才合并它，突然出现了一个正常的合并提交。诡异的。</code></p> 
<p><code>非常好，也适用于 git pull。在那次“罕见的事件中，合并了两个独立开始生活的项目的历史”。 git --work-tree="." pull --allow-unrelated-histories</code></p> 
<h2><a id="2_36"></a>答2:</h2> 
<blockquote> 
 <p>huntsbot.com – 高效赚钱，自由工作</p> 
</blockquote> 
<p>在我的情况下，每次尝试的错误只是 fatal: refusing to merge unrelated histories，尤其是远程添加 Git 存储库后的第一个拉取请求。</p> 
<p>使用 --allow-unrelated-histories 标志以这种方式处理拉取请求：</p> 
<pre><code class="prism language-java">git pull origin branchname <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>根据 2.9.0 release notes - git pull 已被教导将 --allow-unrelated-histories 选项传递给底层 git merge</p> 
<p><code>如果我使用 README.md 创建新的 Github 存储库，然后第一次将其拉到本地存储库，我总是会看到此错误。很烦人。</code></p> 
<p><code>对于新的存储库，首先拉取，通常最好以 git clone 开头。</code></p> 
<p><code>@PardeepJain 请看这个github.com/git/git/blob/master/Documentation/RelNotes/…</code></p> 
<p><code>这让我停了好几个小时，然后我才意识到，如果默认文件发生这种情况，就必须有一个明显的解决方案来合并这样的文件——我很高兴至少我不是唯一一个遇到这个问题的人！</code></p> 
<p><code>就我而言，这是因为我在 github 上添加了许可证文件。上面提到的命令（和下面，它们是相同的）有效。</code></p> 
<h2><a id="3_62"></a>答3:</h2> 
<blockquote> 
 <p>huntsbot.com聚合了超过10+全球外包任务平台的外包需求，寻找外包任务与机会变的简单与高效。</p> 
</blockquote> 
<p>尝试以下命令：</p> 
<pre><code class="prism language-java">git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>这应该可以解决您的问题。</p> 
<p><code>这怎么比第一个答案好？！ stackoverflow.com/a/37938036/274502 应该是对其进行评论或编辑，以避免冗余和错误信息。</code></p> 
<p><code>因为它解决了tl:dr</code></p> 
<p><code>@okandas 祝你好运。浏览某些东西需要比大多数人愿意承认的更多的运气。</code></p> 
<p><code>这是正确的解决方案</code></p> 
<h2><a id="4_84"></a>答4:</h2> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p>当我首先设置本地存储库时出现此错误。然后我去了 GitHub 并创建了一个新的存储库。然后我跑了</p> 
<pre><code class="prism language-java">git remote add origin 

</code></pre> 
<p>当我尝试推动或拉动时，每次都会遇到相同的 fatal: unrelated_histories 错误。</p> 
<p>这是我修复它的方法：</p> 
<pre><code class="prism language-java">git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories
git merge origin origin<span class="token operator">/</span>master
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> add and commit here<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
git push origin master

</code></pre> 
<p><code>我想我们在同一条船上。添加一些东西：我的问题是远程仓库中已经有一些东西了。因此，在我的文件夹中，它删除了 .git 文件夹，运行 git init 并按照 Adithya 所说的操作，但合并部分除外。</code></p> 
<p><code>如何在mac上按INSERT按钮？实际上，我必须输入提交消息并从命令行合并，但我不知道如何从命令行执行。</code></p> 
<p><code>它打开vim吗？如果是这样，它只是 SHIFT + ：</code></p> 
<p><code>甚至我首先创建了 GitHub 存储库，并且正在执行添加存储库的那些命令。</code></p> 
<p><code>这是一个非常好的答案。关键是你必须强制拉然后合并本地和远程仓库。</code></p> 
<h2><a id="5_120"></a>答5:</h2> 
<blockquote> 
 <p>与HuntsBot一起，探索全球自由职业机会–huntsbot.com</p> 
</blockquote> 
<p>为此，输入命令：</p> 
<pre><code class="prism language-java">git pull origin branchname <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>例如，</p> 
<pre><code class="prism language-java">git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>参考：</p> 
<p>GitHub unrelated histories issue</p> 
<p><code>感谢第一次为我拉它的作品“git pull origin master --allow-unrelated-histories”</code></p> 
<p><code>应该对其进行评论或编辑，以避免冗余和错误信息。 stackoverflow.com/a/37938036/274502</code></p> 
<h2><a id="6_149"></a>答6:</h2> 
<blockquote> 
 <p>huntsbot.com – 高效赚钱，自由工作</p> 
</blockquote> 
<pre><code class="prism language-java">git pull origin  <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>你将被引导到一个 Vim 编辑窗口：</p> 
<p>插入提交消息</p> 
<p>然后按 Esc（退出“插入”模式），然后按 :（冒号），然后按 x（小“x”），最后按 Enter 退出 Vim</p> 
<p>git push --set-upstream origin &lt;分支&gt;</p> 
<p><code>Ctrl+X 不会让你离开 Vim</code></p> 
<p><code>但 :x 会</code></p> 
<p><code>感谢您指定如何出去；我完全迷失了，所有其他答案似乎都认为这很明显！</code></p> 
<h2><a id="7_173"></a>答7:</h2> 
<blockquote> 
 <p>huntsbot.com全球7大洲远程工作机会，探索不一样的工作方式</p> 
</blockquote> 
<p>我运行了这个命令，问题得到了解决。</p> 
<pre><code class="prism language-java">git pull origin branchName <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>查看此 page 了解更多信息。</p> 
<p><code>git merge origin/main localBranchName --allow-unrelated-histories 为我工作。</code></p> 
<h2><a id="8_189"></a>答8:</h2> 
<blockquote> 
 <p>huntsbot.com提供全网独家一站式外包任务、远程工作、创意产品分享与订阅服务!</p> 
</blockquote> 
<p>1.解决问题</p> 
<p>执行 git pull origin master 时出现错误：</p> 
<pre><code class="prism language-java">fatal<span class="token operator">:</span> refusing <span class="token keyword">to</span> <span class="token namespace">merge</span> unrelated histories

</code></pre> 
<p>运行以下命令之一</p> 
<pre><code class="prism language-java"> # <span class="token class-name">It</span> could be master
 git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories
 # <span class="token class-name">Or</span> main
 git pull origin main <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories
 # <span class="token class-name">Or</span> just <span class="token keyword">try</span> <span class="token keyword">with</span> <span class="token namespace">origin</span> 
 git pull origin main <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>如果它打开一个 nano 编辑器，您可以保存并使用 CTRL + x 关闭</p> 
<p>现在将更改推送到本地</p> 
<pre><code class="prism language-java"> git push

</code></pre> 
<p>2.意义</p> 
<p>错误：</p> 
<p>“致命：拒绝合并不相关的历史” Git 错误发生在两个不相关的项目合并时（即，不知道彼此存在且提交历史不匹配的项目）。</p> 
<p>命令 GIT HUB DOCS --allow-unrelated-histories: --allow-unrelated-histories</p> 
<p>默认情况下， git merge 命令拒绝合并不具有共同祖先的历史。当合并两个独立开始的项目的历史时，此选项可用于覆盖此安全性。由于这是一种非常罕见的情况，因此默认情况下不存在启用此功能的配置变量，也不会添加。</p> 
<p>https://i.stack.imgur.com/7cpDZ.png</p> 
<p>参考</p> 
<p>推荐：“致命：拒绝合并不相关的历史”Git 错误</p> 
<p>Git 2.9 发行说明</p> 
<p>更多关于堆栈溢出</p> 
<p>推荐使用–allow-unrelated-histories的很好的解释和警告：拒绝合并不相关的历史”失败，同时拉到恢复的存储库</p> 
<p>如果 --allow-unrelated-histories 不起作用：致命：添加 git remote 后拒绝合并不相关的历史</p> 
<p>Git 拒绝合并不相关的历史。什么是“无关历史”？</p> 
<p>该用户使用 Github Desktop：如何解决上传项目到 github 时“拒绝合并无关历史”的问题？</p> 
<p>Git 因致命错误而失败。拒绝将不相关的历史与 git push 合并？</p> 
<h2><a id="9_258"></a>答9:</h2> 
<blockquote> 
 <p>huntsbot.com高效搞钱，一站式跟进超10+任务平台外包需求</p> 
</blockquote> 
<p>我有同样的问题。尝试这个：</p> 
<pre><code class="prism language-java">git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories 

git push origin master

</code></pre> 
<p><code>应该对其进行评论或编辑，以避免冗余和错误信息。 stackoverflow.com/a/37938036/274502</code></p> 
<h2><a id="10_274"></a>答10:</h2> 
<blockquote> 
 <p>huntsbot.com洞察每一个产品背后的需求与收益，从而捕获灵感</p> 
</blockquote> 
<p>对于 Android Studio 和 IntelliJ：</p> 
<p>首先，提交所有内容并解决任何冲突。</p> 
<p>然后从IDE下方打开终端并输入：</p> 
<pre><code class="prism language-java">git pull origin master <span class="token operator">--</span>allow<span class="token operator">-</span>unrelated<span class="token operator">-</span>histories

</code></pre> 
<p>现在可以推了。</p> 
<p><code>它是一个 git 命令，与 Android Studio 或 Inteliji 无关</code></p> 
<p><code>@AlpitAnand是的，因为这个问题和android studio或者IntelliJ没有直接关系，但是我在android studio中写了处理这个问题的方式</code></p> 
<h2><a id="11_296"></a>答11:</h2> 
<blockquote> 
 <p>保持自己快人一步,享受全网独家提供的一站式外包任务、远程工作、创意产品订阅服务–huntsbot.com</p> 
</blockquote> 
<p>试试git pull --rebase development</p> 
<p><code>这解决了我的问题。这是问题的开始</code></p> 
<p><code>这应该是：git pull --rebase=preserve --allow-unrelated-histories development</code></p> 
<p><code>@RiccardoMurri 刚刚尝试过，我不会再这样做了。我的新仓库中有一些示例初始化文件，以及我的本地仓库几个月的提交。运行它（使用 newOrigin branch 而不是 development）将初始提交添加到本地分支的顶部，从而有效地从中删除了几乎所有内容。我希望新遥控器的初始提交位于底部。</code></p> 
<p>原文链接：<a href="https://www.huntsbot.com/qa/g1PB/git-refusing-to-merge-unrelated-histories-on-rebase?lang=zh_CN&amp;from=csdn" rel="nofollow">https://www.huntsbot.com/qa/g1PB/git-refusing-to-merge-unrelated-histories-on-rebase?lang=zh_CN&amp;from=csdn</a></p> 
<blockquote> 
 <p>huntsbot.com – 程序员副业首选，一站式外包任务、远程工作、创意产品分享订阅平台。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0af78d93179bba815c1e68549cde98b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件测试最新复习【太原理工大学】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/28367d687f243e665d2e8bfabb0a6884/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">lsyncd 详细介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>