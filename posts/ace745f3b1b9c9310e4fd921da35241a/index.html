<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2023首届大学生算法大赛 - 拿饼干 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="2023首届大学生算法大赛 - 拿饼干" />
<meta property="og:description" content="读题可以发现是分组背包问题，但是要求每个组别至少用上一个，所以调用的前一种状态必须是已经含有前一组的物品，打个标记即可。
#include &lt;bits/stdc&#43;&#43;.h&gt; using namespace std; const int N=501; int n,m,c,w[N],t[N],f[N][10001]; bool use[N][10001]; vector&lt;int&gt;a[N]; int main(){ cin&gt;&gt;n&gt;&gt;m&gt;&gt;c; for(int i=1;i&lt;=n;&#43;&#43;i) cin&gt;&gt;w[i]; for(int i=1;i&lt;=n;&#43;&#43;i) cin&gt;&gt;t[i]; for(int i=1;i&lt;=n;&#43;&#43;i){ a[t[i]].push_back(w[i]); } for(int j=1;j&lt;=c;&#43;&#43;j) use[0][j]=true; for(int i=1;i&lt;=m;&#43;&#43;i){ for(int j=1;j&lt;=c;&#43;&#43;j){ for(auto k:a[i]){ if(j-k&gt;=0 and use[i-1][j-k]){//本组的当前物品可以拿,并且前一组对应状态是拿过的 if(f[i-1][j-k]&#43;k&gt;f[i][j]){//拿了,并且更大,标记一下 f[i][j]=f[i-1][j-k]&#43;k; use[i][j]=true; }else//拿不了,继承当前组的状态 f[i][j]=f[i][j-1]; } } } } cout&lt;&lt;f[m][c]; return 0; } 代码不知道对不对，只能过样例，本蒟蒻比赛的前一天没睡觉，导致while(true)rp--
提醒各位千万不要在考试或者比赛之前熬夜或者通宵（（（（
下面放一个时间超时的递归代码。
#include &lt;bits/stdc&#43;&#43;.h&gt; using namespace std; const int N=501; int n,m,c,w[N],t[N],ans; bool vis[N]; void dfs(int now,int weight,int cnt){ if(now==n&#43;1)return; if(weight&gt;c)return; if(cnt==m)ans=max(ans,weight); if(!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ace745f3b1b9c9310e4fd921da35241a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-03T11:47:11+08:00" />
<meta property="article:modified_time" content="2023-04-03T11:47:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2023首届大学生算法大赛 - 拿饼干</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="446" src="https://images2.imgbox.com/a4/66/GI2Sehso_o.png" width="1085"></p> 
<hr> 
<p>读题可以发现是分组背包问题，但是要求每个组别至少用上一个，所以调用的前一种状态必须是已经含有前一组的物品，打个标记即可。</p> 
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N=501;

int n,m,c,w[N],t[N],f[N][10001];
bool use[N][10001];
vector&lt;int&gt;a[N];

int main(){
    cin&gt;&gt;n&gt;&gt;m&gt;&gt;c;
    for(int i=1;i&lt;=n;++i)
        cin&gt;&gt;w[i];
    for(int i=1;i&lt;=n;++i)
        cin&gt;&gt;t[i];

    for(int i=1;i&lt;=n;++i){
        a[t[i]].push_back(w[i]);
    }
    for(int j=1;j&lt;=c;++j)
        use[0][j]=true;
    for(int i=1;i&lt;=m;++i){
        for(int j=1;j&lt;=c;++j){
            for(auto k:a[i]){
                if(j-k&gt;=0 and use[i-1][j-k]){//本组的当前物品可以拿,并且前一组对应状态是拿过的
                    if(f[i-1][j-k]+k&gt;f[i][j]){//拿了,并且更大,标记一下
                        f[i][j]=f[i-1][j-k]+k;
                        use[i][j]=true;
                    }else//拿不了,继承当前组的状态
                        f[i][j]=f[i][j-1];
                }
            }
        }
    }

    cout&lt;&lt;f[m][c];
    return 0;
}</code></pre> 
<p> 代码不知道对不对，只能过样例，本蒟蒻比赛的前一天没睡觉，导致while(true)rp--</p> 
<p>提醒各位千万不要在考试或者比赛之前熬夜或者通宵（（（（</p> 
<p></p> 
<p>下面放一个时间超时的递归代码。</p> 
<pre><code class="language-cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;
const int N=501;

int n,m,c,w[N],t[N],ans;
bool vis[N];
void dfs(int now,int weight,int cnt){
    if(now==n+1)return;
    if(weight&gt;c)return;
    if(cnt==m)ans=max(ans,weight);

    if(!vis[t[now+1]]){
        vis[t[now+1]]=true;
        dfs(now+1,weight+w[now+1],cnt+1);
        vis[t[now+1]]=false;
    }
    dfs(now+1,weight,cnt);
}

int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr),cout.tie(nullptr);

    cin&gt;&gt;n&gt;&gt;m&gt;&gt;c;
    for(int i=1;i&lt;=n;++i)
        cin&gt;&gt;w[i];
    for(int i=1;i&lt;=n;++i)
        cin&gt;&gt;t[i];

    dfs(0,0,0);

    cout&lt;&lt;ans;
    return 0;
}</code></pre> 
<p><img alt="" height="61" src="https://images2.imgbox.com/ec/e4/GYYjUS0h_o.png" width="885"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a3c8934d0638bd0d8d963d0c747060ef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">BUUCTF-摩丝</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9f23a27f7c18f88df592e6ef54a35a48/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于C的面向对象的状态机设计</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>