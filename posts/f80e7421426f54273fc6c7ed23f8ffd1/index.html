<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue实现上传图片 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue实现上传图片" />
<meta property="og:description" content="1.实现效果 2.input标签的属性 multiple:是否多选 &lt;input type=&#34;file&#34; multiple=&#34;multiple&#34; accept=&#34;image/*&#34; /&gt; accept:文件格式，这个可以控制文件格式，比如jpeg和gif还有Png之类的 &lt;input type=&#34;file&#34; multiple=&#34;multiple&#34; accept=&#34;image/png,image/gif,image/jpeg&#34; /&gt; capture表示，可以捕获到系统默认的设备，比如：camera照相机；camcorder摄像机；microphone录音 &lt;input type=&#34;file&#34; multiple=&#34;multiple&#34; accept=&#34;image/png,image/gif,image/jpeg&#34; capture=&#34;camera&#34; /&gt; 3.实现代码
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;ie=edge&#34;&gt; &lt;title&gt;上传文件&lt;/title&gt; &lt;/head&gt; &lt;style&gt; body,*{ -webkit-tap-highlight-color:transparent; } .add_box{ width: 100px; height: 100px; border: 1px solid #ccc; border-radius: 10px; position: relative; font-size: 8px; text-align: center; margin: 40px 20px; padding: 5px; } .flex{ display: flex; align-items: center; } ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f80e7421426f54273fc6c7ed23f8ffd1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-16T17:41:02+08:00" />
<meta property="article:modified_time" content="2023-05-16T17:41:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue实现上传图片</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1.实现效果</h3> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/4d/2b/YCxQW86T_o.gif"></p> 
<h3>2.input标签的属性</h3> 
<ul><li>multiple:是否多选 <pre><code class="language-javascript">&lt;input type="file"  multiple="multiple"  accept="image/*" /&gt; 
</code></pre> <p></p> </li><li>accept:文件格式，这个可以控制文件格式，比如jpeg和gif还有Png之类的 <pre><code class="language-javascript">&lt;input type="file"  multiple="multiple"  accept="image/png,image/gif,image/jpeg"  /&gt; 
</code></pre> <p></p> </li><li>capture表示，可以捕获到系统默认的设备，比如：camera照相机；camcorder摄像机；microphone录音 <pre><code class="language-javascript">&lt;input type="file"  multiple="multiple"  accept="image/png,image/gif,image/jpeg"  capture="camera"  /&gt; 
</code></pre> <p></p> </li></ul> 
<p><strong> 3.实现代码</strong></p> 
<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
	&lt;head&gt;
		&lt;meta charset="UTF-8"&gt;
		&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
		&lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
		&lt;title&gt;上传文件&lt;/title&gt;
	&lt;/head&gt;
	&lt;style&gt;
		body,*{
			-webkit-tap-highlight-color:transparent;
		}
		
		.add_box{
			width: 100px;
			height: 100px;
			border: 1px solid #ccc;
			border-radius: 10px;
			position: relative;
			font-size: 8px;
			text-align: center;
			margin: 40px 20px;
			padding: 5px;
		}
			
		.flex{
			display: flex;
			align-items: center;
		}
		.add_icon{
			position: absolute;
			font-size: 50px;
			left: 50%;
			top: 50%;
			transform: translate(-50%,-50%);
		}
		.i_none{
			left: 0;
			top: 0;
			position: absolute;
			width: 100%;
			height: 100%;
			overflow: hidden;
			cursor: pointer;
			opacity: 0;
		}
		.upload_box{
			display: flex;
			justify-content: center;
			align-items: center;
			flex-wrap: wrap;
		}	
		.da_img{
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
		.deleBtn{
			width: 100px;
			height:100px;  
			position: absolute;  
			text-align: center;  
			line-height: 100px;  
			z-index: 10;  
			font-size: 10px;  
			background-color: rgba(255,255,255,0.8);  
			color: #777;  
			opacity: 0;  
			transition-duration: :0.7s;  
			-webkit-transition-duration: 0.7s;  
			 cursor: default;
		}
		.deleBtn:hover{
			opacity: 1;  
		}
	&lt;/style&gt;
	&lt;script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"&gt;&lt;/script&gt;
	&lt;body&gt;
		&lt;div id="app"&gt;
			
			&lt;div class="upload_box"&gt;
				&lt;div class="add_box" v-show="showAdd" &gt;
					&lt;div class="add_icon"&gt;+&lt;/div&gt;
					&lt;div&gt;上传图片(最多5张)&lt;/div&gt;
					&lt;form action="" enctype="multipart/form-data"&gt;
						&lt;input type="file"  multiple="multiple"  accept="image/*" class="i_none" id="i0" @change="getImg" /&gt; 
					&lt;/form&gt;
				&lt;/div&gt;
				&lt;div class="add_box flex" v-for="(item,index) in img_list" :key="index" &gt;
					&lt;div class="deleBtn" @click="del(index)"&gt;删除&lt;/div&gt;
					&lt;img class="da_img" :src="item" /&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;script&gt;
			let vue=new Vue({
				el:"#app",
				data:{
					img_list:[],
					showAdd:true,
				},
					
				methods:{
					getImg(e){
						var file = e.target.files;
						// let oneUploadLen=file.length;
						// if(oneUploadLen&gt;5){
						// 	return alert("最多上传5张图片");
						// }
						for(var i = 0;i&lt;file.length;i++){
							let fileReader=new FileReader();
							fileReader.readAsDataURL(file[i]);
							//readAsDataURL方法将图片转为base64格式存储于result中
							let imgSize=file[i].size;
							if(imgSize&gt;1024*1024*1){
								return alert("上传图片不能超过1M");
							} 
							if(file[i].type != 'image/png' &amp;&amp; file[i].type != 'image/jpeg' &amp;&amp; file[i].type != 'image/gif'){
								return alert("图片上传格式不正确");
							}
							fileReader.onload=((res)=&gt;{//encodeURIComponent
								let img=res.srcElement.result;
								if(this.img_list.length&lt;4){
									this.img_list.push(img);
								}else if(this.img_list.length==4){
									this.img_list.push(img);
									this.showAdd=false;
								}
							})
							// 上传失败
							fileReader.onerror=((res)=&gt;{
								console.log(res)
							})
						}
					},
					del(index){
						this.img_list.splice(index,1)
					}
				},
				
				mounted() {
					
				},
				created() {
					
				},
			})
			
		&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93a0657a30c6591318470436aa76941f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue权限管理的设计与实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c41e8d3eeb29597d5c1a2e9418092afd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c#.net中实现文件上传下载的三种解决方案(推荐)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>