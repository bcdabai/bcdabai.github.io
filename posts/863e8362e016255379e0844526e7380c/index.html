<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ajax使用二维数组存取数据库,jquery ajax向后端传二维数组，及二维数组在数据库的储存... - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ajax使用二维数组存取数据库,jquery ajax向后端传二维数组，及二维数组在数据库的储存..." />
<meta property="og:description" content="当使用ajax传递二维数组到后端时，要讲其转换为json。
1. var selectProduct;//一个二维数组
2. var newSelectProduct = { }; // 定义一个空对象
for (var i = 0; i &lt; selectProduct.length; i &#43;&#43;) { // 遍历二维数组中的每一个成员
newSelectProduct[i] = { };
newSelectProduct[i][&#34;id&#34;] = selectProduct[i][&#34;id&#34;];
newSelectProduct[i][&#34;num&#34;] = selectProduct[i][&#34;num&#34;];
}
console.log(newSelectProduct); // 二维对象
3. newSelectProduct = JSON.stringify(newSelectProduct);
console.log(newSelectProduct); // json 对象
{&#34;0&#34;:{&#34;id&#34;:&#34;2&#34;,&#34;num&#34;:7},&#34;1&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;num&#34;:42}}
这样就可以通过ajax将数据传给后端了
4。 后端接收到的是是json字符串，
&#34;{&#34;0&#34;:{&#34;id&#34;:&#34;1&#34;,&#34;num&#34;:42},&#34;1&#34;:{&#34;id&#34;:&#34;2&#34;,&#34;num&#34;:7}}&#34; (length=48)
要在后端用json_decode,将其转化为对象
object(stdClass)[19]
public &#34;0&#34; =&gt;
object(stdClass)[20]
public &#34;id&#34; =&gt; string &#34;2&#34; (length=1)
public &#34;num&#34; =&gt; int 7" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/863e8362e016255379e0844526e7380c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-05T17:14:53+08:00" />
<meta property="article:modified_time" content="2021-08-05T17:14:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ajax使用二维数组存取数据库,jquery ajax向后端传二维数组，及二维数组在数据库的储存...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>当使用ajax传递二维数组到后端时，要讲其转换为json。</p> 
 <p>1.  var selectProduct;//一个二维数组</p> 
 <p align="center"><img src="https://images2.imgbox.com/b2/d7/FHj5Awm3_o.png" alt="44d52f3841623f3495ede749e3faa351.png"></p> 
 <p>2. var newSelectProduct = { }; // 定义一个空对象</p> 
 <p>for (var i = 0; i &lt; selectProduct.length; i ++) { // 遍历二维数组中的每一个成员</p> 
 <p>newSelectProduct[i] = { };</p> 
 <p>newSelectProduct[i]["id"] = selectProduct[i]["id"];</p> 
 <p>newSelectProduct[i]["num"] = selectProduct[i]["num"];</p> 
 <p>}</p> 
 <p>console.log(newSelectProduct); // 二维对象</p> 
 <p align="center"><img src="https://images2.imgbox.com/bc/1f/bVkpUHn0_o.png" alt="609a3f2e653189c07a628dc309e8e59b.png"></p> 
 <p>3. newSelectProduct = JSON.stringify(newSelectProduct);</p> 
 <p>console.log(newSelectProduct); // json 对象</p> 
 <p>{"0":{"id":"2","num":7},"1":{"id":"1","num":42}}</p> 
 <p>这样就可以通过ajax将数据传给后端了</p> 
 <p>4。 后端接收到的是是json字符串，</p> 
 <p>"{"0":{"id":"1","num":42},"1":{"id":"2","num":7}}" (length=48)</p> 
 <p>要在后端用json_decode,将其转化为对象</p> 
 <p>object(stdClass)[19]</p> 
 <p>public "0" =&gt;</p> 
 <p>object(stdClass)[20]</p> 
 <p>public "id" =&gt; string "2" (length=1)</p> 
 <p>public "num" =&gt; int 7</p> 
 <p>public "1" =&gt;</p> 
 <p>object(stdClass)[21]</p> 
 <p>public "id" =&gt; string "1" (length=1)</p> 
 <p>public "num" =&gt; int 42</p> 
 <p>1. 简化步骤</p> 
 <p>直接在前端将二维数组遍历成二维对象，ajax传到后端，可以直接在后端接收到二维数组，将二维数组存数据库的时候将其转化为json字符串(json_encode)方可存储。</p> 
 <p>从数据库取出来后用json_decode是一个数组。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/81489d54ca62dd20f4a8b651847b01b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">魔兽世界服务器不显示角色信息,网易公告：部分服务器限制新角色创建功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f879c4cc3d79199aa354e47992cc860/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">二分法边界问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>