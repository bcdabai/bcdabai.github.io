<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue2&#43;element-plus è¡¨æ ¼el-tableå‰ç«¯åˆ†é¡µã€æ’åºã€æœç´¢ä¸åŠ åºå· - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue2&#43;element-plus è¡¨æ ¼el-tableå‰ç«¯åˆ†é¡µã€æ’åºã€æœç´¢ä¸åŠ åºå·" />
<meta property="og:description" content="è™½ç„¶å¾ˆå¤šæ—¶å€™åç«¯ä¼šæŠŠåˆ†é¡µï¼Œæœç´¢ï¼Œæ’åºéƒ½åšå¥½ï¼Œä½†æ˜¯æœ‰äº›è¿”å›æ•°æ®å¹¶ä¸å¤šçš„é¡µé¢ï¼Œæˆ–è€…å…¶ä»–åŸå› ä¸èƒ½åç«¯åˆ†é¡µçš„é€šå¸¸ä¼šå‰ç«¯å¤„ç†ï¼Œè€Œå‰ç«¯åˆ†é¡µä¸€èˆ¬ä¼šæ¶‰åŠï¼šè¡¨æ ¼æ•°æ®çš„æœç´¢ï¼Œè¡¨æ ¼åˆ†é¡µï¼Œæ’åºï¼Œæœ‰äº›éœ€è¦åŠ ä¸€åˆ—åºå·ã€‚å®ç°æ•ˆæœå¦‚ä¸‹ï¼š
ç›®å½•
è¡¨æ ¼æ•°æ®
è¡¨æ ¼åˆ†é¡µ
è¡¨æ ¼åºå·
å‰ç«¯æ’åº
æœç´¢
è¡¨æ ¼æ•°æ® è¿™é‡Œä»¥this.showDataæ¥å­˜æ”¾è¡¨æ ¼çš„æ•°æ®ï¼Œ
showData: [], è¡¨æ ¼åˆ†é¡µ æˆ‘ä»¬éœ€è¦å¼•ç”¨ä¸€ä¸‹el-paginationç»„ä»¶ï¼Œå› ä¸ºå°±å‡ ä¸ªé¡µé¢æ˜¯å‰ç«¯åˆ†é¡µï¼Œæ‰€ä»¥æˆ‘æ˜¯æ²¡æœ‰å°è£…çš„
&lt;div class=&#34;block&#34;&gt; &lt;el-pagination :total=&#34;showData.length&#34;//å› ä¸ºæ˜¯å‰ç«¯åˆ†é¡µï¼Œæ‰€ä»¥ï¼ŒshowDataæ˜¯è·å–çš„è¡¨æ ¼æ‰€æœ‰æ•°æ® :current-page=&#34;query.page&#34; :page-size=&#34;query.page_size&#34; :page-sizes=&#34;[5, 10, 20, 50, 100]&#34; layout=&#34; total, sizes, prev, pager, next&#34; background @current-change=&#34;handleCurrentChange&#34;//é¡µé¢è·³è½¬ @size-change=&#34;handleSizeChange&#34;//é€‰æ‹©pageSize &gt;&lt;/el-pagination&gt; &lt;/div&gt; query: { page: 1, page_size: 10 }, åˆ†é¡µæœ‰ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•ï¼Œè·³è½¬é¡µé¢ä¸æ”¹å˜é¡µæ•°ï¼Œå¦‚ä¸‹ï¼š
handleSizeChange(val) { this.query.page = 1 this.query.page_size = val }, handleCurrentChange(val) { this.query.page = val }, è¡¨æ ¼åºå· ç»™è¡¨æ ¼åŠ åºå·ï¼Œå¦‚ä¸‹ï¼š
åŠ åºå·éœ€è¦å’Œåˆ†é¡µç»„ä»¶äº’åŠ¨ï¼Œè¿™é‡Œå…ˆåœ¨è¡¨æ ¼é‡Œé¢æ·»åŠ â€œåºå·â€åˆ—ï¼Œå› ä¸ºæ˜¯vue3 ï¼Œæ‰€ä»¥ç”¨templateï¼ŒåŠ ä¸€ä¸ªæ’æ§½ï¼Œæ–¹æ³•ä¸ºgetIndex(scope.$index)ï¼Œ
&lt;el-table size=&#34;medium&#34; style=&#34;width: 100%&#34; empty-text=&#34;æš‚æ— æ•°æ®&#34; :data=&#34;showData.slice((query.page - 1) * query." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/de7c3d6255cd27c700ceb3ae3ba350aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-10T18:03:10+08:00" />
<meta property="article:modified_time" content="2023-03-10T18:03:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue2&#43;element-plus è¡¨æ ¼el-tableå‰ç«¯åˆ†é¡µã€æ’åºã€æœç´¢ä¸åŠ åºå·</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>è™½ç„¶å¾ˆå¤šæ—¶å€™åç«¯ä¼šæŠŠåˆ†é¡µï¼Œæœç´¢ï¼Œæ’åºéƒ½åšå¥½ï¼Œä½†æ˜¯æœ‰äº›è¿”å›æ•°æ®å¹¶ä¸å¤šçš„é¡µé¢ï¼Œæˆ–è€…å…¶ä»–åŸå› ä¸èƒ½åç«¯åˆ†é¡µçš„é€šå¸¸ä¼šå‰ç«¯å¤„ç†ï¼Œè€Œå‰ç«¯åˆ†é¡µä¸€èˆ¬ä¼šæ¶‰åŠï¼šè¡¨æ ¼æ•°æ®çš„æœç´¢ï¼Œè¡¨æ ¼åˆ†é¡µï¼Œæ’åºï¼Œæœ‰äº›éœ€è¦åŠ ä¸€åˆ—åºå·ã€‚å®ç°æ•ˆæœå¦‚ä¸‹ï¼š</p> 
<p><img alt="" height="268" src="https://images2.imgbox.com/9f/3b/OEyJNpK8_o.png" width="465"></p> 
<p></p> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE" rel="nofollow">è¡¨æ ¼æ•°æ®</a></p> 
<p id="%E8%A1%A8%E6%A0%BC%E5%88%86%E9%A1%B5-toc" style="margin-left:40px;"><a href="#%E8%A1%A8%E6%A0%BC%E5%88%86%E9%A1%B5" rel="nofollow">è¡¨æ ¼åˆ†é¡µ</a></p> 
<p id="%E8%A1%A8%E6%A0%BC%E5%BA%8F%E5%8F%B7-toc" style="margin-left:40px;"><a href="#%E8%A1%A8%E6%A0%BC%E5%BA%8F%E5%8F%B7" rel="nofollow">è¡¨æ ¼åºå·</a></p> 
<p id="%E5%89%8D%E7%AB%AF%E6%8E%92%E5%BA%8F-toc" style="margin-left:40px;"><a href="#%E5%89%8D%E7%AB%AF%E6%8E%92%E5%BA%8F" rel="nofollow">å‰ç«¯æ’åº</a></p> 
<p id="%E6%90%9C%E7%B4%A2-toc" style="margin-left:40px;"><a href="#%E6%90%9C%E7%B4%A2" rel="nofollow">æœç´¢</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE">è¡¨æ ¼æ•°æ®</h3> 
<p>è¿™é‡Œä»¥this.showDataæ¥å­˜æ”¾è¡¨æ ¼çš„æ•°æ®ï¼Œ</p> 
<pre><code class="language-javascript">showData: [],</code></pre> 
<h3 id="%E8%A1%A8%E6%A0%BC%E5%88%86%E9%A1%B5">è¡¨æ ¼åˆ†é¡µ</h3> 
<p>æˆ‘ä»¬éœ€è¦å¼•ç”¨ä¸€ä¸‹el-paginationç»„ä»¶ï¼Œå› ä¸ºå°±å‡ ä¸ªé¡µé¢æ˜¯å‰ç«¯åˆ†é¡µï¼Œæ‰€ä»¥æˆ‘æ˜¯æ²¡æœ‰å°è£…çš„</p> 
<pre><code class="language-html">&lt;div class="block"&gt;
        &lt;el-pagination
          :total="showData.length"//å› ä¸ºæ˜¯å‰ç«¯åˆ†é¡µï¼Œæ‰€ä»¥ï¼ŒshowDataæ˜¯è·å–çš„è¡¨æ ¼æ‰€æœ‰æ•°æ®
          :current-page="query.page"
          :page-size="query.page_size"
          :page-sizes="[5, 10, 20, 50, 100]"
          layout=" total, sizes, prev, pager, next"
          background
          @current-change="handleCurrentChange"//é¡µé¢è·³è½¬
          @size-change="handleSizeChange"//é€‰æ‹©pageSize
        &gt;&lt;/el-pagination&gt;
      &lt;/div&gt;</code></pre> 
<pre><code class="language-javascript">query: {
        page: 1,
        page_size: 10
      },</code></pre> 
<p>Â åˆ†é¡µæœ‰ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•ï¼Œè·³è½¬é¡µé¢ä¸æ”¹å˜é¡µæ•°ï¼Œå¦‚ä¸‹ï¼š</p> 
<pre><code class="language-javascript"> handleSizeChange(val) {
      this.query.page = 1
      this.query.page_size = val
    },
    handleCurrentChange(val) {
      this.query.page = val
    },</code></pre> 
<h3 id="%E8%A1%A8%E6%A0%BC%E5%BA%8F%E5%8F%B7">è¡¨æ ¼åºå·</h3> 
<p>ç»™è¡¨æ ¼åŠ åºå·ï¼Œå¦‚ä¸‹ï¼š</p> 
<p><img alt="" height="419" src="https://images2.imgbox.com/6e/54/Ex05z9hl_o.png" width="107"></p> 
<p><img alt="" height="103" src="https://images2.imgbox.com/31/d3/4IfC1xnu_o.png" width="622"></p> 
<p><strong>åŠ åºå·</strong>éœ€è¦å’Œåˆ†é¡µç»„ä»¶äº’åŠ¨ï¼Œè¿™é‡Œå…ˆåœ¨è¡¨æ ¼é‡Œé¢æ·»åŠ â€œåºå·â€åˆ—ï¼Œå› ä¸ºæ˜¯vue3 ï¼Œæ‰€ä»¥ç”¨templateï¼ŒåŠ ä¸€ä¸ªæ’æ§½ï¼Œæ–¹æ³•ä¸ºgetIndex(scope.$index)ï¼Œ</p> 
<pre><code class="language-html">    &lt;el-table
        size="medium"
        style="width: 100%"
          empty-text="æš‚æ— æ•°æ®"
          :data="showData.slice((query.page - 1) * query.page_size, query.page * query.page_size)"
          scrollbar-always-on
          @sort-change="sort_change"//æ’åº
        &gt;
          &lt;el-table-column label="åºå·" type="index" width="60"&gt;
            &lt;template #default="scope"&gt;
              &lt;span v-text="getIndex(scope.$index)"&gt;&lt;/span&gt;
            &lt;/template&gt;
          &lt;/el-table-column&gt;
 &lt;el-table-column
            label="æ“ä½œ"
            width="280px"&gt;
            &lt;template #default="scope"&gt;
              &lt;span @click="seeSubjects(scope.row)"&gt;
                &lt;el-link type="primary" :underline="false" style="line-height: 18px"&gt;æŸ¥çœ‹&lt;/el-link&gt;
              &lt;/span&gt;
            &lt;/template&gt;
          &lt;/el-table-column&gt;
    &lt;/el-table&gt;</code></pre> 
<p>Â è¿™é‡Œæ ¹æ®ä¹‹å‰å®šä¹‰çš„å½“å‰çš„é¡µæ•°pageå’Œæ¯é¡µçš„å¤§å°page_sizeè®¡ç®—å‡ºåºå·ã€‚æ³¨æ„ä¸€å®šè¦ä¼ indexã€‚</p> 
<pre><code class="language-javascript"> //è·å–è¡¨æ ¼åºå·
    getIndex(index) {
      return (this.query.page - 1) * this.query.page_size + index + 1
    },</code></pre> 
<p>è‡³æ­¤è¡¨æ ¼çš„åˆ†é¡µä¸æ’åºğŸ†—äº†ã€‚</p> 
<p></p> 
<h3 id="%E5%89%8D%E7%AB%AF%E6%8E%92%E5%BA%8F">å‰ç«¯æ’åº</h3> 
<p>å› ä¸ºä»¥åŠå‰ç«¯åˆ†é¡µäº†ï¼Œæ’åºä¹Ÿå¯ä»¥å‰ç«¯å»æ’äº†ã€‚</p> 
<p>æ’åºçš„æ–¹æ³•æ˜¯sort_changeï¼ˆï¼‰,è¿™ä¸ªæ–¹æ³•è‡ªå¸¦å‚æ•°ã€‚</p> 
<pre><code class="language-javascript"> sort_change(column) {
      // columnæ˜¯ä¸ªå½¢å‚ï¼Œå…·ä½“æŸ¥çœ‹element-uiæ–‡æ¡£
      if (this.search != '') {
        this.showData = this.tableData
          .filter((data) =&gt; {
            return Object.keys(data).some((key) =&gt; {
              if (this.SearchData.indexOf(key) &gt; -1) {
                return String(data[key]).toLowerCase().indexOf(this.search.toLowerCase()) &gt; -1
              }
            })
          })
          .sort(this.sortFun(column.prop, column.order === 'ascending'))
      } else {
        // eslint-disable-next-line vue/no-mutating-props
        this.showData = this.tableData.sort(this.sortFun(column.prop, column.order === 'ascending'))
      }
      this.query.page = 1
    },

 sortFun(attr, rev) {
      //ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥infoé‡Œçš„propè¡¨ç¤ºæ’çš„æ˜¯å“ªä¸€åˆ—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡è¿˜æ˜¯é™æ’åº
      if (rev == undefined) {
        rev = 1
      } else {
        rev = rev ? 1 : -1
      }
      return function (a, b) {
        a = a[attr]
        b = b[attr]
        if (a &amp;&amp; b) {
          console.log(a, b, 999)
          if (a &lt; b) {
            return rev * -1
          }
          if (a &gt; b) {
            return rev * 1
          }
        }
        return 0
      }
    },</code></pre> 
<p>å‰ç«¯æ’åºçš„æ—¶å€™ï¼Œå¦‚æœä¸æ˜¯å…¨éƒ¨åˆ†é¡µï¼Œå¯ä»¥åœ¨æ¯ä¸€åˆ—é‡ŒåŠ Customï¼Œä»£è¡¨è‡ªå®šä¹‰æ’åºæ–¹æ³•</p> 
<pre><code class="language-html"> &lt;el-table-column :sortable="custom" &gt;&lt;/el-table-column&gt;</code></pre> 
<h3 id="%E6%90%9C%E7%B4%A2">æœç´¢</h3> 
<pre><code class="language-html">&lt;span style="margin-right: 8px; font-size: 16px"&gt;æœç´¢&lt;/span&gt;
&lt;el-input v-model="search" style="width: 30%" size="large" placeholder="è¯·è¾“å…¥æœç´¢å…³é”®å­—"&gt;&lt;/el-input&gt;</code></pre> 
<p>æœç´¢çš„å­—æ®µæ˜¯search,å®ƒçš„æ–¹æ³•æ˜¯search_changeï¼ˆï¼‰</p> 
<p><br> Â </p> 
<pre><code class="language-javascript">search_change() {
Â  Â  Â  this.showData = this.tableData.filter((data) =&gt; {
Â  Â  Â  Â  return Object.keys(data).some((key) =&gt; {
Â  Â  Â  Â //2023.03.10ä¿®æ”¹ï¼Œè¿™é‡Œçš„ä¸€æ®µä»£ç å¹¶ä¸éœ€è¦ï¼Œåªåœ¨tableData2ä¸­æ£€ç´¢å°±å¯ä»¥è¾¾åˆ°æ¨¡ç³ŠæŸ¥è¯¢
Â  Â  Â  Â  Â  Â  return String(data[key]).toLowerCase().indexOf(this.search.toLowerCase()) &gt; -1
Â  Â  Â  Â  Â  
Â  Â  Â  Â  })
Â  Â  Â  })
Â  Â  },</code></pre> 
<p>è¿™é‡Œé¢æ¶‰åŠä¸€ä¸ªå­—æ®µï¼ŒSearchData,è¿™é‡Œæ˜¯åœ¨è·å–æ•°æ®è¡¨æ ¼æ—¶ï¼Œå¤åˆ¶æ•°æ®è¡¨æ ¼æ•°æ®çš„è¡¨æ ¼ã€‚</p> 
<p>æœç´¢é‡Œï¼Œå¦‚æœéœ€è¦å®æ—¶æœç´¢ï¼Œé‚£ä¹ˆå¯ä»¥åŠ ä¸€ä¸ªç›‘å¬ï¼Œå½“è¾“å…¥æ¡†çš„å†…å®¹å˜åŒ–æ—¶ï¼Œå°±å»æœç´¢ã€‚å¦‚å›¾ï¼š</p> 
<p><img alt="" height="62" src="https://images2.imgbox.com/95/4b/7m2u9pWa_o.png" width="388"></p> 
<p></p> 
<pre><code class="language-javascript"> watch: {
    search(newVal, oldVal) {
      this.search_change()
    }
  },</code></pre> 
<p>ä»¥ä¸Šæ—¶å¸¸è§çš„å‰ç«¯è¡¨æ ¼ç›¸å…³çš„å¤„ç†æ“ä½œã€‚</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/119ce83b454798de1e25c0e003b2db94/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æœåŠ¡å™¨Nginxå®‰è£…å®æˆ˜</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b091948e94e522f8882db7f7184f89eb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Vue.jså¼€å‘ä¸­é¢å‘å¯¹è±¡å¼€å‘æ€»ç»“</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>