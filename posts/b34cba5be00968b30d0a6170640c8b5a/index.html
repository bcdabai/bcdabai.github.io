<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CF 444A(DZY Loves Physics-诱导子图的密度) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CF 444A(DZY Loves Physics-诱导子图的密度)" />
<meta property="og:description" content="A. DZY Loves Physics time limit per test 1 second memory limit per test 256 megabytes input standard input output standard output DZY loves Physics, and he enjoys calculating density.
Almost everything has density, even a graph. We define the density of a non-directed graph (nodes and edges of the graph have some values) as follows:
where v is the sum of the values of the nodes, e is the sum of the values of the edges." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b34cba5be00968b30d0a6170640c8b5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-07-09T22:22:00+08:00" />
<meta property="article:modified_time" content="2014-07-09T22:22:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CF 444A(DZY Loves Physics-诱导子图的密度)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<div class="header" style="margin:0px 0px 1em; padding:0px; text-align:center; color:rgb(34,34,34); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:21px"> 
 <div class="title" style="margin:0px 0px 0.5em; padding:0px; font-size:21px">
   A. DZY Loves Physics 
 </div> 
 <div class="time-limit" style="margin:0px auto; padding:0px"> 
  <div class="property-title" style="margin:0px; padding:0px 4px 0px 0px; display:inline">
    time limit per test 
  </div> 1 second 
 </div> 
 <div class="memory-limit" style="margin:0px auto; padding:0px"> 
  <div class="property-title" style="margin:0px; padding:0px 4px 0px 0px; display:inline">
    memory limit per test 
  </div> 256 megabytes 
 </div> 
 <div class="input-file" style="margin:0px auto; padding:0px"> 
  <div class="property-title" style="margin:0px; padding:0px 4px 0px 0px; display:inline">
    input 
  </div> standard input 
 </div> 
 <div class="output-file" style="margin:0px auto; padding:0px"> 
  <div class="property-title" style="margin:0px; padding:0px 4px 0px 0px; display:inline">
    output 
  </div> standard output 
 </div> 
</div> 
<div style="margin:0px; padding:0px; color:rgb(34,34,34); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:21px"> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> <span class="tex-font-style-it" style="font-style:italic">DZY loves Physics, and he enjoys calculating density.</span></p> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> Almost everything has density, even a graph. We define the density of a non-directed graph (nodes and edges of the graph have some values) as follows:</p> 
 <center class="tex-equation"> 
  <img src="https://images2.imgbox.com/79/c1/SVL5lGo2_o.png" alt=""> 
 </center> where  
 <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>v</em></span> is the sum of the values of the nodes,  
 <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>e</em></span> is the sum of the values of the edges. 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> Once DZY got a graph <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em></span>, now he wants to find a connected induced subgraph <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em>'</span> of the graph, such that the density of <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em>'</span> is as large as possible.</p> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> An induced subgraph <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em>'(<em>V</em>', <em>E</em>')</span> of a graph <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em>(<em>V</em>, <em>E</em>)</span> is a graph that satisfies:</p> 
 <ul style="margin:0.5em 0px 0px 1em; padding:0px; list-style-position:outside; font-size:1em; line-height:1.5em"><li style="margin:0px 0px 0px 0.8em; padding:0px; line-height:1.5em; font-size:1em"> <img src="https://images2.imgbox.com/b0/63/5at0T7BP_o.png" alt="">;</li><li style="margin:0px 0px 0px 0.8em; padding:0px; line-height:1.5em; font-size:1em"> edge <img src="https://images2.imgbox.com/af/b0/yOBgWoxK_o.png" alt=""> if and only if <img src="https://images2.imgbox.com/9c/24/FX7Ud5Nw_o.png" alt="">, and edge <img src="https://images2.imgbox.com/4f/51/a6FC5nGg_o.png" alt="">;</li><li style="margin:0px 0px 0px 0.8em; padding:0px; line-height:1.5em; font-size:1em"> the value of an edge in <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em>'</span> is the same as the value of the corresponding edge in <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em></span>, so as the value of a node.</li></ul> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> Help DZY to find the induced subgraph with maximum density. Note that the induced subgraph you choose must be connected.</p> 
 <center> 
  <img src="https://images2.imgbox.com/51/10/evZXXMRT_o.png" alt=""> 
 </center> 
</div> 
<div class="input-specification" style="margin:0px; padding:0px; color:rgb(34,34,34); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:21px"> 
 <div class="section-title" style="margin:0px; padding:0px; font-size:16px; font-weight:bold">
   Input 
 </div> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> The first line contains two space-separated integers <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>n</em> (1 ≤ <em>n</em> ≤ 500)</span>, <img src="https://images2.imgbox.com/bc/6d/ApdZm2eS_o.png" alt="">. Integer <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>n</em></span> represents the number of nodes of the graph <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>G</em></span>, <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>m</em></span> represents the number of edges.</p> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> The second line contains <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>n</em></span> space-separated integers <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>x</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> (1 ≤ <em>x</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> ≤ 10<span class="upper-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; top:-0.5em">6</span>)</span>, where <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>x</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span></span> represents the value of the <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>i</em></span>-th node. Consider the graph nodes are numbered from <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif">1</span> to <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>n</em></span>.</p> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> Each of the next <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>m</em></span> lines contains three space-separated integers <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>a</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span>, <em>b</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span>, <em>c</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> (1 ≤ <em>a</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> &lt; <em>b</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> ≤ <em>n</em>; 1 ≤ <em>c</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span> ≤ 10<span class="upper-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; top:-0.5em">3</span>)</span>, denoting an edge between node <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>a</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span></span> and <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>b</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span></span> with value <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif"><em>c</em><span class="lower-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; bottom:-0.25em"><em>i</em></span></span>. The graph won't contain multiple edges.</p> 
</div> 
<div class="output-specification" style="margin:0px 0px 1em; padding:0px; color:rgb(34,34,34); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:21px"> 
 <div class="section-title" style="margin:0px; padding:0px; font-size:16px; font-weight:bold">
   Output 
 </div> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> Output a real number denoting the answer, with an absolute or relative error of at most <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif">10<span class="upper-index" style="font-size:13px; line-height:0; position:relative; vertical-align:baseline; top:-0.5em"> - 9</span></span>.</p> 
</div> 
<div class="sample-tests" style="margin:0px; padding:0px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; font-size:0.9em; color:rgb(34,34,34); line-height:21px"> 
 <div class="section-title" style="margin:0px; padding:0px; font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; font-weight:bold">
   Sample test(s) 
 </div> 
 <div class="sample-test" style="margin:0px; padding:0px"> 
  <div class="input" style="margin:0px; padding:0px; border:1px solid rgb(136,136,136)"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     input 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">1 0
1
</pre> 
  </div> 
  <div class="output" style="margin:0px 0px 1em; padding:0px; border:1px solid rgb(136,136,136); position:relative; top:-1px"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     output 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">0.000000000000000
</pre> 
  </div> 
  <div class="input" style="margin:0px; padding:0px; border:1px solid rgb(136,136,136)"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     input 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">2 1
1 2
1 2 1
</pre> 
  </div> 
  <div class="output" style="margin:0px 0px 1em; padding:0px; border:1px solid rgb(136,136,136); position:relative; top:-1px"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     output 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">3.000000000000000
</pre> 
  </div> 
  <div class="input" style="margin:0px; padding:0px; border:1px solid rgb(136,136,136)"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     input 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">5 6
13 56 73 98 17
1 2 56
1 3 29
1 4 42
2 3 95
2 4 88
3 4 63
</pre> 
  </div> 
  <div class="output" style="margin:0px 0px 1em; padding:0px; border:1px solid rgb(136,136,136); position:relative; top:-1px"> 
   <div class="title" style="margin:0px; padding:0.25em; font-size:1.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(136,136,136); text-transform:lowercase; font-weight:bold">
     output 
   </div> 
   <pre style="margin-top:0px; margin-bottom:0px; padding:0.25em; font-size:13px; font-family:Consolas,'Lucida Console','Andale Mono','Bitstream Vera Sans Mono','Courier New',Courier; line-height:1.25em; white-space:pre-wrap; word-wrap:break-word; color:rgb(136,0,0); background-color:rgb(239,239,239)">2.965517241379311
</pre> 
  </div> 
 </div> 
</div> 
<div class="note" style="margin:0px; padding:0px; color:rgb(34,34,34); font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; font-size:14px; line-height:21px"> 
 <div class="section-title" style="margin:0px; padding:0px; font-size:16px; font-weight:bold">
   Note 
 </div> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> In the first sample, you can only choose an empty subgraph, or the subgraph containing only node <span class="tex-span" style="font-size:18px; font-family:'times new roman',sans-serif">1</span>.</p> 
 <p style="margin-top:1.5em; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-size:1em; line-height:1.4em"> In the second sample, choosing the whole graph is optimal.</p> 
</div> 
<br> 
<p></p> 
<p><span style="font-size:14px">证明：必然存在一条边数≤1的最优解</span></p> 
<p><span style="font-size:14px">假设存在最优解(G)ans最小边数&gt;1，则点数&gt;2</span></p> 
<p><span style="font-size:14px">ans=∑vi/∑c </span></p> 
<p><span style="font-size:14px">由假设知对G的子图,(u+v)/c&lt;ans ,(u+v)&lt;ans*c</span></p> 
<p><span style="font-size:14px">∴∑u+∑v&lt;ans*∑c ,(<span style="font-size:14px">∑u+∑v)/<span style="font-size:14px">∑c&lt;<span style="font-size:14px">ans<span style="font-size:14px">=</span><span style="font-size:14px">∑vi/∑c</span></span></span></span></span></p> 
<p><span style="font-size:14px">∴<span style="font-size:14px">(</span><span style="font-size:14px">∑u+∑v)&lt;<span style="font-size:14px">∑vi 矛盾</span></span></span></p> 
<p><span style="font-size:14px"><span style="font-size:14px"><span style="font-size:14px">结论成立</span></span></span></p> 
<p><span style="font-size:14px"><span style="font-size:14px"><span style="font-size:14px"><br> </span></span></span></p> 
<p><span style="font-size:14px"><span style="font-size:14px"><span style="font-size:14px">所以只要判断所有的只取1条边，和不取的情况 O(m)</span></span></span></p> 
<p><span style="font-size:14px"><span style="font-size:14px"><span style="font-size:14px"><br> </span></span></span></p> 
<p><span style="font-size:14px"><span style="font-size:14px"><span style="font-size:14px"><br> </span></span></span></p> 
<p><br> <span style="font-size:14px"><br> <span style="font-size:14px"></span></span></p> 
<p><br> </p> 
<p></p> 
<pre><code class="language-cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;cstdlib&gt;
#include&lt;algorithm&gt;
#include&lt;functional&gt;
#include&lt;iostream&gt;
#include&lt;cmath&gt;
#include&lt;cctype&gt;
#include&lt;ctime&gt;
#include&lt;iomanip&gt;
using namespace std;
#define For(i,n) for(int i=1;i&lt;=n;i++)
#define Fork(i,k,n) for(int i=k;i&lt;=n;i++)
#define Rep(i,n) for(int i=0;i&lt;n;i++)
#define ForD(i,n) for(int i=n;i;i--)
#define RepD(i,n) for(int i=n;i&gt;=0;i--)
#define Forp(x) for(int p=pre[x];p;p=next[p])
#define Lson (x&lt;&lt;1)
#define Rson ((x&lt;&lt;1)+1)
#define MEM(a) memset(a,0,sizeof(a));
#define MEMI(a) memset(a,127,sizeof(a));
#define MEMi(a) memset(a,128,sizeof(a));
#define INF (2139062143)
#define F (100000007)
#define MAXN (500+10)
#define MAXM (MAXN*MAXN)
#define MAXAi (1e6)
#define MAXCi (1e3)
long long mul(long long a,long long b){return (a*b)%F;}
long long add(long long a,long long b){return (a+b)%F;}
long long sub(long long a,long long b){return (a-b+(a-b)/F*F+F)%F;}
typedef long long ll;
typedef long double ld;
int n,m,a[MAXN];
ld ans=0.0;
int main()
{
//	freopen("Physics.in","r",stdin);
	scanf("%d%d",&amp;n,&amp;m);
	For(i,n) scanf("%d",&amp;a[i]);
	For(i,m)
	{
		int u,v;
		double c;
		scanf("%d%d%lf",&amp;u,&amp;v,&amp;c);
		ans=max(ans,(ld)(a[u]+a[v])/c);
	}
	cout&lt;&lt;setiosflags(ios::fixed)&lt;&lt;setprecision(100)&lt;&lt;ans;
	
	return 0;
}
</code></pre> 
<br> 
<br> 
<p></p> 
<p><br> </p> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c4646995e4cce27ec43101cd12e978b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">golang时间处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e529866f5d532146aab8f8fd5b958740/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">取得数据库表结构</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>