<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ES6的一些高级技巧 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ES6的一些高级技巧" />
<meta property="og:description" content="引言 ES6（ECMAScript 2015）引入了许多新的功能和语法，其中一些功能可能相对较冷门，但非常实用。本文将介绍一些这样的高级技巧，包括
Object.entries()
Object.fromEntries()
Symbol类型和Symbol属性
WeakMap和WeakSet
Promise.allSettled()
BigInt
Array.of
Array.from
.at和flat
1. Object.entries()和Object.fromEntries() Object.entries()方法返回一个给定对象自身可枚举属性的键值对数组。Object.fromEntries()方法将键值对列表转换为一个对象。 当使用Object.entries()时，可以传入一个对象作为参数。这个对象可以是任何具有可枚举属性的对象。例如：
const obj = { a: 1, b: 2, c: 3 }; const entries = Object.entries(obj); console.log(entries); // [[&#34;a&#34;, 1], [&#34;b&#34;, 2], [&#34;c&#34;, 3]] 在这个例子中，我们将一个包含三个属性的对象传递给Object.entries()方法，并将返回的结果存储在entries变量中。entries变量现在是一个包含键值对数组的数组。
同样地，当使用Object.fromEntries()时，可以传入一个键值对数组作为参数。这个数组中的每个元素都是一个包含键和值的数组。例如：
const entries = [[&#34;a&#34;, 1], [&#34;b&#34;, 2], [&#34;c&#34;, 3]]; const obj = Object.fromEntries(entries); console.log(obj); // { a: 1, b: 2, c: 3 } 在这个例子中，我们将一个包含三个键值对的数组传递给Object.fromEntries()方法，并将返回的结果存储在obj变量中。obj变量现在是一个由键值对组成的对象。
2. Symbol类型和Symbol属性 Symbol是一种新的原始数据类型，用于创建唯一的标识符。
Symbol属性是对象中使用Symbol作为键创建的属性。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2c0ffbaa94cbc7d52d438b61bfa79af1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-15T17:55:12+08:00" />
<meta property="article:modified_time" content="2024-01-15T17:55:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ES6的一些高级技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>引言</h3> 
<p>ES6（ECMAScript 2015）引入了许多新的功能和语法，其中一些功能可能相对较冷门，但非常实用。本文将介绍一些这样的高级技巧，包括</p> 
<ul><li> <p>Object.entries()</p> </li><li> <p>Object.fromEntries()</p> </li><li> <p>Symbol类型和Symbol属性</p> </li><li> <p>WeakMap和WeakSet</p> </li><li> <p>Promise.allSettled()</p> </li><li> <p>BigInt</p> </li><li> <p>Array.of</p> </li><li> <p>Array.from</p> </li><li> <p>.at和flat</p> </li><li> <p></p> </li></ul> 
<h3>1. Object.entries()和Object.fromEntries()</h3> 
<ul><li>Object.entries()方法返回一个给定对象自身可枚举属性的键值对数组。</li><li>Object.fromEntries()方法将键值对列表转换为一个对象。</li></ul> 
<p>当使用Object.entries()时，可以传入一个对象作为参数。这个对象可以是任何具有可枚举属性的对象。例如：</p> 
<pre><code class="language-javascript">const obj = { a: 1, b: 2, c: 3 };
 const entries = Object.entries(obj); 
console.log(entries); // [["a", 1], ["b", 2], ["c", 3]]</code></pre> 
<p>在这个例子中，我们将一个包含三个属性的对象传递给Object.entries()方法，并将返回的结果存储在entries变量中。entries变量现在是一个包含键值对数组的数组。</p> 
<p>同样地，当使用Object.fromEntries()时，可以传入一个键值对数组作为参数。这个数组中的每个元素都是一个包含键和值的数组。例如：</p> 
<pre><code class="language-javascript">const entries = [["a", 1], ["b", 2], 
["c", 3]]; const obj = Object.fromEntries(entries);
 console.log(obj); // { a: 1, b: 2, c: 3 }</code></pre> 
<p>在这个例子中，我们将一个包含三个键值对的数组传递给Object.fromEntries()方法，并将返回的结果存储在obj变量中。obj变量现在是一个由键值对组成的对象。</p> 
<h3>2. Symbol类型和Symbol属性</h3> 
<ul><li> <p>Symbol是一种新的原始数据类型，用于创建唯一的标识符。</p> </li><li> <p>Symbol属性是对象中使用Symbol作为键创建的属性。</p> <pre><code class="language-javascript">const sym = Symbol('description');
 const obj = { [sym]: 'value' };
 console.log(obj[sym]); // value</code></pre> <p></p> </li></ul> 
<h3>3. WeakMap和WeakSet</h3> 
<ul><li> <p>WeakMap是一种集合类型，其中键必须是对象，并且在没有其他引用时会被垃圾回收。</p> </li><li> <p>WeakSet是一种集合类型，其中元素必须是对象，并且在没有其他引用时会被垃圾回收。</p> <pre><code class="language-javascript">const wm = new WeakMap(); 
const obj = {}; 
wm.set(obj, 'value'); 
console.log(wm.get(obj)); 
// value const ws = new WeakSet(); 
ws.add(obj);
 console.log(ws.has(obj)); // true</code></pre> <p>在这个例子中，我们创建了一个WeakMap和一个WeakSet实例。我们使用set()方法将obj对象添加到WeakMap中，并将值设置为'value'。然后，我们使用get()方法从WeakMap中获取值。类似地，我们使用add()方法将obj对象添加到WeakSet中，并使用has()方法检查集合中是否存在该对象。</p> </li></ul> 
<h3>4. Promise.allSettled()</h3> 
<ul><li>Promise.allSettled()方法返回一个在所有给定的promise已被解析或被拒绝后决议的promise，并带有一个对象数组，每个对象表示对应的promise结果。</li></ul> 
<p>我们创建了一个包含三个promise的数组，并将其传递给Promise.allSettled()方法。然后，我们使用.then()方法处理返回的结果数组，或使用.catch()方法处理任何错误。</p> 
<h3>5. BigInt</h3> 
<ul><li>BigInt是一种新的原始数据类型，用于表示任意精度的整数。</li></ul> 
<pre><code class="language-javascript">const bigIntValue = BigInt(Number.MAX_SAFE_INTEGER) + BigInt(1); 
console.log(bigIntValue); // 9007199254740992n</code></pre> 
<h3>6. Array.of、Array.from</h3> 
<ul><li> <p>Array.of()方法创建一个具有可变数量参数的新数组实例。</p> </li><li> <p>Array.of方法用于创建一个由参数组成的新数组。它与Array构造函数不同之处在于，当参数只有一个且为数字时，Array.of会创建一个只包含该数字的数组，而不是创建指定长度的空数组。</p> </li><li> <p>Array.from()方法从类似数组或可迭代对象创建一个新的数组实例。</p> </li><li> <p>Array.from方法将类似数组或可迭代对象转换为真正的数组。它可以接收第二个参数来进行映射或筛选操作。</p> </li></ul> 
<pre><code class="language-javascript">const arr1 = Array.of(1, 2, 3);
 console.log(arr1); // [1, 2, 3]
 const str = 'Hello'; 
const arr = Array.from(str);
 console.log(arr); // 输出: ['H', 'e', 'l', 'l', 'o']
 const nums = [1, 2, 3, 4, 5]; 
const doubled = Array.from(nums, num =&gt; num * 2);
 console.log(doubled); // 输出: [2, 4, 6, 8, 10]</code></pre> 
<h3>7. .at和flat</h3> 
<ul><li> <p>.at()方法返回指定索引处的元素。</p> </li><li> <p>.at方法用于获取数组指定索引位置的元素，支持负数索引。</p> </li><li> <p>flat()方法将嵌套的数组扁平化为一个新的数组。</p> </li><li> <p>flat方法用于将多维数组扁平化为一维数组，可以指定扁平化的层数。</p> </li></ul> 
<pre><code class="language-javascript">const arr3 = [1, 2, 3, 4, 5]; 
console.log(arr3.at(2)); // 3 
const arr4 = [1, [2, [3]]]; 
console.log(arr4.flat()); // [1, 2, [3]]</code></pre> 
<h3>总结</h3> 
<p>ES6引入了许多实用但相对较冷门的高级技巧。<code>Object.entries()</code>和<code>Object.fromEntries()</code>可以方便地在对象和键值对之间进行转换。<code>Symbol</code>类型和<code>Symbol</code>属性可以创建唯一的标识符。<code>WeakMap</code>和<code>WeakSet</code>提供了一种在没有其他引用时自动垃圾回收的集合类型。<code>Promise.allSettled()</code>可以处理多个promise并返回所有结果。<code>BigInt</code>允许表示任意精度的整数。<code>Array.of</code>、<code>Array.from</code>、<code>.at</code>和<code>flat</code>提供了更方便的数组操作方法。这些技巧可以帮助开发者更高效地编写代码。</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c7b3a70226c984f0431e40c78791e03f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">openssl3.2 - 官方demo学习 - mac - siphash.c</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e8617acaa63e4e767a26a484f0fb61e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024-01-05 C语言定义的函数名里面插入宏定义，对函数名进行封装，可以通过宏定义批量修改整个文件的函数名里面的内容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>