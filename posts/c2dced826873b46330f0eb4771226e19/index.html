<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql 数据库导入导出方法总结（是时候总结） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql 数据库导入导出方法总结（是时候总结）" />
<meta property="og:description" content="(0)目录
走，是一辈子，不走，也是一辈子（程序猿之路）
Navicat连接mysql出现2003——can&#39;t connect to mysql server on localhost(10061)
mysql 数据库导入导出方法总结（是时候总结）
注意：mysqldump 是在 操作系统命令行下运行的。
不是在 mysql 命令行下运行的，进入MySQL目录下的bin文件夹,如：C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;
一般形式：mysqldump -h IP -u 用户名 -p 数据库名 &gt; 导出的文件名 （1）-p 后面不能加password，只能单独输入如1中那样 （2）mysqldump是在cmd下的命令，不能再mysql下面，即不能进入mysql的（即use dpname下，得exit退出mysql下才可以的。）
一：数据库的导出（备份）
0:(备份数据库即导出所有表以及数据 不加-d)
mysqldump -h localhost -u root -p test &gt; G:\arcgisworkspace\zypdoc\test.sql
1：(备份数据库即导出所有表结构)
C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;mysqldump -h localhost -u root -p -d test &gt; G:\arcgisworkspace\zypdoc\test.sql ENTER PASSWORD:******
2 ：(导出某张表的表结构不含数据)
mysqldump -h localhost -u root -p -d test pollution &gt; G:\arcgisworkspace\zypdoc\test." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c2dced826873b46330f0eb4771226e19/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-10-28T20:21:29+08:00" />
<meta property="article:modified_time" content="2014-10-28T20:21:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql 数据库导入导出方法总结（是时候总结）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong></strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> <span style="font-size:18px"><strong>(0)目录</strong></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> <span style="font-size:18px"><strong><a target="_blank" href="http://blog.csdn.net/u010700335/article/details/41893321" style='color:rgb(102,102,102); font-family:"Microsoft YaHei"; font-size:20px; line-height:30px' rel="noopener noreferrer">走，是一辈子，不走，也是一辈子（程序猿之路）</a><br> </strong></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> <span style="font-size:18px"><a target="_blank" href="http://blog.csdn.net/u010700335/article/details/45765749" style='color:rgb(102,102,102); font-family:"Microsoft YaHei"; font-size:20px; line-height:30px' rel="noopener noreferrer">Navicat连接mysql出现2003——can't connect to mysql server on localhost(10061)</a><br> </span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> <span class="ico ico_type_Original" style='display:inline-block; width:19px; height:19px; margin:0px 2px 0px 0px; vertical-align:middle; font-family:"Microsoft YaHei"; font-size:20px'></span><a target="_blank" href="http://blog.csdn.net/u010700335/article/details/40554703" style='color:rgb(102,102,102); font-family:"Microsoft YaHei"; font-size:20px' rel="noopener noreferrer">mysql 数据库导入导出方法总结（是时候总结）</a></p> 
<br> 
<p><strong>注意：mysqldump  是在  操作系统命令行下运行的。</strong></p> 
<p>不是在 mysql 命令行下运行的，进入MySQL目录下的bin文件夹,如：C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;</p> 
<strong><span style="color:#ff0000">一般形式：mysqldump -h IP -u 用户名 -p 数据库名 &gt; 导出的文件名</span></strong> 
<br> 
<p><strong>（1）-p 后面不能加password，只能单独输入如1中那样 （2）mysqldump是在cmd下的命令，不能再mysql下面，即不能进入mysql的（即use dpname下，得exit退出mysql下才可以的。）</strong></p> 
<p>一：数据库的导出（备份）</p> 
<p>0:(备份数据库即导出所有表以及数据 不加-d)</p> 
<p>mysqldump -h localhost -u root -p test &gt; G:\arcgisworkspace\zypdoc\test.sql</p> 
<p>1：(备份数据库即导出所有表结构)</p> C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;mysqldump -h localhost -u root -p -d test &gt; G:\arcgisworkspace\zypdoc\test.sql 
<br> 
<p>ENTER PASSWORD:******</p> 
<p>2 ：(导出某张表的表结构不含数据)</p> 
<p>mysqldump -h localhost -u root -p -d test pollution &gt; G:\arcgisworkspace\zypdoc\test.sql</p> 
<p><strong>3：(导出某张表的表结构和数据，不加-d)</strong></p> 
<p>mysqldump -h 127.0.0.1 -u root -p test pollution &gt; G:\arcgisworkspace\zypdoc\test.sql</p> 
<br> 
<p>0：备份多个数据库的语法C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;</p> 
<p>mysqldump -h 127.0.0.1 -u root -p --databases test bank &gt; G:\arcgisworkspace\zypdoc\test.sql</p> 或 mysqldump -h 127.0.0.1 -u root -p --databases test bank &gt; G:\arcgisworkspace\zypdoc\test.txt 是没有用的，因为仍然是sql的格式。 
<br> 
<br> 1:备份所有的数据库的语法C:\Program Files\MySQL\MySQL Server 5.5\bin&gt; 
<br> mysqldump -h 127.0.0.1 -u root -p --all -databases &gt; G:\arcgisworkspace\zypdoc\test.sql(暂时没有通过，不知道为什呢) 
<br> 
<br> 
<br> 
<p>二：数据库的导入(还原)</p> 
<p><strong>0：导入数据库（首先得创建数据，再导入）C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;</strong></p> 
<p>mysql -h localhost -u root -p（进入mysql下面）</p> 
<p>create database abc;(创建数据库)</p> 
<p>show databases;(就可看到所有已经存在的数据库，以及刚刚创建的数据库abc)</p> 
<p>use abc;(进入abc数据库下面)</p> 
<p>show tables;(产看abc数据库下面的所有表,空的)</p> 
<p>source G:\arcgisworkspace\zypdoc\test.sql（导入数据库表）</p> 
<p>show tables;(查看abc数据库下面的所有表,就可以看到表了)</p> 
<p>desc pollution;(查看表结构设计)</p> 
<p>select * from pollution;</p> 
<p>exit(或者ctrl + c)退出mysql</p> 
<p><br> </p> 
<p><strong><span style="color:#ff0000">三：MYSQL如何导出文本文件  （备份为csv,txt,等，更加有用）</span></strong></p> 
<p><strong>0：mysql 下导出为指定格式的数据的外部任意文件类型  mysql&gt; </strong></p> 
<p>use dbname </p> 
<p>Database Changed </p> 
<p>select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text.txt'; (指导出数据的，注意转义字符哦)</p> 
<p><strong>select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text.csv' FIELDS TERMINATED BY '\,'; (输出格式控制)</strong></p> 
<p><strong>结果为：</strong></p> 
<p>1,汽车尾气,200</p> 2,建筑扬沙,180 
<br> 
<p>3,汽车喷漆,160</p> 4,燃煤,240 
<br> 
<p>5,其它,80</p> 
<p><br> </p> 
<p><strong>知识补充：</strong></p> 
<p><strong><span style="color:#ff0000">一般形式：select [列名称] from tablename [where]</span></strong></p> 
<p><strong><span style="color:#ff0000">into outfile '目标文件路径' [option]</span></strong></p> 
<p><br> </p> 
<p>其中option参数常用的5个选项</p> 
<p>FIELDS TERMINATED BY ‘字符串’：设置字符串为字段的分割符，默认值为 \t；</p> 
<p>FIELDS ENCLOSED BY ‘字符’：设置字符串括上char varchar text等字符型字段，默认值为 无任何符号；</p> 
<p>FIELDS OPTIONALLY ENCLOSED BY ‘字符’：设置字符串括上字段的值，默认值为 无任何符号；</p> 
<p>LINES STARTING BY ‘字符串’：设置每一行开头的字符，默认值为 无任何字符；</p> 
<p>FIELDS ESCAPED BY ‘字符’：设置转义字符，默认值为 \；</p> 
<p>LINES TERMINATED BY ‘字符串’：设置每行结束符，默认值为 \n；</p> 
<p>如：</p> 
<p><strong>select * from pollution into outfile 'G:\\arcgisworkspace\\zypdoc\\text2.csv'</strong></p> 
<strong>FIELDS TERMINATED BY '\,' OPTIONALLY ENCLOSED BY '\"'<br> </strong> 
<p><strong>LINES STARTING BY '\&gt;' TERMINATED BY '\r\n';</strong></p> 
<p><strong>结果为：</strong></p> &gt;1,"汽车尾气","200" 
<br> &gt;2,"建筑扬沙","180" 
<br> &gt;3,"汽车喷漆","160" 
<br> &gt;4,"燃煤","240" 
<br> &gt;5,"其它","80" 
<br> 
<br> 
<p>1：mysqldump 下导出为指定格式的数据的外部任意文件类型  C:\Program Files\MySQL\MySQL Server 5.5\bin&gt;</p> 
<p>mysqldump -u root -p -T G:\arcgisworkspace\zypdoc\ abc pollution "--fields-terminated-by=," (记住不要任何多余的空格，也不用转移字符;-p后面也不用写password；注意目</p> 
<p>标目录是文件夹，文件名是表名，后缀是txt文件)</p> 
<br> 
<strong>知识补充：<br> </strong> 
<p><strong>mysqldump -u root -p -T 目标目录 dbname tablename [option]</strong></p> 
<p>option 和 上面的mysql的一样，只是更改为</p> 
<p>"--fields-terminated-by=字符"(不要任何多余的空格,就是指fields-terminated-by紧密相连的)</p> 
<p><strong><span style="color:#ff0000">四：</span></strong><span style="color:rgb(255,0,0)"><strong>MYSQL如何导入文本文件  （更加有用）</strong></span></p> 
<p><span style="color:rgb(255,0,0)"><strong></strong></span></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> （1）<strong>mysql 下导出为指定格式的数据的外部任意文件类型  mysql&gt; </strong></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <strong>第一步：创建对应字段的数据表</strong></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
<pre><code class="language-sql">create table csv_test2(
id int(8) primary key,
name varchar(64),
value int(32)
);</code></pre> 
<p></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <strong>（2）插入：加入value的类型开始时设计错了，如何更改：ALTER table csrv_test2 MODIFY column value varchar(32);</strong></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> <strong>（3）第二步：导入外部数据</strong></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px"> </p> 
<pre><code class="language-sql">LOAD DATA INFILE 'D:\\tjdata_metro\\test\\mysql_infile3.csv'
INTO TABLE csv_test2
FIELDS TERMINATED BY '\,'
OPTIONALLY ENCLOSED BY '\"'
LINES TERMINATED by'\r\n'
ignore 1 lines
(id,name,value);</code></pre>上面的 lines terminated by '\r\n' 是 要求换行符号,为 windows的换行 
<br> 上面的 ignore 1 lines是 忽略第一行的标题行。 
<br> 
<p><strong>五：数据的性能优化</strong></p> 
<p>（1） 使用索引优化查询：提高查询的速度；但是一定要避开批量插入之后再创建索引；并且要避免%开头的应用： where name like '%zz'</p> 
<p>（2）优化数据库结构：将字段很多的表分解为多个表，某些字段的使用频率非常低，可以拆开；</p> 
<p>（3）有些时候会频繁的使用某几个表的某些字段，而联合查询速度会很慢的，这就需要创建中间表或者视图 了</p> 
<p>如：做一个购物车，已经做好了一个用户表，一个物品表，具体的字段见图；想建立另一个表shopCar，其中包括goods表中的goodsName，goodsPrice、users表中的username</p> 
<p><img src="https://images2.imgbox.com/71/3e/x5c4TdIl_o.jpg" alt=""><img src="https://images2.imgbox.com/ad/44/tnMQgxF9_o.jpg" alt=""><br> </p> 
<p></p> 
<pre><code class="language-sql">create table shopCar
(
gname varchar(40),
gprice float(),
uname varchar(30),
foreign key (gname) references goods(goodName),
foreign key (gprice)  references goods(goodPrice),
foreign key (uname) references users(username)
)</code></pre> 
<br> 
<br> 
<p></p> 
<p>（4）数据库中的视图和中间表的比较（不是很了解）</p> 
<p><span class="tcnt">（5）临时表：</span>你做的查询希望几个表关联起来联合查询组成一个新的“虚拟表”时，会用到；最通俗的，就是你做多表连接的时候，多个嵌套子查询看起来会比较乱，分割存入</p> 
<p>临时表看着比较清晰，运用也比较灵活</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df828d3e00386869a3ab6f3dd3470eb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VC加花指令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2ce1310d12aa767f9ff80554083c9302/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何迁移eclipse的配置信息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>