<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Charles安装及使用教程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Charles安装及使用教程" />
<meta property="og:description" content="一. 简介及安装
一、charles的使用
1.1 charles的说明
Charles其实是一款代理服务器，通过过将自己设置成系统（电脑或者浏览器）的网络访问代理服务器，然后截取请求和请求结果达到分析抓包的目的。该软件是用Java写的，能够在Windows，Mac，Linux上使用。安装Charles的时候要先装好Java环境。
Charles的主要功能：
（1）截取Http 和 Https 网络封包。
（2）支持重发网络请求，方便后端调试。
（3）支持修改网络请求参数。
（4）支持网络请求的截获并动态修改。
（5）支持模拟慢速网络。
1. 下载
Charles下载地址
地址：Download a Free Trial of Charles • Charles Web Debugging Proxy
2. 安装
一路按下next即可安装（保证电脑里没有其他charles即可）
3. 破解
Charles第一种破解方法：
打开汉化补丁 选择“中文破解版”，按下patch即可打开汉化补丁 选择“中文破解版”，按下patch即可
Charles第二种破解方法：
破解地址：Charles破解工具
生成jar文件后，放到charles安装目录的lib目录下
此时，重启charles,查看已经破解，如下图：
设置charles, Proxy-&gt;Proxy setting,就可以抓取http协议了（默认不用更改）
4. 进入界面
注意：安装好charles后，要先进行汉化破解再打开，如果先打开了软件，在汉化的话就会无效，只能重新安装再进行以上步骤。
二. 连接
1.PC抓包
由于charles会自动配置浏览器和工具的代理设置，所以说打开工具直接就已经是抓包状态了。直接打开网页就可以了。
注意：
（1）Charles支持抓去http、https协议的请求，不支持socket。
（网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为一个socket）
（2）防火墙关掉
点击上方的代理—windows代理
电脑charles客户端下载SSL证书
帮助—SSL代理—安装charles证书
选择当前用户
将所有的证书都放入下列存储—受信任的根证书颁发机构—下一步—完成
2.手机端抓包
使手机和电脑在一个局域网内，不一定非要是一个ip段，只要是同一个路由器下就可以了。
（1）首先利用cmd -config命令查看自己电脑的ip地址
配置代理服务器
菜单栏上选择“代理—代理设置，
填入代理端口xxxx
勾选启用透明HTTP代理" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e6bd1d92609080b981eab2e56e0a9806/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-17T17:33:53+08:00" />
<meta property="article:modified_time" content="2023-04-17T17:33:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Charles安装及使用教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>一. 简介及安装</strong></p> 
<p>一、charles的使用</p> 
<p>1.1  charles的说明</p> 
<p>Charles其实是一款代理服务器，通过过将自己设置成系统（电脑或者浏览器）的网络访问代理服务器，然后截取请求和请求结果达到分析抓包的目的。该软件是用Java写的，能够在Windows，Mac，Linux上使用。安装Charles的时候要先装好Java环境。</p> 
<p>Charles的主要功能：</p> 
<p>（1）截取Http 和 Https 网络封包。</p> 
<p>（2）支持重发网络请求，方便后端调试。</p> 
<p>（3）支持修改网络请求参数。</p> 
<p>（4）支持网络请求的截获并动态修改。</p> 
<p>（5）支持模拟慢速网络。</p> 
<p><strong>1. 下载</strong><br> Charles下载地址</p> 
<p>地址：<a href="https://www.charlesproxy.com/latest-release/download.do" rel="nofollow" title="Download a Free Trial of Charles • Charles Web Debugging Proxy">Download a Free Trial of Charles • Charles Web Debugging Proxy</a></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a9/b2/L2pNxdiT_o.png"></p> 
<p><strong>2. 安装</strong><br> 一路按下next即可安装（保证电脑里没有其他charles即可）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ca/62/zB0EIs2y_o.png"></p> 
<p><strong>3. 破解</strong></p> 
<p><strong>Charles第一种破解方法：</strong><br> 打开汉化补丁 选择“中文破解版”，按下patch即可打开汉化补丁 选择“中文破解版”，按下patch即可</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/73/31/e849ajbE_o.png"></p> 
<p><strong>Charles第二种破解方法：</strong></p> 
<p>破解地址：<a href="https://www.zzzmode.com/mytools/charles/" rel="nofollow" title="Charles破解工具">Charles破解工具</a></p> 
<p>生成jar文件后，放到charles安装目录的lib目录下</p> 
<p>此时，重启charles,查看已经破解，如下图：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ce/28/7Drbx79P_o.png"></p> 
<p>设置charles, Proxy-&gt;Proxy setting,就可以抓取http协议了（默认不用更改）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b6/1e/zshrgEjm_o.png"></p> 
<p><strong>4. 进入界面</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ae/e9/jMWaI9NY_o.png"></p> 
<p>注意：安装好charles后，要先进行汉化破解再打开，如果先打开了软件，在汉化的话就会无效，只能重新安装再进行以上步骤。</p> 
<p><strong>二. 连接</strong><br><strong>1.PC抓包</strong></p> 
<p>由于charles会自动配置浏览器和工具的代理设置，所以说打开工具直接就已经是抓包状态了。直接打开网页就可以了。</p> 
<p>注意：</p> 
<p>（1）Charles支持抓去http、https协议的请求，不支持socket。</p> 
<p>（网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为一个socket）</p> 
<p>（2）防火墙关掉</p> 
<p>点击上方的代理—windows代理</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/59/53/SgA0ef2A_o.png"></p> 
<p>电脑charles客户端下载SSL证书</p> 
<p>帮助—SSL代理—安装charles证书</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/92/33/QP4IXq1e_o.png"></p> 
<p>选择当前用户</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/56/40/bTOZLKTz_o.png"></p> 
<p>将所有的证书都放入下列存储—受信任的根证书颁发机构—下一步—完成</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/57/db/hM1SXZUQ_o.png"></p> 
<p><strong>2.手机端抓包</strong></p> 
<p>使手机和电脑在一个局域网内，不一定非要是一个ip段，只要是同一个路由器下就可以了。</p> 
<p>（1）首先利用cmd -config命令查看自己电脑的ip地址</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/19/15/mP44lEFh_o.png"></p> 
<p>配置代理服务器<br> 菜单栏上选择“代理—代理设置，<br> 填入代理端口xxxx<br> 勾选启用透明HTTP代理</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dc/80/NxlBMFpS_o.png"></p> 
<p>查看自己本机IP</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b4/ec/k5VUXzzw_o.png"></p> 
<p>（2）然后在手机端的wifi代理设置那里去进行相关的配置设置。</p> 
<p>这里的代理服务器地址填写为电脑的ip地址，然后端口这里写8888（这个是charles的默认设置），如果自己修改了就写成自己所修改的端口就可以了。</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/34/b5/sdLEOaDa_o.png"></p> 
<p>配置完成，会看到一个charles与手机端的连接提示弹窗，选择allo即可。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/30/50/xYDh2qDy_o.png"></p> 
<p>（3）手机端抓包https</p> 
<p>上述1、2步骤，只针对http请求。由于https协议的特殊性，所以要求电脑端和手机端都需要安装下证书，否则会看到返回的数据都是乱码。</p> 
<p>a.电脑端证书下载</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/07/5a/7CMoAi6N_o.png"></p> 
<p></p> 
<p>b. 手机端证书下载</p> 
<p>在设备上打开这个网址 http://www.charlesproxy.com/getssl 安装 Charles SSL 证书。</p> 
<p>注意，同一个手机对应不同电脑上的Charles都要分别下载证书进行认证，因为手机的证书是和电脑端的Charles一一配对的。</p> 
<p>PS：ios手机，需要信任该证书</p> 
<p>C.相关配置</p> 
<p>选择Proxy | Proxy Settings，弹出proxy设置选项卡，勾选Enable SSL Proxying，在Location部份选择add，按如下图添加，抓取任意站点、443端口的数据。</p> 
<p></p> 
<p></p> 
<p> </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1f/77/sUARojG8_o.png"></p> 
<p><strong>3. 抓取的包全部出现unknow的解决方法</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8c/76/SN1UmPXX_o.png"></p> 
<p>代理-SSL代理-启用SSL代理-添加 如图主机和端口都添加*。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/84/80/yFwWfJ72_o.png"></p> 
<p>继续：代理-SSL代理-启用SSL代理-添加 如图主机添加*，端口添加443.</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8c/1e/Z0I4M8W3_o.png"></p> 
<p>如图所示即可完成 解决unknow问题。</p> 
<p>如果个别情况出现unknow，可能是本身抓包软件存在个别漏抓问题。可以忽略</p> 
<p><strong>三. 功能</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/df/20/V0Wp3QtZ_o.png"></p> 
<p>从左到右分别为：</p> 
<p>（1）清除当前会话<br> （2）停止记录<br> （3）开始限流/停止限流<br> （4）开始断点/停止断点<br> （5）根据所写内容撰写新请求<br> （6）重发选定请求<br> （7）工具<br> （8）设置</p> 
<p><strong>1. 显示模式：有结构和序列两种模式</strong><br> （1）结构模式：可以很清晰的看到请求的数据结构，而且是以域名划分请求信息的，可以很清晰的去分析和处理数据。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/49/22/qLDa9iOh_o.png"></p> 
<p>（2）序列：可以看到全部请求，这里的结果以数据请求的顺序来显示，可以根据时间、大小等自由排序</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/81/a4/eBwAqRry_o.png"></p> 
<p><strong>2. 模拟网速功能</strong></p> 
<p>在线上环境通常有些因为网速慢导致的bug，在本机无法重现，那时候就很抓瞎，模拟网速功能支持对带宽、利用率、往返延迟、字节进行配置，并且支持3G/4G或者其他网络模式。<br> 上方工具栏的代理—限流设置—启用限流</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/71/b4/0L5aSrzH_o.png"></p> 
<p><strong>3. 过滤设置</strong></p> 
<p>方法一：软件下方的过滤可以进行简单的过滤，在主界面的中部的Filter栏中填入需要过滤出来的关键字。例如我们的服务器的地址是：<a href="https://link.jianshu.com/?t=http%3A%2F%2Fyuantiku.com%2F" rel="nofollow" title="www.baidu.com">www.baidu.com</a>,那么只需要在 Filter 栏中填入<a href="https://link.jianshu.com/?t=http%3A%2F%2Fyuantiku.com%2F" rel="nofollow" title="www.baidu.com">www.baidu.com</a>即可。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8d/06/AbiJY7lB_o.png"></p> 
<p>方法二：上方工具栏的代理—记录设置—包括—添加</p> 
<p>可以对网络请求进行过滤。<br> 然后填入需要监控的协议，主机地址，端口号等。这样就可以只截取目标网站的封包了。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/2f/db/icDDOjDH_o.png"></p> 
<p>通常情况下，我们使用方法一做一些临时性的封包过滤，使用方法二做一些经常性的封包过滤。</p> 
<p>方法三：在想过滤的网络请求上右击，选择“Focus”，之后在 Filter 一栏勾选上 Focussed 一项，如下图所示：</p> 
<p>这种方式可以临时性的，快速地过滤出一些没有通过关键字的一类网络请求。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b9/ff/qFa9Lw0H_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f9c0f482d853eb36b91e6fe89ffd3e63/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NGINX解决第三方图片跨域问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/80bd11bad288d925f35937664955f14a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring MVC(2)-跨域、CORS、XSS、 CSFR</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>