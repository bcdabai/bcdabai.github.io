<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LeetCode之二分查找之旋转数组系列题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LeetCode之二分查找之旋转数组系列题" />
<meta property="og:description" content="旋转数组 1、旋转数组（189）2、寻找旋转数组中的最小值（153）3、寻找旋转数组中的最小值II（154）4、搜索旋转排序数组（33）5、搜索旋转排序数组II（81）6、面试题10.03 搜索旋转数组 1、旋转数组（189） 题目描述：
【中等题】
给定一个数组，将数组中的元素向右移动 k 个位置，其中 k 是非负数。
进阶：
1、尽可能想出更多的解决方案，至少有三种不同的方法可以解决这个问题。
2、你可以使用空间复杂度为 O(1) 的 原地 算法解决这个问题吗？
示例一：
输入: nums = [1,2,3,4,5,6,7], k = 3 输出: [5,6,7,1,2,3,4] 解释: 向右旋转 1 步: [7,1,2,3,4,5,6] 向右旋转 2 步: [6,7,1,2,3,4,5] 向右旋转 3 步: [5,6,7,1,2,3,4] 题目链接
思路分析：
1、当我们将数组的元素向右移动 k 次后，尾部 k m o d n k\bmod n kmodn个元素会移动至数组头部，其余元素向后移动 k m o d n k\bmod n kmodn个位置。
2、该方法为数组的翻转：我们可以先将所有元素翻转，这样尾部的 k m o d n k\bmod n kmodn个元素就被移至数组头部，然后我们再翻转 [0, k m o d n k\bmod n kmodn-1]区间的元素和 [ k m o d n k\bmod n kmodn, n-1]区间的元素即能得到最后的答案。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3d1b457934bd0394f4488e5229652300/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-02T20:26:26+08:00" />
<meta property="article:modified_time" content="2021-03-02T20:26:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LeetCode之二分查找之旋转数组系列题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>旋转数组</h4> 
 <ul><li><a href="#1189_3" rel="nofollow">1、旋转数组（189）</a></li><li><a href="#2153_61" rel="nofollow">2、寻找旋转数组中的最小值（153）</a></li><li><a href="#3II154_99" rel="nofollow">3、寻找旋转数组中的最小值II（154）</a></li><li><a href="#433_157" rel="nofollow">4、搜索旋转排序数组（33）</a></li><li><a href="#5II81_212" rel="nofollow">5、搜索旋转排序数组II（81）</a></li><li><a href="#61003__276" rel="nofollow">6、面试题10.03 搜索旋转数组</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1189_3"></a>1、旋转数组（189）</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【中等题】<br> 给定一个数组，将数组中的元素向右移动 k 个位置，其中 k 是非负数。</p> 
<p>进阶：</p> 
<p>1、尽可能想出更多的解决方案，至少有三种不同的方法可以解决这个问题。<br> 2、你可以使用空间复杂度为 O(1) 的 原地 算法解决这个问题吗？</p> 
<p>示例一：</p> 
<pre><code class="prism language-python">输入<span class="token punctuation">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
输出<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
解释<span class="token punctuation">:</span>
向右旋转 <span class="token number">1</span> 步<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
向右旋转 <span class="token number">2</span> 步<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
向右旋转 <span class="token number">3</span> 步<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
</code></pre> 
<p><a href="https://leetcode-cn.com/problems/rotate-array/" rel="nofollow">题目链接</a></p> 
<p><font color="gree" size="4"><strong>思路分析</strong>：</font></p> 
<p>1、当我们将数组的元素向右移动 k 次后，尾部 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
         
        
        
          m 
         
        
          o 
         
        
          d 
         
         
       
         n 
        
       
      
        k\bmod n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>个元素会移动至数组头部，其余元素向后移动 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
         
        
        
          m 
         
        
          o 
         
        
          d 
         
         
       
         n 
        
       
      
        k\bmod n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>个位置。</p> 
<p>2、该方法为数组的翻转：我们可以先将所有元素翻转，这样尾部的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
         
        
        
          m 
         
        
          o 
         
        
          d 
         
         
       
         n 
        
       
      
        k\bmod n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>个元素就被移至数组头部，然后我们再翻转 [0, <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
         
        
        
          m 
         
        
          o 
         
        
          d 
         
         
       
         n 
        
       
      
        k\bmod n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>-1]区间的元素和 [<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
         
        
        
          m 
         
        
          o 
         
        
          d 
         
         
       
         n 
        
       
      
        k\bmod n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mspace" style="margin-right: 0.0555556em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>, n-1]区间的元素即能得到最后的答案。<br> <img src="https://images2.imgbox.com/5d/8f/JSt6qIPC_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">rotate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Do not return anything, modify nums in-place instead.
        """</span>
        <span class="token keyword">def</span> <span class="token function">reverse</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
        n<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        <span class="token comment"># 向右移动的位置k可能会大于n，因此对n取余</span>
        k<span class="token operator">=</span>k<span class="token operator">%</span>n
        <span class="token keyword">if</span> k<span class="token operator">==</span><span class="token number">0</span> <span class="token operator">or</span> n<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> 
        <span class="token comment"># 以此为例：nums = [1,2,3,4,5,6,7], k = 3</span>
        <span class="token comment"># 先整个数组反转：[7,6,5,4,3,2,1]</span>
        reverse<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># 前k个反转：[5,6,7,4,3,2,1]</span>
        reverse<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># 后n-k个反转：[5,6,7,1,2,3,4]</span>
        reverse<span class="token punctuation">(</span>k<span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          n 
         
        
          ) 
         
        
       
         O(n) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          1 
         
        
          ) 
         
        
       
         O(1) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul> 
<h2><a id="2153_61"></a>2、寻找旋转数组中的最小值（153）</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【中等题】<br> 假设按照升序排序的数组在预先未知的某个点上进行了旋转。例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] 。</p> 
<p>请找出其中最小的元素。<br> 示例 1：</p> 
<pre><code class="prism language-python">输入：nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
输出：<span class="token number">1</span>
</code></pre> 
<p><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/" rel="nofollow">题目链接</a></p> 
<p><font color="gree" size="4"><strong>思路分析</strong>：</font></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findMin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
        	mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        	<span class="token comment"># 中间数字大于右边数字，比如[3,4,5,1,2]，则左侧是有序上升的，最小值在右侧</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 中间数字小于等于右边数字，比如[6,7,1,2,3,4,5]，则右侧是有序上升的，最小值在左侧</span>
                right<span class="token operator">=</span>mid
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
</code></pre> 
<ul><li>时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          l 
         
        
          o 
         
        
          g 
         
        
          n 
         
        
          ) 
         
        
       
         O(logn) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          1 
         
        
          ) 
         
        
       
         O(1) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul> 
<h2><a id="3II154_99"></a>3、寻找旋转数组中的最小值II（154）</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【困难题】</p> 
<p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p> 
<p>( 例如，数组 [0,1,2,4,5,6,7] 可能变为 [4,5,6,7,0,1,2] )。</p> 
<p>请找出其中最小的元素。</p> 
<p>注意数组中<strong>可能存在重复的元素</strong>。</p> 
<p>示例 1：</p> 
<pre><code class="prism language-python">输入<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
输出<span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre> 
<p>说明：</p> 
<ul><li>这道题是 寻找旋转排序数组中的最小值 的延伸题目。</li><li>允许重复会影响算法的时间复杂度吗？会如何影响，为什么？</li></ul> 
<p><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/" rel="nofollow">题目链接</a></p> 
<p><font color="gree" size="4"><strong>思路分析</strong>：</font></p> 
<p>1、这道题相当与上一道题难度是可能存在重复元素，那么light指针不能直接移到mid位置，因为有可能下一次取mid值遗漏掉最小值。</p> 
<p>2、如果中间元素=区间尾元素，right减一</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findMin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
             <span class="token comment"># 中间数字大于右边数字，比如[3,4,5,1,2]，则左侧是有序上升的，最小值在右侧</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
             <span class="token comment"># 中间数字小于右边数字，比如[6,7,1,2,3,4,5]，则右侧是有序上升的，最小值在左侧</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>
            	<span class="token comment"># 中间数字等于右边数字，比如[2,3,1,1,1]或者[4,1,2,3,3,3,3]</span>
                <span class="token comment"># 则重复数字可能为最小值，也可能最小值在重复值的左侧</span>
                <span class="token comment"># 所以将right左移一位</span>

                right<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
</code></pre> 
<ul><li>时间复杂度：平均时间复杂度为 O(logn)，如果数组是随机生成的，那么数组中包含相同元素的概率很低，在二分查找的过程中，大部分情况都会忽略一半的区间。而在最坏情况下，如果数组中的元素完全相同，那么 while 循环就需要执行 n 次，每次忽略区间的右端点，时间复杂度为 O(n)。</li><li>空间复杂度：O(1)。</li></ul> 
<h2><a id="433_157"></a>4、搜索旋转排序数组（33）</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【中等题】</p> 
<p>整数数组 nums 按升序排列，数组中的值 <strong>互不相同</strong> 。</p> 
<p>在传递给函数之前，nums 在预先未知的某个下标 k（0 &lt;= k &lt; nums.length）上进行了 旋转，使数组变为 [nums[k], nums[k+1], …, nums[n-1], nums[0], nums[1], …, nums[k-1]]（下标 从 0 开始 计数）。例如， [0,1,2,4,5,6,7] 在下标 3 处经旋转后可能变为 [4,5,6,7,0,1,2] 。</p> 
<p>给你 <strong>旋转后</strong> 的数组 nums 和一个整数 target ，如果 nums 中存在这个目标值 target ，则返回它的索引，否则返回 -1 。</p> 
<pre><code class="prism language-python">输入：nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">0</span>
输出：<span class="token number">4</span>
</code></pre> 
<p><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" rel="nofollow">题目链接</a></p> 
<p><font color="gree" size="4"><strong>思路分析</strong>：</font></p> 
<p><a href="https://blog.csdn.net/bjweimengshu/article/details/90826510">理论部分</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token operator">not</span> nums<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的右边,则中位数左半部分是有序的</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token comment"># target落在左半部分有序区域内</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>target<span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># target落在右半部分无序区域内</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的左边,则中位数右半部分是有序的</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># target落在右半部分有序区域内</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># target落在左半部分无序区域内</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<ul><li>时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          l 
         
        
          o 
         
        
          g 
         
        
          n 
         
        
          ) 
         
        
       
         O(logn) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          1 
         
        
          ) 
         
        
       
         O(1) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul> 
<h2><a id="5II81_212"></a>5、搜索旋转排序数组II（81）</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【中等题】<br> 假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p> 
<p>( 例如，数组 [0,0,1,2,2,5,6] 可能变为 [2,5,6,0,0,1,2] )。</p> 
<p>编写一个函数来判断给定的目标值是否存在于数组中。若存在返回 true，否则返回 false。</p> 
<p>示例 1:</p> 
<pre><code class="prism language-python">输入<span class="token punctuation">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">0</span>
输出<span class="token punctuation">:</span> true
</code></pre> 
<p>进阶:</p> 
<ul><li>这是 搜索旋转排序数组 的延伸题目，本题中的 nums 可能包含重复元素。</li><li>这会影响到程序的时间复杂度吗？会有怎样的影响，为什么？</li></ul> 
<p><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/" rel="nofollow">题目链接</a></p> 
<p><font color="gree" size="4"><strong>思路分析</strong>：</font></p> 
<p>1、这道题相当与上一题区别在于这道题包含了重复元素，其实影响到的是，当左端点和右端点相等时，无法判断mid在左半边有序数组还是右半边有序数组，所以只需要一直pop直到左端点和右端点不相等就可以了。就加上两句话即可：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token operator">not</span> nums<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
       
        <span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">and</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            nums<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的右边,则中位数左半部分是有序的</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token comment"># target落在左半部分有序区域内</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>target<span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># target落在右半部分无序区域内</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的左边,则中位数右半部分是有序的</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># target落在右半部分有序区域内</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># target落在左半部分无序区域内</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<ul><li>时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          l 
         
        
          o 
         
        
          g 
         
        
          n 
         
        
          ) 
         
        
       
         O(logn) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          O 
         
        
          ( 
         
        
          1 
         
        
          ) 
         
        
       
         O(1) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul> 
<h2><a id="61003__276"></a>6、面试题10.03 搜索旋转数组</h2> 
<p><font color="blue" size="4"><strong>题目描述：</strong></font></p> 
<p>【中等题】</p> 
<p>搜索旋转数组。给定一个排序后的数组，包含n个整数，但这个数组已被旋转过很多次了，次数不详。请编写代码找出数组中的某个元素，假设数组元素原先是按升序排列的。<strong>若有多个相同元素，返回索引值最小的一个。</strong></p> 
<p>示例1:</p> 
<pre><code class="prism language-python"> 输入<span class="token punctuation">:</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">5</span>
 输出<span class="token punctuation">:</span> <span class="token number">8</span>（元素<span class="token number">5</span>在该数组中的索引）
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arr<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
      
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            <span class="token comment"># 重点1：当left符合时直接返回, 因为找的是最小的索引</span>
            <span class="token keyword">if</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> left
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token comment"># 重点2：当中间值等于目标值，将右边界移到中间，因为左边可能还有相等的值</span>
            <span class="token keyword">if</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的右边,则中位数左半部分是有序的</span>
            <span class="token comment">#elif arr[0]&lt;arr[mid]:或者</span>
            <span class="token keyword">elif</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                 <span class="token comment"># target落在左半部分有序区域内</span>
                <span class="token keyword">if</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>target<span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token comment">#如果旋转点（即旋转数组）在中位数的左边,则中位数右半部分是有序的</span>
            <span class="token comment">#elif arr[0]&gt;arr[mid]:或者</span>
            <span class="token keyword">elif</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token operator">&lt;=</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 重点3：当中间数字与右边数字相等时，将右边界左移</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">searchRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        size<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        <span class="token keyword">if</span> size<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        first_popstion<span class="token operator">=</span>self<span class="token punctuation">.</span>find_first_index<span class="token punctuation">(</span>nums<span class="token punctuation">,</span>size<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        <span class="token keyword">if</span> first_popstion<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        last_popstion<span class="token operator">=</span>self<span class="token punctuation">.</span>find_last_index<span class="token punctuation">(</span>nums<span class="token punctuation">,</span>size<span class="token punctuation">,</span>target<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>first_popstion<span class="token punctuation">,</span>last_popstion<span class="token punctuation">]</span>
        
    <span class="token comment">#寻找开始位置，即找到第一个</span>
    <span class="token keyword">def</span> <span class="token function">find_first_index</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>size<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span>size<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> left 
            
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token comment">#寻找结束位置</span>
    <span class="token keyword">def</span> <span class="token function">find_last_index</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>nums<span class="token punctuation">,</span>size<span class="token punctuation">,</span>target<span class="token punctuation">)</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span><span class="token number">0</span>
        right<span class="token operator">=</span>size<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> right 
            
            mid<span class="token operator">=</span>left<span class="token operator">+</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
        
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7705d2dab64ab0850c9b24b328e0929b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">整合Knife4j生成文档后端接口文档出现404无法找到doc.html</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c5833284ee0d0f954782786504766bf7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">hadoop之hdfs分布式文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>