<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VS 与Qt的混合编程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VS 与Qt的混合编程" />
<meta property="og:description" content="最近因为配置了VS2022下qt的环境，所以想要试试vs配合qt混合编程，若是想要将qt当做界面库使用，就需要知道QT的一些基本知识。
程序分为前端和后端，想要界面与数据进行交互，数据分为数据来源以及数据处理，而界面负责显示数据，数据来源可以是很多种，但数据需要经过处理才能提供给前端的界面使用，也就是前后端分离。
举个例子，qt的组件lineedit是个输入框，接收来自用户的输入，接收输入的内容是字符串型，也就是QString,在qt中，一些数据结构，都被QT改边，并且冠上独家姓氏，Q。
字符串QString,可变数组的容器 QVector等,用法与标准的cpp并没有什么区别，就是加了一个Q.
在我们写类的构造的时候，我们会留有一些接口，是因为我们需要将后端的数据取出来，拿来给前端做显示。
比如，你想在界面中显示一串字符串，在qt的环境下，提供控件Label显示文本信息。
我们来看一下Qlabel的手册， 首先label作用是显示文本或者图像，留出来的属性接口可以让你自己去构造属于你自己的label的样式，根据方法函数，让你去添加label的动作。
比如，你只希望构造一个label用于显示文本。
那么你后端传过来的数据应该是一个字符串，使用的类型是QString.
我们从手册中找到这个方法来显示字符串
void setText(const QString &amp;) Rich text
Pass a QString that contains rich text to setText().
如果数据是死的，那么就是label-&gt;setText(&#34;hello&#34;),但是如果你需要数据能够变化，那么你需要去改变QString，让它是一个变化的量。
现在我在vs配置的qt环境下，使用编写一个程序。
首先我们来看看项目的布局。
main函数是程序入口，入口需要显示一个窗口，所以main函数的如下：
#include &#34;peo2.h&#34; #include &lt;QtWidgets/QApplication&gt; #include &#34;FILENAME.h&#34; #include&lt;QString&gt; #include&lt;QDebug&gt; #include&lt;string&gt; int main(int argc, char *argv[]) { QApplication a(argc, argv); peo2 w; w.show(); return a.exec(); } 基本使用的是qt自带的类，程序入口是一个实例化一个Peo2类型的一个窗口，并且显示出来。
那么如何创造Peo2类这个类呢，你的需求很重要。
这里使用了ui文件，并没有采用存代码开发.
我们来看一下，封装的接口以及如何构造这个类。
代码部分：
#pragma once #include &lt;QtWidgets/QMainWindow&gt; #include &#34;ui_peo2.h&#34; #pragma execution_character_set(&#34;utf-8&#34;)// 该指令仅支持VS环境，解决乱码问题 class peo2 : public QMainWindow { Q_OBJECT public: peo2(QWidget *parent = nullptr); ~peo2(); private: Ui::peo2Class ui; }; 在它的构造函数里：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/85271a0179f6e095c02b0e8b62eaa740/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-23T01:20:37+08:00" />
<meta property="article:modified_time" content="2023-06-23T01:20:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VS 与Qt的混合编程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>       最近因为配置了VS2022下qt的环境，所以想要试试vs配合qt混合编程，若是想要将qt当做界面库使用，就需要知道QT的一些基本知识。</p> 
<p>      程序分为前端和后端，想要界面与数据进行交互，数据分为数据来源以及数据处理，而界面负责显示数据，数据来源可以是很多种，但数据需要经过处理才能提供给前端的界面使用，也就是前后端分离。</p> 
<p>   举个例子，qt的组件lineedit是个输入框，接收来自用户的输入，接收输入的内容是字符串型，也就是QString,在qt中，一些数据结构，都被QT改边，并且冠上独家姓氏，Q。</p> 
<p>    字符串QString,可变数组的容器 QVector等,用法与标准的cpp并没有什么区别，就是加了一个Q.</p> 
<p>    在我们写类的构造的时候，我们会留有一些接口，是因为我们需要将后端的数据取出来，拿来给前端做显示。</p> 
<p>    比如，你想在界面中显示一串字符串，在qt的环境下，提供控件Label显示文本信息。</p> 
<p>    <img alt="" height="463" src="https://images2.imgbox.com/26/5b/ek9VbNjm_o.png" width="953"></p> 
<p>      我们来看一下Qlabel的手册， 首先label作用是显示文本或者图像，留出来的属性接口可以让你自己去构造属于你自己的label的样式，根据方法函数，让你去添加label的动作。</p> 
<p>   比如，你只希望构造一个label用于显示文本。</p> 
<p>   那么你后端传过来的数据应该是一个字符串，使用的类型是QString.</p> 
<p>   我们从手册中找到这个方法来显示字符串</p> 
<pre><code>
void 
setText(const QString &amp;)
</code></pre> 
<p><br> Rich text<br> Pass a QString that contains rich text to setText().<br> 如果数据是死的，那么就是label-&gt;setText("hello"),但是如果你需要数据能够变化，那么你需要去改变QString，让它是一个变化的量。</p> 
<p></p> 
<p>现在我在vs配置的qt环境下，使用编写一个程序。</p> 
<p>首先我们来看看项目的布局。</p> 
<p><img alt="" height="522" src="https://images2.imgbox.com/12/65/xXPjFwPK_o.png" width="422"></p> 
<p>main函数是程序入口，入口需要显示一个窗口，所以main函数的如下：</p> 
<pre><code>#include "peo2.h"
#include &lt;QtWidgets/QApplication&gt;
#include "FILENAME.h"
#include&lt;QString&gt;
#include&lt;QDebug&gt;
#include&lt;string&gt;


int main(int argc, char *argv[])
{
    QApplication a(argc, argv); 
    
    
    peo2 w;
    w.show();

   
      
    
    
    
    return a.exec();
}</code></pre> 
<p> 基本使用的是qt自带的类，程序入口是一个实例化一个Peo2类型的一个窗口，并且显示出来。</p> 
<p>那么如何创造Peo2类这个类呢，你的需求很重要。</p> 
<p><img alt="" height="428" src="https://images2.imgbox.com/fa/92/HoalEQ91_o.png" width="608"></p> 
<p>这里使用了ui文件，并没有采用存代码开发.</p> 
<p>我们来看一下，封装的接口以及如何构造这个类。</p> 
<p>代码部分：</p> 
<pre><code>#pragma once

#include &lt;QtWidgets/QMainWindow&gt;
#include "ui_peo2.h"
#pragma execution_character_set("utf-8")// 该指令仅支持VS环境，解决乱码问题
class peo2 : public QMainWindow
{
    Q_OBJECT

public:
    peo2(QWidget *parent = nullptr);
    ~peo2();

private:
    Ui::peo2Class ui;
};</code></pre> 
<p> 在它的构造函数里：</p> 
<pre><code>#include "peo2.h"
#include&lt;QString&gt;
#include "FILENAME.h"
#include&lt;QStringLiteral&gt;

peo2::peo2(QWidget *parent)
    : QMainWindow(parent)
{
    ui.setupUi(this);
    
   // ExampleClass obj;
    //QString *ums= NULL;
    //*ums = "123";
    ExampleClass m;
    m.setInput("Hello你好");
    QString output = m.getOutput();
    ui.label-&gt;setText(output);
    ui.lineEdit-&gt;setText("hello,你好");
}

peo2::~peo2()
{

}</code></pre> 
<p>后端的数据来源：</p> 
<pre><code>#ifndef EXAMPLECLASS_H
#define EXAMPLECLASS_H

#include &lt;QString&gt;

using namespace std; // 添加命名空间


class ExampleClass {
public:
    QString inputVariable;  // 输入变量
    QString outputVariable; // 返回变量

public:
    ExampleClass();                  // 构造函数
    QString setInput(const QString&amp; input);  // 设置输入变量的函数
    QString getOutput();                  // 函数
};

#endif
</code></pre> 
<p>.cpp的文件</p> 
<pre><code class="language-cpp">#include "FILENAME.h"

ExampleClass::ExampleClass() {
    inputVariable = "";
    outputVariable = "";
}

QString ExampleClass::setInput(const QString&amp; input) {
    inputVariable = input;
    return inputVariable;
}

QString ExampleClass::getOutput() {
    // 在这里编写处理逻辑，根据输入变量计算返回变量
    // 这里只是一个示例，将返回变量设置为输入变量连接两次
    outputVariable = inputVariable + inputVariable;
    return outputVariable;
}</code></pre> 
<p><img alt="" height="321" src="https://images2.imgbox.com/57/48/hLgOeJLZ_o.png" width="531"></p> 
<p> 这只是一个展示的例子。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bd1bd20a0aa3aeeed909f66e9c01f34f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Hexo和Butterfly创建个人技术博客，(14) 给博客站点添加Aplayer音乐</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a44c254b22426e924e40bf00b79dcee7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【FreeRTOS】FreeRTOS学习笔记 ---- 堆和栈，第1个FreeRTOS程序，创建任务函数及任务管理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>