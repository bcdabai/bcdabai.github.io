<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>阿里云免费ssl证书申请与部署 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="阿里云免费ssl证书申请与部署" />
<meta property="og:description" content="一、证书申请 1、找到 ssl 证书
2、点击选择SSL 证书 进入其管理控台
3、如果你还没有免费证书，选择购买即可，一个自然年内每个账号可以领取一次数量为20的免费单域名试用证书额度，我的已经购买过来，今年的，所以无法再次购买
4、点击创建证书
5、创建之后，列表出现一个带申请的证书，我们点击证书申请按钮，进行我们相关的网站配置
6、进行生成
7、点击提交审核之后，会提示你如下信息
8、可以发现填写申请已经结束了，接下来就验证信息步骤，我们按照图示步骤进行即可
二、配置证书对应的域名 1、登录域名管理控制台，点击你选择使用https的域名
2、在域名控制台添加DNS解析记录
注意如果下面的记录里面已经有了，就无需填写了，我的就是，因为我的域名和服务器都是阿里云的，它已经帮我把记录给自动填写生成好了。
3、对应的几个选项值就是前面第二步骤出现的内容，一一copy过去即可
4、添加完成之后，对应的域名下面的列表就会出现一行记录
注意如果下面的记录里面已经有了，就无需上面的手动填写了，我的就是，因为我的域名和服务器都是阿里云的，它已经帮我把记录给自动填写生成好了。
5、点击验证，如果验证是成功，就没必要再点击验证了，就像前面所说的，如果都是阿里云的，它会帮你做好的
6、以上我们的申请就完成了，可以看到证书已经签发了，所以我们接下来就要将这个证书部署到对应域名的服务器上面即可.
三、将证书部署到对应域名下的服务器上 1、点击下载，就会出现各个部署方式
2、因为我的服务都是基于nginx的，所以我直接使用nginx的方式部署即可，也可以点击右侧的帮助按钮，阿里云提供了很多对应的部署文档，比较的详细，大家也可以参考参考。
建议去查看，还是不错的，几乎是一步一步的教我们。
如果你是docker 记得把 443 端口也暴露出来
3、如果你的网站 还没有备案，那么你通过 https &#43; 域名 访问，是无法访问的，如下
这里使用以下别人回复，虽然是腾讯云的，但是原理都一样 原文地址 困扰我两天的问题(nginx配置好ssl证书,https却不能访问)
4、但是没有备案，http &#43; 域名也是可以访问的，但是会被拦截
4、但是你如果你用ip就可以
5、这里贴一份 完整的配置，其实就是阿里云文档上面的
server { #配置HTTPS的默认访问端口为443。 #如果未在此处配置HTTPS的默认访问端口，可能会造成Nginx无法启动。 #如果您使用Nginx 1.15.0及以上版本，请使用listen 443 ssl代替listen 443和ssl on。 listen 443 ssl; #填写证书绑定的域名 server_name wh.51job.cn; #填写证书文件名称 ssl_certificate /etc/nginx/conf.d/cert/10156555_wh.51job.cn.pem; #填写证书私钥文件名称 ssl_certificate_key /etc/nginx/conf.d/cert/10156555_wh.51job.cn.key; ssl_session_timeout 5m; #表示使用的加密套件的类型 ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c51b60d78ead737240c8407acdf54b30/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-25T09:07:47+08:00" />
<meta property="article:modified_time" content="2023-05-25T09:07:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">阿里云免费ssl证书申请与部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>一、证书申请</h2> 
<p>1、找到 ssl 证书<br> <img src="https://images2.imgbox.com/49/74/u7fdivTW_o.png" alt="在这里插入图片描述"></p> 
<p>2、点击<code>选择SSL 证书</code> 进入其管理控台</p> 
<p><img src="https://images2.imgbox.com/c8/2f/5o4SA9ha_o.png" alt="在这里插入图片描述"></p> 
<p>3、如果你还没有免费证书，选择购买即可，一个自然年内每个账号可以领取一次数量为20的免费单域名试用证书额度，我的已经购买过来，今年的，所以无法再次购买</p> 
<p><img src="https://images2.imgbox.com/bc/f6/s8MrhiUu_o.png" alt="在这里插入图片描述"></p> 
<p>4、点击创建证书</p> 
<p><img src="https://images2.imgbox.com/50/e1/8OnEKNqR_o.png" alt="在这里插入图片描述"></p> 
<p>5、创建之后，列表出现一个带申请的证书，我们点击<code>证书申请</code>按钮，进行我们相关的网站配置</p> 
<p><img src="https://images2.imgbox.com/e4/96/AKnww9g0_o.png" alt="在这里插入图片描述"></p> 
<p>6、进行生成<br> <img src="https://images2.imgbox.com/f1/c1/DFSDvt7Q_o.png" alt="在这里插入图片描述"></p> 
<p>7、点击提交审核之后，会提示你如下信息<br> <img src="https://images2.imgbox.com/9a/43/xLTXxH0x_o.png" alt="在这里插入图片描述"></p> 
<p>8、可以发现填写申请已经结束了，接下来就验证信息步骤，我们按照图示步骤进行即可</p> 
<p><img src="https://images2.imgbox.com/ef/a2/K0lj4nnd_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_30"></a>二、配置证书对应的域名</h2> 
<p>1、登录域名管理控制台，点击你选择使用https的域名<img src="https://images2.imgbox.com/11/e2/UbsnhZpR_o.png" alt="在这里插入图片描述"></p> 
<p>2、在域名控制台添加DNS解析记录</p> 
<blockquote> 
 <p>注意如果下面的记录里面已经有了，就无需填写了，我的就是，因为我的域名和服务器都是阿里云的，它已经帮我把记录给自动填写生成好了。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5a/d8/nEUFArsr_o.png" alt="在这里插入图片描述"></p> 
<p>3、对应的几个选项值就是前面第二步骤出现的内容，一一copy过去即可</p> 
<p><img src="https://images2.imgbox.com/37/f0/GXnQxtFB_o.png" alt="在这里插入图片描述"></p> 
<p>4、添加完成之后，对应的域名下面的列表就会出现一行记录</p> 
<blockquote> 
 <p>注意如果下面的记录里面已经有了，就无需上面的手动填写了，我的就是，因为我的域名和服务器都是阿里云的，它已经帮我把记录给自动填写生成好了。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/db/3b/eQEB6Kw4_o.png" alt="在这里插入图片描述"></p> 
<p>5、点击验证，如果验证是成功，就没必要再点击验证了，就像前面所说的，如果都是阿里云的，它会帮你做好的<br> <img src="https://images2.imgbox.com/fb/0f/YY9a4uMT_o.png" alt="在这里插入图片描述"><br> 6、以上我们的申请就完成了，可以看到证书已经签发了，所以我们接下来就要将这个证书部署到对应域名的服务器上面即可.<br> <img src="https://images2.imgbox.com/0f/a0/JoQAxDf2_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_57"></a>三、将证书部署到对应域名下的服务器上</h2> 
<p>1、点击下载，就会出现各个部署方式<br> <img src="https://images2.imgbox.com/1d/c1/57EgiQpd_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7f/81/XIrmRdn6_o.png" alt="在这里插入图片描述"></p> 
<p>2、因为我的服务都是基于nginx的，所以我直接使用nginx的方式部署即可，也可以点击右侧的帮助按钮，阿里云提供了很多对应的部署文档，比较的详细，大家也可以参考参考。</p> 
<blockquote> 
 <p>建议去查看，还是不错的，几乎是一步一步的教我们。<br> 如果你是docker 记得把 443 端口也暴露出来</p> 
</blockquote> 
<p>3、<strong>如果你的网站 还没有备案，那么你通过 <code>https + 域名</code> 访问，是无法访问的，如下</strong></p> 
<p><img src="https://images2.imgbox.com/d4/76/RMCeAeJS_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>这里使用以下别人回复，虽然是腾讯云的，但是原理都一样 原文地址 <a href="https://blog.csdn.net/qq_27790011/article/details/104659596">困扰我两天的问题(nginx配置好ssl证书,https却不能访问)</a></p> 
</blockquote> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/48/38/uhHdHJsI_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/dd/08/NmTH4QUs_o.png" alt="在这里插入图片描述"></p> 
<p>4、但是没有备案，<code>http + 域名</code>也是可以访问的，但是会被拦截</p> 
<p><img src="https://images2.imgbox.com/d9/19/eoCPhD1S_o.png" alt="在这里插入图片描述"></p> 
<p>4、但是你如果你用ip就可以<br> <img src="https://images2.imgbox.com/78/7b/ZBBHnsVX_o.png" alt="在这里插入图片描述"></p> 
<p>5、这里贴一份 完整的配置，其实就是阿里云文档上面的</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/20/fe/p4iFg3cD_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<pre><code class="prism language-java">server <span class="token punctuation">{<!-- --></span>
    #配置HTTPS的默认访问端口为<span class="token number">443</span>。
    #如果未在此处配置HTTPS的默认访问端口，可能会造成<span class="token class-name">Nginx</span>无法启动。
    #如果您使用<span class="token class-name">Nginx</span> <span class="token number">1.15</span><span class="token number">.0</span>及以上版本，请使用listen <span class="token number">443</span> ssl代替listen <span class="token number">443</span>和ssl on。
    listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>

    #填写证书绑定的域名
    server_name wh<span class="token punctuation">.</span><span class="token number">51</span>job<span class="token punctuation">.</span>cn<span class="token punctuation">;</span>


    #填写证书文件名称
    ssl_certificate <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span>cert<span class="token operator">/</span><span class="token number">10156555_</span>wh<span class="token punctuation">.</span><span class="token number">51</span>job<span class="token punctuation">.</span>cn<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>
    #填写证书私钥文件名称
    ssl_certificate_key <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span>cert<span class="token operator">/</span><span class="token number">10156555_</span>wh<span class="token punctuation">.</span><span class="token number">51</span>job<span class="token punctuation">.</span>cn<span class="token punctuation">.</span>key<span class="token punctuation">;</span>


   ssl_session_timeout <span class="token number">5</span>m<span class="token punctuation">;</span>
    #表示使用的加密套件的类型
    ssl_ciphers ECDHE<span class="token operator">-</span>RSA<span class="token operator">-</span>AES128<span class="token operator">-</span>GCM<span class="token operator">-</span>SHA256<span class="token operator">:</span>ECDHE<span class="token operator">:</span>ECDH<span class="token operator">:</span>AES<span class="token operator">:</span>HIGH<span class="token operator">:</span><span class="token operator">!</span>NULL<span class="token operator">:</span><span class="token operator">!</span>aNULL<span class="token operator">:</span><span class="token operator">!</span>MD5<span class="token operator">:</span><span class="token operator">!</span>ADH<span class="token operator">:</span><span class="token operator">!</span>RC4<span class="token punctuation">;</span>
    #表示使用的TLS协议的类型，您需要自行评估是否配置<span class="token class-name">TLSv1</span><span class="token number">.1</span>协议。
    ssl_protocols <span class="token class-name">TLSv1</span><span class="token number">.1</span> <span class="token class-name">TLSv1</span><span class="token number">.2</span> <span class="token class-name">TLSv1</span><span class="token number">.3</span><span class="token punctuation">;</span>

    ssl_prefer_server_ciphers on<span class="token punctuation">;</span>



    #access_log  <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>host<span class="token punctuation">.</span>access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>

    location <span class="token operator">/</span> <span class="token punctuation">{<!-- --></span>
        root   <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>
        index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    #error_page  <span class="token number">404</span>              <span class="token operator">/</span><span class="token number">404.</span>html<span class="token punctuation">;</span>
    
    # redirect server error pages <span class="token keyword">to</span> <span class="token namespace">the</span> <span class="token keyword">static</span> page <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html
    #
    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html <span class="token punctuation">{<!-- --></span>
        root   <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    # proxy the PHP scripts <span class="token keyword">to</span> <span class="token class-name">Apache</span> listening on <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">80</span>
    #
    #location <span class="token operator">~</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{<!-- --></span>
    #    proxy_pass   http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>
    #<span class="token punctuation">}</span>

    # pass the PHP scripts <span class="token keyword">to</span> <span class="token class-name">FastCGI</span> server listening on <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9000</span>
    #
    #location <span class="token operator">~</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{<!-- --></span>
    #    root           html<span class="token punctuation">;</span>
    #    fastcgi_pass   <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9000</span><span class="token punctuation">;</span>
    #    fastcgi_index  index<span class="token punctuation">.</span>php<span class="token punctuation">;</span>
    #    fastcgi_param  SCRIPT_FILENAME  <span class="token operator">/</span>scripts$fastcgi_script_name<span class="token punctuation">;</span>
    #    include        fastcgi_params<span class="token punctuation">;</span>
    #<span class="token punctuation">}</span>

    # deny access <span class="token keyword">to</span> <span class="token punctuation">.</span>htaccess files<span class="token punctuation">,</span> <span class="token keyword">if</span> <span class="token class-name">Apache</span>'s document root
    # concurs <span class="token keyword">with</span> <span class="token namespace">nginx</span>'s one
    #
    #location <span class="token operator">~</span> <span class="token operator">/</span>\<span class="token punctuation">.</span>ht <span class="token punctuation">{<!-- --></span>
    #    deny  all<span class="token punctuation">;</span>
    #<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

server <span class="token punctuation">{<!-- --></span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    #填写证书绑定的域名
    server_name <span class="token generics"><span class="token punctuation">&lt;</span>yourdomain<span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    #将所有HTTP请求通过rewrite指令重定向到HTTPS。
    rewrite <span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">.</span>*<span class="token punctuation">)</span>$ https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>$host$<span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/21/70/FNR6pysP_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b55adb5a1b53601dc90e94f966245cd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">这可能是最全面的Java学习路线了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3a7440540aa3a5fcf819813b61e978d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot 插件 spring-boot-maven-plugin 原理，以及SpringBoo工程部署的 jar 包瘦身实战</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>