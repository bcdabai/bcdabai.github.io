<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java中使用@Scheduled定时器操作 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java中使用@Scheduled定时器操作" />
<meta property="og:description" content="在Java中使用@Scheduled定时器的几种种操作方式。
1、fixedRate
例：@Scheduled(fixedRate = 5000) //上一次开始执行时间点之后5秒再执行
2、fixedDelay
例：@Scheduled(fixedDelay = 5000) //上一次执行完毕时间点之后5秒再执行
3、cron
例：@Scheduled(cron = &#34;0 0/1 9-21 * * ?&#34;)//每天早上9点-晚上21点间执行，每次执行间隔一分钟
着重讲一下cron:
Scheduled(cron=&#34;0 0 21 * * ?&#34;) 配置完整格式为： [秒] [分] [小时] [日] [月] [周] [年]
其中每个元素
可以是一个值(如6),
一个连续区间(9-12),
一个间隔时间(8-18/4)(/表示每隔4小时),
一个列表(1,3,5),
通配符。
由于&#34;月份中的日期&#34;和&#34;星期中的日期&#34;这两个元素互斥的,必须要对其中一个设置
附上一点代码示例：
@Component @EnableAsync public class ThirdOverTimePushTask { private Logger logger = LogManager.getLogger(); @Autowired private LawyerDontReceivingService lawyerDontReceivingService; //@Scheduled(fixedRate = 60000)//每隔一分钟执行一次 @Scheduled(cron = &#34;0 0/1 9-21 * * ?&#34;)//每天早上9点-晚上21点间执行，每次执行间隔一分钟 public void run() { try { run(()-&gt; { logger." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f1380546d1498923a01a14b663de8110/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-13T13:51:45+08:00" />
<meta property="article:modified_time" content="2022-04-13T13:51:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java中使用@Scheduled定时器操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在Java中使用@Scheduled定时器的几种种操作方式。</p> 
<p>1、fixedRate</p> 
<p>例：@Scheduled(fixedRate = 5000) //上一次开始执行时间点之后5秒再执行</p> 
<p></p> 
<p>2、fixedDelay</p> 
<p>例：@Scheduled(fixedDelay = 5000) //上一次执行完毕时间点之后5秒再执行</p> 
<p></p> 
<p>3、cron</p> 
<p>例：@Scheduled(cron = "0 0/1 9-21 * * ?")//每天早上9点-晚上21点间执行，每次执行间隔一分钟</p> 
<p>着重讲一下cron:</p> 
<p>Scheduled(cron="0 0 21 * * ?") <br> 配置完整格式为： [秒] [分] [小时] [日] [月] [周] [年]<br> 其中每个元素<br> 可以是一个值(如6),<br> 一个连续区间(9-12),<br> 一个间隔时间(8-18/4)(/表示每隔4小时),<br> 一个列表(1,3,5),<br> 通配符。<br> 由于"月份中的日期"和"星期中的日期"这两个元素互斥的,必须要对其中一个设置</p> 
<p>附上一点代码示例：</p> 
<pre><code class="language-java">@Component
@EnableAsync
public class ThirdOverTimePushTask {

    private Logger logger = LogManager.getLogger();
    @Autowired
    private LawyerDontReceivingService lawyerDontReceivingService;
    //@Scheduled(fixedRate = 60000)//每隔一分钟执行一次
     @Scheduled(cron = "0 0/1 9-21 * * ?")//每天早上9点-晚上21点间执行，每次执行间隔一分钟
    public void run() {
        try {
            run(()-&gt; {
                logger.info("开始查询超时未接单订单进行推送");
                lawyerDontReceivingService.getOverTimeOrderPushMessage();
            });
        }catch (RuntimeException e){
            logger.error(e.getMessage());
        }catch (Exception e){
            logger.error(e);
        }
    }

    public void run(Runnable runnable) {
        runnable.run();
    }
}</code></pre> 
<p>下边列一下常用的几种配置格式：</p> 
<table align="left" border="1" cellpadding="1" cellspacing="1" style="width:643px;"><thead><tr><th style="width:294px;text-align:center;">格式</th><th style="width:348px;text-align:center;">描述</th></tr></thead><tbody><tr><td style="width:294px;">0 0 10,14,16 * * ?</td><td style="width:348px;">每天上午10点，下午2点，4点</td></tr><tr><td style="width:294px;">0 0/30 9-18 * * ?</td><td style="width:348px;">朝九晚六工作时间内每半小时</td></tr><tr><td style="width:294px;">0 0 12 ? *    WED</td><td style="width:348px;">表示每个星期三中午12点</td></tr><tr><td style="width:294px;">0 0 12 * * ?</td><td style="width:348px;">每天中午12点触发</td></tr><tr><td style="width:294px;">0 30 10 ? * *</td><td style="width:348px;">每天上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 * * ?</td><td style="width:348px;">每天上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 * * ? *</td><td style="width:348px;">每天上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 * * ? 2022</td><td style="width:348px;">2022年的每天上午10:30触发</td></tr><tr><td style="width:294px;">0 * 14 * * ?</td><td style="width:348px;">在每天下午2点到下午2:59期间的每1分钟触发</td></tr><tr><td style="width:294px;">0 0/5 14 * * ?</td><td style="width:348px;">在每天下午2点到下午2:55期间的每5分钟触发</td></tr><tr><td style="width:294px;">0 “0/5 14,18 * * ?</td><td style="width:348px;">在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发</td></tr><tr><td style="width:294px;">0 0-5 14 * * ?</td><td style="width:348px;">在每天下午2点到下午2:05期间的每1分钟触发</td></tr><tr><td style="width:294px;">0 10,44 14 ? 3 WED</td><td style="width:348px;">每年三月的星期三的下午2:10和2:44触发</td></tr><tr><td style="width:294px;">0 30 10 ? * MON-FRI</td><td style="width:348px;">周一至周五的上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 15 * ?</td><td style="width:348px;">每月15日上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 L * ?</td><td style="width:348px;">每月最后一日的上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 ? * 6L</td><td style="width:348px;">每月的最后一个星期五上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 ? * 6L 2022-2023</td><td style="width:348px;">2022年至2023年的每月的最后一个星期五上午10:30触发</td></tr><tr><td style="width:294px;">0 30 10 ? “* 6#3</td><td style="width:348px;">每月的第三个星期五上午10:30触发</td></tr></tbody></table> 
<p><br>  </p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5317eb6217c42a578af7bec071f4570a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">sequence point</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a5cf9658354c22bcc8b7776ffbb62f53/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">轻量迅捷时代，Vite 与Webpack 谁赢谁输</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>