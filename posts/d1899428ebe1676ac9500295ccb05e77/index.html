<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL数据库增删改查 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL数据库增删改查" />
<meta property="og:description" content="删除表 drop table 表名； drop table if exists 表名； 修改表 修改表名 alter table 表名 rename to 新表名； 添加列 alter table 表名 add 列名 数据类型； 删除列 alter table 表名 drop 列名； 修改数据类型 alter table 表名 modify 列名 新数据类型； 修改列名和数据类型 alter table 表名 change 列名 新列名 新数据类型； 图形化客户端工具 Navicat 给指定列添加数据
insert into 表名(列名1，列名2...) values(值1，值2...); 给所有列添加数据时，依然可以用上面的格式，如下
INSERT into stu(id,name,sex,birthday,score,email,tel,status) value(2,&#39;李四&#39;,&#39;男&#39;,&#39;1999-1-1&#39;,88.88,&#39;lisi@163.com&#39;,&#39;13888888888&#39;,1); 但给所有列添加数据可以简化，把列名删去,减少代码量
insert into 表名 values(值1，值2...); INSERT into stu value(2,&#39;李四&#39;,&#39;男&#39;,&#39;1999-1-1&#39;,88.88,&#39;lisi@163.com&#39;,&#39;13888888888&#39;,1); 美化SQL
点击后：
批量添加，仅需把括号和里面的内容多复制几遍，并且加上逗号，然后运行即可，例如:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d1899428ebe1676ac9500295ccb05e77/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-24T18:32:02+08:00" />
<meta property="article:modified_time" content="2023-10-24T18:32:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL数据库增删改查</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>删除表</h3> 
<pre><code class="prism language-mysql">drop table 表名；
drop table if exists 表名；
</code></pre> 
<h3><a id="_6"></a>修改表</h3> 
<h4><a id="_8"></a>修改表名</h4> 
<pre><code class="prism language-mysql">alter table 表名 rename to 新表名；
</code></pre> 
<p><img src="https://images2.imgbox.com/11/cb/HEzneaeJ_o.png" alt="image-20230914161657093"></p> 
<h4><a id="_14"></a>添加列</h4> 
<pre><code class="prism language-mysql">alter table 表名 add 列名 数据类型；
</code></pre> 
<h4><a id="_20"></a>删除列</h4> 
<pre><code class="prism language-mysql">alter table 表名 drop 列名；
</code></pre> 
<h4><a id="_26"></a>修改数据类型</h4> 
<pre><code class="prism language-mysql">alter table 表名 modify 列名 新数据类型；
</code></pre> 
<h4><a id="_32"></a>修改列名和数据类型</h4> 
<pre><code class="prism language-mysql">alter table 表名 change 列名 新列名 新数据类型；
</code></pre> 
<h3><a id="_38"></a>图形化客户端工具</h3> 
<h4><a id="Navicat_40"></a>Navicat</h4> 
<p>给指定列添加数据</p> 
<pre><code class="prism language-mysql"> insert into 表名(列名1，列名2...) values(值1，值2...);
</code></pre> 
<p><img src="https://images2.imgbox.com/83/31/VlH30WRw_o.png" alt="image-20230914164508259"></p> 
<p>给所有列添加数据时，依然可以用上面的格式，如下</p> 
<pre><code class="prism language-mysql">INSERT into stu(id,name,sex,birthday,score,email,tel,status) value(2,'李四','男','1999-1-1',88.88,'lisi@163.com','13888888888',1);

</code></pre> 
<p>但给所有列添加数据可以简化，把列名删去,减少代码量</p> 
<pre><code class="prism language-mysql"> insert into 表名 values(值1，值2...);
 
 INSERT into stu value(2,'李四','男','1999-1-1',88.88,'lisi@163.com','13888888888',1);
</code></pre> 
<p><img src="https://images2.imgbox.com/5e/7d/ztcDyAge_o.png" alt="image-20230914165805570"></p> 
<p><strong>美化SQL</strong></p> 
<p><img src="https://images2.imgbox.com/0f/93/eOJRY3sy_o.png" alt="image-20230914170041525"></p> 
<p>点击后：<br> <img src="https://images2.imgbox.com/66/c6/WJLU42TE_o.png" alt="image-20230914170117525"></p> 
<p><strong>批量添加</strong>，仅需把括号和里面的内容多复制几遍，并且加上逗号，然后运行即可，例如:</p> 
<pre><code class="prism language-mysql">INSERT INTO stu (
	id,
	NAME,
	sex,
	birthday,
	score,
	email,
	tel,
	STATUS
)
VALUE
	(
		2,
		'李四',
		'男',
		'1999-1-1',
		88.88,
		'lisi@163.com',
		'13888888888',
		1
	),(		-- 先加逗号，然后复制一遍，分号只需要在最后就好
		2,
		'李四',
		'男',
		'1999-1-1',
		88.88,
		'lisi@163.com',
		'13888888888',
		1
	),(		-- 先加逗号，然后复制一遍
		2,
		'李四',
		'男',
		'1999-1-1',
		88.88,
		'lisi@163.com',
		'13888888888',
		1
	),(		-- 先加逗号，然后复制一遍
		2,
		'李四',
		'男',
		'1999-1-1',
		88.88,
		'lisi@163.com',
		'13888888888',
		1
	);		-- 分号默认在最后
</code></pre> 
<p><img src="https://images2.imgbox.com/bb/68/dYieL63m_o.png" alt="image-20230914170520034"><br> <strong>修改数据</strong></p> 
<pre><code class="prism language-mysql">update 表名 set 列名1=值1，列名2=值2，...[where 条件]
</code></pre> 
<p>例如修改张三的性别生日和分数</p> 
<p>注意：如果update语句没有加where条件，则会将表中所有数据全部修改！<br> <img src="https://images2.imgbox.com/c2/cf/tt6gH1Uv_o.png" alt="image-20230914211616593"><br> <img src="https://images2.imgbox.com/dc/36/bHcSsCX0_o.png" alt="image-20230914211627517"><br> <strong>删除数据</strong></p> 
<pre><code class="prism language-mysql">删除DELETE EROM 表名 [WHERE 条件] ;
</code></pre> 
<p>示例：使用该语句后，筛选删除name为张三的列</p> 
<p><img src="https://images2.imgbox.com/c9/0f/1gupJM4O_o.png" alt="image-20230914212228267"><br> 注意此处的条件语句，如果没有条件语句，所有数据都会被删除</p> 
<h4><a id="DQL_149"></a>DQL数据库查询</h4> 
<p>首先提前做好一个学生表，下面的代码全部复制到navicat 然后点击运行即可</p> 
<pre><code class="prism language-mysql">
-- 删除stu表
drop table if exists stu;


-- 创建stu表
CREATE TABLE stu (
 id int, -- 编号
 name varchar(20), -- 姓名
 age int, -- 年龄
 sex varchar(5), -- 性别
 address varchar(100), -- 地址
 math double(5,2), -- 数学成绩
 english double(5,2), -- 英语成绩
 hire_date date -- 入学时间
);

-- 添加数据
INSERT INTO stu(id,NAME,age,sex,address,math,english,hire_date) 
VALUES 
(1,'马运',55,'男','杭州',66,78,'1995-09-01'),
(2,'马花疼',45,'女','深圳',98,87,'1998-09-01'),
(3,'马斯克',55,'男','香港',56,77,'1999-09-02'),
(4,'柳白',20,'女','湖南',76,65,'1997-09-05'),
(5,'柳青',20,'男','湖南',86,NULL,'1998-09-01'),
(6,'刘德花',57,'男','香港',99,99,'1998-09-01'),
(7,'张学右',22,'女','香港',99,99,'1998-09-01'),
(8,'德玛西亚',18,'男','南京',56,65,'1994-09-02');

select * from stu;

</code></pre> 
<h4><a id="_187"></a>基础查询</h4> 
<p>查询name age 两列</p> 
<pre><code class="prism language-mysql">select name,age from stu;
</code></pre> 
<p><img src="https://images2.imgbox.com/05/81/c6SwmyaR_o.png" alt="image-20230914213313344"></p> 
<p>上文我们已经使用过下面的代码，用*星号查询全部数据</p> 
<p>(但日后不建议使用，公司里代码规范不允许这样使用，在美化SQL代码后，*无法加注释，而且别人无法得知你查的全部数据到底是哪几项，所有建议还是把列名全部写出来)</p> 
<pre><code class="prism language-mysql">select * from stu;
</code></pre> 
<p>当我们需要了解某一数据分布时，可能会遇到重复数据，例如了解所有学生的所在地</p> 
<p>这时候我们就要把重复数据筛选，去除重复记录</p> 
<p><strong>使用distinct关键字</strong></p> 
<pre><code class="prism language-mysql">select DISTINCT address from stu;
</code></pre> 
<p><img src="https://images2.imgbox.com/68/54/CKnfkazj_o.png" alt="image-20230914213831770"><br> <strong>别名</strong> <strong>as</strong></p> 
<p>在不改变列名的情况下，给它取一个小名，例如代码中使用英文，表中math为数学成绩，我们就可以将代码改成如下进行查询</p> 
<p><em>使用别名前</em><br> <img src="https://images2.imgbox.com/c0/96/nThpvsaf_o.png" alt="image-20230914214026248"><br> <em>使用别名后</em><br> <img src="https://images2.imgbox.com/e3/9c/10FQZ8Xs_o.png" alt="image-20230914214351331"><br> <img src="https://images2.imgbox.com/73/d2/rIvGU2YQ_o.png" alt="image-20230914214509166"></p> 
<p>（as可以不用写，但要和列名至少保留一个空格隔开）</p> 
<pre><code class="prism language-mysql">select name,math as 数学成绩,english as 英语成绩 from stu;
select name,math 数学成绩,english 英语成绩 from stu;
</code></pre> 
<h4><a id="_234"></a>条件查询</h4> 
<p>1.筛选出年龄大于二十的人</p> 
<pre><code class="prism language-mysql">select name,age,sex from stu where age&gt;20;
</code></pre> 
<p><img src="https://images2.imgbox.com/ba/81/fHRjNzs2_o.png" alt="image-20230914215021369"></p> 
<p>2.筛选年龄在20到30之间的人</p> 
<pre><code class="prism language-mysql">select name,age,sex from stu where age&gt;=20 &amp;&amp; age&lt;=30;
-- 或者使用and代替&amp;&amp;
select name,age,sex from stu where age&gt;=20 and age&lt;=30;
-- 再或者划定范围用between and，英文翻译就是在什么之内
select name,age,sex from stu where age between 20 and 30;
</code></pre> 
<p>3.虽然日期是字符，但筛选日期也可以使用这种区间法</p> 
<pre><code class="prism language-mysql">select name,age,sex from stu where hire_date between '1998-09-01' and '1999-09-01';
</code></pre> 
<p><img src="https://images2.imgbox.com/43/7e/w9sxxu1s_o.png" alt="image-20230914220004813"></p> 
<p>4.查询年龄等于18的学员</p> 
<pre><code class="prism language-mysql">select * from stu where age = 18;
</code></pre> 
<p>5.查询年龄不等于18的学员(两种用法)</p> 
<pre><code class="prism language-mysql">select * from stu where age != 18;
select * from stu where age &lt;&gt; 18;
</code></pre> 
<p>6.查询年龄等于18，或者年龄等于20，或者年龄等于22的学员</p> 
<p>查询多个条件，可以使用 || 或者 or（推荐使用）</p> 
<pre><code class="prism language-mysql">select * from stu where age = 18 or age = 20 or age = 22;
</code></pre> 
<p><img src="https://images2.imgbox.com/45/77/hRWzKSx1_o.png" alt="image-20230914220607461"><br> 还可以使用类似与数组的方法，在这里面的就查询</p> 
<pre><code class="prism language-mysql">select * from stu where age in (18,20,22);
</code></pre> 
<p>7.查询英语成绩为null的成员</p> 
<p>null值的比较不能使用 = != ，要使用is is not</p> 
<pre><code class="prism language-mysql">-- 错误写法
select * from stu where english = null;
-- 正确写法
select * from stu where english is null;
</code></pre> 
<h4><a id="_298"></a>模糊查询</h4> 
<p><strong>like</strong></p> 
<p>通配符 _:代表单个任意字符 %：代表任意个数字符</p> 
<p>示例：</p> 
<p>1.查询姓’马’的学员信息</p> 
<pre><code class="prism language-mysql">select * from stu where name like '马%';
</code></pre> 
<p>2.查询第二个字是‘花’的学员信息</p> 
<pre><code class="prism language-mysql">select * from stu where name like '_花%';
</code></pre> 
<p>3.查询名字中包含，德’的学员信息(最常用的查询)</p> 
<pre><code class="prism language-mysql">select * from stu where name like '%得%';
</code></pre> 
<h4><a id="_324"></a>条件查询</h4> 
<h5><a id="_326"></a>排序查询</h5> 
<p><strong>ASC升序排列 DESC降序排列</strong></p> 
<p>1.查询学生信息，按照年龄升序排列(ASC可以不写，为默认值)</p> 
<pre><code class="prism language-mysql">select * from stu order by age asc;
</code></pre> 
<p>2.查询学生信息，按照数学成绩降序排排列</p> 
<pre><code class="prism language-mysql">select * from stu order by math desc;
</code></pre> 
<p><img src="https://images2.imgbox.com/56/eb/osihkPgD_o.png" alt="image-20230915192256153"></p> 
<p>3.查询学生信息，按照数学成绩降序排列，如果数学成绩一样，再按照英语成绩升序排列</p> 
<pre><code class="prism language-mysql">select * from stu order by math desc, english asc;
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/59/UYie0iuC_o.png" alt="image-20230915192409329"></p> 
<h4><a id="_351"></a>分组查询</h4> 
<h5><a id="_353"></a>聚合函数</h5> 
<p>将一列数据作为一个整体，进行纵向计算，例如计算所有人分数的平均值</p> 
<table><thead><tr><th>函数名</th><th>功能</th></tr></thead><tbody><tr><td>count(列名)</td><td>统计数量（一般选用不为null的列）</td></tr><tr><td>max(列名)</td><td>最大值</td></tr><tr><td>min(列名)</td><td>最小值</td></tr><tr><td>sum(列名)</td><td>求和</td></tr><tr><td>avg(列名)</td><td>平均值</td></tr></tbody></table> 
<pre><code class="prism language-mysql">-- 语法
select 聚合函数 from 表;
</code></pre> 
<p>null值不参与所有聚合函数运算，所有统计这些值时，null不会被作为最小值显示出来</p> 
<pre><code class="prism language-mysql">SELECT 字段列表 FROM 表名[WHERE 分组前条件限定] GROUP BY 分组字段名 [HAVING 分组后条件过滤];
</code></pre> 
<p>1.查询男同学和女同学各自的数学平均分</p> 
<pre><code class="prism language-mysql">select sex,avg(math) from stu group by sex;
</code></pre> 
<p>2.查询男同学和女同学各自的数学平均分，以及各自人数</p> 
<pre><code class="prism language-mysql">select sex,avg(math),count(*) from stu group by sex;
</code></pre> 
<p>3.查询男同学和女同学各自的数学平均分，以及各自人数，要求: 分数低于70分的不参与分组</p> 
<pre><code class="prism language-mysql">select sex,avg(math),count(*) from stu where math&gt;70 group by sex;
</code></pre> 
<p>4.查询男同学和女同学各自的数学平均分，以及各自人数，要求: 分数低于70分的不参与分组，分组之后人数大于</p> 
<pre><code class="prism language-mysql">select sex,avg(math),count(*) from stu where math&gt;70 group by sex having count(*)&gt;2;
</code></pre> 
<p><img src="https://images2.imgbox.com/36/b3/kWndR2SP_o.png" alt="image-20230915195240100"></p> 
<h4><a id="_403"></a>分页查询</h4> 
<p>1.从0开始查询，查询3条数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 0 , 3: 
</code></pre> 
<p>2，每页显示3条数据，查询第1页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 0 3;
</code></pre> 
<p>3。每页显示3条数据，查询第2页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 3 .3;
</code></pre> 
<p>4.每页显示3条数据，查询第3页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 6 , 3;
</code></pre> 
<p>每页的开始索引计算：</p> 
<p>（页码-1）*每页显示的条数</p> 
<p>l<br> select sex,avg(math),count(<em>) from stu where math&gt;70 group by sex having count(</em>)&gt;2;</p> 
<pre><code>
[外链图片转存中...(img-roXriq3j-1694780321837)]

### 分页查询

1.从0开始查询，查询3条数据

```mysql
select * from stu limit 0 , 3: 
</code></pre> 
<p>2，每页显示3条数据，查询第1页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 0 3;
</code></pre> 
<p>3。每页显示3条数据，查询第2页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 3 .3;
</code></pre> 
<p>4.每页显示3条数据，查询第3页数据</p> 
<pre><code class="prism language-mysql">select * from stu limit 6 , 3;
</code></pre> 
<p>每页的开始索引计算：</p> 
<p>（页码-1）*每页显示的条数</p> 
<p>例如：每页显示15条，第十一页的开始索引就是（11-1）*15=150，第一条的序号就是150</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec2730e636bec83db71fa6146adfa953/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AI大模型参数介绍中的5B、7B是何意？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9bcde15d0b2043bb5eacd738ad80ef51/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flask后端开发(一)-基础知识和前期准备</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>