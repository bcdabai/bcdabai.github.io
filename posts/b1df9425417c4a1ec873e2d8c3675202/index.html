<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java中byte数组与int，long，short间的转换 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java中byte数组与int，long，short间的转换" />
<meta property="og:description" content="package com.util; /** * * &lt;ul&gt; * &lt;li&gt;文件名称: com.born.util.ByteUtil.java&lt;/li&gt; * &lt;li&gt;文件描述: byte转换工具&lt;/li&gt; * &lt;li&gt;版权所有: 版权所有(C)2001-2006&lt;/li&gt; * &lt;li&gt;公 司: bran&lt;/li&gt; * &lt;li&gt;内容摘要:&lt;/li&gt; * &lt;li&gt;其他说明:&lt;/li&gt; * &lt;li&gt;完成日期：2011-7-18&lt;/li&gt; * &lt;li&gt;修改记录0：无&lt;/li&gt; * &lt;/ul&gt; * * @version 1.0 * @author 许力多 */ public class ByteUtil { /** * 转换short为byte * * @param b * @param s * 需要转换的short * @param index */ public static void putShort(byte b[], short s, int index) { b[index &#43; 1] = (byte) (s &gt;&gt; 8); b[index &#43; 0] = (byte) (s &gt;&gt; 0); } /** * 通过byte数组取到short * * @param b * @param index * 第几位开始取 * @return */ public static short getShort(byte[] b, int index) { return (short) (((b[index &#43; 1] &lt;&lt; 8) | b[index &#43; 0] &amp; 0xff)); } /** * 转换int为byte数组 * * @param bb * @param x * @param index */ public static void putInt(byte[] bb, int x, int index) { bb[index &#43; 3] = (byte) (x &gt;&gt; 24); bb[index &#43; 2] = (byte) (x &gt;&gt; 16); bb[index &#43; 1] = (byte) (x &gt;&gt; 8); bb[index &#43; 0] = (byte) (x &gt;&gt; 0); } /** * 通过byte数组取到int * * @param bb * @param index * 第几位开始 * @return */ public static int getInt(byte[] bb, int index) { return (int) ((((bb[index &#43; 3] &amp; 0xff) &lt;&lt; 24) | ((bb[index &#43; 2] &amp; 0xff) &lt;&lt; 16) | ((bb[index &#43; 1] &amp; 0xff) &lt;&lt; 8) | ((bb[index &#43; 0] &amp; 0xff) &lt;&lt; 0))); } /** * 转换long型为byte数组 * * @param bb * @param x * @param index */ public static void putLong(byte[] bb, long x, int index) { bb[index &#43; 7] = (byte) (x &gt;&gt; 56); bb[index &#43; 6] = (byte) (x &gt;&gt; 48); bb[index &#43; 5] = (byte) (x &gt;&gt; 40); bb[index &#43; 4] = (byte) (x &gt;&gt; 32); bb[index &#43; 3] = (byte) (x &gt;&gt; 24); bb[index &#43; 2] = (byte) (x &gt;&gt; 16); bb[index &#43; 1] = (byte) (x &gt;&gt; 8); bb[index &#43; 0] = (byte) (x &gt;&gt; 0); } /** * 通过byte数组取到long * * @param bb * @param index * @return */ public static long getLong(byte[] bb, int index) { return ((((long) bb[index &#43; 7] &amp; 0xff) &lt;&lt; 56) | (((long) bb[index &#43; 6] &amp; 0xff) &lt;&lt; 48) | (((long) bb[index &#43; 5] &amp; 0xff) &lt;&lt; 40) | (((long) bb[index &#43; 4] &amp; 0xff) &lt;&lt; 32) | (((long) bb[index &#43; 3] &amp; 0xff) &lt;&lt; 24) | (((long) bb[index &#43; 2] &amp; 0xff) &lt;&lt; 16) | (((long) bb[index &#43; 1] &amp; 0xff) &lt;&lt; 8) | (((long) bb[index &#43; 0] &amp; 0xff) &lt;&lt; 0)); } /** * 字符到字节转换 * * @param ch * @return */ public static void putChar(byte[] bb, char ch, int index) { int temp = (int) ch; // byte[] b = new byte[2]; for (int i = 0; i &lt; 2; i &#43;&#43; ) { bb[index &#43; i] = new Integer(temp &amp; 0xff)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b1df9425417c4a1ec873e2d8c3675202/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-03-24T19:13:56+08:00" />
<meta property="article:modified_time" content="2012-03-24T19:13:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java中byte数组与int，long，short间的转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="language-java">package com.util;

/**
 * 
 * &lt;ul&gt;
 * &lt;li&gt;文件名称: com.born.util.ByteUtil.java&lt;/li&gt;
 * &lt;li&gt;文件描述: byte转换工具&lt;/li&gt;
 * &lt;li&gt;版权所有: 版权所有(C)2001-2006&lt;/li&gt;
 * &lt;li&gt;公 司: bran&lt;/li&gt;
 * &lt;li&gt;内容摘要:&lt;/li&gt;
 * &lt;li&gt;其他说明:&lt;/li&gt;
 * &lt;li&gt;完成日期：2011-7-18&lt;/li&gt;
 * &lt;li&gt;修改记录0：无&lt;/li&gt;
 * &lt;/ul&gt;
 * 
 * @version 1.0
 * @author 许力多
 */
public class ByteUtil {
	/**
	 * 转换short为byte
	 * 
	 * @param b
	 * @param s
	 *            需要转换的short
	 * @param index
	 */
	public static void putShort(byte b[], short s, int index) {
		b[index + 1] = (byte) (s &gt;&gt; 8);
		b[index + 0] = (byte) (s &gt;&gt; 0);
	}

	/**
	 * 通过byte数组取到short
	 * 
	 * @param b
	 * @param index
	 *            第几位开始取
	 * @return
	 */
	public static short getShort(byte[] b, int index) {
		return (short) (((b[index + 1] &lt;&lt; 8) | b[index + 0] &amp; 0xff));
	}

	/**
	 * 转换int为byte数组
	 * 
	 * @param bb
	 * @param x
	 * @param index
	 */
	public static void putInt(byte[] bb, int x, int index) {
		bb[index + 3] = (byte) (x &gt;&gt; 24);
		bb[index + 2] = (byte) (x &gt;&gt; 16);
		bb[index + 1] = (byte) (x &gt;&gt; 8);
		bb[index + 0] = (byte) (x &gt;&gt; 0);
	}

	/**
	 * 通过byte数组取到int
	 * 
	 * @param bb
	 * @param index
	 *            第几位开始
	 * @return
	 */
	public static int getInt(byte[] bb, int index) {
		return (int) ((((bb[index + 3] &amp; 0xff) &lt;&lt; 24)
				| ((bb[index + 2] &amp; 0xff) &lt;&lt; 16)
				| ((bb[index + 1] &amp; 0xff) &lt;&lt; 8) | ((bb[index + 0] &amp; 0xff) &lt;&lt; 0)));
	}

	/**
	 * 转换long型为byte数组
	 * 
	 * @param bb
	 * @param x
	 * @param index
	 */
	public static void putLong(byte[] bb, long x, int index) {
		bb[index + 7] = (byte) (x &gt;&gt; 56);
		bb[index + 6] = (byte) (x &gt;&gt; 48);
		bb[index + 5] = (byte) (x &gt;&gt; 40);
		bb[index + 4] = (byte) (x &gt;&gt; 32);
		bb[index + 3] = (byte) (x &gt;&gt; 24);
		bb[index + 2] = (byte) (x &gt;&gt; 16);
		bb[index + 1] = (byte) (x &gt;&gt; 8);
		bb[index + 0] = (byte) (x &gt;&gt; 0);
	}

	/**
	 * 通过byte数组取到long
	 * 
	 * @param bb
	 * @param index
	 * @return
	 */
	public static long getLong(byte[] bb, int index) {
		return ((((long) bb[index + 7] &amp; 0xff) &lt;&lt; 56)
				| (((long) bb[index + 6] &amp; 0xff) &lt;&lt; 48)
				| (((long) bb[index + 5] &amp; 0xff) &lt;&lt; 40)
				| (((long) bb[index + 4] &amp; 0xff) &lt;&lt; 32)
				| (((long) bb[index + 3] &amp; 0xff) &lt;&lt; 24)
				| (((long) bb[index + 2] &amp; 0xff) &lt;&lt; 16)
				| (((long) bb[index + 1] &amp; 0xff) &lt;&lt; 8) | (((long) bb[index + 0] &amp; 0xff) &lt;&lt; 0));
	}

	/**
	 * 字符到字节转换
	 * 
	 * @param ch
	 * @return
	 */
	public static void putChar(byte[] bb, char ch, int index) {
		int temp = (int) ch;
		// byte[] b = new byte[2];
		for (int i = 0; i &lt; 2; i ++ ) {
			bb[index + i] = new Integer(temp &amp; 0xff).byteValue(); // 将最高位保存在最低位
			temp = temp &gt;&gt; 8; // 向右移8位
		}
	}

	/**
	 * 字节到字符转换
	 * 
	 * @param b
	 * @return
	 */
	public static char getChar(byte[] b, int index) {
		int s = 0;
		if (b[index + 1] &gt; 0)
			s += b[index + 1];
		else
			s += 256 + b[index + 0];
		s *= 256;
		if (b[index + 0] &gt; 0)
			s += b[index + 1];
		else
			s += 256 + b[index + 0];
		char ch = (char) s;
		return ch;
	}

	/**
	 * float转换byte
	 * 
	 * @param bb
	 * @param x
	 * @param index
	 */
	public static void putFloat(byte[] bb, float x, int index) {
		// byte[] b = new byte[4];
		int l = Float.floatToIntBits(x);
		for (int i = 0; i &lt; 4; i++) {
			bb[index + i] = new Integer(l).byteValue();
			l = l &gt;&gt; 8;
		}
	}

	/**
	 * 通过byte数组取得float
	 * 
	 * @param bb
	 * @param index
	 * @return
	 */
	public static float getFloat(byte[] b, int index) {
		int l;
		l = b[index + 0];
		l &amp;= 0xff;
		l |= ((long) b[index + 1] &lt;&lt; 8);
		l &amp;= 0xffff;
		l |= ((long) b[index + 2] &lt;&lt; 16);
		l &amp;= 0xffffff;
		l |= ((long) b[index + 3] &lt;&lt; 24);
		return Float.intBitsToFloat(l);
	}

	/**
	 * double转换byte
	 * 
	 * @param bb
	 * @param x
	 * @param index
	 */
	public static void putDouble(byte[] bb, double x, int index) {
		// byte[] b = new byte[8];
		long l = Double.doubleToLongBits(x);
		for (int i = 0; i &lt; 4; i++) {
			bb[index + i] = new Long(l).byteValue();
			l = l &gt;&gt; 8;
		}
	}

	/**
	 * 通过byte数组取得float
	 * 
	 * @param bb
	 * @param index
	 * @return
	 */
	public static double getDouble(byte[] b, int index) {
		long l;
		l = b[0];
		l &amp;= 0xff;
		l |= ((long) b[1] &lt;&lt; 8);
		l &amp;= 0xffff;
		l |= ((long) b[2] &lt;&lt; 16);
		l &amp;= 0xffffff;
		l |= ((long) b[3] &lt;&lt; 24);
		l &amp;= 0xffffffffl;
		l |= ((long) b[4] &lt;&lt; 32);
		l &amp;= 0xffffffffffl;
		l |= ((long) b[5] &lt;&lt; 40);
		l &amp;= 0xffffffffffffl;
		l |= ((long) b[6] &lt;&lt; 48);
		l &amp;= 0xffffffffffffffl;
		l |= ((long) b[7] &lt;&lt; 56);
		return Double.longBitsToDouble(l);
	}
}</code></pre> 
<pre><code class="language-java">public class DataTypeChangeHelper {
	/**
	 * 将一个单字节的byte转换成32位的int
	 * 
	 * @param b
	 *            byte
	 * @return convert result
	 */
	public static int unsignedByteToInt(byte b) {
		return (int) b &amp; 0xFF;
	}

	/**
	 * 将一个单字节的Byte转换成十六进制的数
	 * 
	 * @param b
	 *            byte
	 * @return convert result
	 */
	public static String byteToHex(byte b) {
		int i = b &amp; 0xFF;
		return Integer.toHexString(i);
	}

	/**
	 * 将一个4byte的数组转换成32位的int
	 * 
	 * @param buf
	 *            bytes buffer
	 * @param byte[]中开始转换的位置
	 * @return convert result
	 */
	public static long unsigned4BytesToInt(byte[] buf, int pos) {
		int firstByte = 0;
		int secondByte = 0;
		int thirdByte = 0;
		int fourthByte = 0;
		int index = pos;
		firstByte = (0x000000FF &amp; ((int) buf[index]));
		secondByte = (0x000000FF &amp; ((int) buf[index + 1]));
		thirdByte = (0x000000FF &amp; ((int) buf[index + 2]));
		fourthByte = (0x000000FF &amp; ((int) buf[index + 3]));
		index = index + 4;
		return ((long) (firstByte &lt;&lt; 24 | secondByte &lt;&lt; 16 | thirdByte &lt;&lt; 8 | fourthByte)) &amp; 0xFFFFFFFFL;
	}

	/**
	 * 将16位的short转换成byte数组
	 * 
	 * @param s
	 *            short
	 * @return byte[] 长度为2
	 * */
	public static byte[] shortToByteArray(short s) {
		byte[] targets = new byte[2];
		for (int i = 0; i &lt; 2; i++) {
			int offset = (targets.length - 1 - i) * 8;
			targets[i] = (byte) ((s &gt;&gt;&gt; offset) &amp; 0xff);
		}
		return targets;
	}

	/**
	 * 将32位整数转换成长度为4的byte数组
	 * 
	 * @param s
	 *            int
	 * @return byte[]
	 * */
	public static byte[] intToByteArray(int s) {
		byte[] targets = new byte[2];
		for (int i = 0; i &lt; 4; i++) {
			int offset = (targets.length - 1 - i) * 8;
			targets[i] = (byte) ((s &gt;&gt;&gt; offset) &amp; 0xff);
		}
		return targets;
	}

	/**
	 * long to byte[]
	 * 
	 * @param s
	 *            long
	 * @return byte[]
	 * */
	public static byte[] longToByteArray(long s) {
		byte[] targets = new byte[2];
		for (int i = 0; i &lt; 8; i++) {
			int offset = (targets.length - 1 - i) * 8;
			targets[i] = (byte) ((s &gt;&gt;&gt; offset) &amp; 0xff);
		}
		return targets;
	}

	/**32位int转byte[]*/
	public static byte[] int2byte(int res) {
		byte[] targets = new byte[4];
		targets[0] = (byte) (res &amp; 0xff);// 最低位
		targets[1] = (byte) ((res &gt;&gt; 8) &amp; 0xff);// 次低位
		targets[2] = (byte) ((res &gt;&gt; 16) &amp; 0xff);// 次高位
		targets[3] = (byte) (res &gt;&gt;&gt; 24);// 最高位,无符号右移。
		return targets;
	}

	/**
	 * 将长度为2的byte数组转换为16位int
	 * 
	 * @param res
	 *            byte[]
	 * @return int
	 * */
	public static int byte2int(byte[] res) {
		// res = InversionByte(res);
		// 一个byte数据左移24位变成0x??000000，再右移8位变成0x00??0000
		int targets = (res[0] &amp; 0xff) | ((res[1] &lt;&lt; 8) &amp; 0xff00); // | 表示安位或
		return targets;
	}
}</code></pre> 
<br> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ad77fa2e67d97e103f7771b8d0b3b686/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Winpcap的安装使用方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/77306e935738e2e9d28bf0343573d8ae/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用SC创建和删除windows服务</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>