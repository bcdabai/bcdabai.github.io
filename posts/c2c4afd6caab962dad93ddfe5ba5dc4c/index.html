<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>redis学习之Jedis使用线程池封装redis的基本操作及spring的简单封装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="redis学习之Jedis使用线程池封装redis的基本操作及spring的简单封装" />
<meta property="og:description" content="今天是521，作为单身狗屌丝一枚，还是像往常一样没任何感觉，好悲哀。不多说，进入今天的redis学习之Jedis使用线程池封装redis的基本操作及spring的简单封装。例子都是整理好的，供工作学习只需
一、Jedis使用线程池封装redis的基本操作
redis客户端jedis常用的操作：key value,hash,list,set,zset的基本操作；
package util;
import java.util.List;
import java.util.Map;
import java.util.Set;
import redis.clients.jedis.Jedis;
import redis.clients.jedis.JedisPool;
import redis.clients.jedis.JedisPoolConfig;
import redis.clients.jedis.BinaryClient.LIST_POSITION;
/**
* &lt;p&gt;redis通用工具类&lt;/p&gt;
*
*/
publicclass RedisUtil {
private JedisPoolpool =null;
/**
* &lt;p&gt;传入ip和端口号构建redis连接池&lt;/p&gt;
* @param ipip
* @param prot端口
*/
public RedisUtil(String ip,int prot) {
if (pool ==null) {
JedisPoolConfig config = new JedisPoolConfig();
//控制一个pool可分配多少个jedis实例，通过pool.getResource()来获取；
//如果赋值为-1，则表示不限制；如果pool已经分配了maxActive个jedis实例，则此时pool的状态为exhausted(耗尽)。
config.setMaxActive(500);
//控制一个pool最多有多少个状态为idle(空闲的)的jedis实例。
config.setMaxIdle(5);
//表示当borrow(引入)一个jedis实例时，最大的等待时间，如果超过等待时间，则直接抛出JedisConnectionException；
config.setMaxWait(1000 * 100);
//在borrow一个jedis实例时，是否提前进行validate操作；如果为true，则得到的jedis实例均是可用的；
config.setTestOnBorrow(true);
// pool =new JedisPool(config, &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c2c4afd6caab962dad93ddfe5ba5dc4c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-05-21T23:38:37+08:00" />
<meta property="article:modified_time" content="2016-05-21T23:38:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">redis学习之Jedis使用线程池封装redis的基本操作及spring的简单封装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-size:14px">今天是<span style="font-family:Calibri">521</span>，作为单身狗屌丝一枚，还是像往常一样没任何感觉，好悲哀。不多说，进入今天的<span style="font-family:Calibri">redis</span>学习之<span style="font-family:Calibri">Jedis</span>使用线程池封装<span style="font-family:Calibri">redis</span>的基本操作及<span style="font-family:Calibri">spring</span>的简单封装。例子都是整理好的，供工作学习只需</span></p> 
<p><span style="font-size:14px"><strong><span style="color:red">一、</span><span style="color:red"><span style="font-family:Calibri">Jedis</span></span><span style="color:red">使用线程池封装</span><span style="color:red"><span style="font-family:Calibri">redis</span></span><span style="color:red">的基本操作</span></strong></span></p> 
<p><span style="font-family:Calibri; font-size:14px">redis</span>客户端<span style="font-family:Calibri">jedis</span>常用的操作：<span style="font-family:Calibri">key  value,hash,list,set,zset</span>的基本操作；</p> 
<p align="left"><strong><span style="color:#7f055">package</span></strong><span style="color:black"> util;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> java.util.List;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> java.util.Map;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> java.util.Set;</span></p> 
<p align="left"><span style="font-family:宋体; font-size:14px"> </span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.Jedis;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.JedisPool;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.JedisPoolConfig;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.BinaryClient.LIST_POSITION;</span></p> 
<p align="left"><span style="font-family:宋体; font-size:14px"> </span></p> 
<p align="left"><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf"> </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><u><span style="color:#3f5fbf">redis</span></u><span style="color:#3f5fbf">通用工具类</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf"> </span>*</p> 
<p align="left"><span style="color:#3f5fbf"> </span>*/</p> 
<p align="left"><strong><span style="color:#7f055">public</span><span style="color:#7f055">class</span></strong><span style="color:black"> RedisUtil {<!-- --></span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">private</span></strong><span style="color:black"> JedisPool</span><span style="color:#00c0">pool</span><span style="color:black"> =</span><strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">传入</span><u><span style="color:#3f5fbf">ip</span></u><span style="color:#3f5fbf">和端口号构建</span><u><span style="color:#3f5fbf">redis</span></u><span style="color:#3f5fbf">连接池</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> ip<u>ip</u></span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> prot</span><span style="color:#3f5fbf">端口</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> RedisUtil(String ip,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> prot) {<!-- --></span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">if</span></strong><span style="color:black"> (</span><span style="color:#00c0">pool</span><span style="color:black"> ==</span><strong><span style="color:#7f055">null</span></strong><span style="color:black">) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>JedisPoolConfig config = <strong> <span style="color:#7f055">new</span></strong><span style="color:black"> JedisPoolConfig();</span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">控制一个</span><span style="color:#3f7f5f">pool</span><span style="color:#3f7f5f">可分配多少个</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例，通过</span><span style="color:#3f7f5f">pool.getResource()</span><span style="color:#3f7f5f">来获取；</span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">如果赋值为</span><span style="color:#3f7f5f">-1</span><span style="color:#3f7f5f">，则表示不限制；如果</span><span style="color:#3f7f5f">pool</span><span style="color:#3f7f5f">已经分配了</span><span style="color:#3f7f5f">maxActive</span><span style="color:#3f7f5f">个</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例，则此时</span><span style="color:#3f7f5f">pool</span><span style="color:#3f7f5f">的状态为</span><span style="color:#3f7f5f">exhausted(</span><span style="color:#3f7f5f">耗尽</span><span style="color:#3f7f5f">)</span><span style="color:#3f7f5f">。</span></p> 
<p align="left"><span style="color:black">      </span>config.setMaxActive(500);</p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">控制一个</span><span style="color:#3f7f5f">pool</span><span style="color:#3f7f5f">最多有多少个状态为</span><span style="color:#3f7f5f">idle(</span><span style="color:#3f7f5f">空闲的</span><span style="color:#3f7f5f">)</span><span style="color:#3f7f5f">的</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例。</span></p> 
<p align="left"><span style="color:black">      </span>config.setMaxIdle(5);</p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">表示当</span><span style="color:#3f7f5f">borrow(</span><span style="color:#3f7f5f">引入</span><span style="color:#3f7f5f">)</span><span style="color:#3f7f5f">一个</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例时，最大的等待时间，如果超过等待时间，则直接抛出</span><span style="color:#3f7f5f">JedisConnectionException</span><span style="color:#3f7f5f">；</span></p> 
<p align="left"><span style="color:black">      </span>config.setMaxWait(1000 * 100);</p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">在</span><span style="color:#3f7f5f">borrow</span><span style="color:#3f7f5f">一个</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例时，是否提前进行</span><span style="color:#3f7f5f">validate</span><span style="color:#3f7f5f">操作；如果为</span><span style="color:#3f7f5f">true</span><span style="color:#3f7f5f">，则得到的</span><u><span style="color:#3f7f5f">jedis</span></u><span style="color:#3f7f5f">实例均是可用的；</span></p> 
<p align="left"><span style="color:black">      </span>config.setTestOnBorrow(<strong><span style="color:#7f055">true</span></strong><span style="color:black">);</span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#3f7f5f">// pool =new JedisPool(<u>config</u>, "192.168.161.130", 6379, 100000);</span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black"> =</span><strong><span style="color:#7f055">new</span></strong><span style="color:black"> JedisPool(config, ip, prot, 100000);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="font-family:宋体; font-size:14px"> </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过配置对象</span><span style="color:#3f5fbf"> <u> ip</u></span> <span style="color:#3f5fbf">端口</span><span style="color:#3f5fbf">构建连接池</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> config</span><span style="color:#3f5fbf">配置对象</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> ip<u>ip</u></span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> prot</span><span style="color:#3f5fbf">端口</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> RedisUtil(JedisPoolConfig config ,String ip,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> prot){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">if</span></strong><span style="color:black"> (</span><span style="color:#00c0">pool</span><span style="color:black"> ==</span><strong><span style="color:#7f055">null</span></strong><span style="color:black">) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black"> =</span><strong><span style="color:#7f055">new</span></strong><span style="color:black"> JedisPool(config,ip,prot,10000);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过配置对象</span><span style="color:#3f5fbf"> <u> ip</u></span> <span style="color:#3f5fbf">端口</span><span style="color:#3f5fbf">超时时间</span><span style="color:#3f5fbf">构建连接池</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> config</span><span style="color:#3f5fbf">配置对象</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> ip<u>ip</u></span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> prot</span><span style="color:#3f5fbf">端口</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> timeout</span><span style="color:#3f5fbf">超时时间</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> RedisUtil(JedisPoolConfig config ,String ip,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> prot ,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> timeout){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">if</span></strong><span style="color:black"> (</span><span style="color:#00c0">pool</span><span style="color:black"> ==</span><strong><span style="color:#7f055">null</span></strong><span style="color:black">) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black"> =</span><strong><span style="color:#7f055">new</span></strong><span style="color:black"> JedisPool(config,ip,prot,timeout);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过连接池对象</span><span style="color:#3f5fbf">构建一个连接池</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> pool</span><span style="color:#3f5fbf">连接池对象</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> RedisUtil(JedisPool pool){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">if</span></strong><span style="color:black"> (</span><strong><span style="color:#7f055">this</span></strong><span style="color:black">.</span><span style="color:#00c0">pool</span><span style="color:black"> == </span><strong><span style="color:#7f055">null</span></strong><span style="color:black">) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">this</span></strong><span style="color:black">.</span><span style="color:#00c0">pool</span><span style="color:black"> = pool;</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取储存在</span><u><span style="color:#3f5fbf">redis</span></u><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">并释放连接</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">失败返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String get(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String value = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>value = jedis.get(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> value;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">向</span><u><span style="color:#3f5fbf">redis</span></u><span style="color:#3f5fbf">存入</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">value,</span><span style="color:#3f5fbf">并释放连接资源</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">已经存在</span><span style="color:#3f5fbf">则覆盖</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">OK</span><span style="color:#3f5fbf">失败返回</span><span style="color:#3f5fbf"> 0</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String set(String key,String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> jedis.set(key, value);</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:#2a0ff">"0"</span><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">删除指定的</span><span style="color:#3f5fbf">key,</span><span style="color:#3f5fbf">也可以传入一个包含</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">的数组</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">一个</span><span style="color:#3f5fbf">key </span><span style="color:#3f5fbf">也可以使</span><span style="color:#3f5fbf"> string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回删除成功的个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long del(String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> jedis.del(keys);</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> 0L;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向指定的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">值追加值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> str</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">添加后</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的长度</span><span style="color:#3f5fbf">失败</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">添加的</span><span style="color:#3f5fbf"> value </span><span style="color:#3f5fbf">的长度</span><span style="color:#3f5fbf"> </span><span style="color:#3f5fbf">异常返回</span><span style="color:#3f5fbf">0L</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long append(String key ,String str){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.append(key, str);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> 0L;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">判断</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">是否存在</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf"> true OR false</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Boolean exists(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> jedis.exists(key);</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span><span style="color:#7f055">false</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">设置</span><span style="color:#3f5fbf">key value,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">已经存在则返回</span><span style="color:#3f5fbf">0,<u>nx</u>==&gt; not exist</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">1</span><span style="color:#3f5fbf">如果存在</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">发生异常</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf"> 0</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long setnx(String key ,String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> jedis.setnx(key, value);</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> 0L;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">设置</span><span style="color:#3f5fbf">key value</span><span style="color:#3f5fbf">并制定这个键值的有效期</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> seconds</span><span style="color:#3f5fbf">单位</span><span style="color:#3f5fbf">:</span><span style="color:#3f5fbf">秒</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">OK</span><span style="color:#3f5fbf">失败和异常返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String setex(String key,String value,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> seconds){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.setex(key, seconds, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key </span> <span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">offset </span><span style="color:#3f5fbf">从指定的位置开始将原先</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">替换</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">下标从</span><span style="color:#3f5fbf">0</span><span style="color:#3f5fbf">开始</span><span style="color:#3f5fbf">,offset</span><span style="color:#3f5fbf">表示从</span><span style="color:#3f5fbf">offset</span><span style="color:#3f5fbf">下标开始替换</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果替换的字符串长度过小则会这样</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">example:</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">value : <u>bigsea@zto.cn</u>&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><u><span style="color:#3f5fbf">str</span></u><span style="color:#3f5fbf"> :<u>abc</u></span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;P&gt;</span><span style="color:#3f5fbf">从下标</span><span style="color:#3f5fbf">7</span><span style="color:#3f5fbf">开始替换</span><span style="color:#3f5fbf"> </span><span style="color:#3f5fbf">则结果为</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">RES : bigsea.abc.cn</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> str</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> offset</span><span style="color:#3f5fbf">下标位置</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回替换后</span><span style="color:#3f5fbf"> </span>value<span style="color:#3f5fbf">的长度</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long setrange(String key,String str,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> offset){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> jedis.setrange(key, offset,str);</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">      </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> 0L;</span></p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过批量的</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取批量的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys string</span><span style="color:#3f5fbf">数组</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的集合</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">失败返回</span><span style="color:#3f5fbf">null</span><span style="color:#3f5fbf">的集合</span><span style="color:#3f5fbf"> ,</span><span style="color:#3f5fbf">异常返回空</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> List&lt;String&gt; mget(String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>List&lt;String&gt; values = <strong> <span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>values = jedis.mget(keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> values;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">批量的设置</span><span style="color:#3f5fbf">key:value,</span><span style="color:#3f5fbf">可以一个</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">example:</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">  </span>obj.mset(newString[]{"key2","value1","key2","value2"})<span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keysvalues</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">OK</span><span style="color:#3f5fbf">失败</span><span style="color:#3f5fbf">异常</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf"> null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* </p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String mset(String...keysvalues){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.mset(keysvalues);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">批量的设置</span><span style="color:#3f5fbf">key:value,</span><span style="color:#3f5fbf">可以一个</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">已经存在则会失败</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">操作会回滚</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">example:</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">  </span>obj.msetnx(newString[]{"key2","value1","key2","value2"})<span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keysvalues</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">1</span><span style="color:#3f5fbf">失败返回</span><span style="color:#3f5fbf">0</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long msetnx(String...keysvalues){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = 0L;</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res =jedis.msetnx(keysvalues);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">设置</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">的值</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">并返回一个旧值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">旧值</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在</span><span style="color:#3f5fbf">则返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String getset(String key,String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.getSet(key, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过下标</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取指定下标位置的</span><span style="color:#3f5fbf"> value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> startOffset</span><span style="color:#3f5fbf">开始位置</span><span style="color:#3f5fbf">从</span><span style="color:#3f5fbf">0</span><span style="color:#3f5fbf">开始</span><span style="color:#3f5fbf">负数表示从右边开始截取</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> endOffset</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">如果没有返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String getrange(String key,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> startOffset ,</span><strong><span style="color:#7f055">int</span></strong><span style="color:black"> endOffset){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.getrange(key, startOffset,endOffset);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key </span> <span style="color:#3f5fbf">对</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">进行加值</span><span style="color:#3f5fbf">+1</span><span style="color:#3f5fbf">操作</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">当</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">不是</span><u><span style="color:#3f5fbf">int</span></u><span style="color:#3f5fbf">类型时会返回错误</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">当</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在是则</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">为</span><span style="color:#3f5fbf">1</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">加值后的结果</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long incr(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.incr(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">给指定的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">加值</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">则这是</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">为该值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> integer</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long incrBy(String key,Long integer){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.incrBy(key, integer);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">对</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">的值做减减操作</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">则设置</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">为</span><span style="color:#7f7f9f">-</span><span style="color:#3f5fbf">1</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long decr(String key) {<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.decr(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">减去指定的值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> integer</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long decrBy(String key,Long integer){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.decrBy(key, integer);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">值的长度</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">失败返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long serlen(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.strlen(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">给</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">设置指定的值</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">则先创建</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> field</span><span style="color:#3f5fbf">字段</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">如果存在返回</span><span style="color:#3f5fbf">0</span><span style="color:#3f5fbf">异常返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long hset(String key,String field,String value) {<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hset(key, field, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">给</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">设置指定的值</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">不存在则先创建</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">已经存在</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">0</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> field</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long hsetnx(String key,String field,String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hsetnx(key, field, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">同时设置</span><span style="color:#3f5fbf"> hash</span><span style="color:#3f5fbf">的多个</span><span style="color:#3f5fbf">field</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> hash</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">OK</span><span style="color:#3f5fbf">异常返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String hmset(String key,Map&lt;String, String&gt; hash){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hmset(key, hash);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key </span> <span style="color:#3f5fbf">和</span><span style="color:#3f5fbf"> field </span><span style="color:#3f5fbf">获取指定的</span><span style="color:#3f5fbf"> value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> field</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">没有返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String hget(String key, String field){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hget(key, field);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key </span> <span style="color:#3f5fbf">和</span><span style="color:#3f5fbf"> fields </span><span style="color:#3f5fbf">获取指定的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">如果没有对应的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">则返回</span><span style="color:#3f5fbf">null</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> fields</span><span style="color:#3f5fbf">可以使</span><span style="color:#3f5fbf">一个</span><span style="color:#3f5fbf">String</span><span style="color:#3f5fbf">也可以是</span><span style="color:#3f5fbf"> String</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> List&lt;String&gt; hmget(String key,String...fields){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>List&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hmget(key, fields);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">给指定的</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">加上给定的值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> field</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long hincrby(String key ,String field ,Long value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hincrBy(key, field, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">判断是否有指定的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">存在</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> field</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Boolean hexists(String key , String field){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Boolean res = <strong><span style="color:#7f055">false</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hexists(key, field);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">的数量</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long hlen(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hlen(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">    </span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key </span> <span style="color:#3f5fbf">删除指定的</span><span style="color:#3f5fbf"> field </span> <span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> fields</span><span style="color:#3f5fbf">可以是</span><span style="color:#3f5fbf">一个</span><span style="color:#3f5fbf"> field</span><span style="color:#3f5fbf">也可以是</span><span style="color:#3f5fbf">一个数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long hdel(String key ,String...fields){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hdel(key, fields);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回所有的</span><span style="color:#3f5fbf">field</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; hkeys(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hkeys(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回所有和</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">有关的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> List&lt;String&gt; hvals(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>List&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hvals(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取所有的</span><span style="color:#3f5fbf">field</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Map&lt;String, String&gt; hgetall(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Map&lt;String, String&gt; res = <strong> <span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.hgetAll(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">头部添加字符串</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> strs</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以使</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long lpush(String key ,String...strs){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lpush(key, strs);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">尾部添加字符串</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> strs</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以使</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long rpush(String key ,String...strs){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.rpush(key, strs);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">在</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">指定的位置之前或者之后</span><span style="color:#3f5fbf">添加字符串元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> where LIST_POSITION</span><span style="color:#3f5fbf">枚举类型</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> pivot list</span><span style="color:#3f5fbf">里面的</span><span style="color:#3f5fbf">value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span><span style="color:#3f5fbf">添加的</span><span style="color:#3f5fbf">value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long linsert(String key, LIST_POSITION where,</span></p> 
<p align="left"><span style="color:black">        </span>String pivot, String value){<!-- --></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.linsert(key, where, pivot,value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">设置</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">指定下标位置的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果下标超过</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">里面</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的个数则报错</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> index</span><span style="color:#3f5fbf">从</span><span style="color:#3f5fbf">0</span><span style="color:#3f5fbf">开始</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">OK</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String lset(String key ,Long index, String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lset(key, index, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">从对应的</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">中删除指定的</span><span style="color:#3f5fbf">count</span><span style="color:#3f5fbf">个</span><span style="color:#3f5fbf">和</span><span style="color:#3f5fbf"> value</span><span style="color:#3f5fbf">相同的元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> count</span><span style="color:#3f5fbf">当</span><span style="color:#3f5fbf">count</span><span style="color:#3f5fbf">为</span><span style="color:#3f5fbf">0</span><span style="color:#3f5fbf">时删除全部</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">返回被删除的个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long lrem(String key,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> count,String value){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lrem(key, count, value);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">保留</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">中从</span><u><span style="color:#3f5fbf">strat</span></u><span style="color:#3f5fbf">下标开始到</span><span style="color:#3f5fbf">end</span><span style="color:#3f5fbf">下标结束的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> start</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> end</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">成功返回</span><span style="color:#3f5fbf">OK</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String ltrim(String key ,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> start ,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> end){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.ltrim(key, start, end);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">从</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的头部删除一个</span><span style="color:#3f5fbf">value,</span><span style="color:#3f5fbf">并返回该</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String lpop(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lpop(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">从</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">尾部删除一个</span><span style="color:#3f5fbf">value,</span><span style="color:#3f5fbf">并返回该元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String rpop(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.rpop(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">从一个</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的尾部删除一个</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">并添加到另一个</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的头部</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">并返回该</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果第一个</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">为空或者不存在则返回</span><span style="color:#3f5fbf">null</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> srckey</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> dstkey</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String rpoplpush(String srckey, String dstkey){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.rpoplpush(srckey, dstkey);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">中指定下标位置的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> index</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">如果没有返回</span><span style="color:#3f5fbf">null</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String lindex(String key,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> index){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lindex(key, index);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">的长度</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long llen(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.llen(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">指定下标位置的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果</span><span style="color:#3f5fbf">start </span> <span style="color:#3f5fbf">为</span><span style="color:#3f5fbf"> 0 end </span><span style="color:#3f5fbf">为</span><span style="color:#7f7f9f">-</span><span style="color:#3f5fbf">1</span><span style="color:#3f5fbf">则返回全部的</span><span style="color:#3f5fbf">list</span><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> start</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> end</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> List&lt;String&gt; lrange(String key,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> start,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> end){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>List&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.lrange(key, start, end);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向指定的</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中添加</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> members</span><span style="color:#3f5fbf">可以是一个</span><span style="color:#3f5fbf">String</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">String</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">添加成功的个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long sadd(String key,String...members){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sadd(key, members);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">删除</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中对应的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> members</span><span style="color:#3f5fbf">可以是一个</span><span style="color:#3f5fbf">String</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">String</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong><span style="color:#3f5fbf">删除的个数</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long srem(String key,String...members){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.srem(key, members);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">随机删除一个</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">并返回该值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String spop(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.spop(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的差集</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">以第一个</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">为标准</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">则返回</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中所有的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">也可以是</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; sdiff(String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sdiff(keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">   </span>   e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的差集并存入到另一个</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">中</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">以第一个</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">为标准</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> dstkey</span><span style="color:#3f5fbf">差集存入的</span><span style="color:#3f5fbf">key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">则返回</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中所有的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">也可以是</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long sdiffstore(String dstkey,String... keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sdiffstore(dstkey, keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取指定</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的交集</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; sinter(String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sinter(keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取指定</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的交集</span><span style="color:#3f5fbf">并将结果存入新的</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> dstkey</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long sinterstore(String dstkey,String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sinterstore(dstkey, keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回所有</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">的并集</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; sunion(String... keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sunion(keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回所有</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">的并集</span><span style="color:#3f5fbf">,</span><span style="color:#3f5fbf">并存入到新的</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> dstkey</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> keys</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long sunionstore(String dstkey,String...keys){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sunionstore(dstkey, keys);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">将</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">移除并添加到第二个</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> srckey</span><span style="color:#3f5fbf">需要移除的</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> dstkey</span><span style="color:#3f5fbf">添加的</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member set</span><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long smove(String srckey, String dstkey, String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.smove(srckey, dstkey,member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的个数</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long scard(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.scard(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">判断</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">是否是</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中的元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Boolean sismember(String key,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Boolean res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.sismember(key, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中随机的</span><span style="color:#3f5fbf">value,</span><span style="color:#3f5fbf">不删除元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String srandmember(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.srandmember(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><span style="color:#3f5fbf">set</span><span style="color:#3f5fbf">中所有的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; smembers(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.smembers(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中添加</span><span style="color:#3f5fbf">value,score,</span><span style="color:#3f5fbf">其中</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">就是用来排序的</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果该</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">已经存在则根据</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">更新元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> scoreMembers</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zadd(String key,Map&lt;Double, String&gt;scoreMembers){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zadd(key, scoreMembers);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">向</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中添加</span><span style="color:#3f5fbf">value,score,</span><span style="color:#3f5fbf">其中</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">就是用来排序的</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">如果该</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">已经存在则根据</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">更新元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> score</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zadd(String key,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> score,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zadd(key, score, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">删除在</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中指定的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> members</span><span style="color:#3f5fbf">可以使一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">也可以是一个</span><span style="color:#3f5fbf">string</span><span style="color:#3f5fbf">数组</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zrem(String key,String...members){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zrem(key, members);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">增加该</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">的值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> score</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Double zincrby(String key ,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> score ,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Double res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zincrby(key, score, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的排名</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">下标从小到大排序</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zrank(String key,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zrank(key, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的排名</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">下标从大到小排序</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zrevrank(String key,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zrevrank(key, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">将获取</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">从</span><span style="color:#3f5fbf">start</span><span style="color:#3f5fbf">到</span><span style="color:#3f5fbf">end</span><span style="color:#3f5fbf">中</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><u><span style="color:#3f5fbf">socre</span></u><span style="color:#3f5fbf">从大到小排序</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">当</span><span style="color:#3f5fbf">start</span><span style="color:#3f5fbf">为</span><span style="color:#3f5fbf">0 end</span><span style="color:#3f5fbf">为</span><span style="color:#7f7f9f">-</span><span style="color:#3f5fbf">1</span><span style="color:#3f5fbf">时返回全部</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> start</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> end</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; zrevrange(String key ,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> start ,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> end){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zrevrange(key, start, end);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回指定</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">内</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> max</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> min</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; zrangebyscore(String key,Stringmax,String min){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zrevrangeByScore(key, max,min);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回指定</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">内</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> max </span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> min</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; zrangeByScore(String key ,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> max,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> min){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res =jedis.zrevrangeByScore(key,max,min);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">返回指定区间内</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的数量</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> min</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> max</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zcount(String key,String min,String max){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zcount(key, min, max);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">返回</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中的</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">个数</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zcard(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zcard(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">获取</span><u><span style="color:#3f5fbf">zset</span></u><span style="color:#3f5fbf">中</span><span style="color:#3f5fbf">value</span><span style="color:#3f5fbf">的</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">值</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> member</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Double zscore(String key,String member){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Double res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zscore(key, member);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">删除给定区间内的元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> start</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> end</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zremrangeByRank(String key ,</span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> start, </span><strong><span style="color:#7f055">long</span></strong><span style="color:black"> end){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zremrangeByRank(key, start,end);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">删除指定</span><span style="color:#3f5fbf">score</span><span style="color:#3f5fbf">内的元素</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> start</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> end</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Long zremrangeByScore(String key,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> start,</span><strong><span style="color:#7f055">double</span></strong><span style="color:black"> end){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Long res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.zremrangeByScore(key, start,end);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">返回满足</span><span style="color:#3f5fbf">pattern</span><span style="color:#3f5fbf">表达式的所有</span><span style="color:#3f5fbf">key</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">keys(*)</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">返回所有的</span><span style="color:#3f5fbf">key</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> pattern</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> Set&lt;String&gt; keys(String pattern){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>Set&lt;String&gt; res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.keys(pattern);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#7f7f9f"> &lt;p&gt;</span><span style="color:#3f5fbf">通过</span><span style="color:#3f5fbf">key</span><span style="color:#3f5fbf">判断值得类型</span><span style="color:#7f7f9f">&lt;/p&gt;</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> key</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@return</span></strong></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> String type(String key){<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>Jedis jedis = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span>String res = <strong><span style="color:#7f055">null</span></strong><span style="color:black">;</span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">try</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>jedis = <span style="color:#00c0"> pool</span><span style="color:black">.getResource();</span></p> 
<p align="left"><span style="color:black">      </span>res = jedis.type(key);</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">catch</span></strong><span style="color:black"> (Exception e) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><span style="color:#00c0">pool</span><span style="color:black">.returnBrokenResource(jedis);</span></p> 
<p align="left"><span style="color:black">      </span>e.printStackTrace();</p> 
<p align="left"><span style="color:black">    </span>} <strong><span style="color:#7f055">finally</span></strong><span style="color:black"> {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span><em>returnResource</em>(<span style="color:#00c0">pool</span><span style="color:black">, jedis);</span></p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">return</span></strong><span style="color:black"> res;</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">  </span><span style="color:#3f5fbf">/**</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <span style="color:#3f5fbf"> 返还到连接池</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* </p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> pool</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>* <strong><span style="color:#7f9fbf">@param</span></strong><span style="color:#3f5fbf"> redis</span></p> 
<p align="left"><span style="color:#3f5fbf">   </span>*/</p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span><span style="color:#7f055">static</span><span style="color:#7f055">void</span></strong><span style="color:black"> returnResource(JedisPool pool, Jedis jedis) {<!-- --></span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">if</span></strong><span style="color:black"> (jedis !=</span><strong><span style="color:#7f055">null</span></strong><span style="color:black">) {<!-- --></span></p> 
<p align="left"><span style="color:black">      </span>pool.returnResource(jedis);</p> 
<p align="left"><span style="color:black">    </span>}</p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p align="left"><span style="color:black">//</span><span style="color:black">此处之测试两个</span></p> 
<p align="left"><span style="color:black">  </span><strong><span style="color:#7f055">public</span></strong><span style="color:black"> </span><strong><span style="color:#7f055">static</span><span style="color:#7f055">void</span></strong><span style="color:black"> main(String[]args)</span><strong><span style="color:#7f055">throws</span></strong><span style="color:black"> Exception{<!-- --></span></p> 
<p align="left"><span style="color:black">    </span>   RedisUtil r = <strong><span style="color:#7f055">new</span></strong><span style="color:black"> RedisUtil(</span><span style="color:#2a0ff">"192.168.161.130"</span><span style="color:black">,6379);</span></p> 
<p align="left"><span style="color:black">    </span>   String t = r.set(<span style="color:#2a0ff">"wb"</span><span style="color:black">,</span><span style="color:#2a0ff">"wbwbwb"</span><span style="color:black">);</span></p> 
<p align="left"><span style="color:black">    </span>   String s = r.get(<span style="color:#2a0ff">"wb"</span><span style="color:black">);</span></p> 
<p align="left"><span style="color:black">    </span>   System.<em><span style="color:#00c0">out</span></em><span style="color:black">.println(t+</span><span style="color:#2a0ff">"-----"</span><span style="color:black">+s);</span></p> 
<p align="left"><span style="color:black">  </span>}</p> 
<p><span style="color:black">}</span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-size:14px">测试结果：</span></p> 
<p>   <img alt="" src="https://images2.imgbox.com/f5/ad/O2z4LrnT_o.png"></p> 
<p><span style="font-size:14px"><strong><span style="color:red">二、</span><span style="color:red"><span style="font-family:Calibri">spring</span></span><span style="color:red">封装</span><span style="color:red"><span style="font-family:Calibri">redis</span></span><span style="color:red">操作的简单实例</span></strong></span></p> 
<p><span style="font-family:Calibri; font-size:14px">Jedis</span>作为<span style="font-family:Calibri">redis</span>的最佳客户端，它提供了连接池的特性，<span style="font-family:Calibri">“</span>连接池<span style="font-family:Calibri">”</span>在通常情况下可以有效的提高应用的通信能力，并且这是一种良好的设计模式。<span style="font-family:Calibri">Jedis</span>的连接池设计基于<span style="font-family:Calibri">apache commons-pool</span>原生库，仅作了简单的封装；</p> 
<p><strong><span style="font-size:14px"> </span></strong></p> 
<p><span style="font-size:14px"><strong>a.连接池基本参数详解</strong></span></p> 
<ol type="1" start="1"><li><span style="font-size:14px">maxActive: 链接池中最大连接数,默认为8.</span></li><li><span style="font-size:14px">maxIdle: 链接池中最大空闲的连接数,默认为8.</span></li><li><span style="font-size:14px">minIdle: 连接池中最少空闲的连接数,默认为0.</span></li><li><span style="font-size:14px">maxWait: 当连接池资源耗尽时，调用者最大阻塞的时间，超时将跑出异常。单位，毫秒数;默认为-1.表示永不超时.</span></li><li><span style="font-size:14px">minEvictableIdleTimeMillis:     连接空闲的最小时间，达到此值后空闲连接将可能会被移除。负值(-1)表示不移除。</span></li><li><span style="font-size:14px">softMinEvictableIdleTimeMillis:     连接空闲的最小时间，达到此值后空闲链接将会被移除，且保留“minIdle”个空闲连接数。默认为-1.</span></li><li><span style="font-size:14px">numTestsPerEvictionRun:     对于“空闲链接”检测线程而言，每次检测的链接资源的个数。默认为3.</span></li><li><span style="font-size:14px">testOnBorrow:     向调用者输出“链接”资源时，是否检测是有有效，如果无效则从连接池中移除，并尝试获取继续获取。默认为false。建议保持默认值.</span></li><li><span style="font-size:14px">testOnReturn:      向连接池“归还”链接时，是否检测“链接”对象的有效性。默认为false。建议保持默认值.</span></li><li><span style="font-size:14px">testWhileIdle:      向调用者输出“链接”对象时，是否检测它的空闲超时；默认为false。如果“链接”空闲超时，将会被移除。建议保持默认值.</span></li><li><span style="font-size:14px">timeBetweenEvictionRunsMillis:      “空闲链接”检测线程，检测的周期，毫秒数。如果为负值，表示不运行“检测线程”。默认为-1.</span></li><li><span style="font-size:14px"> whenExhaustedAction:     </span><span style="font-size:14px">当“连接池”中active数量达到阀值时，即“链接”资源耗尽时，连接池需要采取的手段, 默认为1：</span><br> <span style="font-size:14px">      -&gt; 0 : </span><span style="font-size:14px">抛出异常，</span><br> <span style="font-size:14px">      -&gt; 1 : </span><span style="font-size:14px">阻塞，直到有可用链接资源</span><br> <span style="font-size:14px">      -&gt; 2 : </span><span style="font-size:14px">强制创建新的链接资源</span></li></ol> 
<p><span style="font-family:Calibri; font-size:14px"><strong>b.</strong> </span><strong>程序实例</strong></p> 
<p></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><strong><span style="font-family:Calibri; font-size:14px">beans.xml</span></strong></p> 
<p align="left"><span style="font-family:宋体; font-size:14px"> </span></p> 
<p align="left"><span style="color:teal">&lt;</span><span style="color:#3f7f7f">beans</span><span style="color:#7f07f">xmlns</span><span style="color:black">=</span><em><span style="color:#2a0ff">"http://www.springframework.org/schema/beans"</span></em>  </p> 
<p align="left"><span style="color:#7f07f">xmlns:xsi</span><span style="color:black">=</span><em><span style="color:#2a0ff">"http://www.w3.org/2001/XMLSchema-instance"</span></em> </p> 
<p align="left"><span style="color:#7f07f">xsi:schemaLocation</span><span style="color:black">=</span><em><span style="color:#2a0ff">"http://www.springframework.org/schema/beanshttp://www.springframework.org/schema/beans/spring-beans.xsd"</span></em><span style="color:#7f07f">default-autowire</span><span style="color:black">=</span><em><span style="color:#2a0ff">"byName"</span></em><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">   </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">bean</span><span style="color:#7f07f">id</span><span style="color:black">=</span><em><span style="color:#2a0ff">"jedisPoolConfig"</span></em><span style="color:#7f07f">class</span><span style="color:black">=</span><em><span style="color:#2a0ff">"redis.clients.jedis.JedisPoolConfig"</span></em><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"maxActive"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"32"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"maxIdle"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"6"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"maxWait"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"15000"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"minEvictableIdleTimeMillis"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"300000"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"numTestsPerEvictionRun"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"3"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"timeBetweenEvictionRunsMillis"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"60000"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">property</span><span style="color:#7f07f">name</span><span style="color:black">=</span><em><span style="color:#2a0ff">"whenExhaustedAction"</span></em><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"1"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">property</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">    </span><span style="color:teal">&lt;/</span><span style="color:#3f7f7f">bean</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">    </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">bean</span><span style="color:#7f07f">id</span><span style="color:black">=</span><em><span style="color:#2a0ff">"jedisPool"</span></em><span style="color:#7f07f">class</span><span style="color:black">=</span><em><span style="color:#2a0ff">"redis.clients.jedis.JedisPool"</span></em><span style="color:#7f07f">destroy-method</span><span style="color:black">=</span><em><span style="color:#2a0ff">"destroy"</span></em><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:#3f5fbf">&lt;!--<u>config</u> --&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:#7f07f">ref</span><span style="color:black">=</span><em><span style="color:#2a0ff">"jedisPoolConfig"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">       </span><span style="color:#3f5fbf">&lt;!-- host --&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"192.168.161.130"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:#3f5fbf">&lt;!-- port --&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"6379"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:#3f5fbf">&lt;!-- timeout --&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:teal">&lt;</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:#7f07f">value</span><span style="color:black">=</span><em><span style="color:#2a0ff">"15000"</span></em><span style="color:teal">&gt;&lt;/</span><span style="color:#3f7f7f">constructor-arg</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">        </span><span style="color:#3f5fbf">&lt;!-- password --&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:black">   </span><span style="color:#3f5fbf">&lt;!--    </span>&lt;constructor-<u>arg</u> value="<u>wb</u>"&gt;&lt;/constructor-<u>arg</u>&gt; </p> 
<p align="left"><span style="color:#3f5fbf">         </span>database index   </p> 
<p align="left"><span style="color:#3f5fbf">       </span>&lt;constructor-<u>arg</u>value="12"&gt;&lt;/constructor-<u>arg</u>&gt;   <span style="color:#3f5fbf">本人</span><u><span style="color:#3f5fbf">redis</span></u><span style="color:#3f5fbf">未设置密码</span><span style="color:#3f5fbf"> </span>--&gt;<span style="color:black"> </span></p> 
<p align="left"><span style="color:black">    </span><span style="color:teal">&lt;/</span><span style="color:#3f7f7f">bean</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p align="left"><span style="color:teal">&lt;/</span><span style="color:#3f7f7f">beans</span><span style="color:teal">&gt;</span><span style="color:black"> </span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><strong><span style="font-family:Calibri; font-size:14px">Test.java</span></strong></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-family:Calibri; font-size:14px">importorg.springframework.context.ApplicationContext;</span></p> 
<p><span style="font-family:Calibri; font-size:14px">importorg.springframework.context.support.ClassPathXmlApplicationContext;</span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-family:Calibri; font-size:14px">import redis.clients.jedis.Jedis;</span></p> 
<p><span style="font-family:Calibri; font-size:14px">import redis.clients.jedis.JedisPool;</span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-family:Calibri; font-size:14px">public class Test {<!-- --></span></p> 
<p><span style="font-family:Calibri; font-size:14px">         publicstatic void main(String[] args) { </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                      //resources/beans.xml </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                       ApplicationContext context = newClassPathXmlApplicationContext("classpath:beans.xml"); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                       JedisPool jedisPool =(JedisPool)context.getBean("jedisPool"); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                       Jedis client =jedisPool.getResource(); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                      try{  </span> </p> 
<p><span style="font-family:Calibri; font-size:14px">                          client.select(0); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                          client.set("dddd","sss"); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                         System.out.println(client.get("dddd")); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                      }catch(Exception e){ </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                e.printStackTrace(); </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                      }finally{ </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                           jedisPool.returnResource(client);//mustbe </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                      }  </span> </p> 
<p><span style="font-family:Calibri; font-size:14px">                    </span></p> 
<p><span style="font-family:Calibri; font-size:14px">                   }  </span> </p> 
<p><span style="font-family:Calibri; font-size:14px">         </span></p> 
<p><span style="font-family:Calibri; font-size:14px">}</span></p> 
<p><strong><span style="font-size:14px">测试结果：</span></strong></p> 
<p><span style="font-family:宋体; font-size:14px"> <img alt="" src="https://images2.imgbox.com/70/35/g23FczQg_o.png"></span></p> 
<p></p> 
<p><span style="font-family:宋体; font-size:14px"> </span></p> 
<p><span style="font-size:14px"><strong>上面使用<span style="font-family:Calibri">spring</span>配置的方式获得连接池，也可以直接获得连接池，如下例：</strong></span></p> 
<p><strong><span style="color:black; background:silver">PoolTestMain</span><span style="color:black">.java</span></strong></p> 
<p><span style="color:black"><span style="font-family:宋体; font-size:14px"> </span></span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.Jedis;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.JedisPool;</span></p> 
<p align="left"><strong><span style="color:#7f055">import</span></strong><span style="color:black"> redis.clients.jedis.JedisPoolConfig;</span></p> 
<p align="left"><span style="font-family:宋体; font-size:14px"> </span></p> 
<p align="left"><strong><span style="color:#7f055">public</span><span style="color:#7f055">class</span></strong><span style="color:black"><span style="background:silver">PoolTestMain</span>{ </span></p> 
<p align="left"><span style="color:black">    </span><strong><span style="color:#7f055">public</span><span style="color:#7f055">static</span><span style="color:#7f055">void</span></strong><span style="color:black"> main(String[] args) { </span></p> 
<p align="left"><span style="color:black">        </span>JedisPoolConfig config =<strong><span style="color:#7f055">new</span></strong><span style="color:black">JedisPoolConfig(); </span></p> 
<p align="left"><span style="color:black">        </span>config.setMaxActive(32); </p> 
<p align="left"><span style="color:black">       </span>config.setMaxIdle(6);  </p> 
<p align="left"><span style="color:black">        </span>config.setMinIdle(0);</p> 
<p align="left"><span style="color:black">        </span>config.setMaxWait(15000L);</p> 
<p align="left"><span style="color:black">       </span>config.setMinEvictableIdleTimeMillis(300000L); </p> 
<p align="left"><span style="color:black">       </span>config.setSoftMinEvictableIdleTimeMillis(-1L); </p> 
<p align="left"><span style="color:black">       </span>config.setNumTestsPerEvictionRun(3); </p> 
<p align="left"><span style="color:black">        </span>config.setTestOnBorrow(<strong><span style="color:#7f055">false</span></strong><span style="color:black">); </span></p> 
<p align="left"><span style="color:black">        </span>config.setTestOnReturn(<strong><span style="color:#7f055">false</span></strong><span style="color:black">); </span></p> 
<p align="left"><span style="color:black">        </span>config.setTestWhileIdle(<strong><span style="color:#7f055">false</span></strong><span style="color:black">); </span></p> 
<p align="left"><span style="color:black">       </span>config.setTimeBetweenEvictionRunsMillis(60000L);<span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">一分钟</span><span style="color:#3f7f5f"> </span></p> 
<p align="left"><span style="color:black">        </span>config.setWhenExhaustedAction((<strong><span style="color:#7f055">byte</span></strong><span style="color:black">)1); </span></p> 
<p align="left"><span style="color:#3f7f5f">//        </span>JedisPool pool = new JedisPool(<u>config</u>,"192.168.161.130",6379,15000,"<u>wb</u>",12);</p> 
<p align="left"><span style="color:black">        </span>JedisPool pool = <strong> <span style="color:#7f055">new</span></strong><span style="color:black"> JedisPool(config,</span><span style="color:#2a0ff">"192.168.161.130"</span><span style="color:black">, 6379, 15000);</span></p> 
<p align="left"><span style="color:black">        </span>Jedis client = pool.getResource();<span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">从</span><span style="color:#3f7f5f">pool</span><span style="color:#3f7f5f">中获取资源</span><span style="color:#3f7f5f"> </span></p> 
<p align="left"><span style="color:black">        </span><strong><span style="color:#7f055">try</span></strong><span style="color:black">{ </span></p> 
<p align="left"><span style="color:black">            </span>client.select(0);  </p> 
<p align="left"><span style="color:black">            </span>client.set(<span style="color:#2a0ff">"k1"</span><span style="color:black">,</span><span style="color:#2a0ff">"v1"</span><span style="color:black">); </span></p> 
<p align="left"><span style="color:black">            </span>System.<em><span style="color:#00c0">out</span></em><span style="color:black">.println(client.get(</span><span style="color:#2a0ff">"k1"</span><span style="color:black">)); </span></p> 
<p align="left"><span style="color:black">        </span>}<strong><span style="color:#7f055">catch</span></strong><span style="color:black">(Exception e){ </span></p> 
<p align="left"><span style="color:black">           </span>e.printStackTrace(); </p> 
<p align="left"><span style="color:black">        </span>}<strong><span style="color:#7f055">finally</span></strong><span style="color:black">{ </span></p> 
<p align="left"><span style="color:black">           </span>pool.returnResource(client);<span style="color:#3f7f5f">//</span><span style="color:#3f7f5f">向连接池</span><span style="color:#3f7f5f">“</span><span style="color:#3f7f5f">归还</span><span style="color:#3f7f5f">”</span><span style="color:#3f7f5f">资源，千万不要忘记。</span><span style="color:#3f7f5f"> </span></p> 
<p align="left"><span style="color:black">        </span>} </p> 
<p align="left"><span style="color:black">  </span></p> 
<p align="left"><span style="color:black">    </span>}  </p> 
<p><span style="color:black">}</span></p> 
<p><span style="color:black"><span style="font-family:宋体; font-size:14px"> </span></span></p> 
<p><span style="color:black">测试结果：</span></p> 
<p>    <img alt="" src="https://images2.imgbox.com/03/3b/NsFCIwoP_o.png"></p> 
<p> </p> 
<p><span style="font-family:宋体; font-size:14px">  </span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c1bf6bc130916a7bc0bda1f5ba551a6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于word中插入知网e-study插件问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f6449ae5066d5bbdc61e4b7d1a47144e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何将div悬浮在另外一个div之上？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>