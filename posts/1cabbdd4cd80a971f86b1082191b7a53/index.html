<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Delphi中布尔类型辨析 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Delphi中布尔类型辨析" />
<meta property="og:description" content=" Delphi中布尔类型辨析
苏涌(2000-09-29)
Delphi中预定义的布尔类型有四种：Boolean ，ByteBool，WordBool，LongBool。其中，Boolean 类型是首选布尔类型，其余三种是为其它编程语言和Windows 环境提供兼容性支持。这些布尔类型在使用上大同小异，但如果混淆使用将可能会有意外结果。 现做简单辨析供大家参考。 一、从资源占用的角度进行比较 一项Boolean 类型的数据占用 1字节的内存； 一项ByteBool类型的数据占用 1字节的内存； 一项WordBool类型的数据占用 2字节的内存； 一项LongBool类型的数据占用 4字节的内存。 如果开发者在进行程序设计时将构造一种含有布尔数据类型的结构类型，那么在资源占用方面将有所考虑。尽管这些数据类型之间是可以相互赋值的，但某些特殊情况下是有区别的。首先看下面的语句： type ByteBoolFile = file of ByteBool; LongBoolFile = file of LongBool; 这里，如果在这两中类型文件中存储相同数量的布尔值，其文件大小是不同的。而对同一物理文件按照这两种类型文件分别读取数据，其结果更是相去甚远。 下面是比较ByteBool和LongBool的一段程序，得到的文件 test1.bin和 test2.bin的文件尺寸分别为 4字节和16字节。 procedure CompareByteBoolWithLongBool; const FName1 = &#39;c: est1.bin&#39;; FName2 = &#39;c: est2.bin&#39;; type ByteBoolFile = file of ByteBool; LongBoolFile = file of LongBool; var BF: ByteBoolFile; LF: LongBoolFile; B: Boolean; begin B := False; AssignFile(BF, FName1); Rewrite(BF); Write(BF, B, B, B, B); CloseFile(BF); AssignFile(LF, FName2); Rewrite(LF); Write(LF, B, B, B, B); CloseFile(LF); end; 有兴趣的朋友可以在此基础上再比较一下读取数据的区别，你会有更奇特的发现。 二、从布尔值的操作角度进行比较 在Delphi中，布尔值只能被赋予预定义的常量True和 False之一。上述四种布尔数据类型有如下关系： Boolean ByteBool，WordBool，LongBool False &lt; True False &lt;&gt; True Ord(False) = 0 Ord(False) = 0 Ord(True) = 1 Ord(True) &lt;&gt; 0 Succ(False) = True Succ(False) = True Pred(True) = False Pred(False) = True 不难看出，Boolean 类型的有序的，而其它三种布尔数据类型是无序的。下面的程序给出了其中的部分区别： procedure CompareBooleanWithLongBool; var B: Boolean; LB: LongBool; begin B := False; LB := False; if Ord(B) = Ord(LB) then ShowMessage(&#39;Ord(B) = Ord(LB) [B = LB = False]&#39;) //将被执行 else ShowMessage(&#39;Ord(B) &lt;&gt; Ord(LB) [B = LB = False]&#39;); B := True; LB := True; if Ord(B) = Ord(LB) then ShowMessage(&#39;Ord(B) = Ord(LB) [B = LB = True]&#39;) else ShowMessage(&#39;Ord(B) &lt;&gt; Ord(LB) [B = LB = True]&#39;); //将被执行 ShowMessage(&#39;Ord(B) = &#39; &#43; IntToStr(Ord(B)));　//一定是 1 ShowMessage(&#39;Ord(LB) = &#39; &#43; IntToStr(Ord(LB)));　//可能是-1 end; " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1cabbdd4cd80a971f86b1082191b7a53/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2001-01-11T08:54:00+08:00" />
<meta property="article:modified_time" content="2001-01-11T08:54:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Delphi中布尔类型辨析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <table align="center" border="0" cellpadding="0" cellspacing="0" width="650"><tbody><tr><td align="middle" class="p5"><b><font color="#272eba">Delphi中布尔类型辨析</font></b><br><span class="p2">苏涌<font color="#666666">(2000-09-29)</font></span></td></tr><tr><td class="p5"><br> 
    <table align="right" bgcolor="#000000" border="0" cellpadding="1" cellspacing="0" width="150"><tbody><tr><td></td></tr></tbody></table>　　Delphi中预定义的布尔类型有四种：Boolean ，ByteBool，WordBool，LongBool。其中，Boolean 类型是首选布尔类型，其余三种是为其它编程语言和Windows 环境提供兼容性支持。这些布尔类型在使用上大同小异，但如果混淆使用将可能会有意外结果。 <br><br>　　现做简单辨析供大家参考。 <br><br>　　 <br><br>一、从资源占用的角度进行比较 <br>　　一项Boolean 类型的数据占用 1字节的内存； <br><br>　　一项ByteBool类型的数据占用 1字节的内存； <br><br>　　一项WordBool类型的数据占用 2字节的内存； <br><br>　　一项LongBool类型的数据占用 4字节的内存。 <br><br>　　如果开发者在进行程序设计时将构造一种含有布尔数据类型的结构类型，那么在资源占用方面将有所考虑。尽管这些数据类型之间是可以相互赋值的，但某些特殊情况下是有区别的。首先看下面的语句： <br><br>　　type <br><br>　　 ByteBoolFile = file of ByteBool; <br><br>　　 LongBoolFile = file of LongBool; <br><br>　　这里，如果在这两中类型文件中存储相同数量的布尔值，其文件大小是不同的。而对同一物理文件按照这两种类型文件分别读取数据，其结果更是相去甚远。 <br><br>　　下面是比较ByteBool和LongBool的一段程序，得到的文件 test1.bin和 test2.bin的文件尺寸分别为 4字节和16字节。 <br><br>　　procedure CompareByteBoolWithLongBool; <br><br>　　const <br><br>　　 FName1 = 'c: est1.bin'; <br><br>　　 FName2 = 'c: est2.bin'; <br><br>　　type <br><br>　　 ByteBoolFile = file of ByteBool; <br><br>　　 LongBoolFile = file of LongBool; <br><br>　　var <br><br>　　 BF: ByteBoolFile; <br><br>　　 LF: LongBoolFile; <br><br>　　 B: Boolean; <br><br>　　begin <br><br>　　 B := False; <br><br>　　 AssignFile(BF, FName1); <br><br>　　 Rewrite(BF); <br><br>　　 Write(BF, B, B, B, B); <br><br>　　 CloseFile(BF); <br><br>　　 AssignFile(LF, FName2); <br><br>　　 Rewrite(LF); <br><br>　　 Write(LF, B, B, B, B); <br><br>　　 CloseFile(LF); <br><br>　　end; <br><br>　　有兴趣的朋友可以在此基础上再比较一下读取数据的区别，你会有更奇特的发现。 <br><br>二、从布尔值的操作角度进行比较 <br>　　在Delphi中，布尔值只能被赋予预定义的常量True和 False之一。上述四种布尔数据类型有如下关系： <br><br>　　Boolean ByteBool，WordBool，LongBool <br><br>　　False &lt; True False &lt;&gt; True <br><br>　　Ord(False) = 0 Ord(False) = 0 <br><br>　　Ord(True) = 1 Ord(True) &lt;&gt; 0 <br><br>　　Succ(False) = True Succ(False) = True <br><br>　　Pred(True) = False Pred(False) = True <br><br>　　不难看出，Boolean 类型的有序的，而其它三种布尔数据类型是无序的。下面的程序给出了其中的部分区别： <br><br>　　procedure CompareBooleanWithLongBool; <br><br>　　var <br><br>　　 B: Boolean; <br><br>　　 LB: LongBool; <br><br>　　begin <br><br>　　 B := False; <br><br>　　 LB := False; <br><br>　　 if Ord(B) = Ord(LB) then <br><br>　　　　ShowMessage('Ord(B) = Ord(LB) [B = LB = False]') //将被执行 <br><br>　　 else <br><br>　　　　ShowMessage('Ord(B) &lt;&gt; Ord(LB) [B = LB = False]'); <br><br>　　 B := True; <br><br>　　 LB := True; <br><br>　　 if Ord(B) = Ord(LB) then <br><br>　　　　ShowMessage('Ord(B) = Ord(LB) [B = LB = True]') <br><br>　　 else <br><br>　　　　ShowMessage('Ord(B) &lt;&gt; Ord(LB) [B = LB = True]'); //将被执行 <br><br>　　 ShowMessage('Ord(B) = ' + IntToStr(Ord(B)));　　　　 //一定是 1 <br><br>　　 ShowMessage('Ord(LB) = ' + IntToStr(Ord(LB)));　　　　//可能是-1 <br><br>　　end; <br><br></td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8ccc6b823a85d81fcebf23aa1940484d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用GDB调试程序（五）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>