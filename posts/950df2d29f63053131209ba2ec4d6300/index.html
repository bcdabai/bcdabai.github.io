<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>最大池化：选择kernel_size为3x3而不是2x2的原因 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="最大池化：选择kernel_size为3x3而不是2x2的原因" />
<meta property="og:description" content="https://blog.csdn.net/tigerda/article/details/78800552
●Theano中对Max-pooling的解释
Max-pooling is useful in vision for two reasons:
1、By eliminating non-maximal values, it reduces computation for upper layers.
2、It provides a form of translation invariance. Imagine cascading a max-pooling layer with a convolutional layer. There are 8 directions in which one can translate the input image by a single pixel. If max-pooling is done over a 2x2 region, 3 out of these 8 possible configurations will produce exactly the same output at the convolutional layer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/950df2d29f63053131209ba2ec4d6300/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-25T11:22:42+08:00" />
<meta property="article:modified_time" content="2019-10-25T11:22:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">最大池化：选择kernel_size为3x3而不是2x2的原因</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><a href="https://blog.csdn.net/tigerda/article/details/78800552">https://blog.csdn.net/tigerda/article/details/78800552</a></p> 
</blockquote> 
<p>●Theano中对Max-pooling的解释</p> 
<p>Max-pooling is useful in vision for two reasons:</p> 
<p>1、By eliminating non-maximal values, it reduces computation for upper layers.</p> 
<p>2、It provides a form of translation invariance. Imagine cascading a max-pooling layer with a convolutional layer. There are 8 directions in which one can translate the input image by a single pixel. If max-pooling is done over a 2x2 region, 3 out of these 8 possible configurations will produce exactly the same output at the convolutional layer. For max-pooling over a 3x3 window, this jumps to 5/8.</p> 
<p> Since it provides additional robustness to position, max-pooling is a “smart” way of reducing the dimensionality of intermediate representations.</p> 
<p>网上很多帖子千篇一律翻译为</p> 
<p><span style="color:#3399ea;">最大池化技术用于视觉问题有两个原因：</span></p> 
<p><span style="color:#3399ea;">（1）通过消除非极大值，降低了上层的计算复杂度。</span></p> 
<p><span style="color:#3399ea;">（2）它提供了</span><span style="color:#f33b45;">平移不变形</span><span style="color:#3399ea;">的一种形式。想象一下，一个卷积层级联一个max-pooling层 为了理解这种不变性，我们假设把最大池化层和一个卷积层结合起来，对于单个像素，有8个变换的方向（上、下、左、右、左上、左下、右上、右下），如果最大层是在2*2的窗口上面实现，这8个可能的配置中，有3个可以准确的产生和卷积层相同的结果。如果窗口变成3*3，则产生精确结果的概率变成了5／８。</span></p> 
<p>没有给解释，单看翻译很难理解，而且这里5/8可能是不对的，解释看这里</p> 
<p>https://www.quora.com/How-can-I-understand-this-point-about-max-pooling-in-Theano</p> 
<p> </p> 
<p>Samir’s answer is great, and confirms my suspicions that the authors are incorrect. Here’s my logic as to a more complete answer for the 3x3 case.</p> 
<p>Let’s say we have a 3x3 grid with the maximum pixel in the middle. For simplicity, set e=1 and all other values to 0.</p> 
<p>a b c</p> 
<p>d e f</p> 
<p>g h i</p> 
<p>The image can be translated by 1 pixel in 8 different directions: up, down, left, right, and the diagonals. If we assume the 2x2 max pooling box contains the pixels {a, b, d, e}, then 3 of the 8 possible translations will keep the max pixel in the 2x2 box, hence the 3/8. In fact, no matter where this 2x2 pooling box is, the max value will always be in a corner of the box, so 3/8 of the translations will keep it in the box.</p> 
<p><span style="color:#f33b45;">在2×2pooling中，比如</span></p> 
<p><span style="color:#f33b45;">a b</span></p> 
<p><span style="color:#f33b45;">d e</span></p> 
<p><span style="color:#f33b45;">如果a是这4个中的最大值，则不管a朝右，朝下，还是右下方向移动，最后这个区域pooling的结果都一样。所以是3/8</span></p> 
<p>However, what happens when we have a 3x3 max pooling box? Well, there’s different places this max value can be found relative to the 3x3 box. If it’s found in the center, what Samir said applies, and any of the 8 translations will keep the max value in the same pooling box.</p> 
<p>However, if it’s found in one of the corners of the 3x3 box (where a, c, g, and i are), then 3/8 of the translations will keep it in the same box. If it’s one of the edges (b, d, f, h), 5/8 of the translations will.</p> 
<p>So if we assume that the positioning of the 3x3 box is totally random with respect to the max pixel, which it should, then the probability of the max pixel staying in the same box after translation should be P(same box | center_max) * P(center_max) + P(same box | center_corner) * P(center_corner) + P(same box | center_edge) * P(center_edge) = 1*(1/9) + (3/8)*(4/9) + (5/8)*(4/9) = 5/9.</p> 
<p><span style="color:#f33b45;">当是3×3pooling时，情况不一样，比如</span></p> 
<p><span style="color:#f33b45;">a b c</span></p> 
<p><span style="color:#f33b45;">d e f</span></p> 
<p><span style="color:#f33b45;">g h i</span></p> 
<p><span style="color:#f33b45;">当最大值在a或g或c或i位置时，他们平移的方向只有3个方向（9个点中有4个点是这种情况），这时是3/8。而最大值在b，d，f或h时，他们平移的方向有5个方向（9个点中有4个点是这种情况），这时是5/8，当最大值在e时，平移方向有8个方向（9个点中有1个点是这种情况）。这时是8/8。</span></p> 
<p><span style="color:#f33b45;">所以这种情况的概率是(8/8)*（1/9）+ (3/8)*(4/9) + (5/8)*(4/9) = 5/9.</span><br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91a9e396b0ba601ff82e2f21beef925c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">无法将卷压缩到超出任何不可移动的文件所在的点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a759efe98f61854800c51788d01998d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于mybatis传单个参数（Long,Integer......）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>