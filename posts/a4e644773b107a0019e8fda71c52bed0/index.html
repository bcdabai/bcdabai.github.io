<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>系统性学习vue-组件及脚手架 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="系统性学习vue-组件及脚手架" />
<meta property="og:description" content="书接上文
Vue组件及脚手架 初始化脚手架说明步骤 分析脚手架结构render函数修改默认配置ref属性props配置mixin 混入/混合定义混合局部混合全局混合 插件scoped样式安装less-loader 浏览器的本地存储 webStoragelocalStroage 本地存储sessionStorage 会话存储 组件自定义事件绑定解绑组件绑定原生事件 全局事件总线 GlobalEventBus安装绑定事件 接收数据触发事件 传递数据 消息订阅与发布 pubsub$nextTicktransition动画效果过渡效果transition-group集成第三方动画 初始化脚手架 说明 Vue脚手架是Vue官方提供的标准化开发工具(开发平台)
CLI: command line interface (命令行接口工具) 俗称脚手架
步骤 备注:
如果下载缓慢可以配置npm淘宝镜像: npm config set registry https://registry.npm.taobao.orgVue脚手架隐藏了所有webpack相关配置,弱项查看具体的webpack配置,请执行vue inspect &gt; output.js (仅第一次执行)全局安装@vue/cli, 安装好就可以使用vue命令了
npm install -g @vue/cli
切换到要创建项目的目录(可用cd命令,也可以直接文件下shift&#43;右键选择’在此处打开窗口’),然后使用命令创建项目
vue create xxxxx(项目名称)
会出现一个选项
目前先选择vue2
又来一个问题,先选NPM吧
启动项目(运行的是官方给写好的HelloWorld代码)
来到项目目录下,执行命令
npm run serve
至此准备完成
如果要停止服务的话,命令行按Ctrl&#43;c(两遍)
分析脚手架结构 整个脚手架内容如下,
.gitignore git忽略文件配置babel.config.js babel的配置文件package-lock.json&amp;package.json 符合npm规范的工程都会有这两个文件
package.json 应用包配置文件,包含名称,版本,依赖等
package-lock.json 包版本控制文件README.md 应用描述文件src/main.js 当执行npm run serve命令后直接运行的就是这个文件,是整个项目的入口文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a4e644773b107a0019e8fda71c52bed0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-12T09:00:41+08:00" />
<meta property="article:modified_time" content="2024-01-12T09:00:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">系统性学习vue-组件及脚手架</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>书接上文</p> 
<p></p> 
<div class="toc"> 
 <h4>Vue组件及脚手架</h4> 
 <ul><li>初始化脚手架</li><li><ul><li>说明</li><li>步骤</li></ul> 
  </li><li>分析脚手架结构</li><li>render函数</li><li>修改默认配置</li><li>ref属性</li><li>props配置</li><li>mixin 混入/混合</li><li><ul><li>定义混合</li><li>局部混合</li><li>全局混合</li></ul> 
  </li><li>插件</li><li>scoped样式</li><li><ul><li>安装less-loader</li></ul> 
  </li><li>浏览器的本地存储 webStorage</li><li><ul><li>localStroage 本地存储</li><li>sessionStorage 会话存储</li></ul> 
  </li><li>组件自定义事件</li><li><ul><li>绑定</li><li>解绑</li><li>组件绑定原生事件</li></ul> 
  </li><li>全局事件总线 GlobalEventBus</li><li><ul><li>安装</li><li>绑定事件 接收数据</li><li>触发事件 传递数据</li></ul> 
  </li><li>消息订阅与发布 pubsub</li><li>$nextTick</li><li>transition</li><li><ul><li>动画效果</li><li>过渡效果</li><li>transition-group</li><li>集成第三方动画</li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>初始化脚手架</h2> 
<h3><a id="_4"></a>说明</h3> 
<blockquote> 
 <p>Vue脚手架是Vue官方提供的标准化开发工具(开发平台)<br> CLI: command line interface (命令行接口工具) 俗称脚手架</p> 
</blockquote> 
<h3><a id="_9"></a>步骤</h3> 
<blockquote> 
 <p><strong>备注:</strong></p> 
 <ul><li>如果下载缓慢可以配置npm淘宝镜像: <code>npm config set registry https://registry.npm.taobao.org</code></li><li>Vue脚手架隐藏了所有webpack相关配置,弱项查看具体的webpack配置,请执行<code>vue inspect &gt; output.js</code></li></ul> 
</blockquote> 
<ol><li> <p>(仅第一次执行)全局安装@vue/cli, 安装好就可以使用vue命令了<br> <code>npm install -g @vue/cli</code></p> </li><li> <p><strong>切换到要创建项目的目录</strong>(可用cd命令,也可以直接文件下shift+右键选择’在此处打开窗口’),然后使用命令创建项目<br> <code>vue create xxxxx(项目名称)</code><br> 会出现一个选项<br> <img src="https://images2.imgbox.com/16/d9/iNHHh0uV_o.png" alt="在这里插入图片描述"><br> 目前先选择vue2<br> 又来一个问题,先选NPM吧<br> <img src="https://images2.imgbox.com/94/05/a09lRu1G_o.png" alt="在这里插入图片描述"></p> </li><li> <p>启动项目(运行的是官方给写好的HelloWorld代码)<br> 来到项目目录下,执行命令<br> <code>npm run serve</code><br> 至此准备完成<br> <img src="https://images2.imgbox.com/32/6f/3llozybW_o.png" alt="在这里插入图片描述"><br> 如果要停止服务的话,命令行按Ctrl+c(两遍)</p> </li></ol> 
<h2><a id="_34"></a>分析脚手架结构</h2> 
<p>整个脚手架内容如下,<br> <img src="https://images2.imgbox.com/d7/c8/2i1VJX8Q_o.png" alt="在这里插入图片描述"></p> 
<ul><li><code>.gitignore</code> git忽略文件配置</li><li><code>babel.config.js</code> babel的配置文件</li><li><code>package-lock.json</code>&amp;<code>package.json</code> 符合npm规范的工程都会有这两个文件<br> package.json 应用包配置文件,包含名称,版本,依赖等<br> <img src="https://images2.imgbox.com/26/b0/fShI4MGS_o.png" alt="在这里插入图片描述">package-lock.json 包版本控制文件</li><li><code>README.md</code> 应用描述文件</li><li><code>src/main.js</code> 当执行<code>npm run serve</code>命令后直接运行的就是这个文件,是整个项目的入口文件<br> 逐行分析↓</li></ul> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span> <span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span> <span class="token comment">//引入App组件,是所有组件的父组件</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//关闭Vue的生产提示</span>

<span class="token comment">// 创建Vue实例对象</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//将App组件放入容器中</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绑定模板</span>

</code></pre> 
<ul><li><code>src/assets</code> 存放静态资源,如图片</li><li><code>src/components</code> 存放组件文件,除了App.vue</li><li><code>public/favicon.ico</code> 网站页签图标</li><li><code>public/index.html</code> 页面文件<br> 接着分析</li></ul> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 针对IE浏览器的一个特殊配置,目的是让IE浏览器以最高的渲染级别渲染页面 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 开启移动端的理想视口 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width,initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置页签图标 --&gt;</span>
    <span class="token comment">&lt;!-- &lt;%= BASE_URL %&gt;指的是public所在位置 尽量不要用相对路径 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= BASE_URL %&gt;favicon.ico<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置网页标题 --&gt;</span>
    <span class="token comment">&lt;!-- &gt;&lt;%= htmlWebpackPlugin.options.title %&gt; 将package.json中的name取来使用 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 当浏览器不支持js时 noscript标签中的元素就会被渲染 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>We're sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn't work properly without JavaScript enabled. Please enable it to continue.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 容器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- built files will be auto injected --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<h2><a id="render_92"></a>render函数</h2> 
<p>main.js中有一行<code>render: (h) =&gt; h(App),</code><br> 按我们的想法应该是</p> 
<pre><code class="prism language-js"><span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;App&gt;&lt;/App&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> App <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>替换成我们的写法运行<br> 报错了<br> 翻译一下就是"嘿,你这用的vue不是完全版的,要不你就用完全版的,要不就用render方法"<br> <img src="https://images2.imgbox.com/56/ca/QzHEIwcW_o.png" alt="在这里插入图片描述"><br> 嗯?<strong>不是完全版的vue</strong>?那先找一下目前用的是哪个vue<br> <img src="https://images2.imgbox.com/a6/cf/gAalnFMG_o.png" alt="在这里插入图片描述"><br> 因为我们引入写的是文件夹名称,默认会找到index<br> <strong>但其实引入的是哪个js文件呢</strong><br> 来到<code>node_modules/vue/package.json</code>文件进行查到,搜索module,这个module就是控制当使用es6模块化语法引入的时候的具体引入文件<br> <img src="https://images2.imgbox.com/06/5c/1QOSMNKt_o.png" alt="在这里插入图片描述"><br> 这个<code>vue.runtime.esm.js</code>就是我们真正引入的残缺版的vue<br> 而完整版的就是相同目录下的<code>vue.js</code><br> <strong>那么为什么要用一个残缺版的vue呢?</strong></p> 
<blockquote> 
 <p>关于不同版本的Vue:</p> 
 <ol><li>vue.js与vue.runtime.js的区别:<br> (1). vue.js是完整版的Vue,包含:核心功能+模板解析器<br> (2). vue.runtime.xxx.js是运行版的Vue,只包含核心功能,没有模板解析器</li><li>因为vue.runtime.xxx.js没有模板解析器,所以不能使用template配置项,需要使用render函数接受到的createElement函数去指定具体内容</li></ol> 
</blockquote> 
<p><code>vue.runtime.esm.js</code>缺少的是模板解析器,用来识别template属性内容<br> 而打包后就已经将vue翻译成js文件了,不需要解析器<br> 而解析器占整个vue体积的1/3,懂的都懂</p> 
<p><code>render: (h) =&gt; h(App),</code>完整写法</p> 
<pre><code class="prism language-js"><span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h2><a id="_130"></a>修改默认配置</h2> 
<p>图中红色框出的文件或文件夹名称是不可以更改了, 是vue配置并将配置文件隐藏了<br> <img src="https://images2.imgbox.com/f2/14/ObOfB3Jq_o.png" alt="在这里插入图片描述"><br> 其他的就是可以修改的<br> 官网有<a href="https://cli.vuejs.org/zh/config/" rel="nofollow">配置项文档</a><br> 修改配置项后需要重启服务</p> 
<h2><a id="ref_137"></a>ref属性</h2> 
<blockquote> 
 <ul><li>被用来给元素或子组件注册引用信息(id的替代者)</li><li>应用在html标签上获取的是真实DOM元素,应用在组件标签上是组件实例对象(vc)</li><li>使用方式: 打标识<code>&lt;h1 ref="xxx"&gt;...&lt;/h1&gt;</code>或<code>&lt;School ref="xxx"&gt;...&lt;/School&gt;</code><br> 获取 <code>this.$refs.xxx</code></li></ul> 
</blockquote> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>h1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>h2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>h3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>输出结果<br> <img src="https://images2.imgbox.com/82/44/Av1ZGjGZ_o.png" alt="在这里插入图片描述"><br> 给组件添加ref,就能获取到vc<br> 而原生的document.getElementById获取到的只能是组件模板结构</p> 
<h2><a id="props_158"></a>props配置</h2> 
<blockquote> 
 <p>让组件接收外部传过来的数据<br> props是只读的,Vue底层会检测你对props的修改,如果进行了修改,就会发出警告.若业务需求确实需要修改,那么请复制props的内存到data中一份,然后去修改data中的数据<br> 注意：v-model绑定的值不能是props传过来的值，因为props是不可以修改的</p> 
</blockquote> 
<p>App.vue中</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Qiu<span class="token punctuation">"</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Cai<span class="token punctuation">"</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>子级组件需要接收这些数据,<br> 有三种方法</p> 
<ul><li><code>props: ["name", "age"],</code><br> 这样数据类型就是传进来的类型</li><li><code>props: { name: String, age: Number, },</code><br> 这样就会对类型进行限制</li><li>还有一个更加完整的<br> 可以控制类型,是否必输和默认值</li></ul> 
<pre><code class="prism language-js"><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">999</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>props的优先级高于data<br> 当我们想更改传过来的数据时,是不允许直接修改props内数据<br> 所以可以再定义一个变量存放这个数据,再根据需求进行更改</p> 
<pre><code class="prism language-js"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">myName</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  	<span class="token literal-property property">age</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="mixin__209"></a>mixin 混入/混合</h2> 
<blockquote> 
 <p>可以把多个组件共用的配置提取成一个混入对象</p> 
</blockquote> 
<h3><a id="_212"></a>定义混合</h3> 
<p>创建一个js脚本,名称可以随便取，这里就用mixin了，里面可以配置所有组件可配置的属性</p> 
<pre><code class="prism language-js"><span class="token comment">// mixin.js</span>
<span class="token comment">// 分别暴露</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> mix <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">"girl"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"你好啊，我是mixin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_229"></a>局部混合</h3> 
<p>组件中引用</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> mix <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../mixin.js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mix<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>直接就可以在组件里使用了</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>i am a {<!-- -->{ sex }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>组件和混入数据冲突时</strong>，会优先使用组件数据<br> <strong>声明周期钩子函数冲突时</strong>，如两边都定义了mounted，那都会执行, 混合的先执行</p> 
<blockquote> 
 <p>模块化小知识<br> <code>export default xxx</code> 是默认暴露，引用时是<code>import xxx from "xxx"</code><br> <code>export const xxx = {}</code> 是分别暴露，引用是是<code>import {xxx} from "xxx"</code></p> 
</blockquote> 
<h3><a id="_252"></a>全局混合</h3> 
<p>在main.js中引入混合并配置</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> mix <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./mixin.js"</span><span class="token punctuation">;</span> <span class="token comment">//引入混合</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span>mix<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//全局混合</span>
</code></pre> 
<p>这样所有组件都不需要在引入，直接就可以只用混合的内容</p> 
<h2><a id="_261"></a>插件</h2> 
<blockquote> 
 <p>用于增强Vue，添加一些全局使用的功能<br> 本质：包含install方法的一个对象，install的第一个参数是Vue（Vue构造函数），之后的参数是插件使用者传递的数据</p> 
</blockquote> 
<p>定义插件（一般命名为plugins.js）<br> 里面必须写install方法，<strong>默认</strong>参数是Vue构造函数</p> 
<pre><code class="prism language-js"><span class="token comment">// 插件</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 固定钩子函数</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">//install(Vue, author) { //接收多个参数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"我是衩件儿"</span><span class="token punctuation">,</span> Vue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 这里就可以对Vue进行各种操作</span>
    <span class="token comment">// Vue.directives() 自定义指令</span>
    <span class="token comment">// Vue.mixin() 混入</span>
    <span class="token comment">// Vue.prototype.$myMthod = function{...} //添加实例方法</span>
    <span class="token comment">// 等等...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 默认暴露</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> obj<span class="token punctuation">;</span>

</code></pre> 
<p>在main.js引入并使用插件</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> plugins <span class="token keyword">from</span> <span class="token string">"./plugins"</span><span class="token punctuation">;</span> <span class="token comment">//引入插件</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>plugins<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//使用插件</span>
<span class="token comment">// Vue.use(plugins, "Cai"); //使用插件 添加参数 可多个</span>
</code></pre> 
<p>这样所有组件都可以使用插件里配置的东西了<br> 相当于外挂</p> 
<h2><a id="scoped_298"></a>scoped样式</h2> 
<blockquote> 
 <p>作用是让样式在局部生效，防止冲突<br> <code>&lt;style scoped&gt;</code></p> 
</blockquote> 
<p>所有组件写的样式最终都是会汇总到一起的，这就导致了相同类名的样式会互相影响<br> 后引用的组件会覆盖前面引用的组件的样式<br> 这时可以给style标签加上scoped标记，就可以让这个样式只服务于当前组件</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>怎么做到的？<br> 其实就是编译时会给每一个容器添加一个随机生成的属性<br> 在通过属性选择器来绑定样式<br> <img src="https://images2.imgbox.com/a9/2e/PBg0yON5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6e/52/ut8pccjC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="lessloader_318"></a>安装less-loader</h3> 
<p>如果想用less写样式，会发现报错说需要安装less-loader<br> 而当我们用<code>npm install less-loader</code>会报错，是因为版本兼容的问题<br> 可以看到我们的脚手架用的webpack版本是4.47，而用<code>npm view webpack versions</code>命令可以查看最新版本是5.88<br> <img src="https://images2.imgbox.com/f0/f8/erdxL9Bn_o.png" alt="在这里插入图片描述"><br> 而less-laoder的最新版本适用于webpack5.x，所以直接安装最新版本就会有问题，所以要选择低一些的版本，推荐的是7.x<br> 使用命令<code>npm i less-loader@7</code> 安装完成</p> 
<h2><a id="_webStorage_326"></a>浏览器的本地存储 webStorage</h2> 
<p>不必借助Vue</p> 
<blockquote> 
 <ul><li>存储内容大小一般支持5MB左右（不同浏览器不同）</li></ul> 
</blockquote> 
<h3><a id="localStroage__331"></a>localStroage 本地存储</h3> 
<blockquote> 
 <p>本地存储的数据关闭浏览器后不会丢失<br> 只有当用户执行remove或clear 或者 进行清缓存操作才会失去数据</p> 
</blockquote> 
<p>存储的键值对都必须是string类型，如不是会自动转化</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>localStorage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点我保存数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">readData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点我读取数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">deleData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点我删除数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">deleAllData</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>点我清空数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'cai'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token string">'18'</span><span class="token punctuation">}</span>
        <span class="token comment">// 存储数据</span>
        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">readData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 读取数据</span>
        <span class="token comment">// 读取不到数据返回null JSON.parse(null)还是null</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">deleData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 删除数据</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">deleAllData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 清空数据</span>
        localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/cb/c5/mmataZ1J_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="sessionStorage__374"></a>sessionStorage 会话存储</h3> 
<blockquote> 
 <p>关闭浏览器窗口后数据就会被清理</p> 
</blockquote> 
<p>和localStorage的api完全一样就是把localStorage改为sessionStorage</p> 
<pre><code class="prism language-js"><span class="token comment">// sessionStorage</span>
<span class="token keyword">function</span> <span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'cai'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token string">'18'</span><span class="token punctuation">}</span>
    <span class="token comment">// 存储数据</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">readData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 读取数据</span>
    <span class="token comment">// 读取不到数据返回null JSON.parse(null)还是null</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">deleData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 删除数据</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">deleAllData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 清空数据</span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_404"></a>组件自定义事件</h2> 
<blockquote> 
 <p>一种组件间的通信方式，适用于：子组件 ===&gt; 父组件</p> 
</blockquote> 
<h3><a id="_408"></a>绑定</h3> 
<p>子组件给父组件传递数据之前学的是通过props父组件传给子组件一个函数，子组件通过调用函数并传参给父组件传递数据<br> 还有一种就是组件自定义事件</p> 
<p>父组件绑定自定义事件</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span>
 <span class="token attr-name"><span class="token namespace">v-on:</span>getStudentName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showStudentName<span class="token punctuation">"</span></span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Qiu<span class="token punctuation">"</span></span>
  <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--简写@getStudentName="showStudentName"--&gt;</span>
</code></pre> 
<p>另一种绑定自定义事件方法（灵活性强）</p> 
<pre><code class="prism language-js"><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 绑定组件自定义事件</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>hw<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"getStudentName"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>showStudentName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>父组件实现响应方法</p> 
<pre><code class="prism language-js"><span class="token function">showStudentName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">alert</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>子组件触发自定事件</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"getStudentName"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>有个一需要注意的点<br> 当我们在父组件绑定自定义事件时这样写<br> 将子组件传来的数据赋值到父组件的数据上</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>hw<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"getStudentName"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">alert</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>studentName <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这样不对，因为<code>this.studentName</code>中的this指向的是子组件实例对象，谁触发的函数this指向谁<br> 而当我们把响应方法放到methods中是，vue的规则是普通函数中的this均指向当前实例对象（高优先级）<br> 所以上面改成箭头函数就可以了</p> 
<h3><a id="_455"></a>解绑</h3> 
<p>除了组件或上级被销毁时自定义事件会一起被销毁<br> 有时需求可能需要保留组件条件下主动解绑事件<br> 子组件解绑自定义事件</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"getStudentName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//解绑一个自定义事件</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"getStudentName"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//解绑多个自定义事件</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//解绑所有自定义事件</span>
</code></pre> 
<h3><a id="_464"></a>组件绑定原生事件</h3> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showStudentName<span class="token punctuation">"</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Tiger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>直接这样写，点击组件是不会触发事件的<br> 因为vue人为click是一个自定义事件，但并没有被触发</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">@click.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showStudentName<span class="token punctuation">"</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Tiger<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>而添加了native修饰符，就会把事件添加给组件的根元素，就会正常触发点击事件</p> 
<h2><a id="_GlobalEventBus_475"></a>全局事件总线 GlobalEventBus</h2> 
<blockquote> 
 <p>一种组件间通信的方式，适用于<strong>任意组件间通信</strong></p> 
</blockquote> 
<h3><a id="_478"></a>安装</h3> 
<p>这个总线需要满足两个条件</p> 
<ol><li>能被所有组件获取到</li><li>能调用自定义事件方法</li></ol> 
<p>还记不记得<code>VueComponent.prototype.__proto__ === Vue.prototype</code><br> Vue.prototype上的数据，所有vc都可以拿到<br> 而vm可以调用自定义事件方法</p> 
<pre><code class="prism language-js"><span class="token comment">// main.js</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//将App组件放入容器中</span>
  <span class="token comment">// render(createElement) {<!-- --></span>
  <span class="token comment">//   return createElement(App);</span>
  <span class="token comment">// },</span>
  <span class="token comment">// template: `&lt;App&gt;&lt;/App&gt;`,</span>
  <span class="token comment">// components: { App },</span>

  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">//安装全局事件总线</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//绑定模板</span>
</code></pre> 
<h3><a id="__501"></a>绑定事件 接收数据</h3> 
<p>记得要解绑，如不解绑即使组件被销毁$bus依然存在，事件就会越来越多<br> 也不能直接this.&amp;bus.%off()解绑，会把所有&amp;bus上的事件都解除</p> 
<pre><code class="prism language-js"><span class="token comment">//Student.vue</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"这里是Student组件，我收到了数据："</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h3><a id="__515"></a>触发事件 传递数据</h3> 
<pre><code class="prism language-js"><span class="token comment">//HelloWorld.vue</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_pubsub_521"></a>消息订阅与发布 pubsub</h2> 
<blockquote> 
 <p>一种组件间通信的方式，适用于任意组件间通信</p> 
</blockquote> 
<p>pubsub （publish subscribe）是一个js第三方库，用于实现订阅发布模式<br> 其实和自定义事件效果是一样的，一般还是用自定义事件</p> 
<p><strong>安装pubsub-js</strong><br> <code>npm i pubsub-js</code></p> 
<p><strong>订阅</strong></p> 
<pre><code class="prism language-js"><span class="token comment">//HelloWorld.vue</span>
<span class="token comment">// 引入</span>
<span class="token keyword">import</span> pubsub <span class="token keyword">from</span> <span class="token string">"pubsub-js"</span><span class="token punctuation">;</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">// 订阅消息</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>pubId <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">"yoyo"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">magName<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"有人发布了yoyo消息，回调执行了"</span><span class="token punctuation">,</span> magName<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>要记得解除订阅</p> 
<pre><code class="prism language-js"><span class="token comment">//HelloWorld.vue</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  pubsub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pubId<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>发布</strong></p> 
<pre><code class="prism language-js"><span class="token comment">// Student.vue</span>
pubsub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">"yoyo"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>输出<br> <img src="https://images2.imgbox.com/75/58/31ug3dcQ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="nextTick_560"></a>$nextTick</h2> 
<p>有一个需求是，显示一段文字，有一个编辑按钮，点击后展示可编辑文本框并获取焦点，文本框失去焦点显示文本<br> 正常写就是</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isEdit<span class="token punctuation">"</span></span>
  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputText<span class="token punctuation">"</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
  <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputContent<span class="token punctuation">"</span></span>
  <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blurInput<span class="token punctuation">"</span></span>
<span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isEdit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ inputContent }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>focusInput<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>编辑<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-js"><span class="token function">focusInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>isEdit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>inputText<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token function">blurInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>isEdit <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>但效果如下，点击后展示了编辑文本框，但是没有获取焦点，需要再次点击文本框或编辑按钮<br> <img src="https://images2.imgbox.com/23/35/qUHrwThb_o.gif" alt="在这里插入图片描述"><br> 这是因为点击编辑按钮后，先执行了<code>this.isEdit = true;</code>后<strong>接着</strong>执行<code>this.$refs.inputText.focus();</code>注意<strong>此时并没有重新解析模板</strong>，文本框还是隐藏状态，所以此时focus并没有效果<br> 怎么解决呢<br> 就要用到$nextTick,</p> 
<blockquote> 
 <p>$nextTick指定的回调会在DOM更新之后再执行</p> 
</blockquote> 
<p>focusInput函数改为<br> （箭头函数或普通函数中this都是指向vc）</p> 
<pre><code class="prism language-js"><span class="token function">focusInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>isEdit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>inputText<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h2><a id="transition_607"></a>transition</h2> 
<p>可以看<a href="https://v2.cn.vuejs.org/v2/api/#transition" rel="nofollow">官网文档</a></p> 
<blockquote> 
 <p>作用：在插入、更新或移除DOM元素时，在合适的时候给元素添加样式类名<br> 写法：<br> 1.准备好样式</p> 
 <ul><li>元素进入的样式<br> 1）v-enter：进入的起点<br> 2）v-enter-active：进入过程中<br> 3）v-enter-to：进入的终点</li><li>元素离开的样式<br> 1）v-leave：离开的起点<br> 2）v-leave-active：离开过程中<br> 3）v-leave-to：离开的终点</li></ul> 
 <ol start="2"><li>使用<code>&lt;transition&gt;</code>包裹要过渡的元素，并配置name属性<br> 备注：若有多个元素需要过渡，则需要使用<code>&lt;transition-group&gt;</code>，且每个元素都要指定key值</li></ol> 
</blockquote> 
<h3><a id="_623"></a>动画效果</h3> 
<p>希望效果如下（不知道为啥录制有灰块）<br> <img src="https://images2.imgbox.com/8b/cf/Aiv8hGDu_o.gif" alt="在这里插入图片描述"><br> 用<code>&lt;transition&gt;&lt;/transition&gt;</code>标签包裹需要展示动画的部分，就会在合适的时候加上对应名称的样式<br> 样式名称是固定的，如果transition没有加name那么就是v-xxx-active，如果加了name属性如<code>&lt;transition name="hello"&gt;</code>那样式名称就要改为hello-xxx-active</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fadeDemo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow = !isShow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>样式</p> 
<pre><code class="prism language-css"><span class="token comment">/* 渐入动画 */</span>
<span class="token atrule"><span class="token rule">@keyframes</span> fade</span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">from</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">to</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 展示后激活样式 */</span>
<span class="token selector">.v-enter-active</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade 1s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 隐藏前激活样式 */</span>
<span class="token selector">.v-leave-active</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade 1s reverse<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_657"></a>过渡效果</h3> 
<p>希望效果同上</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transitionDemo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>过渡效果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow2 = !isShow2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trans<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow2<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trans-h1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-css"><span class="token selector">.trans-h1</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">/* 需要配置时间 */</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> 0.5s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 过渡起点 */</span>
<span class="token selector">.trans-enter</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 过渡终点 */</span>
<span class="token selector">.trans-enter-to</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.trans-leave</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.trans-leave-to</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>其实也可以简写，将进入的终点和离开的起点整合，进入的起点和离开的重点整合</p> 
<pre><code class="prism language-css"><span class="token selector">.trans-enter,
.trans-leave-to</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.trans-enter-to,
.trans-leave</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="transitiongroup_703"></a>transition-group</h3> 
<p>就是可以包裹多个元素，但元素上必须有key<br> <a href="https://v2.cn.vuejs.org/v2/api/#transition-group" rel="nofollow">文档</a></p> 
<h3><a id="_706"></a>集成第三方动画</h3> 
<p>一个第三方动画库 <a href="https://animate.style/" rel="nofollow">Animate.css</a><br> 怎么用呢↓</p> 
<p>安装： <code>npm install animate.css --save</code><br> 引入： <code>import 'animate.css';</code><br> 使用： 在网站右侧找想要的动画效果，配置在代码里</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__animated animate__bounce<span class="token punctuation">"</span></span>
  <span class="token attr-name">enter-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__backInLeft<span class="token punctuation">"</span></span>
  <span class="token attr-name">leave-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__backOutRight<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow3<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trans-h1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>下一篇：<a href="https://blog.csdn.net/qq_39685400/article/details/135386279">Vue中的ajax</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e993deb571629a74bfdca92131aebd1e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">风电运维是海洋勘察行业下一个蓝海？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e4c98ba3a6cb87bda87544bbec80745/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker简述与基础部署详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>