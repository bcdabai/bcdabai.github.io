<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ssm快速集成redis缓存 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ssm快速集成redis缓存" />
<meta property="og:description" content="基于Spring SpringMVC Mybaits框架基础上。
安装好redis： Redis 安装（Windows和Linux ） https://blog.csdn.net/qq_22860341/article/details/77533372
1，引入依赖或者jar
&lt;!--redis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt; &lt;version&gt;1.6.1.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.7.3&lt;/version&gt; &lt;/dependency&gt; 或者
jedis-2.9.0.jar commons-pool2-2.4.2.jar spring-data-redis-1.7.1.RELEASE.jar 2，配置redis.properties
redis.host=127.0.0.1 redis.port=6379 redis.password=19931009 redis.maxIdle=300 redis.maxWaitMillis=1000 redis.maxTotal=600 redis.maxWait=-1 redis.testOnBorrow=true redis.testOnReturn=true redis.projectNam=ssm_redis redis.timeout=100000 defaultCacheExpireTime=3600 3，在springmvc.xml中配置中加入
&lt;!--引入redis.properties配置多个以逗号或者/分割--&gt; &lt;context:property-placeholder location=&#34;classpath:url.properties,classpath:redis.properties&#34;/&gt; &lt;!-- jedis 连接池配置 --&gt; &lt;bean id=&#34;poolConfig&#34; class=&#34;redis.clients.jedis.JedisPoolConfig&#34;&gt; &lt;property name=&#34;maxIdle&#34; value=&#34;${redis.maxIdle}&#34;/&gt; &lt;property name=&#34;maxWaitMillis&#34; value=&#34;${redis.maxWait}&#34;/&gt; &lt;property name=&#34;testOnBorrow&#34; value=&#34;${redis.testOnBorrow}&#34;/&gt; &lt;/bean&gt; &lt;!-- redis连接工厂 --&gt; &lt;bean id=&#34;connectionFactory&#34; class=&#34;org.springframework.data.redis.connection.jedis.JedisConnectionFactory&#34;&gt; &lt;property name=&#34;poolConfig&#34; ref=&#34;poolConfig&#34;/&gt; &lt;property name=&#34;port&#34; value=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4de959b4960ae1967edc611b69b45972/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-05-31T10:52:13+08:00" />
<meta property="article:modified_time" content="2018-05-31T10:52:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ssm快速集成redis缓存</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>基于Spring SpringMVC Mybaits框架基础上。</p> 
<p>安装好redis： <br> Redis 安装（Windows和Linux ） <br> <a href="https://blog.csdn.net/qq_22860341/article/details/77533372">https://blog.csdn.net/qq_22860341/article/details/77533372</a></p> 
<p><strong>1，引入依赖或者jar</strong></p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-comment">&lt;!--redis--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.springframework.data<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>spring-data-redis<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.6.1.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>2.7.3<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>

</code></pre> 
<p>或者</p> 
<pre class="prettyprint"><code class=" hljs avrasm">jedis-<span class="hljs-number">2.9</span><span class="hljs-number">.0</span><span class="hljs-preprocessor">.jar</span>
commons-pool2-<span class="hljs-number">2.4</span><span class="hljs-number">.2</span><span class="hljs-preprocessor">.jar</span>
spring-data-redis-<span class="hljs-number">1.7</span><span class="hljs-number">.1</span><span class="hljs-preprocessor">.RELEASE</span><span class="hljs-preprocessor">.jar</span></code></pre> 
<p><strong>2，配置redis.properties</strong></p> 
<pre class="prettyprint"><code class=" hljs avrasm">redis<span class="hljs-preprocessor">.host</span>=<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
redis<span class="hljs-preprocessor">.port</span>=<span class="hljs-number">6379</span>
redis<span class="hljs-preprocessor">.password</span>=<span class="hljs-number">19931009</span>
redis<span class="hljs-preprocessor">.maxIdle</span>=<span class="hljs-number">300</span>
redis<span class="hljs-preprocessor">.maxWaitMillis</span>=<span class="hljs-number">1000</span>
redis<span class="hljs-preprocessor">.maxTotal</span>=<span class="hljs-number">600</span>
redis<span class="hljs-preprocessor">.maxWait</span>=-<span class="hljs-number">1</span>
redis<span class="hljs-preprocessor">.testOnBorrow</span>=true
redis<span class="hljs-preprocessor">.testOnReturn</span>=true
redis<span class="hljs-preprocessor">.projectNam</span>=ssm_redis
redis<span class="hljs-preprocessor">.timeout</span>=<span class="hljs-number">100000</span>
defaultCacheExpireTime=<span class="hljs-number">3600</span></code></pre> 
<p><strong>3，在springmvc.xml中配置中加入</strong></p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-comment">&lt;!--引入redis.properties配置多个以逗号或者/分割--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">context:property-placeholder</span> <span class="hljs-attribute">location</span>=<span class="hljs-value">"classpath:url.properties,classpath:redis.properties"</span>/&gt;</span>

<span class="hljs-comment">&lt;!-- jedis 连接池配置 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"poolConfig"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"redis.clients.jedis.JedisPoolConfig"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxIdle"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.maxIdle}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxWaitMillis"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.maxWait}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"testOnBorrow"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.testOnBorrow}"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- redis连接工厂 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"connectionFactory"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"org.springframework.data.redis.connection.jedis.JedisConnectionFactory"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"poolConfig"</span> <span class="hljs-attribute">ref</span>=<span class="hljs-value">"poolConfig"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"port"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.port}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"hostName"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.host}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.password}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"timeout"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"${redis.timeout}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">bean</span>&gt;</span>
     <span class="hljs-comment">&lt;!-- Jedis模板配置  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"redisTemplate"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"org.springframework.data.redis.core.RedisTemplate"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"connectionFactory"</span> <span class="hljs-attribute">ref</span>=<span class="hljs-value">"connectionFactory"</span>/&gt;</span>
         <span class="hljs-comment">&lt;!--     如果不配置Serializer，那么存储的时候只能使用String，如果用对象类型存储，那么会提示错误 can't cast to String！！！--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"keySerializer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"org.springframework.data.redis.serializer.StringRedisSerializer"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- 采用json序列化 --&gt;</span>  
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"valueSerializer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"org.springframework.data.redis.serializer.JdkSerializationRedisSerializer"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
     <span class="hljs-comment">&lt;!-- 开启REIDS事务支持 --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"enableTransactionSupport"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"true"</span>/&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">bean</span>&gt;</span>
</code></pre> 
<p>4，通过以上配置可以在controller中使用redisTemplate模板了。</p> 
<p><img src="https://images2.imgbox.com/28/99/t6TAPxyb_o.png" alt="这里写图片描述" title=""></p> 
<p><strong>5，一般情况下加入redisUtil</strong></p> 
<p>在springmvc.xml中加入</p> 
<pre class="prettyprint"><code class=" hljs xml">  <span class="hljs-comment">&lt;!-- 若有 redisUtil--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">bean</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"redisUtil"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"com.ticket.util.RedisUtil"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"redisTemplate"</span> <span class="hljs-attribute">ref</span>=<span class="hljs-value">"redisTemplate"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">bean</span>&gt;</span> </code></pre> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> com.ticket.util;

<span class="hljs-keyword">import</span> java.util.Collection;
<span class="hljs-keyword">import</span> java.util.List;  
<span class="hljs-keyword">import</span> java.util.Map;  
<span class="hljs-keyword">import</span> java.util.Set;  
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.RedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.ZSetOperations.TypedTuple;
<span class="hljs-keyword">import</span> org.springframework.util.CollectionUtils;


<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisUtil</span> {<!-- --></span>  

    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;  

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRedisTemplate</span>(RedisTemplate&lt;String, Object&gt; redisTemplate) {
        <span class="hljs-keyword">this</span>.redisTemplate = redisTemplate;
    }

    <span class="hljs-comment">//=============================common============================  </span>
    <span class="hljs-javadoc">/** 
     * 指定缓存失效时间 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">expire</span>(String key,<span class="hljs-keyword">long</span> time){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">if</span>(time&gt;<span class="hljs-number">0</span>){  
                redisTemplate.expire(key, time, TimeUnit.SECONDS);  
            }  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 根据key 获取过期时间 
     *<span class="hljs-javadoctag"> @param</span> key 键 不能为null 
     *<span class="hljs-javadoctag"> @return</span> 时间(秒) 返回0代表为永久有效 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">getExpire</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.getExpire(key,TimeUnit.SECONDS);  
    }  

    <span class="hljs-javadoc">/** 
     * 判断key是否存在 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @return</span> true 存在 false不存在 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasKey</span>(String key){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.hasKey(key);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 删除缓存 
     *<span class="hljs-javadoctag"> @param</span> key 可以传一个值 或多个 
     */</span>  
    <span class="hljs-annotation">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">del</span>(String ... key){  
        <span class="hljs-keyword">if</span>(key!=<span class="hljs-keyword">null</span> &amp;&amp; key.length&gt;<span class="hljs-number">0</span>){  
            <span class="hljs-keyword">if</span>(key.length==<span class="hljs-number">1</span>){  
                redisTemplate.delete(key[<span class="hljs-number">0</span>]);  
            }<span class="hljs-keyword">else</span>{  
                redisTemplate.delete(CollectionUtils.arrayToList(key));  
            }  
        }  
    }  

    <span class="hljs-comment">//============================String=============================  </span>


    <span class="hljs-javadoc">/** 
     * 普通缓存放入 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @return</span> true成功 false失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">set</span>(String key,Object value) {  
         <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForValue().set(key, value);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  

    }  

    <span class="hljs-javadoc">/** 
     * 普通缓存放入并设置时间 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) time要大于0 如果time小于等于0 将设置无限期 
     *<span class="hljs-javadoctag"> @return</span> true成功 false 失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">set</span>(String key,Object value,<span class="hljs-keyword">long</span> time){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">if</span>(time&gt;<span class="hljs-number">0</span>){  
                redisTemplate.opsForValue().set(key, value, time, TimeUnit.SECONDS);  
            }<span class="hljs-keyword">else</span>{  
                set(key, value);  
            }  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 递增 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> by 要增加几(大于0) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">incr</span>(String key, <span class="hljs-keyword">long</span> delta){    
        <span class="hljs-keyword">if</span>(delta&lt;<span class="hljs-number">0</span>){  
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"递增因子必须大于0"</span>);  
        }  
        <span class="hljs-keyword">return</span> redisTemplate.opsForValue().increment(key, delta);  
    }  

    <span class="hljs-javadoc">/** 
     * 递减 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> by 要减少几(小于0) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">decr</span>(String key, <span class="hljs-keyword">long</span> delta){    
        <span class="hljs-keyword">if</span>(delta&lt;<span class="hljs-number">0</span>){  
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"递减因子必须大于0"</span>);  
        }  
        <span class="hljs-keyword">return</span> redisTemplate.opsForValue().increment(key, -delta);    
    }    

    <span class="hljs-comment">//================================Map=================================  </span>
    <span class="hljs-javadoc">/** 
     * HashGet 
     *<span class="hljs-javadoctag"> @param</span> key 键 不能为null 
     *<span class="hljs-javadoctag"> @param</span> item 项 不能为null 
     *<span class="hljs-javadoctag"> @return</span> 值 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">hget</span>(String key,String item){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().get(key, item);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取hashKey对应的所有键值 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @return</span> 对应的多个键值 
     */</span>  
    <span class="hljs-keyword">public</span> Map&lt;Object,Object&gt; <span class="hljs-title">hmget</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().entries(key);  
    }  

    <span class="hljs-javadoc">/** 
     * HashSet 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> map 对应多个键值 
     *<span class="hljs-javadoctag"> @return</span> true 成功 false 失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hmset</span>(String key, Map&lt;String,Object&gt; map){    
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForHash().putAll(key, map);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * HashSet 并设置时间 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> map 对应多个键值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> true成功 false失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hmset</span>(String key, Map&lt;String,Object&gt; map, <span class="hljs-keyword">long</span> time){    
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForHash().putAll(key, map);  
            <span class="hljs-keyword">if</span>(time&gt;<span class="hljs-number">0</span>){  
                expire(key, time);  
            }  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 向一张hash表中放入数据,如果不存在将创建 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> item 项 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @return</span> true 成功 false失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hset</span>(String key,String item,Object value) {  
         <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForHash().put(key, item, value);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 向一张hash表中放入数据,如果不存在将创建 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> item 项 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒)  注意:如果已存在的hash表有时间,这里将会替换原有的时间 
     *<span class="hljs-javadoctag"> @return</span> true 成功 false失败 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hset</span>(String key,String item,Object value,<span class="hljs-keyword">long</span> time) {  
         <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForHash().put(key, item, value);  
            <span class="hljs-keyword">if</span>(time&gt;<span class="hljs-number">0</span>){  
                expire(key, time);  
            }  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 删除hash表中的值 
     *<span class="hljs-javadoctag"> @param</span> key 键 不能为null 
     *<span class="hljs-javadoctag"> @param</span> item 项 可以使多个 不能为null 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hdel</span>(String key, Object... item){    
        redisTemplate.opsForHash().delete(key,item);  
    }   

    <span class="hljs-javadoc">/** 
     * 判断hash表中是否有该项的值 
     *<span class="hljs-javadoctag"> @param</span> key 键 不能为null 
     *<span class="hljs-javadoctag"> @param</span> item 项 不能为null 
     *<span class="hljs-javadoctag"> @return</span> true 存在 false不存在 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hHasKey</span>(String key, String item){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().hasKey(key, item);  
    }   

    <span class="hljs-javadoc">/** 
     * hash递增 如果不存在,就会创建一个 并把新增后的值返回 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> item 项 
     *<span class="hljs-javadoctag"> @param</span> by 要增加几(大于0) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">hincr</span>(String key, String item,<span class="hljs-keyword">double</span> by){    
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().increment(key, item, by);  
    }  

    <span class="hljs-javadoc">/** 
     * hash递减 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> item 项 
     *<span class="hljs-javadoctag"> @param</span> by 要减少记(小于0) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">hdecr</span>(String key, String item,<span class="hljs-keyword">double</span> by){    
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().increment(key, item,-by);    
    }    

    <span class="hljs-comment">//============================set=============================  </span>
    <span class="hljs-javadoc">/** 
     * 根据key获取Set中的所有值 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">sGet</span>(String key){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForSet().members(key);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 根据value从一个set中查询,是否存在 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @return</span> true 存在 false不存在 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">sHasKey</span>(String key,Object value){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForSet().isMember(key, value);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将数据放入set缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> values 值 可以是多个 
     *<span class="hljs-javadoctag"> @return</span> 成功个数 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">sSet</span>(String key, Object...values) {  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForSet().add(key, values);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将set数据放入缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @param</span> values 值 可以是多个 
     *<span class="hljs-javadoctag"> @return</span> 成功个数 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">sSetAndTime</span>(String key,<span class="hljs-keyword">long</span> time,Object...values) {  
        <span class="hljs-keyword">try</span> {  
            Long count = redisTemplate.opsForSet().add(key, values);  
            <span class="hljs-keyword">if</span>(time&gt;<span class="hljs-number">0</span>) expire(key, time);  
            <span class="hljs-keyword">return</span> count;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 获取set缓存的长度 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">sGetSetSize</span>(String key){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForSet().size(key);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 移除值为value的 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> values 值 可以是多个 
     *<span class="hljs-javadoctag"> @return</span> 移除的个数 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">setRemove</span>(String key, Object ...values) {  
        <span class="hljs-keyword">try</span> {  
            Long count = redisTemplate.opsForSet().remove(key, values);  
            <span class="hljs-keyword">return</span> count;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  
    <span class="hljs-comment">//===============================list=================================  </span>

    <span class="hljs-javadoc">/** 
     * 获取list缓存的内容 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> start 开始 
     *<span class="hljs-javadoctag"> @param</span> end 结束  0 到 -1代表所有值 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title">lGet</span>(String key,<span class="hljs-keyword">long</span> start, <span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForList().range(key, start, end);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 获取list缓存的长度 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">lGetListSize</span>(String key){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForList().size(key);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 通过索引 获取list中的值 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> index 索引  index&gt;=0时， 0 表头，1 第二个元素，依次类推；index&lt;0时，-1，表尾，-2倒数第二个元素，依次类推 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">lGetIndex</span>(String key,<span class="hljs-keyword">long</span> index){  
        <span class="hljs-keyword">try</span> {  
            <span class="hljs-keyword">return</span> redisTemplate.opsForList().index(key, index);  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将list放入缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">lSet</span>(String key, Object value) {  
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForList().rightPush(key, value);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将list放入缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">lSet</span>(String key, Object value, <span class="hljs-keyword">long</span> time) {  
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForList().rightPush(key, value);  
            <span class="hljs-keyword">if</span> (time &gt; <span class="hljs-number">0</span>) expire(key, time);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将list放入缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">lSet</span>(String key, List&lt;Object&gt; value) {  
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForList().rightPushAll(key, value);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 将list放入缓存 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @param</span> time 时间(秒) 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">lSet</span>(String key, List&lt;Object&gt; value, <span class="hljs-keyword">long</span> time) {  
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForList().rightPushAll(key, value);  
            <span class="hljs-keyword">if</span> (time &gt; <span class="hljs-number">0</span>) expire(key, time);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 根据索引修改list中的某条数据 
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> index 索引 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">lUpdateIndex</span>(String key, <span class="hljs-keyword">long</span> index,Object value) {  
        <span class="hljs-keyword">try</span> {  
            redisTemplate.opsForList().set(key, index, value);  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  
        }  
    }   

    <span class="hljs-javadoc">/** 
     * 移除N个值为value  
     *<span class="hljs-javadoctag"> @param</span> key 键 
     *<span class="hljs-javadoctag"> @param</span> count 移除多少个 
     *<span class="hljs-javadoctag"> @param</span> value 值 
     *<span class="hljs-javadoctag"> @return</span> 移除的个数 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">lRemove</span>(String key,<span class="hljs-keyword">long</span> count,Object value) {  
        <span class="hljs-keyword">try</span> {  
            Long remove = redisTemplate.opsForList().remove(key, count, value);  
            <span class="hljs-keyword">return</span> remove;  
        } <span class="hljs-keyword">catch</span> (Exception e) {  
            e.printStackTrace();  
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  
        }  
    }  

    <span class="hljs-javadoc">/** 
     * 设置 String 类型 key-value 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span>(String key,String value){  
        redisTemplate.opsForValue().set(key, value);  
    }  


    <span class="hljs-javadoc">/** 
     * 获取 String 类型 key-value 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> String <span class="hljs-title">get</span>(String key){  
        <span class="hljs-keyword">return</span> (String) redisTemplate.opsForValue().get(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 设置 String 类型 key-value 并添加过期时间 (毫秒单位) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> time 过期时间,毫秒单位 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setForTimeMS</span>(String key,String value,<span class="hljs-keyword">long</span> time){  
        redisTemplate.opsForValue().set(key, value, time, TimeUnit.MILLISECONDS);  
    }  

    <span class="hljs-javadoc">/** 
     * 设置 String 类型 key-value 并添加过期时间 (分钟单位) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> time 过期时间,分钟单位 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setForTimeMIN</span>(String key,String value,<span class="hljs-keyword">long</span> time){  
        redisTemplate.opsForValue().set(key, value, time, TimeUnit.MINUTES);  
    }  


    <span class="hljs-javadoc">/** 
     * 设置 String 类型 key-value 并添加过期时间 (分钟单位) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> time 过期时间,分钟单位 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setForTimeCustom</span>(String key,String value,<span class="hljs-keyword">long</span> time,TimeUnit type){  
        redisTemplate.opsForValue().set(key, value, time, type);  
    }  

    <span class="hljs-javadoc">/** 
     * 如果 key 存在则覆盖,并返回旧值. 
     * 如果不存在,返回null 并添加 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> String <span class="hljs-title">getAndSet</span>(String key,String value){  
        <span class="hljs-keyword">return</span> (String) redisTemplate.opsForValue().getAndSet(key, value);  
    }  


    <span class="hljs-javadoc">/** 
     * 批量添加 key-value (重复的键会覆盖) 
     *<span class="hljs-javadoctag"> @param</span> keyAndValue 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">batchSet</span>(Map&lt;String,String&gt; keyAndValue){  
        redisTemplate.opsForValue().multiSet(keyAndValue);  
    }  

    <span class="hljs-javadoc">/** 
     * 批量添加 key-value 只有在键不存在时,才添加 
     * map 中只要有一个key存在,则全部不添加 
     *<span class="hljs-javadoctag"> @param</span> keyAndValue 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">batchSetIfAbsent</span>(Map&lt;String,String&gt; keyAndValue){  
        redisTemplate.opsForValue().multiSetIfAbsent(keyAndValue);  
    }  

    <span class="hljs-javadoc">/** 
     * 对一个 key-value 的值进行加减操作, 
     * 如果该 key 不存在 将创建一个key 并赋值该 number 
     * 如果 key 存在,但 value 不是长整型 ,将报错 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> number 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">increment</span>(String key,<span class="hljs-keyword">long</span> number){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForValue().increment(key, number);  
    }  

    <span class="hljs-javadoc">/** 
     * 对一个 key-value 的值进行加减操作, 
     * 如果该 key 不存在 将创建一个key 并赋值该 number 
     * 如果 key 存在,但 value 不是 纯数字 ,将报错 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> number 
     */</span>  
    <span class="hljs-keyword">public</span> Double <span class="hljs-title">increment</span>(String key,<span class="hljs-keyword">double</span> number){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForValue().increment(key, number);  
    }  


    <span class="hljs-javadoc">/** 
     * 给一个指定的 key 值附加过期时间 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> time 
     *<span class="hljs-javadoctag"> @param</span> type 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">expire</span>(String key,<span class="hljs-keyword">long</span> time,TimeUnit type){  
        <span class="hljs-keyword">return</span> redisTemplate.boundValueOps(key).expire(time, type);  
    }  

    <span class="hljs-javadoc">/** 
     * 移除指定key 的过期时间 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">persist</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.boundValueOps(key).persist();  
    }  


    <span class="hljs-javadoc">/** 
     * 修改 key 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rename</span>(String key,String newKey){  
        redisTemplate.boundValueOps(key).rename(newKey);  
    }  



    <span class="hljs-comment">//hash操作  </span>

    <span class="hljs-javadoc">/** 
     * 添加 Hash 键值对 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @param</span> value 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span>(String key, String hashKey, String value){  
        redisTemplate.opsForHash().put(key, hashKey, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 批量添加 hash 的 键值对 
     * 有则覆盖,没有则添加 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> map 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">putAll</span>(String key,Map&lt;String,String&gt; map){  
        redisTemplate.opsForHash().putAll(key, map);  
    }  

    <span class="hljs-javadoc">/** 
     * 添加 hash 键值对. 不存在的时候才添加 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">putIfAbsent</span>(String key, String hashKey, String value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().putIfAbsent(key, hashKey, value);  
    }  


    <span class="hljs-javadoc">/** 
     * 删除指定 hash 的 HashKey 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKeys 
     *<span class="hljs-javadoctag"> @return</span> 删除成功的 数量 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">delete</span>(String key, String ...hashKeys){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().delete(key, hashKeys);  
    }  


    <span class="hljs-javadoc">/** 
     * 给指定 hash 的 hashkey 做增减操作 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @param</span> number 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">increment</span>(String key, String hashKey,<span class="hljs-keyword">long</span> number){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().increment(key, hashKey, number);  
    }  

    <span class="hljs-javadoc">/** 
     * 给指定 hash 的 hashkey 做增减操作 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @param</span> number 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Double <span class="hljs-title">increment</span>(String key, String hashKey,Double number){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().increment(key, hashKey, number);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取指定 key 下的 hashkey 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">getHashKey</span>(String key,String hashKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().get(key, hashKey);  
    }  


    <span class="hljs-javadoc">/** 
     * 获取 key 下的 所有  hashkey 和 value 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Map&lt;Object,Object&gt; <span class="hljs-title">getHashEntries</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().entries(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 验证指定 key 下 有没有指定的 hashkey 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> hashKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hashKey</span>(String key,String hashKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().hasKey(key, hashKey);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取 key 下的 所有 hashkey 字段名 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">hashKeys</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().keys(key);  
    }  


    <span class="hljs-javadoc">/** 
     * 获取指定 hash 下面的 键值对 数量 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">hashSize</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForHash().size(key);  
    }  

    <span class="hljs-comment">//List 操作  </span>

    <span class="hljs-javadoc">/** 
     * 指定 list 从左入栈 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 当前队列的长度 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">leftPush</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().leftPush(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 指定 list 从左出栈 
     * 如果列表没有元素,会堵塞到列表一直有元素或者超时为止 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 出栈的值 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">leftPop</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().leftPop(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 从左边依次入栈 
     * 导入顺序按照 Collection 顺序 
     * 如: a b c =&gt; c b a 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> values 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">leftPushAll</span>(String key,Collection&lt;Object&gt; values){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().leftPushAll(key, values);  
    }  

    <span class="hljs-javadoc">/** 
     * 指定 list 从右入栈 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 当前队列的长度 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">rightPush</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().rightPush(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 指定 list 从右出栈 
     * 如果列表没有元素,会堵塞到列表一直有元素或者超时为止 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 出栈的值 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">rightPop</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().rightPop(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 从右边依次入栈 
     * 导入顺序按照 Collection 顺序 
     * 如: a b c =&gt; a b c 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> values 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">rightPushAll</span>(String key,Collection&lt;Object&gt; values){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().rightPushAll(key, values);  
    }  


    <span class="hljs-javadoc">/** 
     * 根据下标获取值 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> index 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">popIndex</span>(String key,<span class="hljs-keyword">long</span> index){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().index(key, index);  
    }  


    <span class="hljs-javadoc">/** 
     * 获取列表指定长度 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> index 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">listSize</span>(String key,<span class="hljs-keyword">long</span> index){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().size(key);  
    }  


    <span class="hljs-javadoc">/** 
     * 获取列表 指定范围内的所有值 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title">listRange</span>(String key,<span class="hljs-keyword">long</span> start,<span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().range(key, start, end);  
    }  


    <span class="hljs-javadoc">/** 
     * 删除 key 中 值为 value 的 count 个数. 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> count 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 成功删除的个数 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">listRemove</span>(String key,<span class="hljs-keyword">long</span> count,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().remove(key, count, value);  
    }  


    <span class="hljs-javadoc">/** 
     * 删除 列表 [start,end] 以外的所有元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">listTrim</span>(String key,<span class="hljs-keyword">long</span> start,<span class="hljs-keyword">long</span> end){  
        redisTemplate.opsForList().trim(key, start, end);  

    }  

    <span class="hljs-javadoc">/** 
     * 将 key 右出栈,并左入栈到 key2 
     * 
     *<span class="hljs-javadoctag"> @param</span> key 右出栈的列表 
     *<span class="hljs-javadoctag"> @param</span> key2 左入栈的列表 
     *<span class="hljs-javadoctag"> @return</span> 操作的值 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">rightPopAndLeftPush</span>(String key,String key2){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForList().rightPopAndLeftPush(key, key2);  

    }  

    <span class="hljs-comment">//set 操作  无序不重复集合  </span>

    <span class="hljs-javadoc">/** 
     * 添加 set 元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> values 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">add</span>(String key ,String ...values){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().add(key, values);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取两个集合的差集 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> key2 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">difference</span>(String key ,String otherkey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().difference(key, otherkey);  
    }  



    <span class="hljs-javadoc">/** 
     * 将  key 与 otherkey 的差集 ,添加到新的 newKey 集合中 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherkey 
     *<span class="hljs-javadoctag"> @param</span> newKey 
     *<span class="hljs-javadoctag"> @return</span> 返回差集的数量 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">differenceAndStore</span>(String key ,String otherkey,String newKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().differenceAndStore(key, otherkey, newKey);  
    }  


    <span class="hljs-javadoc">/** 
     * 删除一个或多个集合中的指定值 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> values 
     *<span class="hljs-javadoctag"> @return</span> 成功删除数量 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">remove</span>(String key,Object ...values){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().remove(key, values);  
    }  

    <span class="hljs-javadoc">/** 
     * 随机移除一个元素,并返回出来 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">randomSetPop</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().pop(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 随机获取一个元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Object <span class="hljs-title">randomSet</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().randomMember(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 随机获取指定数量的元素,同一个元素可能会选中两次 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> count 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> List&lt;Object&gt; <span class="hljs-title">randomSet</span>(String key,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().randomMembers(key, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 随机获取指定数量的元素,去重(同一个元素只能选择两一次) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> count 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">randomSetDistinct</span>(String key,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().distinctRandomMembers(key, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 将 key 中的 value 转入到 destKey 中 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> 返回成功与否 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">moveSet</span>(String key,Object value,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().move(key, value, destKey);  
    }  

    <span class="hljs-javadoc">/** 
     * 无序集合的大小 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">setSize</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().size(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 判断 set 集合中 是否有 value 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isMember</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().isMember(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 key 和 othere 的并集 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">unionSet</span>(String key,String otherKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().union(key, otherKey);  
    }  



    <span class="hljs-javadoc">/** 
     * 将 key 与 otherKey 的并集,保存到 destKey 中 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKey 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> destKey 数量 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">unionAndStoreSet</span>(String key, String otherKey,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().unionAndStore(key, otherKey, destKey);  
    }  



    <span class="hljs-javadoc">/** 
     * 返回集合中所有元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">members</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForSet().members(key);  
    }  

    <span class="hljs-comment">//Zset 根据 socre 排序   不重复 每个元素附加一个 socre  double类型的属性(double 可以重复)  </span>

    <span class="hljs-javadoc">/** 
     * 添加 ZSet 元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> score 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span>(String key,Object value,<span class="hljs-keyword">double</span> score){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().add(key, value, score);  
    }  

    <span class="hljs-javadoc">/** 
     * 批量添加 Zset &lt;br&gt; 
     *         Set&lt;TypedTuple&lt;Object&gt;&gt; tuples = new HashSet&lt;&gt;();&lt;br&gt; 
     *         TypedTuple&lt;Object&gt; objectTypedTuple1 = new DefaultTypedTuple&lt;Object&gt;("zset-5",9.6);&lt;br&gt; 
     *         tuples.add(objectTypedTuple1); 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> tuples 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">batchAddZset</span>(String key,Set&lt;TypedTuple&lt;Object&gt;&gt; tuples){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().add(key, tuples);  
    }  

    <span class="hljs-javadoc">/** 
     * Zset 删除一个或多个元素 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> values 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">removeZset</span>(String key,String ...values){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().remove(key, values);  
    }  

    <span class="hljs-javadoc">/** 
     * 对指定的 zset 的 value 值 , socre 属性做增减操作 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @param</span> score 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Double <span class="hljs-title">incrementScore</span>(String key,Object value,<span class="hljs-keyword">double</span> score){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().incrementScore(key, value, score);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取 key 中指定 value 的排名(从0开始,从小到大排序) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">rank</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rank(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取 key 中指定 value 的排名(从0开始,从大到小排序) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">reverseRank</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRank(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取索引区间内的排序结果集合(从0开始,从小到大,带上分数) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">rangeWithScores</span>(String key, <span class="hljs-keyword">long</span> start, <span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rangeWithScores(key, start, end);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取索引区间内的排序结果集合(从0开始,从小到大,只有列名) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">range</span>(String key, <span class="hljs-keyword">long</span> start, <span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().range(key, start, end);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取分数范围内的 [min,max] 的排序结果集合 (从小到大,只有列名) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">rangeByScore</span>(String key, <span class="hljs-keyword">double</span> min, <span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rangeByScore(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取分数范围内的 [min,max] 的排序结果集合 (从小到大,集合带分数) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">rangeByScoreWithScores</span>(String key, <span class="hljs-keyword">double</span> min, <span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rangeByScoreWithScores(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 分数范围内 指定 count 数量的元素集合, 并且从 offset 下标开始(从小到大,不带分数的集合) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @param</span> offset 从指定下标开始 
     *<span class="hljs-javadoctag"> @param</span> count 输出指定元素数量 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">rangeByScore</span>(String key, <span class="hljs-keyword">double</span> min, <span class="hljs-keyword">double</span> max,<span class="hljs-keyword">long</span> offset,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rangeByScore(key, min, max, offset, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 分数范围内 指定 count 数量的元素集合, 并且从 offset 下标开始(从小到大,带分数的集合) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @param</span> offset 从指定下标开始 
     *<span class="hljs-javadoctag"> @param</span> count 输出指定元素数量 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">rangeByScoreWithScores</span>(String key, <span class="hljs-keyword">double</span> min, <span class="hljs-keyword">double</span> max,<span class="hljs-keyword">long</span> offset,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().rangeByScoreWithScores(key, min, max, offset, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取索引区间内的排序结果集合(从0开始,从大到小,只有列名) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">reverseRange</span>(String key,<span class="hljs-keyword">long</span> start,<span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRange(key, start, end);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取索引区间内的排序结果集合(从0开始,从大到小,带上分数) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">reverseRangeWithScores</span>(String key,<span class="hljs-keyword">long</span> start,<span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRangeWithScores(key, start, end);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取分数范围内的 [min,max] 的排序结果集合 (从大到小,集合不带分数) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">reverseRangeByScore</span>(String key,<span class="hljs-keyword">double</span> min,<span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRangeByScore(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取分数范围内的 [min,max] 的排序结果集合 (从大到小,集合带分数) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">reverseRangeByScoreWithScores</span>(String key,<span class="hljs-keyword">double</span> min,<span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRangeByScoreWithScores(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 分数范围内 指定 count 数量的元素集合, 并且从 offset 下标开始(从大到小,不带分数的集合) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @param</span> offset 从指定下标开始 
     *<span class="hljs-javadoctag"> @param</span> count 输出指定元素数量 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;Object&gt; <span class="hljs-title">reverseRangeByScore</span>(String key,<span class="hljs-keyword">double</span> min,<span class="hljs-keyword">double</span> max,<span class="hljs-keyword">long</span> offset,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRangeByScore(key, min, max, offset, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 分数范围内 指定 count 数量的元素集合, 并且从 offset 下标开始(从大到小,带分数的集合) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @param</span> offset 从指定下标开始 
     *<span class="hljs-javadoctag"> @param</span> count 输出指定元素数量 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Set&lt;TypedTuple&lt;Object&gt;&gt; <span class="hljs-title">reverseRangeByScoreWithScores</span>(String key,<span class="hljs-keyword">double</span> min,<span class="hljs-keyword">double</span> max,<span class="hljs-keyword">long</span> offset,<span class="hljs-keyword">long</span> count){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().reverseRangeByScoreWithScores(key, min, max, offset, count);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回指定分数区间 [min,max] 的元素个数 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">countZSet</span>(String key,<span class="hljs-keyword">double</span> min,<span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().count(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     * 返回 zset 集合数量 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> <span class="hljs-title">sizeZset</span>(String key){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().size(key);  
    }  

    <span class="hljs-javadoc">/** 
     * 获取指定成员的 score 值 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> value 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Double <span class="hljs-title">score</span>(String key,Object value){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().score(key, value);  
    }  

    <span class="hljs-javadoc">/** 
     * 删除指定索引位置的成员,其中成员分数按( 从小到大 ) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> start 
     *<span class="hljs-javadoctag"> @param</span> end 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">removeRange</span>(String key,<span class="hljs-keyword">long</span> start ,<span class="hljs-keyword">long</span> end){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().removeRange(key, start, end);  
    }  

    <span class="hljs-javadoc">/** 
     * 删除指定 分数范围 内的成员 [main,max],其中成员分数按( 从小到大 ) 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> min 
     *<span class="hljs-javadoctag"> @param</span> max 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">removeRangeByScore</span>(String key,<span class="hljs-keyword">double</span> min ,<span class="hljs-keyword">double</span> max){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().removeRangeByScore(key, min, max);  
    }  

    <span class="hljs-javadoc">/** 
     *  key 和 other 两个集合的并集,保存在 destKey 集合中, 列名相同的 score 相加 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKey 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">unionAndStoreZset</span>(String key,String otherKey,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().unionAndStore(key, otherKey, destKey);  
    }  

    <span class="hljs-javadoc">/** 
     *  key 和 otherKeys 多个集合的并集,保存在 destKey 集合中, 列名相同的 score 相加 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKeys 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">unionAndStoreZset</span>(String key,Collection&lt;String&gt; otherKeys,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().unionAndStore(key, otherKeys, destKey);  
    }  

    <span class="hljs-javadoc">/** 
     *  key 和 otherKey 两个集合的交集,保存在 destKey 集合中 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKey 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">intersectAndStore</span>(String key,String otherKey,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().intersectAndStore(key, otherKey, destKey);  
    }  

    <span class="hljs-javadoc">/** 
     *  key 和 otherKeys 多个集合的交集,保存在 destKey 集合中 
     *<span class="hljs-javadoctag"> @param</span> key 
     *<span class="hljs-javadoctag"> @param</span> otherKeys 
     *<span class="hljs-javadoctag"> @param</span> destKey 
     *<span class="hljs-javadoctag"> @return</span> 
     */</span>  
    <span class="hljs-keyword">public</span> Long <span class="hljs-title">intersectAndStore</span>(String key,Collection&lt;String&gt; otherKeys,String destKey){  
        <span class="hljs-keyword">return</span> redisTemplate.opsForZSet().intersectAndStore(key, otherKeys, destKey);  
    }  

}  
</code></pre> 
<p><img src="https://images2.imgbox.com/f3/2a/TZX3eLx7_o.jpg" alt="这里写图片描述" title=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e25a260c129f3d86ec01059dd4a2b83b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">二、springboot&#43;bootstrap搭建演示项目</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9c9a30f4e4d1880525ece37246398de0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C# 时间格式化   yyy-mm-dd hh：mm：ss</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>