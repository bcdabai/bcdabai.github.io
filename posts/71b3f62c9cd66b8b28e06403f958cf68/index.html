<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TCP 三次握手和四次挥手 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TCP 三次握手和四次挥手" />
<meta property="og:description" content="TCP的三次握手四次挥手实质就是客户端通过TCP协议与服务端进行的断开与连接
1.TCP的三次握手：
首先：
第一次握手：客户端向服务端发送SYN报文
第二次握手：服务端收到SYN数据包后向客户端发送带有ACK/SYN的数据包表示我收到了
第三次握手：客户端发送ACK报文向服务端表示我收到了 两者建立连接。
2.为什么不可以两次握手：
若只有两次握手，客户端向服务端传输发送ACK报文发生滞留，再次发送SYN报文，与服务端建立连接，滞留的SYN报文此时到达服务端，服务端会认为客户端需要两个连接，从而再次向客户端发送ACK/SYN报文，而客户端认为是一个连接，从而导致双方的状态不一致
若是三次握手，服务端发送SYN/ACK报文之后，如果收不到客户端的ACK报文确认包，则双方不会建立网络连接，从而有效的解决了网络通信问题
3.TCP 的四次挥手：
TCP通过四次挥手使客户端和服务端断开连接
第一次挥手：客户端向服务端发送TCP断开连接请求的FIN包，此时客户端进入FIN_WAIT_1状态
第二次挥手：服务端向客户端发送TCP连接请求断开的数据包，此时服务端进入CLOSE_WAIT状态
第三次挥手：服务端再次向客户端发送数据包，以此来检查TCP请求断开的数据包是否送达，若送达，则关闭两者之间的数据传输。
第四次挥手：客户端收到服务端断开TCP的数据包，会回复客户端的断开请求" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/71b3f62c9cd66b8b28e06403f958cf68/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T00:15:33+08:00" />
<meta property="article:modified_time" content="2024-01-10T00:15:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TCP 三次握手和四次挥手</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>TCP的三次握手四次挥手实质就是客户端通过TCP协议与服务端进行的断开与连接</p> 
<p>1.TCP的三次握手：</p> 
<p>首先：</p> 
<p>第一次握手：客户端向服务端发送SYN报文</p> 
<p>第二次握手：服务端收到SYN数据包后向客户端发送带有ACK/SYN的数据包表示我收到了</p> 
<p>第三次握手：客户端发送ACK报文向服务端表示我收到了 </p> 
<p>两者建立连接。</p> 
<p>2.为什么不可以两次握手：</p> 
<p>若只有两次握手，客户端向服务端传输发送ACK报文发生滞留，再次发送SYN报文，与服务端建立连接，滞留的SYN报文此时到达服务端，服务端会认为客户端需要两个连接，从而再次向客户端发送ACK/SYN报文，而客户端认为是一个连接，从而导致双方的状态不一致</p> 
<p>若是三次握手，服务端发送SYN/ACK报文之后，如果收不到客户端的ACK报文确认包，则双方不会建立网络连接，从而有效的解决了网络通信问题</p> 
<p>3.TCP 的四次挥手：</p> 
<p>TCP通过四次挥手使客户端和服务端断开连接</p> 
<p>第一次挥手：客户端向服务端发送TCP断开连接请求的FIN包，此时客户端进入FIN_WAIT_1状态</p> 
<p>第二次挥手：服务端向客户端发送TCP连接请求断开的数据包，此时服务端进入CLOSE_WAIT状态</p> 
<p>第三次挥手：服务端再次向客户端发送数据包，以此来检查TCP请求断开的数据包是否送达，若送达，则关闭两者之间的数据传输。</p> 
<p>第四次挥手：客户端收到服务端断开TCP的数据包，会回复客户端的断开请求</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d88b300f63712d507097491b5625f155/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">git中fork的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/165c107e804fef1f5263eceb02db757f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">阻塞队列（JAVA）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>