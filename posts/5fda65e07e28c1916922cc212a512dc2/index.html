<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算电磁吐血整理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算电磁吐血整理" />
<meta property="og:description" content="计算电磁参考数目：ppt（相关ppt见上传资料）
计算电磁学包括有限差分法，有限元法，时域有限差分法，矩量法。
首先是有限差分法
有限差分法主要解决静态电磁场问题。它的思路是根据已知静态边值求解内部的场分布。将定解区域离散化为网格离散节点的集合，并以各离散点上的函数差商来近似该点的偏导数，根据差分方程组求解各离散点处的待求函数值，离散解。
它求解的是泊松方程(泊松方程是静态场方程，和时间无关，有源就是泊松方程，无源就是拉普拉斯方程)。泊松方程的五点差分格式。记住不同煤质上的差分格式。记住定解条件的离散化。
计算步骤:离散场域，离散化场方程，计算离散解。
前面是离散场域和离散化场方程，后面是计算离散解。
离散解可以直接法解矩阵方程，也可以用迭代法。迭代法有雅可比迭代法，高斯赛德尔迭代法和超松弛迭代法。最常用的是超松弛迭代法，他的松弛因子w常用公式要记住。
有限差分法可以想象成，一个长方形区域，已知四边的温度，求整个区域的热分布。迭代法就是从边慢慢计算靠近边的一些点最后计算完整个区域，然后再来一遍，直到出现前后两次计算结果一致(误差在一个范围内）
然后是有限元法
有限元法的本质是有限差分法和变分法的结合(变分法:把求解矩阵问题转化为求解极值问题)。有限元法求解的也是静态场问题，根据有无源(泊松方程和拉普拉斯方程)，以及三类边界条件，可以将这六类问题的求解分别对应六种极值问题。也就是说根据变分原理，能够将边值问题转化为对应的变分问题。最简单的是拉普拉斯方程和第一类边界条件。
有限元法的步骤为:
刚才是第一步
第二步场域剖分问题，有限元法通常把场域剖分为三角形(和其他剖分为矩形不同)，剖分要注意8个原则，根据这个原则，平常只用直线内插法，注意直线内插法是咋编号的
剖分之后涉及两个概念，一个叫形状函数，形状函数是个啥东西呢，它表示三角形内某一点的值和三个顶点的值之间的关系，也就是用三个顶点的值来表示三角形内任意一点的值，也叫做插值函数。由于它和单元的形状大小，插值函数等等有关，称它为形状函数。另一个叫系数矩阵k，单元的总能量(各个点的值的和可以根据插值函数用三个顶点表示出来)，这个能量和三个点的值的关系就叫单元的系数矩阵，整个区域的总能量，总泛函可以用各个顶点和整体总系数矩阵k表示，总系数矩阵是各个单元的系数矩阵相连，重合点叠加的结果。
整体泛函(求最大值)问题可以转化为泛函导数等于0的问题，因此泛函的解为kfai=0(拉普拉斯方程）或者kfai=p(泊松方程)。求解这个方程即可
求解的方法有直接法和迭代法，主要使用直接法中的高斯消去法，这是个神奇的方法，首先强加边界条件，然后顺追赶过程，然后逆追赶过程。
有限元法整个过程可以总结为:首先将边值问题转化为对应的变分问题，剖分单元并编号，然后第二步计算系数矩阵k，然后构成有限元方程，进而进行强加边界条件处理，高斯消去法解出。
hfss用的就是有限元法，优点是计算精确，缺点是计算慢的一匹
然后是fdtd
重磅推出时域有限差分法fdtd，这个课不止在电磁学里用，在热学和其他研究里应用也广的一匹。相比于计算静态场的有限元法和有限差分法，fdtd是计算时变场的。它的计算方式也很硬核。因为它的方程和fd，fem不同。fd和fem是静电场，它们麦克斯韦方程里没有时变项，因此可以简化为泊松方程或者拉普拉斯方程。只要解无时间项的泊松方程或者拉普拉斯方程就好，它们最后的解是一个静止的电场分布图，相当于一幅静态的画。但是对于fdtd解决的问题是时变场的问题，它求解的方程是麦克斯韦方程，最后的解是不同时间的电场分布，相当于一个电影，由一帧一帧构成。它的思路相当彪悍，是把电磁场在时间上和空间上都离散化(具体离散时间间隔和空间离散点选取后面说)，然后交叉半步法推进，即计算这一帧的电场，再计算下一帧的磁场，再由这个磁场计算下下一帧的电场，以此交叉推进。
离散点的选取:e选在棱上，h选在面中心。时间上:e是n时刻，h是n&#43;1/2时刻。
要掌握麦克斯韦方程这样离散的推导方法
掌握收敛性和稳定性的定义(收敛性:离散间隔趋近于0时，解趋近准确解。稳定性:离散间隔取一定值，解和准确解之间差有界)
掌握时间空间稳定性的要求，为啥要有时间最小和空间最小要求?时间:可以理解为时间跨度太大会掉帧，空间:可以理解为网格划太大仿的不准。
空间划分:散射计算的连接边界，吸收边界和输出边界。辐射计算的输出边界和吸收边界
掌握几种吸收边界定义:mur，pml，enquist等等
例题
cst用的是fdtd，优点是算的快
最后是矩量法
矩量法
基本思想是内域积加权余量法，将连续方程化成代数方程组。
用矩量法解算子方程L(f)=g的基本步骤
1.离散化，把未知函数f表示成一组基函数的代数和形式，这样求解f就变成求每个基函数的系数an了
2.取样检验，选择一组权函数(又叫检验函数)wm，将wm取内积抽样检验，化成矩阵方程
3.矩阵求逆，得an
基函数可以分为全域基和分域基，权函数可以分为全域权，分域权和点选配。权函数和基函数相等叫伽辽金法。
全域基的优点是收敛快，缺点是难找合适的基函数。分域基的优点是简单灵活，不受未知函数约束，缺点是收敛慢
可以这样理解矩量法:当时做dda的时候，每个缝隙需要等效进行场积分，这个缝隙场积分的值就是未知函数f等效成一个磁偶极子。因为缝隙很长，用一个磁偶极子等效不精确，可以分段，用多个磁偶极子等效。每段可以看成一个门函数，求解积分就等效成求解每段门函数的系数矩阵an了，知道了an，求和就能知道f。这就是把待求量离散化。怎么抽样检验呢，已知它在波导外某个点的辐射场的值g，用这个来构建方程求解an。这儿的算子L就是格林函数。但是只有一个点不行啊，一个点只能建立一个方程，求不出n个an，所以选n个点的值建立n个方程就好了。这种选取权函数的方法叫点选配。
电磁场与电磁波基础知识复习：
https://www.bilibili.com/video/BV1ff4y1y7TE?spm_id_from=333.999.0.0
偏微分方程介绍：
https://www.bilibili.com/video/BV1q4411p7NX?spm_id_from=333.999.0.0
有限差分法fd：https://www.bilibili.com/video/BV1Nh41197Tt?spm_id_from=333.999.0.0
有限元法fem：https://www.bilibili.com/video/BV1dN411f7NU?spm_id_from=333.999.0.0
https://www.bilibili.com/video/BV1tq4y1j7f1?spm_id_from=333.999.0.0
时域有限差分法fdtd：
https://www.bilibili.com/video/BV1Sg4y1q7qD?spm_id_from=333.999.0.0
https://www.bilibili.com/video/BV1jb4y127BJ?spm_id_from=333.999.0.0
https://www.bilibili.com/video/BV1gA411e7kM?spm_id_from=333.999.0.0
https://www.bilibili.com/video/BV1qi4y177Kp?spm_id_from=333.999.0.0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5fda65e07e28c1916922cc212a512dc2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-24T22:36:43+08:00" />
<meta property="article:modified_time" content="2022-03-24T22:36:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算电磁吐血整理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>计算电磁参考数目：ppt（相关ppt见上传资料）<br> 计算电磁学包括有限差分法，有限元法，时域有限差分法，矩量法。</p> 
<p>首先是有限差分法<br> 有限差分法主要解决静态电磁场问题。它的思路是根据已知静态边值求解内部的场分布。将定解区域离散化为网格离散节点的集合，并以各离散点上的函数差商来近似该点的偏导数，根据差分方程组求解各离散点处的待求函数值，离散解。<br> 它求解的是泊松方程(泊松方程是静态场方程，和时间无关，有源就是泊松方程，无源就是拉普拉斯方程)。泊松方程的五点差分格式。记住不同煤质上的差分格式。记住定解条件的离散化。<br> 计算步骤:离散场域，离散化场方程，计算离散解。<br> 前面是离散场域和离散化场方程，后面是计算离散解。<br> 离散解可以直接法解矩阵方程，也可以用迭代法。迭代法有雅可比迭代法，高斯赛德尔迭代法和超松弛迭代法。最常用的是超松弛迭代法，他的松弛因子w常用公式要记住。<br> 有限差分法可以想象成，一个长方形区域，已知四边的温度，求整个区域的热分布。迭代法就是从边慢慢计算靠近边的一些点最后计算完整个区域，然后再来一遍，直到出现前后两次计算结果一致(误差在一个范围内）<br> <img src="https://images2.imgbox.com/51/f1/BDFbV3S5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cb/5c/TzWpwR0u_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c5/1b/VYJDwx3c_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/53/9a/nu3Ka5NV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bd/83/NuEWcE2H_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f3/77/PbKxLoXK_o.png" alt="在这里插入图片描述"></p> 
<p>然后是有限元法<br> 有限元法的本质是有限差分法和变分法的结合(变分法:把求解矩阵问题转化为求解极值问题)。有限元法求解的也是静态场问题，根据有无源(泊松方程和拉普拉斯方程)，以及三类边界条件，可以将这六类问题的求解分别对应六种极值问题。也就是说根据变分原理，能够将边值问题转化为对应的变分问题。最简单的是拉普拉斯方程和第一类边界条件。<br> 有限元法的步骤为:<br> 刚才是第一步<br> 第二步场域剖分问题，有限元法通常把场域剖分为三角形(和其他剖分为矩形不同)，剖分要注意8个原则，根据这个原则，平常只用直线内插法，注意直线内插法是咋编号的</p> 
<p>剖分之后涉及两个概念，一个叫形状函数，形状函数是个啥东西呢，它表示三角形内某一点的值和三个顶点的值之间的关系，也就是用三个顶点的值来表示三角形内任意一点的值，也叫做插值函数。由于它和单元的形状大小，插值函数等等有关，称它为形状函数。另一个叫系数矩阵k，单元的总能量(各个点的值的和可以根据插值函数用三个顶点表示出来)，这个能量和三个点的值的关系就叫单元的系数矩阵，整个区域的总能量，总泛函可以用各个顶点和整体总系数矩阵k表示，总系数矩阵是各个单元的系数矩阵相连，重合点叠加的结果。<br> 整体泛函(求最大值)问题可以转化为泛函导数等于0的问题，因此泛函的解为kfai=0(拉普拉斯方程）或者kfai=p(泊松方程)。求解这个方程即可<br> 求解的方法有直接法和迭代法，主要使用直接法中的高斯消去法，这是个神奇的方法，首先强加边界条件，然后顺追赶过程，然后逆追赶过程。<br> 有限元法整个过程可以总结为:首先将边值问题转化为对应的变分问题，剖分单元并编号，然后第二步计算系数矩阵k，然后构成有限元方程，进而进行强加边界条件处理，高斯消去法解出。<br> hfss用的就是有限元法，优点是计算精确，缺点是计算慢的一匹<br> <img src="https://images2.imgbox.com/a2/ef/5yPEwGKx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/76/05/uO8iNWfv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1b/f4/JS2bLrnD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4a/51/6D2veKwM_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/aa/a4/s2a86yL0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/33/ef/sKOdFGqt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/01/07/ZzLejUau_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a3/ee/nktnj1Ex_o.png" alt="在这里插入图片描述"></p> 
<p>然后是fdtd<br> 重磅推出时域有限差分法fdtd，这个课不止在电磁学里用，在热学和其他研究里应用也广的一匹。相比于计算静态场的有限元法和有限差分法，fdtd是计算时变场的。它的计算方式也很硬核。因为它的方程和fd，fem不同。fd和fem是静电场，它们麦克斯韦方程里没有时变项，因此可以简化为泊松方程或者拉普拉斯方程。只要解无时间项的泊松方程或者拉普拉斯方程就好，它们最后的解是一个静止的电场分布图，相当于一幅静态的画。但是对于fdtd解决的问题是时变场的问题，它求解的方程是麦克斯韦方程，最后的解是不同时间的电场分布，相当于一个电影，由一帧一帧构成。它的思路相当彪悍，是把电磁场在时间上和空间上都离散化(具体离散时间间隔和空间离散点选取后面说)，然后交叉半步法推进，即计算这一帧的电场，再计算下一帧的磁场，再由这个磁场计算下下一帧的电场，以此交叉推进。<br> 离散点的选取:e选在棱上，h选在面中心。时间上:e是n时刻，h是n+1/2时刻。<br> 要掌握麦克斯韦方程这样离散的推导方法<br> 掌握收敛性和稳定性的定义(收敛性:离散间隔趋近于0时，解趋近准确解。稳定性:离散间隔取一定值，解和准确解之间差有界)<br> 掌握时间空间稳定性的要求，为啥要有时间最小和空间最小要求?时间:可以理解为时间跨度太大会掉帧，空间:可以理解为网格划太大仿的不准。<br> 空间划分:散射计算的连接边界，吸收边界和输出边界。辐射计算的输出边界和吸收边界<br> 掌握几种吸收边界定义:mur，pml，enquist等等<br> 例题<br> cst用的是fdtd，优点是算的快<br> <img src="https://images2.imgbox.com/20/e4/b6OKhgFB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/44/3b/i2dQzF4I_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8d/44/asDIyYj9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/de/41/35bjLvYH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/66/2e/XnKkywIG_o.png" alt="在这里插入图片描述"></p> 
<p>最后是矩量法<br> 矩量法<br> 基本思想是内域积加权余量法，将连续方程化成代数方程组。<br> 用矩量法解算子方程L(f)=g的基本步骤<br> 1.离散化，把未知函数f表示成一组基函数的代数和形式，这样求解f就变成求每个基函数的系数an了<br> 2.取样检验，选择一组权函数(又叫检验函数)wm，将wm取内积抽样检验，化成矩阵方程<br> 3.矩阵求逆，得an<br> 基函数可以分为全域基和分域基，权函数可以分为全域权，分域权和点选配。权函数和基函数相等叫伽辽金法。<br> 全域基的优点是收敛快，缺点是难找合适的基函数。分域基的优点是简单灵活，不受未知函数约束，缺点是收敛慢<br> 可以这样理解矩量法:当时做dda的时候，每个缝隙需要等效进行场积分，这个缝隙场积分的值就是未知函数f等效成一个磁偶极子。因为缝隙很长，用一个磁偶极子等效不精确，可以分段，用多个磁偶极子等效。每段可以看成一个门函数，求解积分就等效成求解每段门函数的系数矩阵an了，知道了an，求和就能知道f。这就是把待求量离散化。怎么抽样检验呢，已知它在波导外某个点的辐射场的值g，用这个来构建方程求解an。这儿的算子L就是格林函数。但是只有一个点不行啊，一个点只能建立一个方程，求不出n个an，所以选n个点的值建立n个方程就好了。这种选取权函数的方法叫点选配。<br> <img src="https://images2.imgbox.com/22/37/hSftnrPz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fc/6a/71pHGqaK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f0/39/iyLPNfHS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/dd/b4/lSC6fkh9_o.png" alt="在这里插入图片描述">电磁场与电磁波基础知识复习：<br> https://www.bilibili.com/video/BV1ff4y1y7TE?spm_id_from=333.999.0.0<br> 偏微分方程介绍：<br> https://www.bilibili.com/video/BV1q4411p7NX?spm_id_from=333.999.0.0<br> 有限差分法fd：https://www.bilibili.com/video/BV1Nh41197Tt?spm_id_from=333.999.0.0<br> 有限元法fem：https://www.bilibili.com/video/BV1dN411f7NU?spm_id_from=333.999.0.0<br> https://www.bilibili.com/video/BV1tq4y1j7f1?spm_id_from=333.999.0.0<br> 时域有限差分法fdtd：<br> https://www.bilibili.com/video/BV1Sg4y1q7qD?spm_id_from=333.999.0.0<br> https://www.bilibili.com/video/BV1jb4y127BJ?spm_id_from=333.999.0.0<br> https://www.bilibili.com/video/BV1gA411e7kM?spm_id_from=333.999.0.0<br> https://www.bilibili.com/video/BV1qi4y177Kp?spm_id_from=333.999.0.0</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c2dd3a8c2efacd7dbe49234edc6330a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">单词发音，为语音识别准备素材</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fa17eff54b311e0a925b8aa909bce48f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">语音识别器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>