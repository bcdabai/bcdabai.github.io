<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Spring Boot】快速整合Mybatis-Plus - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Spring Boot】快速整合Mybatis-Plus" />
<meta property="og:description" content="一、引言 Mybatis-Plus是一个MyBatis的增强工具，在MyBatis的基础上只做增强不做改变，为简化开发、提高效率而生。它已经被大规模地应用在实际项目中，极大地提高了开发效率。
Mybatis-Plus主要有以下特点：
无侵入（不会对现有工程造成影响）强大的CURD操作（内置通用Mapper、通用Service来实现单表的大部分CURD操作）内置多种插件（分页插件、性能分析插件、全局拦截插件） 二、快速整合 这里我使用的Spring Boot版本：2.5.14
2.1 引入依赖 在pom文件中引入mybatis-plus-boot-starter依赖，这里使用版本3.5.1，如下
&lt;!-- springboot集成mybatis-plus --&gt; &lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.5.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysql驱动 --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.29&lt;/version&gt; &lt;/dependency&gt; 2.2 配置Mybatis-Plus及数据源 下面是mybatis-plus的部分配置项，具体配置可参考官网https://baomidou.com/pages/56...
server: port: 8081 spring: datasource: driver-class-name: com.mysql.cj.jdbc.Driver username: root password: 123456 url: jdbc:mysql://localhost:3306/test?characterEncoding=utf8 mybatis-plus: # 如果是放在src/main/java目录下 classpath:/com/yourpackage/*/mapper/*Mapper.xml # 如果是放在resource目录 classpath:/mapper/*Mapper.xml mapper-locations: classpath:/mapper/**/*.xml #实体扫描，多个package用逗号或者分号分隔 typeAliasesPackage: com.kamier.springboot.mybatisplus.domain.* configuration: #开启 Mybatis 二级缓存，默认为 true cache-enabled: false #配置JdbcTypeForNull, oracle数据库必须配置 jdbc-type-for-null: &#39;null&#39; global-config: db-config: # AUTO:数据库自增 INPUT:自行设置 ASSIGN_ID:雪花算法id ASSIGN_UUID:UUID id-type: AUTO # 逻辑删除配置（下面3个配置） logic-delete-field: del_flag logic-delete-value: 1 logic-not-delete-value: 0 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5593e89d739df7316319422b5cd4bcd0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-24T15:28:27+08:00" />
<meta property="article:modified_time" content="2023-02-24T15:28:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Spring Boot】快速整合Mybatis-Plus</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="item-1">一、引言</h3> 
<p>Mybatis-Plus是一个MyBatis的增强工具，在MyBatis的基础上只做增强不做改变，为<code>简化开发、提高效率</code>而生。它已经被大规模地应用在实际项目中，极大地提高了开发效率。</p> 
<p>Mybatis-Plus主要有以下特点：</p> 
<ol><li><strong>无侵入</strong>（不会对现有工程造成影响）</li><li><strong>强大的CURD操作</strong>（内置通用Mapper、通用Service来实现<strong>单表</strong>的大部分CURD操作）</li><li><strong>内置多种插件</strong>（分页插件、性能分析插件、全局拦截插件）</li></ol> 
<h3 id="item-2">二、快速整合</h3> 
<p>这里我使用的<strong>Spring Boot版本：2.5.14</strong></p> 
<h4 id="item-2-1">2.1 引入依赖</h4> 
<p>在pom文件中引入mybatis-plus-boot-starter依赖，这里使用<code>版本3.5.1</code>，如下</p> 
<pre><code class="language-java"> &lt;!-- springboot集成mybatis-plus --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
        &lt;version&gt;3.5.1&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- mysql驱动 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.29&lt;/version&gt;
    &lt;/dependency&gt;</code></pre> 
<h4 id="item-2-2">2.2 配置Mybatis-Plus及数据源</h4> 
<p>下面是mybatis-plus的部分配置项，具体配置可参考官网<a href="https://link.segmentfault.com/?enc=1i3hnZpfHwaNwtqab%2F8EOw%3D%3D.DiPLjna3BddbTPqwpGcEU%2Fsv87caX94JkHEbqofbYVQdKc51vmYfo30IDn%2BFwcm1" rel="nofollow" title="https://baomidou.com/pages/56...">https://baomidou.com/pages/56...</a></p> 
<pre><code class="language-java">server:
  port: 8081

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: 123456
    url: jdbc:mysql://localhost:3306/test?characterEncoding=utf8

mybatis-plus:
  # 如果是放在src/main/java目录下 classpath:/com/yourpackage/*/mapper/*Mapper.xml
  # 如果是放在resource目录 classpath:/mapper/*Mapper.xml
  mapper-locations: classpath:/mapper/**/*.xml
  #实体扫描，多个package用逗号或者分号分隔
  typeAliasesPackage: com.kamier.springboot.mybatisplus.domain.*
  configuration:
    #开启 Mybatis 二级缓存，默认为 true
    cache-enabled: false
    #配置JdbcTypeForNull, oracle数据库必须配置
    jdbc-type-for-null: 'null'
  global-config:
    db-config:
      # AUTO:数据库自增  INPUT:自行设置  ASSIGN_ID:雪花算法id  ASSIGN_UUID:UUID
      id-type: AUTO
      # 逻辑删除配置（下面3个配置）
      logic-delete-field: del_flag
      logic-delete-value: 1
      logic-not-delete-value: 0</code></pre> 
<h4 id="item-2-3">2.3 创建数据库实体类、Service接口及其实现类、Mapper接口、xml文件</h4> 
<p>这里官方推荐使用<strong>MybatisX插件</strong>来自动生成这些文件，在idea中搜索MybatisX插件安装即可（<code>注意：如果项目不需要自定义编写复杂的sql语句，可以不需要生成Mapper接口和xml文件</code>）</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/af/a7/EoFatSFi_o.png"></p> 
<p><br> 安装之后，右侧栏Database连接数据库后，可选中多张表，右键点击MybatisX-Generator，配置选项可参考下图</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a6/b4/fSEixDHI_o.png"></p> 
<p><br> 点击Finish即可生成文件，下图红框中的就是自动生成的文件</p> 
<p>可以来看下生成的类是什么样的</p> 
<ul><li>User.java（<code>@TableName指定表名，@TableId指定主键，@TableField指定字段名</code>） <p class="img-center"><img alt="" src="https://images2.imgbox.com/a7/5f/kZHe7cKt_o.png"></p> </li><li>UserMapper.java（<code>继承BaseMapper&lt;实体类&gt;</code>） <p class="img-center"><img alt="" src="https://images2.imgbox.com/83/25/MWzLOeGq_o.png"></p> </li><li>UserService.java（<code>继承IService&lt;实体类&gt;</code>） <p class="img-center"><img alt="" src="https://images2.imgbox.com/a8/e3/r6c331sY_o.png"></p> </li><li>UserServiceImpl.java（<code>继承ServiceImpl&lt;Mapper接口，实体类&gt;</code>） <p class="img-center"><img alt="" src="https://images2.imgbox.com/a6/fa/O19x8DwP_o.png"></p> </li><li>UserMapper.xml（<code>namespace为Mapper接口全限定名</code>） <p class="img-center"><img alt="" src="https://images2.imgbox.com/f6/4a/txeyhohV_o.png"></p> </li></ul> 
<h4 id="item-2-4">2.4 扫描Mapper</h4> 
<p>在启动类上使用@MapperScan来扫描Mapper，如下图</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0a/dd/SAcOIdBk_o.png"></p> 
<h4 id="item-2-5">2.5 测试验证</h4> 
<p>编写一个简单的Controller，如下</p> 
<pre><code class="language-java">@RestController
@RequestMapping("/user")
public class UserController {

    @Autowired
    private UserService userService;

    @GetMapping("list")
    public R list() {
        return R.ok(userService.list());
    }
}</code></pre> 
<p>浏览器输入<a href="https://link.segmentfault.com/?enc=kUmOHHRUHcaCbmTDgUU4Gg%3D%3D.fFnvepec0yDVUdJEs%2F1HBL44sEz7jXyfFUSsPv3UkvQ%3D" rel="nofollow" title="http://localhost:8081/user/list">http://localhost:8081/user/list</a>，获取用户列表</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ab/fa/QKmsLUa9_o.png"></p> 
<h3 id="item-3">三、结语</h3> 
<p>Spring Boot快速整合Mybatis-Plus到这里就结束了，Mybatis-Plus还有许多有用的功能，包括<strong>多数据源、内置插件、条件构造器</strong>等等，这里不一一介绍了，有兴趣的同学可以自行去官网查阅。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00bb4130c1add9d874820bf9053d06f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">plsql执行kill报错ora-00031 标记要终止的会话</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4cbf9c6300933b32f8d650d29e76eca5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于logback自定义一个kafka appender，以实现日志异步自动格式化为JSON字符串并推送到kafka</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>