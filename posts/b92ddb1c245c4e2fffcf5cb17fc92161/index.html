<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>js判断一个数所在的区间 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="js判断一个数所在的区间" />
<meta property="og:description" content="使用场景：在图表上使用警戒线时，后端返回来的x轴数据，与警戒线值不一致，即警戒线与x轴的值一致，才会在x轴上显示一条竖线。这里后端返回来的警戒线值是数值不是区间，所以要自己去找值所在在的区间。
上代码：
data:{ return { chart0: { title: { text: &#39;&#39;, textStyle: { fontSize: 12, fontWeight: &#39;500&#39;, color: &#39;#000000&#39;, fonfontFamily: &#39;Microsoft YaHei&#39;, }, backgroundColor: &#39;transparent&#39;, show: true, top: &#39;10&#39;, left: &#39;center&#39;, }, grid: { bottom: 20, }, lengend: { show: true, // icon: &#34;pin&#34;, itemWidth: 10, // 图例标记的图形宽度。 itemHeight: 10, // 图例标记的图形高度。 top: &#39;92%&#39;, data: [ ], }, data: [ { name: &#39;误差统计与分布&#39;, type: &#39;line&#39;, data: [], smooth: true, // true 为平滑曲线，false为直线 symbolSize: 0, // 圆圈宽度 // color: &#39;#36c1a8&#39;, lineStyle: { color: &#39;#53efd7&#39;, // 设置线的颜色为红色 }, itemStyle: { normal: { color: &#39;#4cedd4&#39;, }, }, }, { name: &#39;分布区间&#39;, // data: [], type: &#39;line&#39;, markLine: { symbol: &#39;none&#39;, data: [ { xAxis: &#39;&#39;, }, ], label: { position: &#39;end&#39;, // 将警示值放在哪个位置，三个值“start”,&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b92ddb1c245c4e2fffcf5cb17fc92161/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T10:59:54+08:00" />
<meta property="article:modified_time" content="2024-01-23T10:59:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">js判断一个数所在的区间</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>使用场景：在图表上使用警戒线时，后端返回来的x轴数据，与警戒线值不一致，即警戒线与x轴的值一致，才会在x轴上显示一条竖线。这里后端返回来的警戒线值是数值不是区间，所以要自己去找值所在在的区间。</p> 
<p>上代码：</p> 
<pre><code>
data:{
    return {
    chart0: {
        title: {
          text: '',
          textStyle: {
            fontSize: 12,
            fontWeight: '500',
            color: '#000000',
            fonfontFamily: 'Microsoft YaHei',
          },
          backgroundColor: 'transparent',
          show: true,
          top: '10',
          left: 'center',
        },
        grid: {
          bottom: 20,
        },
        lengend: {
          show: true,
          // icon: "pin",
          itemWidth: 10, // 图例标记的图形宽度。
          itemHeight: 10, //  图例标记的图形高度。
          top: '92%',
          data: [
          ],
        },
        data: [
          {
            name: '误差统计与分布',
            type: 'line',
            data: [],
            smooth: true, // true 为平滑曲线，false为直线
            symbolSize: 0, // 圆圈宽度
            // color: '#36c1a8',
            lineStyle: {
              color: '#53efd7', // 设置线的颜色为红色
            },
            itemStyle: {
              normal: {
                color: '#4cedd4',
              },
            },
          },
          {
            name: '分布区间',
            // data: [],
            type: 'line',
            markLine: {
              symbol: 'none',
              data: [
                {
                  xAxis: '',
                },
              ],
              label: {
                position: 'end', // 将警示值放在哪个位置，三个值“start”,"middle","end"  开始  中点 结束
                formatter: '', // 标线展示的内容，这里取的是后端返回的三个值，-3
              },
              lineStyle: {
                color: '#ff0000',
                width: 2,
                type: 'solid',
              },
            },
            itemStyle: {
              normal: {
                color: '#ff0000',
              },
            },
            lineStyle: {
              color: '#ff0000', // 设置线的颜色为红色
            },
          },
          {
            name: '分布区间',
            type: 'line',
            markLine: {
              symbol: 'none',
              data: [{
                xAxis: '0',
              }],
              label: {
                position: 'end', // 将警示值放在哪个位置，三个值“start”,"middle","end"  开始  中点 结束
                formatter: '0', // 标线展示的内容，这里取的是后端返回的三个值， 0
              },
              lineStyle: {
                color: '#999999',
                width: 2,
                type: 'solid',
              },
            },
            itemStyle: {
              normal: {
                color: '#999999',
              },
            },
            lineStyle: {
              color: '#999999', // 设置线的颜色为红色
            },
          },

          {
            name: '分布区间',
            type: 'line',
            markLine: {
              symbol: 'none',
              data: [
                {
                  xAxis: '', //查出来的区间赋值到这，对应x轴数据
                },
              ],
              label: {
                position: 'end', // 将警示值放在哪个位置，三个值“start”,"middle","end"  开始  中点 结束
                formatter: '', // 标线展示的内容，这里取的是后端返回的三个值，1.5
              },
              lineStyle: {
                color: '#ff0000',
                width: 2,
                type: 'solid',
              },
            },
            itemStyle: {
              normal: {
                color: '#ff0000',
              },
            },
            lineStyle: {
              color: '#ff0000', // 设置线的颜色为红色
            },
          },

        ],
        xAxis: {
          data: [],
          splitLine: {
            show: false,
          },
          axisLabel: {
            rotate: 90, // 旋转的角度从 -90 度到 90 度。
            fontSize: '10px',
          },
          axisTick: {
            show: false,
          },
          axisLine: {
            lineStyle: {
              color: '#999999',
            },
          },
        },
        yAxis: {
          type: 'value',
          show: true,
          name: '单位：万只',
          splitLine: {
            show: false,
          },
          axisLine: {
            show: false,
          },

        },
        tooltip: {
          show: true,
          trigger: 'axis',
        },
      },
    }
}


methods:{
//调接口获取返回的值
  async errorStatisticsDistribution(params) {
       const params = {
        batchNo: this.batchNo,
      }
      const res = await errorStatisticsDistribution(params)
      if (res.data.code !== 200) return
      const resData = res.data.data
     
      this.chart0.data[0].data = resData[0].data
      this.chart0.xAxis.data = resData[0].xAxis
      this.obj = resData[0].obj

       //这里警戒线返的值是 -3, 0, 1.5，需要找到这三个值的区间，回填到警戒线值上


      const left = resData[0].section[0].xAxis // -3
      const center = 0
      const right = resData[0].section[2].xAxis //1.5

      //这是返的数据    resData[0].xAxis =['-∞，-3','-3，-1.5','-1.5,1.5','1.5，+∞']

      //调函数
      this.findInterval(left, resData[0].xAxis, 1)
      this.findInterval(center, resData[0].xAxis, 2)
      this.findInterval(right, resData[0].xAxis, 3)
    },
……


findInterval(value, intervals, flag) {
      for (let i = 0; i &lt; intervals.length; i++) {
        const interval = intervals[i]
        const bounds = interval.split(',')
        const lowerBound = parseFloat(bounds[0])
        const upperBound = parseFloat(bounds[1])
        if ((value &gt;= lowerBound || isNaN(value)) &amp;&amp; (value &lt; upperBound || isNaN(upperBound))) {
          if (flag === 1) {
            this.chart0.data[1].markLine.data[0].xAxis = interval  //左边警戒线
            this.chart0.data[1].markLine.label.formatter = value
          }
          else if (flag === 2) {
            this.chart0.data[2].markLine.data[0].xAxis = interval  //中间警戒线
          }
          else if (flag === 3) {
            this.chart0.data[3].markLine.data[0].xAxis = interval //右边警戒线
            this.chart0.data[3].markLine.label.formatter = value
          }
          return interval
        }
      }

      return '未找到匹配的区间'
    },
}




</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="343" src="https://images2.imgbox.com/95/cd/d6kDJI6C_o.png" width="331"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/33aff04a0800378dbf5f01ed8e5750cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">阿里云优惠券领取入口及使用方法，赶快！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a0e0b6551a48b09c6926b0d8f0fd738c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">我的文档不见了怎么恢复？3个方法快速恢复！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>