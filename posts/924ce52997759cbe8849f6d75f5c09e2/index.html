<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis的作用和原理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis的作用和原理" />
<meta property="og:description" content=" Redis的作用和原理 本文章基于淘淘商城电商项目实现过程中的反思，包括以下几部分：
内容管理为什么用redis缓存替代持久化数据库？缓存的作用？Redis实现了什么？为什么Redis缓存速度这么快？ 1、内容管理为什么用redis缓存替代持久化数据库？ 这涉及到持久化数据库的缺点，如下：
（1）存储在部署数据库的硬盘上
平时我们使用的关系型数据库有MySql，Oracle以及SqlServer等，通常通过数据驱动来链接数据库进行增删改查。
那么我们日常使用的数据库都存在哪里？以MySql为例。如图所示：
（2）访问速度
服务器的读写效率是网站运行速度的重要条件，当然还有服务器的宽带，但是这些可以通过硬件的升级更新等办法来解决。
服务器处理数据的速度，也与网站速度息息相关，而数据查询、数据处理等和数据库处理速度有关。所以，提高数据库处理数据的能力很重要。
其实，sql语句优化可以提高处理效率。但是如果网站的访问量非常大的时候，我们的数据库压力就变大了。数据库的连接池、处理数据的能力就会面临很大的挑战。此时就要使用高并发处理、负载均衡和分布式数据库了。
2、缓存的作用 （1）定义
缓存就是在内存中存储的数据备份，当数据没有发生本质变化的时候，我们避免数据的查询操作直接连接数据库，而是去内存中读取数据，这样就大大降低了数据库的读写次数，而且从内存中读数据的速度要比从数据库查询要快很多。
（2）缓存的形式
页面缓存（smarty静态化技术）：页面缓存经常用在CMS（content manage system）内存管理系统里面。
数据缓存：经常会用在页面的具体数据里面。
3、Redis实现 Redis是Remote Dictionary Server(远程数据服务)的缩写，由意大利人antirez(Salvatore Sanfilippo)开发的一款内存高速缓存数据库，该软件使用C语言编写，它的数据模型为key-value。
它支持丰富的数据结构(类型)，比如String、List、Hash、Set、Sorted Set。
可持久化(一边运行，一边把数据往硬盘中备份一份，防止断电等情况导致数据丢失，等断电情况恢复之后，Redis再把硬盘中的数据恢复到内存中)，保证了数据的安全。
4、为什么Redis缓存速度这么快 首先介绍下硬盘数据库（例如mysql）和Redis的工作模式
（1）硬盘数据库的工作模式：
需要先从数据读取数据到内存，内存中的数据保存到硬盘，我们更改硬盘的数据后再保存到数据库。这里的步骤较多，而且还占用我们的硬盘容量。
（2）内存数据库的工作模式：
这种方式相比硬盘数据库的方式少了内存到硬盘这一步，速度回快很多，而且不占用我们的硬盘容量。我们用的Redis就是基于这种方式的。
以上用比较容易理解的方式解释Redis的工作原理以及速度快的原因，下面深入探索一下Redis为什么这么快：
完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)；数据结构简单，对数据操作也简单，Redis中的数据结构是专门进行设计的；采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；使用多路I/O复用模型，非阻塞IO；使用底层模型不同，它们之间底层实现方式以及与客户端之间通信的应用协议不一样，Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/924ce52997759cbe8849f6d75f5c09e2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-02T17:58:51+08:00" />
<meta property="article:modified_time" content="2020-05-02T17:58:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis的作用和原理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Redis_0"></a>Redis的作用和原理</h3> 
<p><strong>本文章基于淘淘商城电商项目实现过程中的反思，包括以下几部分：</strong></p> 
<ol><li>内容管理为什么用redis缓存替代持久化数据库？</li><li>缓存的作用？</li><li>Redis实现了什么？</li><li>为什么Redis缓存速度这么快？</li></ol> 
<h5><a id="1redis_8"></a>1、内容管理为什么用redis缓存替代持久化数据库？</h5> 
<p>这涉及到持久化数据库的缺点，如下：<br> <mark>（1）存储在部署数据库的硬盘上</mark><br>   平时我们使用的关系型数据库有MySql，Oracle以及SqlServer等，通常通过数据驱动来链接数据库进行增删改查。<br>   那么我们日常使用的数据库都存在哪里？以MySql为例。如图所示：<br> <img src="https://images2.imgbox.com/de/35/60GvD17e_o.png" alt="在这里插入图片描述"><br> <mark>（2）访问速度</mark><br>   服务器的读写效率是网站运行速度的重要条件，当然还有服务器的宽带，但是这些可以通过硬件的升级更新等办法来解决。<br>   服务器处理数据的速度，也与网站速度息息相关，而数据查询、数据处理等和数据库处理速度有关。所以，提高数据库处理数据的能力很重要。<br>   其实，sql语句优化可以提高处理效率。但是如果网站的访问量非常大的时候，我们的数据库压力就变大了。数据库的连接池、处理数据的能力就会面临很大的挑战。此时就要使用高并发处理、负载均衡和分布式数据库了。</p> 
<h5><a id="2_19"></a>2、缓存的作用</h5> 
<p><mark>（1）定义</mark><br>   <strong>缓存就是在内存中存储的数据备份</strong>，当数据没有发生本质变化的时候，我们避免数据的查询操作直接连接数据库，而是去内存中读取数据，这样就大大降低了数据库的读写次数，而且从内存中读数据的速度要比从数据库查询要快很多。<br> <mark>（2）缓存的形式</mark><br>   <strong>页面缓存（smarty静态化技术）</strong>：页面缓存经常用在CMS（content manage system）内存管理系统里面。<br>   <strong>数据缓存</strong>：经常会用在页面的具体数据里面。</p> 
<h5><a id="3Redis_26"></a>3、Redis实现</h5> 
<p>  Redis是Remote Dictionary Server(远程数据服务)的缩写，由意大利人antirez(Salvatore Sanfilippo)开发的一款<mark>内存高速缓存数据库</mark>，该软件使用C语言编写，它的数据模型为key-value。<br>   它支持丰富的数据结构(类型)，比如String、List、Hash、Set、Sorted Set。<br>   <mark>可持久化(一边运行，一边把数据往硬盘中备份一份，防止断电等情况导致数据丢失，等断电情况恢复之后，Redis再把硬盘中的数据恢复到内存中)，保证了数据的安全。</mark></p> 
<h5><a id="4Redis_31"></a>4、为什么Redis缓存速度这么快</h5> 
<p>首先介绍下硬盘数据库（例如mysql）和Redis的工作模式<br> <mark>（1）硬盘数据库的工作模式：</mark><br> <img src="https://images2.imgbox.com/94/84/tr0ykrsx_o.png" alt="在这里插入图片描述"><br>   需要先从数据读取数据到内存，内存中的数据保存到硬盘，我们更改硬盘的数据后再保存到数据库。这里的步骤较多，而且还占用我们的硬盘容量。</p> 
<p><mark>（2）内存数据库的工作模式：</mark><br> <img src="https://images2.imgbox.com/c5/50/Bi1h0Msc_o.png" alt="在这里插入图片描述"><br>   这种方式相比硬盘数据库的方式少了内存到硬盘这一步，速度回快很多，而且不占用我们的硬盘容量。我们用的Redis就是基于这种方式的。</p> 
<p>  <strong>以上用比较容易理解的方式解释Redis的工作原理以及速度快的原因，下面深入探索一下Redis为什么这么快：</strong></p> 
<ol><li><mark>完全基于内存</mark>，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)；</li><li><mark>数据结构简单，对数据操作也简单</mark>，Redis中的数据结构是专门进行设计的；</li><li><mark>采用单线程</mark>，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；</li><li>使用多路I/O复用模型，非阻塞IO；</li><li>使用底层模型不同，它们之间底层实现方式以及与客户端之间通信的应用协议不一样，Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/429cfb95efb0a0990ac6aae736435e65/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Cesium学习（一）An error occurred while rendering</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc7d82c940215d4829193c7f3a3a8214/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;调用DLL学习笔记——动态调用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>