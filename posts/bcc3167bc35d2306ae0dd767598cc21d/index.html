<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java23种设计模式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java23种设计模式" />
<meta property="og:description" content="一、单例模式 单例模式一共有8种，除了常见的饿汉式，懒汉式，还有双重检查（实际开发中推荐使用）,静态内部类
1、双重检查 voliated和 synchronized 的组合使用（推荐使用） volatile：多个线程拿到一个共享变量，如果一个线程改变了共享变量里面的值，则其他的线程的共享变量的值也发生改变
例子:
package voliteaed; /** * &lt;简述&gt; * &lt;详细描述&gt; * * @author LiuShanshan * @version $Id$ */ public class Singleton { private static volatile Singleton singleton; private Singleton(){ } public static Singleton getInstance(){ if(singleton == null){ synchronized (Singleton.class){ if(singleton == null){ singleton = new Singleton(); } } } return singleton; } } 线程安全；延迟加载；效率较高
2、静态内部类(推荐使用，jvm帮我们控制线程安全) package voliteaed; /** 静态内部类 * &lt;简述&gt; * &lt;详细描述&gt; * * @author LiuShanshan * @version $Id$ */ public class StaticSingleton { public static void main(String[] args) { SingletonDemo1 instance = SingletonDemo1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/bcc3167bc35d2306ae0dd767598cc21d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-29T15:27:09+08:00" />
<meta property="article:modified_time" content="2022-11-29T15:27:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java23种设计模式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、单例模式</h3> 
<p>单例模式一共有8种，除了常见的饿汉式，懒汉式，还有双重检查（实际开发中推荐使用）,静态内部类</p> 
<h4><a id="1___voliated__synchronized__2"></a>1、双重检查 voliated和 synchronized 的组合使用（推荐使用）</h4> 
<p>volatile：多个线程拿到一个共享变量，如果一个线程改变了共享变量里面的值，则其他的线程的共享变量的值也发生改变<br> 例子:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">voliteaed</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &lt;简述&gt;
 * &lt;详细描述&gt;
 *
 * @author LiuShanshan
 * @version $Id$
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> <span class="token class-name">Singleton</span> singleton<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>singleton <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>线程安全；延迟加载；效率较高</p> 
<h4><a id="2jvm_36"></a>2、静态内部类(推荐使用，jvm帮我们控制线程安全)</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">voliteaed</span><span class="token punctuation">;</span>

<span class="token comment">/**      静态内部类
 * &lt;简述&gt;
 * &lt;详细描述&gt;
 *
 * @author LiuShanshan
 * @version $Id$
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticSingleton</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SingletonDemo1</span> instance <span class="token operator">=</span> <span class="token class-name">SingletonDemo1</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SingletonDemo1</span> instance2 <span class="token operator">=</span> <span class="token class-name">SingletonDemo1</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instance <span class="token operator">==</span> instance2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用静态内部类生成对象</span>
<span class="token keyword">class</span>  <span class="token class-name">SingletonDemo1</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token keyword">private</span>  <span class="token keyword">static</span> <span class="token keyword">class</span> singletonDemo2<span class="token punctuation">{<!-- --></span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">SingletonDemo1</span> singletoDemo1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonDemo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonDemo1</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> singletonDemo2<span class="token punctuation">.</span>singletoDemo1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>避免了线程不安全，利用静态内部类特点实现延迟加载，效率高</p> 
<h4><a id="3_73"></a>3、枚举（推荐使用）</h4> 
<p>例子：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">voliteaed</span><span class="token punctuation">;</span>

<span class="token comment">/**   枚举的方式实现单例
 * &lt;简述&gt;
 * &lt;详细描述&gt;
 *
 * @author LiuShanshan
 * @version $Id$
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumDmo1</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Demo1</span> sfsd <span class="token operator">=</span> <span class="token class-name">Demo1</span><span class="token punctuation">.</span><span class="token constant">SFSD</span><span class="token punctuation">;</span>
        <span class="token class-name">Demo1</span> sfsd1 <span class="token operator">=</span> <span class="token class-name">Demo1</span><span class="token punctuation">.</span><span class="token constant">SFSD</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sfsd <span class="token operator">==</span> sfsd1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sfsd<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">enum</span> <span class="token class-name">Demo1</span><span class="token punctuation">{<!-- --></span>
    <span class="token constant">SFSD</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"枚举方式使用单例"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<ol><li>这借助JDK1.5中添加的枚举来实现单例模式。不仅能避免多线程同步问题，而且还能防止反序列化重新创建新的对象。</li><li>这种方式是Effective Java作者Josh Bloch 提倡的方式</li></ol> 
<h4><a id="jdk_106"></a>jdk源码中体现</h4> 
<p>在RunTime中体现了饿汉式<br> <img src="https://images2.imgbox.com/ba/01/f6QNdwgi_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_109"></a>二、工厂模式</h3> 
<h4><a id="1_110"></a>1、简单工厂模式</h4> 
<p>简单工厂模式的核心相当于在 7种设计方式最上面图的提供者那边又新增了一个类（工厂类），提供者可以新增类，新增的类处理业务，使用者不变，所以如果后面增加的提供者，也只需要更改工厂类代码，而不是动使用者代码<br> 如图所示：<br> <img src="https://images2.imgbox.com/2b/13/bPlYrlSw_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_114"></a>2、工厂方法模式</h4> 
<p>工厂方法模式的运用为写几个类（工厂方法）继承使用方（使用方为抽象类），调用方使用的时候，创建工厂方法对象即可。<br> <img src="https://images2.imgbox.com/b0/a2/UkdGxWDG_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_117"></a>3、抽象工厂模式</h4> 
<p>1、创建抽象类或者接口，继承他们或者实现他们的叫做抽象工厂类，使用方里面聚合抽象类（作为属性注入进去），然后调用方调用使用方，传入对应的工厂类对象即可<br> <img src="https://images2.imgbox.com/34/13/3mXNLtDE_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4_120"></a>4、观察者模式</h4> 
<blockquote> 
 <p>参考博客：https://blog.csdn.net/CSDN2497242041/article/details/120403205</p> 
</blockquote> 
<p>java中Observable是抽象目标类（被观察的类），Observer是接口，继承了这个类就代表类为观察者。</p> 
<p>Observable 类是抽象目标类，它有一个 Vector 向量，用于保存所有要通知的观察者对象，下面来介绍它最重要的 3 个方法。</p> 
<ol><li>void addObserver(Observer o) 方法：用于将新的观察者对象添加到向量中。</li><li>void notifyObservers(Object arg) 方法：调用向量中的所有观察者对象的 update()<br> 方法，通知它们数据发生改变。通常越晚加入向量的观察者越先得到通知。</li><li>void setChange() 方法：用来设置一个 boolean类型的内部标志位，注明目标对象发生了变化。当它为真时，notifyObservers() 才会通知观察者。</li></ol> 
<h3><a id="_133"></a>三、原型模式（克隆模式）</h3> 
<p>注意点：需要克隆的类，需要实现 cloneable接口，不然报错java.lang.CloneNotSupportedException<br> 例子：</p> 
<h4><a id="1_136"></a>1、浅拷贝</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> 原型模式<span class="token punctuation">;</span>

<span class="token comment">/**
 * &lt;简述&gt;
 * &lt;详细描述&gt;
 *
 * @author LiuShanshan
 * @version $Id$
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Yuanxing</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Yuanxing</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> age<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Yuanxing{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", age='"</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 拷贝当前对象</span>
        <span class="token class-name">Yuanxing</span> clone <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            clone <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Yuanxing</span><span class="token punctuation">)</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> clone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="2_178"></a>2、深拷贝（推荐使用序列化的方式）</h4> 
<p>例如：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> 原型模式<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jdk<span class="token punctuation">.</span>jfr<span class="token punctuation">.</span>events<span class="token punctuation">.</span></span><span class="token class-name">ExceptionThrownEvent</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * &lt;简述&gt;
 * &lt;详细描述&gt;
 *
 * @author LiuShanshan
 * @version $Id$
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Yuanxing</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span><span class="token class-name">Cloneable</span><span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">YuanxingObject</span> yuanxingObject<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Yuanxing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">String</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">YuanxingObject</span> <span class="token function">getYuanxingObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> yuanxingObject<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setYuanxingObject</span><span class="token punctuation">(</span><span class="token class-name">YuanxingObject</span> yuanxingObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>yuanxingObject <span class="token operator">=</span> yuanxingObject<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Yuanxing{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", age='"</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 拷贝当前对象</span>
        <span class="token class-name">Yuanxing</span> clone <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        clone <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Yuanxing</span><span class="token punctuation">)</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>yuanxingObject <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            clone<span class="token punctuation">.</span><span class="token function">setYuanxingObject</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">YuanxingObject</span><span class="token punctuation">)</span>yuanxingObject<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> clone<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *&lt;简述&gt; 深clone
     *&lt;详细描述&gt;
     * @author Liushanshan
     * @param
     * @return 原型模式.Yuanxing
    */</span>
    <span class="token keyword">public</span> <span class="token class-name">Yuanxing</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ObjectOutputStream</span> oos<span class="token punctuation">;</span>
        <span class="token class-name">ByteArrayOutputStream</span> bos<span class="token punctuation">;</span>
        <span class="token class-name">ObjectInputStream</span> ois<span class="token punctuation">;</span>
        <span class="token class-name">ByteArrayInputStream</span> bis<span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 序列化</span>
            bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span>bos<span class="token punctuation">)</span><span class="token punctuation">;</span>
            oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 放入当前对象</span>
            oos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 反序列化</span>
            bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>bos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span>bis<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Yuanxing</span> yuanxing <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Yuanxing</span><span class="token punctuation">)</span>ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> yuanxing<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_280"></a>总结</h4> 
<p>缺点：需要为每一个类配备一个克隆方法，这对全新的类来说不是很难，但对已有的类进行改造时，需要修改其源代码，违背了ocp原则，这点请同学们注意.</p> 
<h3><a id="_284"></a>四、建造者模式</h3> 
<h4><a id="14_285"></a>1、建造者模式的4个角色：</h4> 
<p><img src="https://images2.imgbox.com/44/db/SZmxSwmb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_287"></a>2、建造者模式图解（将通用的作为抽象类里面的抽象方法，其他的作为对象放入抽象类中作为属性）</h4> 
<p><img src="https://images2.imgbox.com/d6/e1/rtcfm4HV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3jdkStringBuilder_289"></a>3、jdk中StringBuilder源码追踪</h4> 
<p><img src="https://images2.imgbox.com/bd/51/xCtlftL4_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/45e1cf108d89031a69ecf90ffdcec4e1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详解 Spring Boot 项目中的配置文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a80bb770a4f14d0da1d7463ed42d74b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux系统的 vmware 虚拟机扩展 磁盘容量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>