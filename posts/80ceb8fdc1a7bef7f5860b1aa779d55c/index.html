<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>文本挖掘：手把手教你分析携程网评论数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="文本挖掘：手把手教你分析携程网评论数据" />
<meta property="og:description" content="文本分析的应用越来越广泛，这不，我的工作也开始涉及了文本分析，今天就讲讲关于评论数据的那点事。
首先评论数据如何获取？
一般通过网络爬虫的方式抓取各大网站的评论数据，本次分析数据就来源于携程网某酒店的评论，在同事的协助下，成功爬取该酒店的评论数据，于是我开始使用这些数据做相关的分析。
本次文本分析中需要使用如下3个包：
1）Rwordseg包用于分词
2）tmcn用于词频统计
3）wordcloud用于绘制文字云
library(Rwordseg)
library(tmcn)
library(wordcloud)
#读取数据
Evaluation &lt;- read.csv(file = file.choose(), encoding = &#39;UFT-8&#39;)
#剔除评论数据中含有的英文和数字
text &lt;- gsub(&#39;[a-zA-Z0-9]&#39;,&#39;&#39;,Evaluation$Evaluation)
#分词
segword &lt;- segmentCN(strwords = text)
#查看第一条评论的分词效果
segword[1]
从上图的结果中发现，经分割后的词中有许多无意义的停止词，如“是”，“只”，“了”，“也”等，这些词是需要剔除的。关于停止词，可以到网上搜索获取。
#读取停止词
mystopwords &lt;- read.table(file = file.choose(), stringsAsFactors = FALSE)
head(mystopwords)
class(mystopwords)
由于读入的数据为数据框格式，需要将其转换为向量格式，即：
mystopwords &lt;- as.vector(mystopwords[,1])
head(mystopwords)
现在有了停止词词库，接下来需要将分割后的词与停止词词库进行比对，将含有停止词的词进行剔除。下面是自定义删除停止词的函数：
removewords &lt;- function(target_words,stop_words){
target_words = target_words[target_words%in%stop_words==FALSE]
return(target_words)
}
#将该函数应用到已分割的词中
segword2 &lt;- sapply(X = segword, FUN = removewords, mystopwords)
#查看已删除后的分词结果
segword2[[1]]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/80ceb8fdc1a7bef7f5860b1aa779d55c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-24T15:39:18+08:00" />
<meta property="article:modified_time" content="2017-07-24T15:39:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">文本挖掘：手把手教你分析携程网评论数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style='margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px; margin-top:0px!important'> 文本分析的应用越来越广泛，这不，我的工作也开始涉及了文本分析，今天就讲讲关于评论数据的那点事。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><span style="">首先评论数据如何获取？</span></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 一般通过<span style="color:rgb(0,209,0)"><span style="">网络爬虫的方式</span></span>抓取各大网站的评论数据，本次分析数据就来源于携程网某酒店的评论，在同事的协助下，成功爬取该酒店的评论数据，于是我开始使用这些数据做相关的分析。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 本次文本分析中需要<span style="color:rgb(0,209,0)"><span style="">使用如下3个包</span></span>：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 1）Rwordseg包用于分词</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 2）tmcn用于词频统计</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 3）wordcloud用于绘制文字云</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">library(Rwordseg)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">library(tmcn)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">library(wordcloud)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#读取数据</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">Evaluation &lt;- read.csv(file = file.choose(), encoding = 'UFT-8')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#剔除评论数据中含有的英文和数字</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">text &lt;- gsub('[a-zA-Z0-9]','',Evaluation$Evaluation)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#分词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword &lt;- segmentCN(strwords = text)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#查看第一条评论的分词效果</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword[1]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <img alt="Clipboard Image.png" src="https://images2.imgbox.com/12/1f/1jLV6tcE_o.png" width="581" height="431" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 从上图的结果中发现，经分割后的词中有许多<span style="color:rgb(0,209,0)"><span style="">无意义的停止词</span></span>，如“是”，“只”，“了”，“也”等，这些词是需要剔除的。关于停止词，可以到网上搜索获取。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#读取停止词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">mystopwords &lt;- read.table(file = file.choose(), stringsAsFactors = FALSE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">head(mystopwords)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">class(mystopwords)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/29/11/5883D7pf_o.png" width="577" height="211" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 由于读入的数据为数据框格式，<span style="color:rgb(0,209,0)"><span style="">需要将其转换为向量格式</span></span>，即：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">mystopwords &lt;- as.vector(mystopwords[,1])</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">head(mystopwords)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/2f/61/u7lzoori_o.png" width="577" height="64" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 现在有了停止词词库，接下来需要<span style="color:rgb(0,209,0)"><span style="">将分割后的词与停止词词库进行比对，将含有停止词的词进行剔除</span></span>。下面是自定义删除停止词的函数：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">removewords &lt;- function(target_words,stop_words){<!-- --></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">target_words = target_words[target_words%in%stop_words==FALSE]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">return(target_words)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">}</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#将该函数应用到已分割的词中</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword2 &lt;- sapply(X = segword, FUN = removewords, mystopwords)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#查看已删除后的分词结果</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword2[[1]]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/61/d0/qoR14CIH_o.png" width="583" height="220" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 从上图中显示，一些无意义的停止词已经被剔除，下面就使用比较干净的词<span style="color:rgb(0,209,0)"><span style="">绘制文字云</span></span>，以大致查看分词效果。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">word_freq &lt;- getWordFreq(string = unlist(segword2))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">opar &lt;- par(no.readonly = TRUE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(bg = 'black')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#绘制出现频率最高的前50个词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">wordcloud(words = word_freq$Word, freq = word_freq$Freq, max.words = 50,</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">random.color = TRUE, colors = rainbow(n = 7))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(opar)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/b4/fa/mR4ykKTw_o.png" width="564" height="299" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(0,209,0)"><span style="">发现“不错”这个词非常明显</span></span>，但<span style="color:rgb(255,41,65)"><span style="">到底是什么不错呢</span></span>？下面来看一看都是哪些评论包含不错这样的字眼。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#根据频繁出现词汇，还原初始评价</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">index &lt;- NULL</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">for(i in 1:length(segword)){<!-- --></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">  if (any(segword[[i]] %in% '不错') == TRUE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">  index = unique(c(index, i))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">} </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">text[index]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/57/25/abvmMBV5_o.png" width="582" height="321" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 含有“不错”字眼的评论有658条，这就需要人为干涉，<span style="color:rgb(0,209,0)"><span style="">将这些“不错”进行简化并组成词典</span></span>。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><span style="">这是一个非常繁工的过程</span></span>，需要耐心的查看这些评论中都是怎么表达的情感的。经过约3个小时的人为选词（不断反复查看），将这些词组成词典，并导入为自定义词汇。<span style="color:rgb(0,209,0)"><span style="">（可能该方法比较笨拙，如有更好的方法，还请看官指导）。</span></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#自定义词汇</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">words &lt;- c('房间干净','服务不错','酒店不错','不错的酒店','不错的地方','卫生不错','设施不错','设备不错','硬件不错','位置不错','地段不错','景色不错','景观不错','环境不错','风景不错','视野不错','夜景不错','口味不错','味道不错','感觉不错','态度不错','态度冷漠','态度冷淡','服务差劲','热情','热心','不热情','态度好','态度差','态度不好','素质差','质量不错','房间不错','浴缸不错','早餐不错','早餐质量差','自助餐不错','下午茶不错','强烈推荐','推荐入住','值得推荐','性价比不错','隔音不错','体验不错','不错的体验','设施陈旧','五星级酒店','性价比不错','交通便利','交通方便','出行方便','房间小','价格不错','前台效率太低','携程','地理位置','陆家嘴')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#插入自定义词汇</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">insertWords(strwords = words)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 由于上面的词汇都是经过简化而成的，而原始评论可能是：“房间很干净”，“服务还是蛮不错的”，“酒店真心不错”等，<span style="color:rgb(0,209,0)"><span style="">所以就需要剔除这些干扰分词的词</span></span>（“还是”，“蛮”，“真心”，“的”等）。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#根据业务情况、需要在原始评论中删除的字和词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">pattern &lt;- c('还是','很也','了','点','可以','还','是','真心','都','相当','大家','确实','挺','非常','应该','蛮','整体','里面','就','实在','总体','听说','有点','比较','质量','都是','够','十分','还算','极其','也算','方面','太','算是')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#将这些词组成“正则表达式”</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">pattern2 &lt;- paste("[",paste(pattern,collapse = ','),"]", sep = '')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#剔除原始评论中含有的这些干扰词汇</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">text2 &lt;- gsub(pattern = pattern2, replacement = '', x = text)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 好，经过清洗后，原始的评论相对简介而干净，下面对其进一步分词，<span style="color:rgb(0,209,0)"><span style="">记住，之前已经构建了自定义词汇，他会产生指定组合的词，如“酒店”，“不错”两个词组合为“酒店不错”。</span></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#分词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword3 &lt;- segmentCN(strwords = text2)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">head(segword3)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/80/fa/2Xjftje3_o.png" width="583" height="426" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#新建停止词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">stopwords_v2 &lt;- c('不错','酒店','交通','前台','出差','价','去','免费','入','入住','大道','吃','退','上海','说','床','态度','升级','地理','很好','号','住','服务员','房间','服务','设施','环境','位置')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#创建新添加的停止词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">mystopwords &lt;- c(mystopwords,stopwords_v2)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#排除停止词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword4 &lt;- sapply(X = segword3, FUN = removewords, mystopwords)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#查看已删除后的分词结果</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword4[[1]]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/08/a7/WUWskxzE_o.png" width="585" height="242" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 根据上面的分词结果，再一次绘制文字云，具体如下：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">word_freq2 &lt;- getWordFreq(string = unlist(segword4))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">opar &lt;- par(no.readonly = TRUE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(bg = 'black')</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#绘制出现频率最高的前50个词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">wordcloud(words = word_freq2$Word, freq = word_freq2$Freq, scale = c(4,0.1), max.words = 50, random.color = TRUE, colors = rainbow(n = 7))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(opar)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/1b/11/pfltWnI1_o.png" width="498" height="291" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 发现还是有一些词影响了其真实情况，如“早餐”,"房"等，需要进一步将其纳入停止词，因为这些词之前已经被组合成其他词汇。</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#再一次清除停止词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">stopwords_v3 &lt;- c('早餐','嘴','电话','订','楼','人员','钟','修','办理','客人','品种','朋友','带','出门','房','影响','硬件','感觉','想','验','洁','希望','送') </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword5 &lt;- sapply(X = segword4, FUN = removewords, stopwords_v3)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#查看已删除后的分词结果</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword5[[1]]</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/12/e4/fhDmxU4n_o.png" width="580" height="194" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 根据这次剔除的停止词，我们再绘制一次文字云：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">word_freq3 &lt;- getWordFreq(string = unlist(segword5))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">opar &lt;- par(no.readonly = TRUE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(bg = "black")</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#绘制出现频率最高的前50个词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">wordcloud(words = word_freq3$Word, freq = word_freq3$Freq, scale = c(4,0.1), max.words = 50,random.color = TRUE, colors = rainbow(n = 7))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(opar)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/f7/58/f93uDfs4_o.png" width="488" height="293" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 发现文字云中含有相同意思的词汇，<span style="color:rgb(0,209,0)"><span style="">如“推荐”和“值得推荐”，这就要将这样的词汇合并为一个词汇，具体如下</span></span>：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#将推荐和值得推荐合并</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword6 &lt;- unlist(segword5)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">segword6[segword6 == '推荐'] &lt;- '值得推荐'</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#重新绘制文字云</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">word_freq4 &lt;- getWordFreq(string = unlist(segword6))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">opar &lt;- par(no.readonly = TRUE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(bg = "black")</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#绘制出现频率最高的前50个词</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">wordcloud(words = word_freq4$Word, freq = word_freq4$Freq, scale = c(4,0.1), max.words = 50, random.order = F, random.color = T, colors = rainbow(n = 7))</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">par(opar)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><img alt="Clipboard Image.png" src="https://images2.imgbox.com/0e/d0/Hgbuo3bA_o.png" width="486" height="296" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 上面使用R的wordcloud包绘制文字云，<span style="color:rgb(0,209,0)"><span style="">也可以使用工具tagxedo绘制</span></span>，绘制之前需要将txt文件输入该工具中，该工具的使用可至网站：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <a target="_blank" href="http://www.tagxedo.com/" rel="nofollow noopener noreferrer" style="background-color:transparent; color:rgb(66,152,186); word-break:break-all">http://www.tagxedo.com</a></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">#将前50的词频写出到txt文件</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)">write.table(head(word_freq4,50),'word_freq.txt', row.names = FALSE, sep = ' ', quote = FALSE)</span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 在同事的热心帮助下，使用工具tagxedo绘制的个性化文字云，文字云以房子的形状为背景：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <img alt="Clipboard Image.png" src="https://images2.imgbox.com/f4/39/f0ofk1kI_o.png" width="585" height="488" style="border:0px; vertical-align:middle; margin:0px 5px; max-width:100%; height:auto!important"><br style=""> </p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style="color:rgb(255,41,65)"><span style="">结论：</span></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> </p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 从文字云的返回结果可知：</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 1）  总体评价是比较满意的，如：服务不错、环境不错、酒店不错、满意等</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 2）  酒店附近有地铁，说明交通便利</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 3）  “携程”，说明房客中的一部分来源于携程</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 4）  当然也有一些负面评价，如“不便”，“施工”，“修路”等</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> 5）  最后，房客觉得这家酒店非常值得推荐，间接将给酒店带来额外客户</p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <br style=""> <span style="color:rgb(255,41,65)"><span style="">文章中涉及到的数据和脚本链接：</span></span></p> 
<p style='margin-top:12px; margin-bottom:12px; color:rgb(51,51,51); word-wrap:break-word; font-family:"Helvetica Neue",STHeiti,微软雅黑,"Microsoft YaHei",Helvetica,Arial,sans-serif; font-size:14px'> <span style=""><a target="_blank" href="https://yunpan.cn/cr9mInZKLeHaQ" rel="nofollow noopener noreferrer" style="background-color:transparent; color:rgb(66,152,186); word-break:break-all">https://yunpan.cn/cr9mInZKLeHaQ</a>  访问密码 ab9d</span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f84ec3b11e99c3dcc1f9544dc1795223/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;中SIN的用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/23cc0afd9b5124bbf9b8069378986ee9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">面试常问的深度学习(DNN、CNN、RNN)的相关问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>