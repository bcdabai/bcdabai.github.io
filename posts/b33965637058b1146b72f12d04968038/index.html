<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 安装MySQL 8.0步骤: - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 安装MySQL 8.0步骤:" />
<meta property="og:description" content="First:
1.检查是否安装过MySQL
rpm -qa | grep -i mysql
2.删除MySQL
yum -y remove MySQL-*
注意:一般用rpm -e 的命令删除mysql,这样表面上删除了mysql,可是mysql的一些残余程序仍然存在,并且通过第一步的方式也查找不到残余,而yum命令比较强大,可以完全删除mysql.(ps:用rpm删除后再次安装的时候会提示已经安装了,这就是rpm没删除干净的原因)
3.把所有出现的目录统统删除(删除使用rm -rf 要删除的目录)
find / -name mysql
4.删除配置文件
rm -rf /etc/my.cnf
5.删除MySQL的默认密码
rm -rf /root/.mysql_sercret
注意:删除mysql的默认密码,如果不删除,以后安装mysql这个sercret中的默认密码不会变,使用其中的默认密码就可能会报类似Access denied for user ‘root@localhost’ (using password:yes)的错误.
以上五个步骤(没有安装过可以不执行,但建议执行一次,以降低报错的概率)完成后就可以开始安装MySQL
1.配置MySQL 8.0安装数据源
sudo rpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
安装MySQL 8.0需要注意 必须先更新MySQL GPG密码,否则将会提示报错(源GPG密钥已经过期!)
rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
2.安装MySQL 8.0
sudo yum --enablerepo=mysql80-community install mysql-community-server
出现下载插件提示时选择y
看到complet(完毕)就是安装完了
4.启动MySQL服务
sudo service mysqld start
5.查看MySQL的运行状态
service mysqld status" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b33965637058b1146b72f12d04968038/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-19T15:08:48+08:00" />
<meta property="article:modified_time" content="2023-12-19T15:08:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 安装MySQL 8.0步骤:</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#fe2c24;">First:</span></p> 
<p>1.检查是否安装过MySQL</p> 
<p>rpm -qa | grep -i mysql</p> 
<p>2.删除MySQL</p> 
<p>yum -y remove MySQL-*</p> 
<p>注意:一般用rpm -e 的命令删除mysql,这样表面上删除了mysql,可是mysql的一些残余程序仍然存在,并且通过第一步的方式也查找不到残余,而yum命令比较强大,可以完全删除mysql.(ps:用rpm删除后再次安装的时候会提示已经安装了,这就是rpm没删除干净的原因)</p> 
<p>3.把所有出现的目录统统删除(删除使用rm -rf 要删除的目录)</p> 
<p>find / -name mysql</p> 
<p>4.删除配置文件</p> 
<p>rm -rf /etc/my.cnf</p> 
<p>5.删除MySQL的默认密码</p> 
<p>rm -rf /root/.mysql_sercret</p> 
<p>注意:删除mysql的默认密码,如果不删除,以后安装mysql这个sercret中的默认密码不会变,使用其中的默认密码就可能会报类似Access denied for user ‘root@localhost’ (using password:yes)的错误.</p> 
<p>以上五个步骤(没有安装过可以不执行,但建议执行一次,以降低报错的概率)完成后就可以开始安装MySQL</p> 
<p>1.配置MySQL 8.0安装数据源</p> 
<p>sudo rpm -Uvh <a href="https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm" rel="nofollow" title="https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm">https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</a></p> 
<p>安装MySQL 8.0需要注意 必须先更新MySQL GPG密码,否则将会提示报错(源GPG密钥已经过期!)</p> 
<p>rpm --import <a href="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022" rel="nofollow" title="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022">https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</a></p> 
<p>2.安装MySQL 8.0</p> 
<p>sudo yum --enablerepo=mysql80-community install mysql-community-server</p> 
<p>出现下载插件提示时选择y</p> 
<p>看到<span style="color:#1c7331;">complet(完毕)</span>就是安装完了</p> 
<p>4.启动MySQL服务</p> 
<p>sudo service mysqld start</p> 
<p>5.查看MySQL的运行状态</p> 
<p>service mysqld status</p> 
<p>若出现绿色active(running)则表示MySQL服务已经启动!</p> 
<p>6.查看root临时密码</p> 
<p>安装完mysql之后，会生成一个临时的密码让root用户登录</p> 
<p>grep "A temporary password" /var/log/mysqld.log(随机生成一个临时密码)</p> 
<p>7.更改;临时密码</p> 
<p>输入：mysql -uroot -p</p> 
<p>在Enter password：后面输入临时密码</p> 
<p>登录成功</p> 
<p>输入：ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password';</p> 
<p>会提示：ERROR 1819 (HY000): Your password does not satisfy the current policy requirements(密码不符合当前策略)</p> 
<p>方案1: 设置符合策略的密码(大小写字母+数据+符号)</p> 
<p>方案2:密码策略改简单一点</p> 
<p>策略说明</p> 
<p>validate_password.length 是密码的最小长度，默认是8，我们把它改成6</p> 
<p>输入：set global validate_password.length=6;</p> 
<p>validate_password.policy 验证密码的复杂程度，我们把它改成0</p> 
<p>输入：set global validate_password.policy=0;</p> 
<p>validate_password.check_user_name 用户名检查，用户名和密码不能相同，我们也把它关掉</p> 
<p>输入：set global validate_password.check_user_name=off;</p> 
<p>执行修改密码</p> 
<p>ALTER USER 'root'@'localhost' IDENTIFIED BY 'Test123..';</p> 
<p>sudo--&gt;相当于Windows中的以管理员身份执行操作</p> 
<p><span style="color:#fe2c24;">Second:</span></p> 
<p>环境: 阿里云服务器Centos 7.9 mysql8.0</p> 
<p>准备工作:</p> 
<p>1、查看是否有安装过mysql</p> 
<p>rpm -qa | grep -i mysql</p> 
<p>2、删除安装过的mysql</p> 
<p>yum -y remove MySQL-*</p> 
<p>3、找到所有mysql出现目录然后</p> 
<p>find / -name mysql</p> 
<p>rm -rf 目录</p> 
<p>4、删除配置文件</p> 
<p>rm -rf /etc/my.cnf</p> 
<p>5、删除mysql默认密码</p> 
<p>rm -rf /root/.mysql_sercret</p> 
<p>安装步骤:</p> 
<p>1、获取到mysql安装源</p> 
<p>sudo rpm -Uvh <a href="https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm" rel="nofollow" title="https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm">https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</a></p> 
<p>2、更新Mysql GPG密匙</p> 
<p>rpm --import <a href="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022" rel="nofollow" title="https://repo.mysql.com/RPM-GPG-KEY-mysql-2022">https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</a></p> 
<p>3、安装mysql 8.0</p> 
<p>sudo yum --enablerepo=mysql80-community install mysql-community-server</p> 
<p>过程中要输入 y 表示确定下载安装</p> 
<p>如果看到complete出现 表示安装成功</p> 
<p>检验是否安装成功:</p> 
<p>1、启动mysql服务</p> 
<p>sudo service mysqld start</p> 
<p>2、查看服务状态</p> 
<p>service mysqld status</p> 
<p>如果看到 绿色的active (running)表示服务启动成功 正在允许</p> 
<p>操作Mysql:</p> 
<p>1、查看临时密码</p> 
<p>grep "A temporary password" /var/log/mysqld.log</p> 
<p>2、使用临时密码登录mysql</p> 
<p>mysql -u root -p 回车 输入粘贴的临时密码</p> 
<p>--先修改root的密码 (默认密码策略 长度为8 必须包含数字大小写字母和符号)</p> 
<p>alter user 'root'@'localhost' identified by 'Test123..';</p> 
<p>--再修改mysql8密码策略</p> 
<p>--修改密码长度为4</p> 
<p>set global validate_password.length=4;</p> 
<p>--修改复杂程度为0</p> 
<p>set global validate_password.policy=0;</p> 
<p>--设置允许密码和用户名相同</p> 
<p>set global validate_password.check_user_name=off;</p> 
<p>--最后把密码设置成你想要的简单版的密码 这里改成root</p> 
<p>alter user 'root'@'localhost' identified by 'root';</p> 
<p>--查看user表中的登录名</p> 
<p>select host,user from user;</p> 
<p>--新增root账号 host地址为 % （%表示支持任意主机连接服务器中的Mysql）</p> 
<p>create user 'root'@'%' identified by 'root';</p> 
<p>--授予所有权限</p> 
<p>grant all on *.* to 'root'@'%' with grant option;</p> 
<p>--刷新权限 立刻生效</p> 
<p>flush privileges;</p> 
<p>--改变mysql8加密规则</p> 
<p>ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'root';</p> 
<p>--开放阿里云服务器mysql端口 3306</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bacec27010ec96854af252378eb117da/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【openssl】Linux升级openssl-1.0.1到1.1.1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ca41c6dcdf9216dbc64cd1018f545ee3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Npm包管理工具的下载、安装、发布等使用详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>