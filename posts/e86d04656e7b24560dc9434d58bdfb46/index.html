<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>android 侧拉删除-仿qq侧拉删除（SwipeDelMenuLayout） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="android 侧拉删除-仿qq侧拉删除（SwipeDelMenuLayout）" />
<meta property="og:description" content="1.在项目build下添加仓库 allprojects { repositories { maven { url &#34;https://jitpack.io&#34; } } } 2.module 下build添加依赖 implementation &#39;com.github.mcxtzhang:SwipeDelMenuLayout:V1.3.0&#39; 3.列表item布局 &lt;com.mcxtzhang.swipemenulib.SwipeMenuLayout xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:clickable=&#34;true&#34; app:ios=&#34;true&#34; app:leftSwipe=&#34;true&#34; app:swipeEnable=&#34;true&#34;&gt; &lt;LinearLayout android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:orientation=&#34;vertical&#34;&gt; &lt;TextView android:id=&#34;@&#43;id/cOmmtv&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:layout_gravity=&#34;center_vertical&#34; android:layout_weight=&#34;8&#34; android:padding=&#34;@dimen/dp_5&#34; android:textSize=&#34;@dimen/sp_20&#34; /&gt; &lt;View android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;@dimen/dp_1&#34; android:layout_marginBottom=&#34;@dimen/dp_2&#34; android:layout_marginLeft=&#34;@dimen/dp_10&#34; android:layout_marginRight=&#34;@dimen/dp_10&#34; android:layout_marginTop=&#34;@dimen/dp_1&#34; android:background=&#34;#EFEFEF&#34; /&gt; &lt;/LinearLayout&gt; //隐藏到屏幕外的删除按钮 &lt;Button android:id=&#34;@&#43;id/tv_usb_delete&#34; android:layout_width=&#34;@dimen/dp_60&#34; android:layout_height=&#34;match_parent&#34; android:background=&#34;@drawable/bg_cancel&#34; android:padding=&#34;@dimen/dp_5&#34; android:text=&#34;删除&#34; android:textColor=&#34;@color/white&#34; android:textSize=&#34;@dimen/sp_20&#34; /&gt; &lt;/com.mcxtzhang.swipemenulib.SwipeMenuLayout&gt; 4.适配器（本例展示的是listview，其他列表可以自行扩展）
@Override public View getView(final int position, View convertView, ViewGroup parent) { ViewHolder viewHolder=null; View closeView=null; if (convertView==null){ viewHolder=new ViewHolder(); convertView=View." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e86d04656e7b24560dc9434d58bdfb46/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-22T09:11:09+08:00" />
<meta property="article:modified_time" content="2018-11-22T09:11:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">android 侧拉删除-仿qq侧拉删除（SwipeDelMenuLayout）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><img alt="" class="has" src="https://images2.imgbox.com/6f/be/MieNa5se_o.gif"></h3> 
<h3> </h3> 
<h3> </h3> 
<h3>1.在项目build下添加仓库</h3> 
<pre class="has"><code>allprojects {
    repositories {
        maven { url "https://jitpack.io" }
    }
}</code></pre> 
<h3>2.module 下build添加依赖</h3> 
<pre class="has"><code>    implementation 'com.github.mcxtzhang:SwipeDelMenuLayout:V1.3.0'</code></pre> 
<h3>3.列表item布局</h3> 
<pre class="has"><code>  &lt;com.mcxtzhang.swipemenulib.SwipeMenuLayout xmlns:app="http://schemas.android.com/apk/res-auto"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:clickable="true"
        app:ios="true"
        app:leftSwipe="true"
        app:swipeEnable="true"&gt;

        &lt;LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"&gt;

            &lt;TextView
                android:id="@+id/cOmmtv"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="center_vertical"
                android:layout_weight="8"
                android:padding="@dimen/dp_5"
                android:textSize="@dimen/sp_20" /&gt;

            &lt;View
                android:layout_width="match_parent"
                android:layout_height="@dimen/dp_1"
                android:layout_marginBottom="@dimen/dp_2"
                android:layout_marginLeft="@dimen/dp_10"
                android:layout_marginRight="@dimen/dp_10"
                android:layout_marginTop="@dimen/dp_1"
                android:background="#EFEFEF" /&gt;
        &lt;/LinearLayout&gt;

        //隐藏到屏幕外的删除按钮
        &lt;Button
            android:id="@+id/tv_usb_delete"
            android:layout_width="@dimen/dp_60"
            android:layout_height="match_parent"
            android:background="@drawable/bg_cancel"
            android:padding="@dimen/dp_5"
            android:text="删除"
            android:textColor="@color/white"
            android:textSize="@dimen/sp_20" /&gt;


    &lt;/com.mcxtzhang.swipemenulib.SwipeMenuLayout&gt;</code></pre> 
<p>4.适配器（本例展示的是listview，其他列表可以自行扩展）</p> 
<pre class="has"><code>    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {
        ViewHolder viewHolder=null;

        View  closeView=null;

        if (convertView==null){
            viewHolder=new ViewHolder();
            convertView=View.inflate(context, R.layout.item,null);
            viewHolder.text=convertView.findViewById(R.id.text_text);
            viewHolder.dele=convertView.findViewById(R.id.dele);
            convertView.setTag(viewHolder);
        }else {
            viewHolder = (ViewHolder) convertView.getTag();
        }


        if (closeView == null){
            closeView = convertView;
        }
        final View finalCloseView = closeView;// listView的itemView

        viewHolder.text.setText(strings.get(position));
        viewHolder.dele.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                ((SwipeMenuLayout)(finalCloseView)).quickClose();// 关闭侧滑菜单

                Toast.makeText(context, "删除"+position, Toast.LENGTH_SHORT).show();
            }
        });

        return convertView;
    }</code></pre> 
<p>这个仓库当时写demo的时候发现listview的item点击事件不好使了，以为是item里有button按钮导致的，结果不是，由于事件仓促，item的点击事件就用回调写了一下，解决后在再补充。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/27ef660325227d3bac870e13a3dbc322/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SeNet论文详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db5b4e76d1f9871bdbebd116e2ae03d9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">json value中包含双引号处理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>