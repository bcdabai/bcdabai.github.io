<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP高级教程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PHP高级教程" />
<meta property="og:description" content="PHP 多维数组 PHP 表单完成PHP 日期 在本教程之前的章节中，我们已经知道数组是一种数/值对的简单列表。
不过，有时您希望用一个以上的键存储值。
可以用多维数组进行存储。
PHP - 多维数组 多维数组指的是包含一个或多个数组的数组。
PHP 能理解两、三、四或五级甚至更多级的多维数组。不过，超过三级深的数组对于大多数人难于管理。
注释：数组的维度指示您需要选择元素的索引数。
对于二维数组，您需要两个索引来选取元素对于三维数组，您需要三个索引来选取元素 PHP - 两维数组 两维数组是数组的数组（三维数组是数组的数组的数组）。
首先，让我们看看下面的表格：
我们能够在两维数组中存储上表中的数据，就像这样：
$cars = array ( array(&#34;Volvo&#34;,22,18), array(&#34;BMW&#34;,15,13), array(&#34;Saab&#34;,5,2), array(&#34;Land Rover&#34;,17,15) ); 现在这个两维数组包含了四个数组，并且它有两个索引（下标）：行和列。
如需访问 $cars 数组中的元素，我们必须使用两个索引（行和列）：
实例 &lt;?php echo $cars[0][0].&#34;: 库存：&#34;.$cars[0][1].&#34;, 销量：&#34;.$cars[0][2].&#34;.&lt;br&gt;&#34;; echo $cars[1][0].&#34;: 库存：&#34;.$cars[1][1].&#34;, 销量：&#34;.$cars[1][2].&#34;.&lt;br&gt;&#34;; echo $cars[2][0].&#34;: 库存：&#34;.$cars[2][1].&#34;, 销量：&#34;.$cars[2][2].&#34;.&lt;br&gt;&#34;; echo $cars[3][0].&#34;: 库存：&#34;.$cars[3][1].&#34;, 销量：&#34;.$cars[3][2].&#34;.&lt;br&gt;&#34;; ?&gt; 我们也可以在 For 循环中使用另一个 For 循环，来获得 $cars 数组中的元素（我们仍需使用两个索引）：
实例 &lt;?php for ($row = 0; $row &lt; 4; $row&#43;&#43;) { echo &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/05603518bc6d7baa85429772e7a134b9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-22T23:02:29+08:00" />
<meta property="article:modified_time" content="2023-07-22T23:02:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP高级教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>PHP 多维数组</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_form_complete.asp" rel="nofollow" title="PHP 表单完成">PHP 表单完成</a></li><li><a href="https://www.w3school.com.cn/php/php_date.asp" rel="nofollow" title="PHP 日期">PHP 日期</a></li></ul> 
<p>在本教程之前的章节中，我们已经知道数组是一种数/值对的简单列表。</p> 
<p>不过，有时您希望用一个以上的键存储值。</p> 
<p>可以用多维数组进行存储。</p> 
<h3>PHP - 多维数组</h3> 
<p>多维数组指的是包含一个或多个数组的数组。</p> 
<p>PHP 能理解两、三、四或五级甚至更多级的多维数组。不过，超过三级深的数组对于大多数人难于管理。</p> 
<p>注释：数组的维度指示您需要选择元素的索引数。</p> 
<ul><li>对于二维数组，您需要两个索引来选取元素</li><li>对于三维数组，您需要三个索引来选取元素</li></ul> 
<h3>PHP - 两维数组</h3> 
<p>两维数组是数组的数组（三维数组是数组的数组的数组）。</p> 
<p>首先，让我们看看下面的表格：</p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/d6/aa/ZoQdELJ7_o.png" width="1200"></p> 
<p>我们能够在两维数组中存储上表中的数据，就像这样：</p> 
<pre><code class="hljs">$cars = array
  (
  array("Volvo",22,18),
  array("BMW",15,13),
  array("Saab",5,2),
  array("Land Rover",17,15)
  );</code></pre> 
<p> </p> 
<p>现在这个两维数组包含了四个数组，并且它有两个索引（下标）：行和列。</p> 
<p>如需访问 $cars 数组中的元素，我们必须使用两个索引（行和列）：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
echo $cars[0][0].": 库存：".$cars[0][1].", 销量：".$cars[0][2].".&lt;br&gt;";
echo $cars[1][0].": 库存：".$cars[1][1].", 销量：".$cars[1][2].".&lt;br&gt;";
echo $cars[2][0].": 库存：".$cars[2][1].", 销量：".$cars[2][2].".&lt;br&gt;";
echo $cars[3][0].": 库存：".$cars[3][1].", 销量：".$cars[3][2].".&lt;br&gt;";
?&gt;</code></pre> 
<p>我们也可以在 For 循环中使用另一个 For 循环，来获得 $cars 数组中的元素（我们仍需使用两个索引）：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
for ($row = 0; $row &lt; 4; $row++) {
  echo "&lt;p&gt;&lt;b&gt;Row number $row&lt;/b&gt;&lt;/p&gt;";
  echo "&lt;ul&gt;";
  for ($col = 0; $col &lt; 3; $col++) {
    echo "&lt;li&gt;".$cars[$row][$col]."&lt;/li&gt;";
  }
  echo "&lt;/ul&gt;";
}
?&gt;</code></pre> 
<h2>PHP 日期和时间</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_arrays_multi.asp" rel="nofollow" title="PHP 多维数组">PHP 多维数组</a></li><li><a href="https://www.w3school.com.cn/php/php_includes.asp" rel="nofollow" title="PHP Include">PHP Include</a></li></ul> 
<p><strong>PHP date() 函数用于对日期或时间进行格式化。</strong></p> 
<h3>PHP Date() 函数</h3> 
<p>PHP Date() 函数把时间戳格式化为更易读的日期和时间。</p> 
<h4>语法</h4> 
<pre><code class="hljs">date(format,timestamp)</code></pre> 
<p><img alt="" height="170" src="https://images2.imgbox.com/76/30/iBBhsixY_o.png" width="1200"></p> 
<p>注释：时间戳是一种字符序列，它表示具体事件发生的日期和事件。</p> 
<h3>获得简单的日期</h3> 
<p>date() 函数的格式参数是必需的，它们规定如何格式化日期或时间。</p> 
<p>下面列出了一些常用于日期的字符：</p> 
<ul><li>d - 表示月里的某天（01-31）</li><li>m - 表示月（01-12）</li><li>Y - 表示年（四位数）</li><li>1 - 表示周里的某天</li></ul> 
<p>其他字符，比如 "/", "." 或 "-" 也可被插入字符中，以增加其他格式。</p> 
<p>下面的例子用三种不同方法格式今天的日期：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
echo "今天是 " . date("Y/m/d") . "&lt;br&gt;";
echo "今天是 " . date("Y.m.d") . "&lt;br&gt;";
echo "今天是 " . date("Y-m-d") . "&lt;br&gt;";
echo "今天是 " . date("l");
?&gt;</code></pre> 
<p> </p> 
<h3>PHP 提示 - 自动版权年份</h3> 
<p>使用 date() 函数在您的网站上自动更新版本年份：</p> 
<h4>实例</h4> 
<pre><code class="hljs">© 2010-&lt;?php echo date("Y")?&gt;</code></pre> 
<h3>获得简单的时间</h3> 
<p>下面是常用于时间的字符：</p> 
<ul><li>h - 带有首位零的 12 小时小时格式</li><li>i - 带有首位零的分钟</li><li>s - 带有首位零的秒（00 -59）</li><li>a - 小写的午前和午后（am 或 pm）</li></ul> 
<p>下面的例子以指定的格式输出当前时间：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
echo "现在时间是 " . date("h:i:sa");
?&gt;</code></pre> 
<p>注释：请注意 PHP date() 函数会返回服务器的当前日期/时间！</p> 
<h3>获得时区</h3> 
<p>如果从代码返回的不是正确的时间，有可能是因为您的服务器位于其他国家或者被设置为不同时区。</p> 
<p>因此，如果您需要基于具体位置的准确时间，您可以设置要用的时区。</p> 
<p>下面的例子把时区设置为 "Asia/Shanghai"，然后以指定格式输出当前时间：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
date_default_timezone_set("Asia/Shanghai");
echo "当前时间是 " . date("h:i:sa");
?&gt;</code></pre> 
<h3>通过 PHP mktime() 创建日期</h3> 
<p>date() 函数中可选的时间戳参数规定时间戳。如果您未规定时间戳，将使用当前日期和时间（正如上例中那样）。</p> 
<p>mktime() 函数返回日期的 Unix 时间戳。Unix 时间戳包含 Unix 纪元（1970 年 1 月 1 日 00:00:00 GMT）与指定时间之间的秒数。</p> 
<h4>语法</h4> 
<pre><code class="hljs">mktime(hour,minute,second,month,day,year)</code></pre> 
<p>下面的例子使用 mktime() 函数中的一系列参数来创建日期和时间：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$d=mktime(9, 12, 31, 6, 10, 2015);
echo "创建日期是 " . date("Y-m-d h:i:sa", $d);
?&gt;</code></pre> 
<h3>通过 PHP strtotime() 用字符串来创建日期</h3> 
<p>PHP strtotime() 函数用于把人类可读的字符串转换为 Unix 时间。</p> 
<h4>语法</h4> 
<pre><code class="hljs">strtotime(time,now)</code></pre> 
<p>下面的例子通过 strtotime() 函数创建日期和时间：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$d=strtotime("10:38pm April 15 2015");
echo "创建日期是 " . date("Y-m-d h:i:sa", $d);
?&gt;
</code></pre> 
<p>PHP 在将字符串转换为日期这方面非常聪明，所以您能够使用各种值：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$d=strtotime("tomorrow");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";

$d=strtotime("next Saturday");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";

$d=strtotime("+3 Months");
echo date("Y-m-d h:i:sa", $d) . "&lt;br&gt;";
?&gt;</code></pre> 
<p>不过，strtotime() 并不完美，所以请记得检查放入其中的字符串。</p> 
<h3>更多日期实例</h3> 
<p>下例输出下周六的日期：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$startdate = strtotime("Saturday");
$enddate = strtotime("+6 weeks",$startdate);

while ($startdate &lt; $enddate) {
  echo date("M d", $startdate),"&lt;br&gt;";
  $startdate = strtotime("+1 week", $startdate);
}
?&gt;</code></pre> 
<p>下例输出七月四日之前的天数：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$d1=strtotime("December 31");
$d2=ceil(($d1-time())/60/60/24);
echo "距离十二月三十一日还有：" . $d2 ." 天。";
?&gt;</code></pre> 
<h2>PHP 文件处理</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_includes.asp" rel="nofollow" title="PHP Include">PHP Include</a></li><li><a href="https://www.w3school.com.cn/php/php_file_open.asp" rel="nofollow" title="PHP 文件打开/读取">PHP 文件打开/读取</a></li></ul> 
<h3>PHP 操作文件</h3> 
<p>PHP 拥有的多种函数可供创建、读取、上传以及编辑文件。</p> 
<p>注意：请谨慎操作文件！</p> 
<p>当您操作文件时必须非常小心。如果您操作失误，可能会造成非常严重的破坏。常见的错误是：</p> 
<ul><li>编辑错误的文件</li><li>被垃圾数据填满硬盘</li><li>意外删除文件内容</li></ul> 
<h3>PHP readfile() 函数</h3> 
<p>readfile() 函数读取文件，并把它写入输出缓冲。</p> 
<p>假设我们有一个名为 "webdictionary.txt" 的文本文件，存放在服务器上，就像这样：</p> 
<pre><code class="hljs">AJAX = Asynchronous JavaScript and XML
CSS = Cascading Style Sheets
HTML = Hyper Text Markup Language
PHP = PHP Hypertext Preprocessor
SQL = Structured Query Language
SVG = Scalable Vector Graphics
XML = EXtensible Markup Language</code></pre> 
<p>读取此文件并写到输出流的 PHP 代码如下（如读取成功则 readfile() 函数返回字节数）：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
echo readfile("webdictionary.txt");
?&gt;</code></pre> 
<h2>PHP 文件打开/读取/关闭</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_file.asp" rel="nofollow" title="PHP 文件">PHP 文件</a></li><li><a href="https://www.w3school.com.cn/php/php_file_create.asp" rel="nofollow" title="PHP 文件创建/写入">PHP 文件创建/写入</a></li></ul> 
<p><strong>在本节中，我们向您讲解如何在服务器上打开、读取以及关闭文件。</strong></p> 
<h3>PHP Open File - fopen()</h3> 
<p>打开文件的更好的方法是通过 fopen() 函数。此函数为您提供比 readfile() 函数更多的选项。</p> 
<p>在课程中，我们将使用文本文件 "webdictionary.txt"：</p> 
<pre><code class="hljs">AJAX = Asynchronous JavaScript and XML
CSS = Cascading Style Sheets
HTML = Hyper Text Markup Language
PHP = PHP Hypertext Preprocessor
SQL = Structured Query Language
SVG = Scalable Vector Graphics
XML = EXtensible Markup Language</code></pre> 
<p>fopen() 的第一个参数包含被打开的文件名，第二个参数规定打开文件的模式。如果 fopen() 函数未能打开指定的文件，下面的例子会生成一段消息：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fread($myfile,filesize("webdictionary.txt"));
fclose($myfile);
?&gt;</code></pre> 
<p>提示：我们接下来将学习 fread() 以及 fclose() 函数。</p> 
<p>文件会以如下模式之一打开：</p> 
<p><img alt="" height="499" src="https://images2.imgbox.com/0b/ac/oKqG0nj4_o.png" width="1200"></p> 
<h3>PHP 读取文件 - fread()</h3> 
<p>fread() 函数读取打开的文件。</p> 
<p>fread() 的第一个参数包含待读取文件的文件名，第二个参数规定待读取的最大字节数。</p> 
<p>如下 PHP 代码把 "webdictionary.txt" 文件读至结尾：</p> 
<pre><code class="hljs">fread($myfile,filesize("webdictionary.txt"));</code></pre> 
<p> </p> 
<h3>PHP 关闭文件 - fclose()</h3> 
<p>fclose() 函数用于关闭打开的文件。</p> 
<p>注释：用完文件后把它们全部关闭是一个良好的编程习惯。您并不想打开的文件占用您的服务器资源。</p> 
<p>fclose() 需要待关闭文件的名称（或者存有文件名的变量）：</p> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("webdictionary.txt", "r");
// some code to be executed....
fclose($myfile);
?&gt;</code></pre> 
<h3>PHP 读取单行文件 - fgets()</h3> 
<p>fgets() 函数用于从文件读取单行。</p> 
<p>下例输出 "webdictionary.txt" 文件的首行：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fgets($myfile);
fclose($myfile);
?&gt;</code></pre> 
<p>注释：调用 fgets() 函数之后，文件指针会移动到下一行。</p> 
<h3>PHP 检查 End-Of-File - feof()</h3> 
<p>feof() 函数检查是否已到达 "end-of-file" (EOF)。</p> 
<p>feof() 对于遍历未知长度的数据很有用。</p> 
<p>下例逐行读取 "webdictionary.txt" 文件，直到 end-of-file：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// 输出单行直到 end-of-file
while(!feof($myfile)) {
  echo fgets($myfile) . "&lt;br&gt;";
}
fclose($myfile);
?&gt;</code></pre> 
<h3>PHP 读取单字符 - fgetc()</h3> 
<p>fgetc() 函数用于从文件中读取单个字符。</p> 
<p>下例逐字符读取 "webdictionary.txt" 文件，直到 end-of-file：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
// 输出单字符直到 end-of-file
while(!feof($myfile)) {
  echo fgetc($myfile);
}
fclose($myfile);
?&gt;</code></pre> 
<p>注释：在调用 fgetc() 函数之后，文件指针会移动到下一个字符。</p> 
<h2>PHP 文件创建/写入</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_file_open.asp" rel="nofollow" title="PHP 文件打开/读取">PHP 文件打开/读取</a></li><li><a href="https://www.w3school.com.cn/php/php_file_upload.asp" rel="nofollow" title="PHP 文件上传">PHP 文件上传</a></li></ul> 
<p><strong>在本节中，我们将为您讲解如何在服务器上创建并写入文件。</strong></p> 
<h3>PHP 创建文件 - fopen()</h3> 
<p>fopen() 函数也用于创建文件。也许有点混乱，但是在 PHP 中，创建文件所用的函数与打开文件的相同。</p> 
<p>如果您用 fopen() 打开并不存在的文件，此函数会创建文件，假定文件被打开为写入（w）或增加（a）。</p> 
<p>下面的例子创建名为 "testfile.txt" 的新文件。此文件将被创建于 PHP 代码所在的相同目录中：</p> 
<h4>实例</h4> 
<pre><code class="hljs">$myfile = fopen("testfile.txt", "w")</code></pre> 
<h3>PHP 文件权限</h3> 
<p>如果您试图运行这段代码时发生错误，请检查您是否有向硬盘写入信息的 PHP 文件访问权限。</p> 
<h3>PHP 写入文件 - fwrite()</h3> 
<p>fwrite() 函数用于写入文件。</p> 
<p>fwrite() 的第一个参数包含要写入的文件的文件名，第二个参数是被写的字符串。</p> 
<p>下面的例子把姓名写入名为 "newfile.txt" 的新文件中：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "Bill Gates\n";
fwrite($myfile, $txt);
$txt = "Steve Jobs\n";
fwrite($myfile, $txt);
fclose($myfile);
?&gt;</code></pre> 
<p>请注意，我们向文件 "newfile.txt" 写了两次。在每次我们向文件写入时，在我们发送的字符串 $txt 中，第一次包含 "Bill Gates"，第二次包含 "Steve Jobs"。在写入完成后，我们使用 fclose() 函数来关闭文件。</p> 
<p>如果我们打开 "newfile.txt" 文件，它应该是这样的：</p> 
<pre><code class="hljs">Bill Gates
Steve Jobs</code></pre> 
<h3>PHP 覆盖（Overwriting）</h3> 
<p>如果现在 "newfile.txt" 包含了一些数据，我们可以展示在写入已有文件时发生的的事情。所有已存在的数据会被擦除并以一个新文件开始。</p> 
<p>在下面的例子中，我们打开一个已存在的文件 "newfile.txt"，并向其中写入了一些新数据：</p> 
<h4>实例</h4> 
<pre><code class="hljs">&lt;?php
$myfile = fopen("newfile.txt", "w") or die("Unable to open file!");
$txt = "Mickey Mouse\n";
fwrite($myfile, $txt);
$txt = "Minnie Mouse\n";
fwrite($myfile, $txt);
fclose($myfile);
?&gt;</code></pre> 
<p>如果现在我们打开这个 "newfile.txt" 文件，Bill 和 Steve 都已消失，只剩下我们刚写入的数据：</p> 
<pre><code class="hljs">Mickey Mouse
Minnie Mouse</code></pre> 
<h2>PHP 文件上传</h2> 
<ul><li><a href="https://www.w3school.com.cn/php/php_file_create.asp" rel="nofollow" title="PHP 文件创建/写入">PHP 文件创建/写入</a></li><li><a href="https://www.w3school.com.cn/php/php_cookies.asp" rel="nofollow" title="PHP Cookies">PHP Cookies</a></li></ul> 
<p><strong>通过 PHP，可以把文件上传到服务器。</strong></p> 
<h3>创建一个文件上传表单</h3> 
<p>允许用户从表单上传文件是非常有用的。</p> 
<p>请看下面这个供上传文件的 HTML 表单：</p> 
<pre><code class="hljs">&lt;html&gt;
&lt;body&gt;

&lt;form action="upload_file.php" method="post"
enctype="multipart/form-data"&gt;
&lt;label for="file"&gt;Filename:&lt;/label&gt;
&lt;input type="file" name="file" id="file" /&gt; 
&lt;br /&gt;
&lt;input type="submit" name="submit" value="Submit" /&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>请留意如下有关此表单的信息：</p> 
<p>&lt;form&gt; 标签的 enctype 属性规定了在提交表单时要使用哪种内容类型。在表单需要二进制数据时，比如文件内容，请使用 "multipart/form-data"。</p> 
<p>&lt;input&gt; 标签的 type="file" 属性规定了应该把输入作为文件来处理。举例来说，当在浏览器中预览时，会看到输入框旁边有一个浏览按钮。</p> 
<p>注释：允许用户上传文件是一个巨大的安全风险。请仅仅允许可信的用户执行文件上传操作。</p> 
<h3>创建上传脚本</h3> 
<p>"upload_file.php" 文件含有供上传文件的代码：</p> 
<pre><code class="hljs">&lt;?php
if ($_FILES["file"]["error"] &gt; 0)
  {
  echo "Error: " . $_FILES["file"]["error"] . "&lt;br /&gt;";
  }
else
  {
  echo "Upload: " . $_FILES["file"]["name"] . "&lt;br /&gt;";
  echo "Type: " . $_FILES["file"]["type"] . "&lt;br /&gt;";
  echo "Size: " . ($_FILES["file"]["size"] / 1024) . " Kb&lt;br /&gt;";
  echo "Stored in: " . $_FILES["file"]["tmp_name"];
  }
?&gt;</code></pre> 
<p>通过使用 PHP 的全局数组 $_FILES，你可以从客户计算机向远程服务器上传文件。</p> 
<p>第一个参数是表单的 input name，第二个下标可以是 "name", "type", "size", "tmp_name" 或 "error"。就像这样：</p> 
<ul><li>$_FILES["file"]["name"] - 被上传文件的名称</li><li>$_FILES["file"]["type"] - 被上传文件的类型</li><li>$_FILES["file"]["size"] - 被上传文件的大小，以字节计</li><li>$_FILES["file"]["tmp_name"] - 存储在服务器的文件的临时副本的名称</li><li>$_FILES["file"]["error"] - 由文件上传导致的错误代码</li></ul> 
<p>这是一种非常简单文件上传方式。基于安全方面的考虑，您应当增加有关什么用户有权上传文件的限制。</p> 
<h3>上传限制</h3> 
<p>在这个脚本中，我们增加了对文件上传的限制。用户只能上传 .gif 或 .jpeg 文件，文件大小必须小于 20 kb：</p> 
<pre><code class="hljs">&lt;?php

if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&amp;&amp; ($_FILES["file"]["size"] &lt; 20000))
  {
  if ($_FILES["file"]["error"] &gt; 0)
    {
    echo "Error: " . $_FILES["file"]["error"] . "&lt;br /&gt;";
    }
  else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "&lt;br /&gt;";
    echo "Type: " . $_FILES["file"]["type"] . "&lt;br /&gt;";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " Kb&lt;br /&gt;";
    echo "Stored in: " . $_FILES["file"]["tmp_name"];
    }
  }
else
  {
  echo "Invalid file";
  }

?&gt;</code></pre> 
<p>注释：对于 IE，识别 jpg 文件的类型必须是 pjpeg，对于 FireFox，必须是 jpeg。</p> 
<h3>保存被上传的文件</h3> 
<p>上面的例子在服务器的 PHP 临时文件夹创建了一个被上传文件的临时副本。</p> 
<p>这个临时的复制文件会在脚本结束时消失。要保存被上传的文件，我们需要把它拷贝到另外的位置：</p> 
<pre><code class="hljs">&lt;?php
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&amp;&amp; ($_FILES["file"]["size"] &lt; 20000))
  {
  if ($_FILES["file"]["error"] &gt; 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "&lt;br /&gt;";
    }
  else
    {

    echo "Upload: " . $_FILES["file"]["name"] . "&lt;br /&gt;";
    echo "Type: " . $_FILES["file"]["type"] . "&lt;br /&gt;";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " Kb&lt;br /&gt;";
    echo "Temp file: " . $_FILES["file"]["tmp_name"] . "&lt;br /&gt;";

    if (file_exists("upload/" . $_FILES["file"]["name"]))
      {
      echo $_FILES["file"]["name"] . " already exists. ";
      }
    else
      {
      move_uploaded_file($_FILES["file"]["tmp_name"],
      "upload/" . $_FILES["file"]["name"]);
      echo "Stored in: " . "upload/" . $_FILES["file"]["name"];
      }
    }
  }
else
  {
  echo "Invalid file";
  }
?&gt;</code></pre> 
<p>上面的脚本检测了是否已存在此文件，如果不存在，则把文件拷贝到指定的文件夹。</p> 
<p>注释：这个例子把文件保存到了名为 "upload" 的新文件夹。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/6f/30/v0M31OsS_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d8ec0658c535f439b0acd0178f8089a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">STM32 PWM</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b210c59521feaaaaf9aa6b8c067c89b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">windows安装cmake快速教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>