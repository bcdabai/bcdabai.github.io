<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux中tar压缩命令详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux中tar压缩命令详解" />
<meta property="og:description" content="语法
1
# tar [-cxtzjvfpPN] File or directory
参数
1
2
3
4
5
6
7
8
9
10
11
-c ：建立一个压缩文件的参数指令(create 的意思)；
-x ：解开一个压缩文件的参数指令！
-t ：查看 tarfile 里面的文件！特别注意，在参数的下达中， c/x/t 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。
-z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？
-j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩？
-v ：压缩的过程中显示文件！这个常用，但不建议用在背景执行过程！
-f ：使用档名，请留意，在 f 之后要立即接档名！不要再加参数！例如使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成『 tar -zcvPf tfile sfile』才对
-p ：使用原文件的原来属性（属性不会依据使用者而变）
-P ：可以使用绝对路径来压缩！
-N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！
--exclude FILE：在压缩的过程中，不要将 FILE 打包！
范例一：将整个 /etc 目录下的文件全部打包成为 /tmp/etc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/be04a18e37e225b9bc64f7c9d7b358fb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-17T16:56:32+08:00" />
<meta property="article:modified_time" content="2022-01-17T16:56:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux中tar压缩命令详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>语法</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code># tar [-cxtzjvfpPN] File </code><code>or</code> <code>directory</code></p> </td></tr></tbody></table> 
<p><br> 参数</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> </td><td> <p><code>-c ：建立一个压缩文件的参数指令(create 的意思)；</code></p> <p><code>-x ：解开一个压缩文件的参数指令！</code></p> <p><code>-t ：查看 tarfile 里面的文件！特别注意，在参数的下达中， c/x/t 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。</code></p> <p><code>-z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？</code></p> <p><code>-j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩？</code></p> <p><code>-v ：压缩的过程中显示文件！这个常用，但不建议用在背景执行过程！</code></p> <p><code>-f ：使用档名，请留意，在 f 之后要立即接档名！不要再加参数！例如使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成『 tar -zcvPf tfile sfile』才对</code></p> <p><code>-p ：使用原文件的原来属性（属性不会依据使用者而变）</code></p> <p><code>-P ：可以使用绝对路径来压缩！</code></p> <p><code>-N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！</code></p> <p><code>--exclude FILE：在压缩的过程中，不要将 FILE 打包！</code></p> </td></tr></tbody></table> 
<p><br> 范例一：将整个 /etc 目录下的文件全部打包成为 /tmp/etc.tar</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> </td><td> <p><code># tar -cvf /tmp/etc.tar /etc &lt;==仅打包，不压缩！</code></p> <p><code># tar -zcvf /tmp/etc.tar.gz /etc &lt;==打包后，以 gzip 压缩</code></p> <p><code># tar -jcvf /tmp/etc.tar.bz2 /etc &lt;==打包后，以 bzip2 压缩</code></p> <p><code># 特别注意，在参数 f 之后的文件档名是自己取的，我们习惯上都用 .tar 来作为辨识。</code></p> <p><code># 如果加 z 参数，则以 .tar.gz 或 .tgz 来代表 gzip 压缩过的 tar file ～</code></p> <p><code># 如果加 j 参数，则以 .tar.bz2 来作为附档名啊～</code></p> <p><code># 上述指令在执行的时候，会显示一个警告讯息：</code></p> <p><code># 『tar: Removing leading `/' from member names』那是关于绝对路径的特殊设定。</code></p> </td></tr></tbody></table> 
<p><br> 范例二：查阅上述 /tmp/etc.tar.gz 文件内有哪些文件？</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> </td><td> <p><code># tar -ztvf /tmp/etc.tar.gz</code></p> <p><code># 由于我们使用 gzip 压缩，所以要查阅该 tar file 内的文件时，</code></p> <p><code># 就得要加上 z 这个参数了！这很重要的！</code></p> </td></tr></tbody></table> 
<p><br> 范例三：将 /tmp/etc.tar.gz 文件解压缩在 /usr/local/src 底下</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> </td><td> <p><code># cd /usr/local/src</code></p> <p><code># tar -zxvf /tmp/etc.tar.gz</code></p> <p><code># 在预设的情况下，我们可以将压缩档在任何地方解开的！以这个范例来说，</code></p> <p><code># 我先将工作目录变换到 /usr/local/src 底下，并且解开 /tmp/etc.tar.gz ，</code></p> <p><code># 则解开的目录会在 /usr/local/src/etc 呢！另外，如果您进入 /usr/local/src/etc</code></p> <p><code># 则会发现，该目录下的文件属性与 /etc/ 可能会有所不同喔！</code></p> </td></tr></tbody></table> 
<p><br> 范例四：在 /tmp 底下，我只想要将 /tmp/etc.tar.gz 内的 etc/passwd 解开而已</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> </td><td> <p><code># cd /tmp</code></p> <p><code># tar -zxvf /tmp/etc.tar.gz etc/passwd</code></p> <p><code># 我可以透过 tar -ztvf 来查阅 tarfile 内的文件名称，如果单只要一个文件，</code></p> <p><code># 就可以透过这个方式来下达！注意到！ etc.tar.gz 内的根目录 / 是被拿掉了！</code></p> </td></tr></tbody></table> 
<p><br> 范例五：将 /etc/ 内的所有文件备份下来，并且保存其权限！</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> </td><td> <p><code># tar -zxvpf /tmp/etc.tar.gz /etc</code></p> <p><code># 这个 -p 的属性是很重要的，尤其是当您要保留原本文件的属性时！</code></p> </td></tr></tbody></table> 
<p><br> 范例六：在 /home 当中，比 2005/06/01 新的文件才备份</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code># tar -N </code><code>'2005/06/01'</code> <code>-zcvf home.tar.gz /home</code></p> </td></tr></tbody></table> 
<p><br> 范例七：我要备份 /home, /etc ，但不要 /home/dmtsai</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code># tar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc</code></p> </td></tr></tbody></table> 
<p><br> 范例八：将 /etc/ 打包后直接解开在 /tmp 底下，而不产生文件！</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code># cd /tmp</code></p> <p><code># tar -cvf - /etc | tar -xvf -</code></p> <p><code># 这个动作有点像是 cp -r /etc /tmp 啦～依旧是有其有用途的！</code></p> <p><code># 要注意的地方在於输出档变成 - 而输入档也变成 - ，又有一个 | 存在～</code></p> <p><code># 这分别代表 standard output, standard input 与管线命令</code></p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c4c4b2f0e02c202d537b63cee72fff9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">You may use special comments to disable some warnings. Use // eslint-disable-next-line to ignore the</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/be05aa83446522b2eed43a15c03f8f32/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">DM-设置定期收集统计信息作业</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>