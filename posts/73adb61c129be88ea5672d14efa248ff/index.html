<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序：单行输入和多行输入组件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序：单行输入和多行输入组件" />
<meta property="og:description" content="微信小程序提供了两种输入类型的输入框组件，分别是单行输入框 &lt;input&gt; 和多行输入框 &lt;textarea&gt;。
1. 单行输入组件（input）
单行输入框 &lt;input&gt; &lt;input&gt; 是一个用于收集用户输入的组件，主要用于收集单行文本输入。
input组件用于录入单行文本，尽管input的基本功能是文本录入，但该组件的属性还是比较多的，也比较复杂。
重要的属性有：
主要的监听事件有：
value：输入框的初始内容type：input 的类型，如 text, number, idcard, digit等password：是否是密码类型placeholder：输入框为空时占位符disabled：是否禁用maxlength：最大输入长度confirm-type：设置键盘右下角按钮的文字，如 send, search, next, go, done等confirm-hold：点击键盘右下角按钮时是否保持键盘不收起bindinput：当键盘输入时，触发 input 事件bindfocus：输入框聚焦时触发bindblur：输入框失去焦点时触发bindconfirm：点击完成时，键盘输入法收起的事件 如下为input组件的属性及其含义：
value：String类型，输入框的当前内容type：String类型，默认值是text。可指定的值：text, number, idcard, digitpassword：Boolean类型，默认值是false，是否以密码形式录入文本（所有的文本字符都显示为点）placeholder：String类型，输入框为空时显示的文本placeholder-style：String类型，指定 placeholder 的样式placeholder-class：String类型，指定 placeholder 的样式名称disabled：Boolean类型，默认值是false，表示是否禁用输入框maxlength：Number类型，默认值是140，表示文本最大输入长度，设置为 -1 的时候不限制最大长度auto-focus：Boolean类型，默认值是false，该属性为true，可以让当前输入框自动获得焦点，并且自动弹出软键盘。该属性只能在真机上测试，小程序开发工具目前没有软键盘。同一个wxml文件中，只能有一个输入框设置该属性为true，输入框还包括后面要介绍的textarea组件focus：Boolean类型，默认值是false，该属性可以让输入框获的焦点，目前开发工具暂不支持，只能在真机上测试bindinput：EventHandle类型 ，除了date/time类型外的输入框，当键盘输入时，触发input事件，event.detail = {value: value}，处理函数可以直接 return 一个字符串，将替换输入框的内容bindfocus ：EventHandle类型，输入框获得焦点时触发，event.detail = {value: value}bindblur：EventHandle类型，输入框失去焦点时触发，event.detail = {value: value} 注意：这些属性中，auto-focus和focus目前只能在真机上测试。
常用使用方法实例：
&lt;view style=&#34;margin:20px&#34;&gt; &lt;input placeholder=&#34;请输入你的姓名&#34; value=&#34;默认值&#34; /&gt; &lt;input placeholder-style=&#34;color:green&#34; placeholder=&#34;占位符字体是绿色的&#34; auto-focus/&gt; &lt;input style=&#34;margin-top:25px&#34; placeholder=&#34;这个只有在按钮点击的时候才聚焦&#34; focus=&#34;{{focus}}&#34; /&gt; &lt;button bindtap=&#34;bindButtonTap&#34;&gt;使得输入框获取焦点（在真机上测试）&lt;/button&gt; &lt;input style=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/73adb61c129be88ea5672d14efa248ff/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-23T23:59:36+08:00" />
<meta property="article:modified_time" content="2023-10-23T23:59:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序：单行输入和多行输入组件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>微信小程序提供了两种输入类型的输入框组件，分别是单行输入框 <code>&lt;input&gt;</code> 和多行输入框 <code>&lt;textarea&gt;</code>。</p> 
<p><strong>1. 单行输入组件（input）</strong></p> 
<p>单行输入框 <code>&lt;input&gt;</code> <code>&lt;input&gt;</code> 是一个用于收集用户输入的组件，主要用于收集单行文本输入。</p> 
<p>input组件用于录入单行文本，尽管input的基本功能是文本录入，但该组件的属性还是比较多的，也比较复杂。</p> 
<p>重要的属性有：</p> 
<p>主要的监听事件有：</p> 
<ul><li><code>value</code>：输入框的初始内容</li><li><code>type</code>：input 的类型，如 text, number, idcard, digit等</li><li><code>password</code>：是否是密码类型</li><li><code>placeholder</code>：输入框为空时占位符</li><li><code>disabled</code>：是否禁用</li><li><code>maxlength</code>：最大输入长度</li><li><code>confirm-type</code>：设置键盘右下角按钮的文字，如 send, search, next, go, done等</li><li><code>confirm-hold</code>：点击键盘右下角按钮时是否保持键盘不收起</li><li><code>bindinput</code>：当键盘输入时，触发 input 事件</li><li><code>bindfocus</code>：输入框聚焦时触发</li><li><code>bindblur</code>：输入框失去焦点时触发</li><li><code>bindconfirm</code>：点击完成时，键盘输入法收起的事件</li></ul> 
<blockquote> 
 <p>如下为input组件的属性及其含义：</p> 
 <ul><li>value：String类型，输入框的当前内容</li><li>type：String类型，默认值是text。可指定的值：text, number, idcard, digit</li><li>password：Boolean类型，默认值是false，是否以密码形式录入文本（所有的文本字符都显示为点）</li><li>placeholder：String类型，输入框为空时显示的文本</li><li>placeholder-style：String类型，指定 placeholder 的样式</li><li>placeholder-class：String类型，指定 placeholder 的样式名称</li><li>disabled：Boolean类型，默认值是false，表示是否禁用输入框</li><li>maxlength：Number类型，默认值是140，表示文本最大输入长度，设置为 -1 的时候不限制最大长度</li><li>auto-focus：Boolean类型，默认值是false，该属性为true，可以让当前输入框自动获得焦点，并且自动弹出软键盘。该属性只能在真机上测试，小程序开发工具目前没有软键盘。同一个wxml文件中，只能有一个输入框设置该属性为true，输入框还包括后面要介绍的textarea组件</li><li>focus：Boolean类型，默认值是false，该属性可以让输入框获的焦点，目前开发工具暂不支持，只能在真机上测试</li><li>bindinput：EventHandle类型 ，除了date/time类型外的输入框，当键盘输入时，触发input事件，event.detail = {value: value}，处理函数可以直接 return 一个字符串，将替换输入框的内容</li><li>bindfocus ：EventHandle类型，输入框获得焦点时触发，event.detail = {value: value}</li><li>bindblur：EventHandle类型，输入框失去焦点时触发，event.detail = {value: value}</li></ul> 
 <p>注意：这些属性中，auto-focus和focus目前只能在真机上测试。</p> 
</blockquote> 
<p>常用使用方法实例：</p> 
<pre><code class="language-XML">&lt;view style="margin:20px"&gt;
  &lt;input placeholder="请输入你的姓名" value="默认值" /&gt;
  &lt;input placeholder-style="color:green" placeholder="占位符字体是绿色的" auto-focus/&gt;
  &lt;input style="margin-top:25px" placeholder="这个只有在按钮点击的时候才聚焦" focus="{<!-- -->{focus}}" /&gt;
  &lt;button bindtap="bindButtonTap"&gt;使得输入框获取焦点（在真机上测试）&lt;/button&gt;
  &lt;input style="margin-top:25px" maxlength="10" placeholder="最大输入长度10" /&gt;
  &lt;view style="margin-top:25px"&gt;你输入的是：{<!-- -->{inputValue}}&lt;/view&gt;
  &lt;input bindinput="bindKeyInput" placeholder="输入同步到view中" /&gt;
  &lt;input style="margin-top:25px" bindinput="bindReplaceInput" placeholder="将&lt;和&gt;进行转义" /&gt;
  &lt;input style="margin-top:25px" bindinput="bindHideKeyboard" placeholder="输入close自动收起键盘" /&gt;
  &lt;input style="margin-top:25px" type="emoji" placeholder="这是一个带有表情的输入框" /&gt;
  &lt;input type="digit" placeholder="带小数点的数字键盘" /&gt;
  &lt;input type="idcard" placeholder="身份证输入键盘" /&gt;
  &lt;input password="true" placeholder="请输入你的密码" /&gt;
&lt;/view&gt;</code></pre> 
<p>完整实现代码如下：</p> 
<pre><code class="language-javascript">Page({
  data:{
    focus:false,
    inputValue:""
  },
  bindButtonTap:function(){
    this.setData({
      focus:true
    })
  },
  bindKeyInput:function(e){
    this.setData({
      inputValue:e.detail.value
    })
  },
  //  当输入&lt;和&gt;是，会自动转换为&lt;和&gt;
  bindReplaceInput:function(e){
    var value = e.detail.value;
    var pos = e.detail.cursor;
    if(pos != -1){
      //光标在中间
      var left = e.detail.value.slice(0,pos);
      //计算光标的位置
      pos = left.replace(/&lt;/g,'&lt;').replace(/&gt;/g,'&gt;').length;
    }
    //直接返回对象，可以对输入进行过滤处理，同时可以控制光标的位置
    return {
      value:value.replace(/&lt;/g,'&lt;').replace(/&gt;/g,'&gt;'),
      cursor:pos
    }
  },
  bindHideKeyboard:function(e){
    if(e.detail.value === "close"){
      //收起键盘
      wx.hideKeyboard();
    }
  }
})</code></pre> 
<p> <strong>2. 多行文本组件（textarea）</strong></p> 
<p>多行输入框 <code>&lt;textarea&gt;</code> <code>&lt;textarea&gt;</code> 是用来输入多行文本的。</p> 
<p>textarea允许输入多行文本，如果文本行数超过textarea组件的高度，会出现垂直滚动条。</p> 
<p>重要的属性有：</p> 
<ul><li><code>value</code>：输入框的初始内容</li><li><code>placeholder</code>：输入框为空时占位符</li><li><code>disabled</code>：是否禁用</li><li><code>maxlength</code>：最大输入长度</li><li><code>autoHeight</code>：是否自动增高，设置autoHeight时，style.height不生效</li></ul> 
<p>主要的监听事件同 <code>&lt;input&gt;</code>。</p> 
<blockquote> 
 <p>textarea有如下几个属性。</p> 
 <ul><li>value：String类型，输入框的内容</li><li>placeholder：String类型，输入框为空时显示的文本</li><li>placeholder-style：String类型，指定 placeholder 的样式</li><li>placeholder-class：String类型，指定 placeholder 的样式类名称</li><li>disabled：Boolean类型，默认值是false，是否禁用textarea组件</li><li>maxlength：Number类型，默认值是140，最大输入长度，设置为0的时候不限制最大长度</li><li>auto-focus：Boolean类型，默认值是false，用于自动聚焦，当获得焦点后，自动弹出软键盘，当前页面中只能有一个 &lt;textarea/&gt; 或 &lt;input/&gt; 设置 auto-focus 属性</li><li>focus：Boolean类型，默认值是false，获取焦点（开发工具暂不支持）</li><li>auto-height：Boolean类型，默认值是false，表示是否自动增高，设置auto-height时，style.height不生效</li><li>bindfocus ：EventHandle类型，输入框聚焦时触发</li><li>bindblur：EventHandle类型，输入框失去焦点时触发</li><li>bindlinechange：EventHandle 类型，输入框行数变化时调用</li></ul> 
</blockquote> 
<p>textarea组件的基本用法实例：</p> 
<pre><code class="language-javascript">&lt;view style="margin:20px"&gt;
  &lt;textarea bindblur="bindTextAreaBlur" auto-height placeholder="自动变高" style="background:#ff0"/&gt;
&lt;/view&gt;
&lt;view style="margin:20px"&gt;
  &lt;textarea placeholder="placeholder颜色是红色的" placeholder-style="color:red;"  /&gt;
&lt;/view&gt;
&lt;view style="margin:20px"&gt;
  &lt;textarea placeholder="这是一个可以自动聚焦的textarea" auto-focus /&gt;
&lt;/view&gt;
&lt;view style="margin:20px"&gt;
  &lt;textarea placeholder="这个只有在按钮点击的时候才聚焦" focus="{<!-- -->{focus}}" /&gt;
  &lt;view class="btn-area"&gt;
    &lt;button bindtap="bindButtonTap"&gt;使得输入框获取焦点&lt;/button&gt;
  &lt;/view&gt;
&lt;/view&gt;</code></pre> 
<p> 第一个textarea组件设置了auto-height属性，该组件会随着行数的增加而变高。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef0cd07e6730422281e25e73a5fa5892/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis未授权访问漏洞复现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/edde95224f12557d76bc9165b36dd3da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS-金山办公24届秋季校招-前端-滚雪球</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>