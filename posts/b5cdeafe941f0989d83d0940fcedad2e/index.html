<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络编程(详) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络编程(详)" />
<meta property="og:description" content="一.概述： 计算机网络
●是指将地理位置不同的具有 独立功能的多台计算机及其外部设备，通过通信线路连接起来，在网络操作系统，网络管理软件及网络通信协议的管理和协调下，实现资源共享和信息传递的计算机系统
网络编程
●在网络通信协议下，实现网络互连的不同计算机上运行的程序间可以进行数据交换
二.网络编程三要素： IP地址
●要想让网络中的计算机能够 互相通信,必须为每台计算机指定一个标识号, 通过这个标识号来指定要接收数据的计算机和识别发送的计算机，而P地址就是这个标识号。也就是设备的标识
端口
●网络的通信，本质上是两个应用程序的通信。每台计算机都有很多的应用程序,那么在网络通信时，如何区分这些应用程序呢?如果说IP地址可以唯一标识网络中的设备 ，那么端口号就可以唯一标识设备中的应用程序了。也就是应用程序的标识
协议
●通过计算机网络可以使多台计算机实现连接,位于同一个网络中的计算机在进行连接和通信时需要遵守定的规则，这就好比在道路中行驶的汽车一定要遵守交通规则一样。在计算机网络中，这些连接和通信的规则被称为网络通信协议,它对数据的传输格式、传输速率、传输步骤等做了统规定,通信双方必须同时遵守才能完成数据交换。常见的协议有UDP协议和TCP协议
一.IP地址 IP地址:是网络中设备的唯一标识。
1.ip地址的分类 ●IPv4: 是给每个连接在网络上的主机分配一个32bit地址。 按照TCP/IP规定，IP地址用二进制来表示，每个IP地址长32bit,也就是4个字节。例如一个采用二进制形式的IP地址是 “1100000 1010100 00000001 01000010* , 这么长的地址,处理起来也太费劲了。为了方便使用，IP地址经常被写成十进制的形式，中间使用符号&#34;.&#34;分隔不同的字节。于是，上面的IP地址可以表示为 “192.168.1.66&#34; 。IP地址的这种表示法叫做“点分十进制表示法”,这显然比1和0容易记忆得多
●IPv6: 由于互联网的蓬勃发展, IP地址的需求量愈来愈大,但是网络地址资源有限，使得IP的分配越发紧张。为了扩大地址空间，通过IPv6重新定义地址空间，采用128位地址长度，每16个字节一组, 分成8组十六进制数，这样就解决了网络地址资源数量不够的问题
2.IP常用命令： ipconfig：查看本机IP地址
ping IP地址：检查网络是否连通
3.IP地址操作类-InetAddress InetAddress类概述:
一个该类的对象就代表一个IP地址对象。
InetAddress类成员方法：
static InetAddress getLocalHost()
* 获得本地主机IP地址对象。
static InetAddress getByName(String host)
* 根据IP地址字符串或主机名获得对应的IP地址对象。
String getHostName()
* 获得主机名。
String getHostAddress()
* 获得IP地址字符串。
package 海绵hong; import java.net.InetAddress; public class InetAddressDemo01 { public static void main(String[] args) throws Exception { // 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b5cdeafe941f0989d83d0940fcedad2e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-20T16:16:53+08:00" />
<meta property="article:modified_time" content="2022-03-20T16:16:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络编程(详)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一.概述：</h2> 
<p><span style="color:#fe2c24;">计算机网络</span><br>         ●是指将地理位置不同的具有 独立功能的多台计算机及其外部设备，通过通信线路连接起来，在网络操作系统，网络管理软件及网络通信协议的管理和协调下，实现资源共享和信息传递的计算机系统<br><span style="color:#fe2c24;"> 网络编程</span><br>         ●在网络通信协议下，实现网络互连的不同计算机上运行的程序间可以进行数据交换</p> 
<h2>二.网络编程三要素：</h2> 
<p><span style="color:#fe2c24;">IP地址</span><br>         ●要想让网络中的计算机能够 互相通信,必须为每台计算机指定一个标识号, 通过这个标识号来指定要接收数据的计算机和识别发送的计算机，而P地址就是这个标识号。也就是设备的标识<br><span style="color:#fe2c24;">端口</span><br>         ●网络的通信，本质上是两个应用程序的通信。每台计算机都有很多的应用程序,那么在网络通信时，如何区分这些应用程序呢?如果说IP地址可以唯一标识网络中的设备 ，那么端口号就可以唯一标识设备中的应用程序了。也就是应用程序的标识<br><span style="color:#fe2c24;">协议</span><br>         ●通过计算机网络可以使多台计算机实现连接,位于同一个网络中的计算机在进行连接和通信时需要遵守定的规则，这就好比在道路中行驶的汽车一定要遵守交通规则一样。在计算机网络中，这些连接和通信的规则被称为网络通信协议,它对数据的传输格式、传输速率、传输步骤等做了统规定,通信双方必须同时遵守才能完成数据交换。常见的协议有UDP协议和TCP协议</p> 
<h3>一.IP地址</h3> 
<p>        IP地址:是网络中设备的唯一标识。</p> 
<h4>  1.ip地址的分类</h4> 
<p>        ●IPv4: 是给每个连接在网络上的主机分配一个32bit地址。 按照TCP/IP规定，IP地址用二进制来表示，每个IP地址长32bit,也就是4个字节。例如一个采用二进制形式的IP地址是 “1100000  1010100 00000001 01000010* , 这么长的地址,处理起来也太费劲了。为了方便使用，IP地址经常被写成十进制的形式，中间使用符号"."分隔不同的字节。于是，上面的IP地址可以表示为 “192.168.1.66" 。IP地址的这种表示法叫做“点分十进制表示法”,这显然比1和0容易记忆得多<br>         ●IPv6: 由于互联网的蓬勃发展, IP地址的需求量愈来愈大,但是网络地址资源有限，使得IP的分配越发紧张。为了扩大地址空间，通过IPv6重新定义地址空间，采用128位地址长度，每16个字节一组, 分成8组十六进制数，这样就解决了网络地址资源数量不够的问题</p> 
<h4>2.IP常用命令：</h4> 
<p>ipconfig：查看本机IP地址</p> 
<p>ping IP地址：检查网络是否连通</p> 
<h4>3.IP地址操作类-InetAddress</h4> 
<p>InetAddress类概述:<br>          一个该类的对象就代表一个IP地址对象。</p> 
<p>InetAddress类成员方法：<br>          static InetAddress getLocalHost()<br>             * 获得本地主机IP地址对象。<br>          static InetAddress getByName(String host)<br>             * 根据IP地址字符串或主机名获得对应的IP地址对象。<br>          String getHostName()<br>             * 获得主机名。<br>          String getHostAddress()<br>             * 获得IP地址字符串。</p> 
<pre><code class="language-java">package 海绵hong;
import java.net.InetAddress;
public class InetAddressDemo01 {
    public static void main(String[] args) throws Exception {
        // 1.获取本机地址对象。
        InetAddress ip1 = InetAddress.getLocalHost();
        System.out.println(ip1.getHostName());
        System.out.println(ip1.getHostAddress());

        // 2.获取域名ip对象
        InetAddress ip2 = InetAddress.getByName("www.baidu.com");
        System.out.println(ip2.getHostName());
        System.out.println(ip2.getHostAddress());

        // 3.获取公网IP对象。
        InetAddress ip3 = InetAddress.getByName("112.80.248.76");
        System.out.println(ip3.getHostName());
        System.out.println(ip3.getHostAddress());

        // 4.判断是否能通： ping  5s之前测试是否可通
        System.out.println(ip3.isReachable(5000));
    }
}</code></pre> 
<h3>二.端口</h3> 
<p>端口:</p> 
<p>        设备.上应用程序的唯一标识<br> 端口号:</p> 
<p>        用两个字节表示的整数，它的取值范围是0~65535中，0~1023之间的端口号用于些知名的网<br> 络服务和应用，普通的应用程序需要使用1024以上的端口号。如果端口号被另外一个服务或应用所占用,会导致当前程序启动失败。（失败咋换个端口号就行！！！）</p> 
<h3>三.协议</h3> 
<p>协议:</p> 
<p>        计算机网络中,连接和通信的规则被称为网络通信协议</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3c/25/h8mzfpHM_o.png"></p> 
<p></p> 
<h4>1.UDP协议</h4> 
<p>●用户数据报协议(User Datagram Protocol)<br> ●UDP是无连接通信协议，即在数据传输时，数据的发送端和接收端不建立逻辑连接。简单来说，当一台计算机向另外一台计算机发送数据时,发送端不会确认接收端是否存在，就会发出数据，同样接收端在收到数据时，也不会向发送端反馈是否收到数据。<br> 由于使用UDP协议消耗资源小，通信效率高，所以通常都会用于音频、视频和普通数据的传输<br> ●例如视频会议通常采用UDP协议, 因为这种情况即使偶尔丢失一两个数据包， 也不会对接收结果产生太大影响。但是在使用UDP协议传送数据时,由于UDP的面向无连接性,不能保证数据的完整性，因此在传输重要数据时不建议使用UDP协议。</p> 
<h4>1.1 UDP通信原理</h4> 
<p>UDP协议是一种不可靠的网络协议， 它在通信的两端各建立一个Socket对象, 但是这两个Socket只是发送，接收数据的对象因此对于基于UDP协议的通信双方而言,没有所谓的客户端和服务器的概念<br> Java提供了DatagramSocket类作为基于UDP协议的Socket</p> 
<h4>2.2 UDP发送数据</h4> 
<p>发送数据的步骤（粗略版）<br> ①创建发送端的Socket对象(DatagramSocket)<br> ②创建数据， 并把数据打包<br> ③调用DatagramSocket对象的方法发送数据<br> ④关闭发送端</p> 
<p><br> 发送数据的步骤（详细版）<br> ①创建发送端的Socket对象(DatagramSocket)<br> DatagramSocket)<br> ②创建数据, 并把数据打包<br> DatagramPacket(byteI] buf, int length, InetAddress address, int port)<br> ③调用DatagramSocket对象的方法发送数据<br> void send(DatagramPacket p)<br> ④关闭发送端<br> void close0<br>  </p> 
<pre><code class="language-java">package 网络编程;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;

/**
 发送端  一发 一收
 */
public class UDPfa {
    public static void main(String[] args) throws Exception {
        System.out.println("=====客户端启动======");

        // 1、创建发送端对象：发送端自带默认的端口号（人）
        DatagramSocket socket = new DatagramSocket(6666);

        // 2、创建一个数据包对象封装数据
        /**
         public DatagramPacket(byte buf[], int length,
         InetAddress address, int port)
         参数一：封装要发送的数据
         参数二：发送数据的大小
         参数三：服务端的主机IP地址
         参数四：服务端的端口
         */
        byte[] buffer = "海绵hong，有一个好工作".getBytes();
        DatagramPacket packet = new DatagramPacket( buffer, buffer.length,
                InetAddress.getLocalHost() , 8888);

        // 3、发送数据出去
        socket.send(packet);

        socket.close();
    }
}</code></pre> 
<h4> 2.3UDP发送数据</h4> 
<p>2.3 UDP接收数据<br> 接收数据的步骤<br> ①创建接收端的Socket对象(DatagramSocket)<br> DatagralfiSocket(int port)<br> ②创建一个数据包， 用于接收数据<br> DatagramPacket(byte[] buf, int length)<br> ③调用DatagramSocke对象的方法接收数据<br> void receive(DatagramPacketp)<br> ④解析数据包， 并把数据在控制台显示<br> byte[] getData()<br> int getLength()<br> ⑤关闭接收端<br> void close()</p> 
<pre><code class="language-java">package 网络编程;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.SocketException;

/**
 接收端
 */
public class UDPjie {
    public static void main(String[] args) throws Exception {
        System.out.println("=====服务端启动======");
        // 1、创建接收端对象：注册端口（人）
        DatagramSocket socket = new DatagramSocket(8888);

        // 2、创建一个数据包对象接收数据（韭菜盘子）
        byte[] buffer = new byte[1024 * 64];
        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);

        // 3、等待接收数据。
        socket.receive(packet);

        // 4、取出数据即可
        // 读取多少倒出多少
        int len = packet.getLength();
        String rs = new String(buffer,0, len);
        System.out.println("收到了：" + rs);

        // 获取发送端的ip和端口
        String ip  =packet.getSocketAddress().toString();
        System.out.println("对方地址：" + ip);

        int port  = packet.getPort();
        System.out.println("对方端口：" + port);

        socket.close();
    }
}</code></pre> 
<p><br><img alt="" src="https://images2.imgbox.com/d9/83/0lejrG1k_o.png"></p> 
<p></p> 
<h4>2.TCP协议</h4> 
<p>●传输控制协议 (Transmission Control Protocol)<br> ●TCP协议是面向连接的通信协议，即传输数据之前，在发送端和接收端建立逻辑连接，然后再传输数据,它提供了两台计算机之间可靠无差错的数据传输。在TCP连接中必须要明确客户端与服务器端，由客户端向服务端发出连接请求,每次连接的创建都需要经过"三次握手”<br> ●三次握手: TCP协议中，在发送数据的准备阶段，客户端与服务器之间的三次交互,以保证连接的可靠<br>         第一次握手：客户端向服务器端发出连接请求，等待服务器确认<br>         第二次握手：服务器端向客户端回送一个响应, 通知客户端收到了连接请求<br>         第三次握手：客户端再次向服务器端发送确认信息，确认连接</p> 
<p>●完成三次握手,连接建立后，客户端和服务器就可以开始进行数据传输了。由于这种面向连接的特性,TCP协议可以保证传输数据的安全，所以应用十分广泛。例如.上传文件、下载文件、 浏览网页等<br>  </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/56/0f/fNnuQ5eC_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/da/be/TVnffnB7_o.png"></p> 
<h4> 2.1 TCP通信原理</h4> 
<p>TCP通信协议是一种可靠的网络协议,它在通信的两端各建立-个Socket对象,从而在通信的两端形成网络虚拟链路,一旦建立 了虚拟的网络链路,两端的程序就可以通过虚拟链路进行通信<br> Java对基于TCP协议的的网络提供了良好的封装，使用Socket对象来代表两端的通信端口，并通过Socket产生0流来进行网络通信<br> Java为客户端提供了Socket类,为服务器端提供了ServerSocket类</p> 
<h4>2.2TCP发送数据：</h4> 
<p>发送数据的步骤:<br> ①创建客户端的Socket对象(Socket)<br> Socket(String host, int port)<br> ②获取输出流， 写数据<br> OutputStreamgetOutputStream()<br> ③释放资源<br> void close()<br>  </p> 
<pre><code class="language-java">import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintStream;
import java.net.Socket;


public class ClientDemo1 {
    public static void main(String[] args) {
        try {
            System.out.println("====客户端启动===");
            // 1、创建Socket通信管道请求有服务端的连接
            // public Socket(String host, int port)
            // 参数一：服务端的IP地址
            // 参数二：服务端的端口
            Socket socket = new Socket("127.0.0.1", 7777);

            // 2、从socket通信管道中得到一个字节输出流 负责发送数据
            OutputStream os = socket.getOutputStream();

            // 3、把低级的字节流包装成打印流
            PrintStream ps = new PrintStream(os);

            // 4、发送消息
            ps.println("我是TCP的客户端，我已经与你对接，并发出邀请：约吗？");
            ps.flush();

            // 关闭资源。
            // socket.close();

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}</code></pre> 
<h4>2.3TCP接收数据</h4> 
<p>接收数据的步骤<br> ①创建服务器端的Socket对象(ServerSocket)<br> ServerSocket(int port)<br> ②监听客户端连接， 返回一-个Socket对象<br> Socket accept()<br> ③获取输入流, 读数据,并把数据显示在控制台<br> InputStream getlnputStream()<br> ④释放资源<br> void close()<br>  </p> 
<pre><code class="language-java">import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;


public class ServerDemo2 {
    public static void main(String[] args) {
        try {
            System.out.println("===服务端启动成功===");
            // 1、注册端口
            ServerSocket serverSocket = new ServerSocket(7777);
            // 2、必须调用accept方法：等待接收客户端的Socket连接请求，建立Socket通信管道
            Socket socket = serverSocket.accept();
            // 3、从socket通信管道中得到一个字节输入流
            InputStream is = socket.getInputStream();
            // 4、把字节输入流包装成缓冲字符输入流进行消息的接收
            BufferedReader br = new BufferedReader(new InputStreamReader(is));
            // 5、按照行读取消息
            String msg;
            if ((msg = br.readLine()) != null){
                System.out.println(socket.getRemoteSocketAddress() + "说了：: " + msg);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3de0235e97fd0c4e28e0f1883790897c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis入门以及在Linux下的环境搭建(解决三个Warning和启动服务器以及客户端)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/09c97cc2c4a4e6ffee550a7e0856c5c4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Lambda表达式、函数式接口、方法引用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>