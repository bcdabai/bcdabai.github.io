<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端：常用点，记不到(1) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前端：常用点，记不到(1)" />
<meta property="og:description" content="1、this.$router.back(); //返回上一级 2、父组件可以使用 props 把数据传给子组件。 3、子组件可以使用 $emit 触发父组件的自定义事件。 Moment （超常用，时间转换） 1、将时间转换为时间戳（每次这么简单，我为啥记不住）
moment(start_time).valueOf() / 1000 2、只有时间可以转换为moment对象（反显在组件上面）
[moment(start_time), moment(end_time)] [moment( 2019-12-18 14:27:38), moment( 2019-12-18 14:27:38)] 3、将时间戳转为时间
moment(item.deal_info.time * 1000).format(&#34;YYYY-MM-DD HH:mm:ss&#34;) 4、将组件选择的当前时间转为当天的零点(难受)
moment(moment(date[0]).format(&#34;YYYY-MM-DD 00:00:00&#34;)).valueOf() / 1000 5、将时分秒格式为时间戳
//将选中的时间初始为当天的凌晨 export function initFormatMorning(data) { return moment(moment(data).format(&#34;YYYY-MM-DD 00:00:00&#34;)).valueOf() / 1000; } // 将选中的时间初始为者当天的最后时分秒 export function initFormatEvening(data) { return moment(moment(data).format(&#34;YYYY-MM-DD 23:59:59&#34;)).valueOf() / 1000; } //将时间戳格式为年月日，时分秒 export function formatTime(data) { return moment(data * 1000).format(&#34;YYYY-MM-DD HH:mm:ss&#34;); } /将时分秒直接格式为时间戳 export function timeStamp(data) { let delDataTime = moment( moment() ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7d3ee1b6358d2f51abeeca8ad65dc112/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-04T17:49:21+08:00" />
<meta property="article:modified_time" content="2023-08-04T17:49:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端：常用点，记不到(1)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code class="prism language-asciiarmor">1、this.$router.back(); //返回上一级
2、父组件可以使用 props 把数据传给子组件。
3、子组件可以使用 $emit 触发父组件的自定义事件。
</code></pre> 
<h2><a id="Moment__6"></a>Moment （超常用，时间转换）</h2> 
<p>1、将时间转换为时间戳（每次这么简单，我为啥记不住）</p> 
<pre><code class="prism language-js"><span class="token function">moment</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span>
</code></pre> 
<p>2、只有时间可以转换为moment对象（反显在组件上面）</p> 
<pre><code class="prism language-js"> <span class="token punctuation">[</span><span class="token function">moment</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">moment</span><span class="token punctuation">(</span>end_time<span class="token punctuation">)</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span><span class="token function">moment</span><span class="token punctuation">(</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">27</span><span class="token operator">:</span><span class="token number">38</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">moment</span><span class="token punctuation">(</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">27</span><span class="token operator">:</span><span class="token number">38</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>3、将时间戳转为时间</p> 
<pre><code class="prism language-js"><span class="token function">moment</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>deal_info<span class="token punctuation">.</span>time <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD HH:mm:ss"</span><span class="token punctuation">)</span>
</code></pre> 
<p>4、将组件选择的当前时间转为当天的零点(难受)</p> 
<pre><code class="prism language-js"><span class="token function">moment</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span>date<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD 00:00:00"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span>
</code></pre> 
<p>5、将时分秒格式为时间戳</p> 
<pre><code class="prism language-js"><span class="token comment">//将选中的时间初始为当天的凌晨</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initFormatMorning</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD 00:00:00"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 将选中的时间初始为者当天的最后时分秒</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initFormatEvening</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD 23:59:59"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//将时间戳格式为年月日，时分秒</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatTime</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>data <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">/</span>将时分秒直接格式为时间戳
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">timeStamp</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> delDataTime <span class="token operator">=</span>
    <span class="token function">moment</span><span class="token punctuation">(</span>
      <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token string">"days"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD 00:00:00"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">当天的零点</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token function">moment</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">-</span>
    delDataTime
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_65"></a>模糊搜索：</h6> 
<p>1、先树，（正确）删除，（正确）；再在上面加下拉框的，正确；删除（正确），</p> 
<p>2、下拉框）（不正确），删除不正确；再在上面加树正确，再删除，有些正确，有些有问题</p> 
<p>上面的都没有问题了，现在的问题是，如何实时刷新树组件</p> 
<h2><a id="_73"></a>笔记</h2> 
<h3><a id="2if_75"></a>2、编辑或新增的时候，必填的判断（不需要多个if）</h3> 
<pre><code class="prism language-js">      <span class="token keyword">const</span> massageRemind <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"请填写名称"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"service_city_id"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"请选择所在市县"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"address"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"请请选择基地地址"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"place_pics"</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"请上传基地图片"</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> massageRemind<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">[</span>massageRemind<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>$Msg<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>massageRemind<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="demo_93"></a>demo</h3> 
<p>1、表格里面的操作，全部分离出来</p> 
<pre><code class="prism language-js">	<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 在渲染该组件的对应路由被 confirm 前调用</span>
      <span class="token comment">// 不！能！获取组件实例 `this`</span>
      <span class="token comment">// 因为当钩子执行前，组件实例还没被创建</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 在当前路由改变，但是该组件被复用时调用</span>
      <span class="token comment">// 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，</span>
      <span class="token comment">// 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span>
      <span class="token comment">// 可以访问组件实例 `this`</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 导航离开该组件的对应路由时调用</span>
      <span class="token comment">// 可以访问组件实例 `this`</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">/</span>相当于是构造函数
<span class="token comment">//根据屏幕获取宽高</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getCategory</span><span class="token punctuation">(</span><span class="token parameter">screenWidth<span class="token punctuation">,</span> self</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> screenData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">greater_than</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">less_than</span><span class="token operator">:</span> <span class="token number">1300</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"inline_xl"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">greater_than</span><span class="token operator">:</span> <span class="token number">1299</span><span class="token punctuation">,</span>
      <span class="token literal-property property">less_than</span><span class="token operator">:</span> <span class="token number">1400</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"inline_xl"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">9</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">greater_than</span><span class="token operator">:</span> <span class="token number">1399</span><span class="token punctuation">,</span>
      <span class="token literal-property property">less_than</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"inline_xl"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">8</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">greater_than</span><span class="token operator">:</span> <span class="token number">1499</span><span class="token punctuation">,</span>
      <span class="token literal-property property">less_than</span><span class="token operator">:</span> <span class="token number">1600</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">"inline_xl"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  screenData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>screenWidth <span class="token operator">&gt;</span> item<span class="token punctuation">.</span>greater_than <span class="token operator">&amp;&amp;</span> screenWidth <span class="token operator">&lt;</span> item<span class="token punctuation">.</span>less_than<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      self<span class="token punctuation">[</span>item<span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="Webstorm_151"></a>Webstorm快捷键</h2> 
<p>1、全局替换：ctrl+shift+r</p> 
<p>2、快速定位页码：</p> 
<blockquote> 
 <p><strong>界面操作</strong></p> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+shift+N</strong></td><td>通过文件名快速查找工程内的文件（必记）</td></tr><tr><td><strong>ctrl+shift+alt+N</strong></td><td>通过一个字符快速查找位置（必记）</td></tr><tr><td><strong>ctrl+F</strong></td><td>在文件内快速查找代码</td></tr><tr><td><strong>F3</strong></td><td>查找下一个</td></tr><tr><td><strong>shift+F3</strong></td><td>查找上一个</td></tr><tr><td><strong>ctrl+R</strong></td><td>文件内代码替换</td></tr><tr><td><strong>ctrl+shift+R</strong></td><td>指定目录内代码批量替换</td></tr><tr><td><strong>ctrl+shift+F</strong></td><td>指定目录内代码批量查找</td></tr><tr><td><strong>ctrl+R</strong></td><td>文件内代码替换</td></tr></tbody></table> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+shift+A</strong></td><td>快速查找并使用编辑器所有功能（必记）</td></tr><tr><td><strong>alt+[0-9]</strong></td><td>快速拆合功能界面模块</td></tr><tr><td><strong>ctrl+shift+F12</strong></td><td>最大区域显示代码（会隐藏其他的功能界面模块）</td></tr><tr><td><strong>alt+shift+F</strong></td><td>将当前文件加入收藏夹</td></tr><tr><td><strong>ctrl+alt+s</strong></td><td>打开配置窗口</td></tr><tr><td><strong>ctrl+tab</strong></td><td>切换代码选项卡（还要进行此选择，效率差些）</td></tr><tr><td><strong>alt+&lt;-或-&gt;</strong></td><td>切换代码选项卡</td></tr></tbody></table> 
 <p><strong>界面操作</strong></p> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+shift+N</strong></td><td>通过文件名快速查找工程内的文件（必记）</td></tr><tr><td><strong>ctrl+shift+alt+N</strong></td><td>通过一个字符快速查找位置（必记）</td></tr><tr><td><strong>ctrl+F</strong></td><td>在文件内快速查找代码</td></tr><tr><td><strong>F3</strong></td><td>查找下一个</td></tr><tr><td><strong>shift+F3</strong></td><td>查找上一个</td></tr><tr><td><strong>ctrl+R</strong></td><td>文件内代码替换</td></tr><tr><td><strong>ctrl+shift+R</strong></td><td>指定目录内代码批量替换</td></tr><tr><td><strong>ctrl+shift+F</strong></td><td>指定目录内代码批量查找</td></tr><tr><td><strong>ctrl+R</strong></td><td>文件内代码替换</td></tr></tbody></table> 
 <p>代码编辑</p> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+shift+A</strong></td><td>快速查找并使用编辑器所有功能（必记）</td></tr><tr><td><strong>alt+[0-9]</strong></td><td>快速拆合功能界面模块</td></tr><tr><td><strong>ctrl+shift+F12</strong></td><td>最大区域显示代码（会隐藏其他的功能界面模块）</td></tr><tr><td><strong>alt+shift+F</strong></td><td>将当前文件加入收藏夹</td></tr><tr><td><strong>ctrl+alt+s</strong></td><td>打开配置窗口</td></tr><tr><td><strong>ctrl+tab</strong></td><td>切换代码选项卡（还要进行此选择，效率差些）</td></tr><tr><td><strong>alt+&lt;-或-&gt;</strong></td><td>切换代码选项卡</td></tr><tr><td><strong>ctrl+F4</strong></td><td>关闭当前代码选项卡</td></tr></tbody></table> 
 <p><strong>导航</strong></p> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+D</strong></td><td>复制当前行</td></tr><tr><td><strong>ctrl+W</strong></td><td>选中单词</td></tr><tr><td><strong>ctrl+&lt;-或-&gt;</strong></td><td>以单词作为边界跳光标位置</td></tr><tr><td><strong>alt+Insert</strong></td><td>新建一个文件或其他</td></tr><tr><td><strong>ctrl+alt+L</strong></td><td>格式化代码</td></tr><tr><td><strong>shift+tab/tab</strong></td><td>减少/扩大缩进（可以在代码中减少行缩进）</td></tr><tr><td><strong>ctrl+Y</strong></td><td>删除一行</td></tr><tr><td><strong>shift+enter</strong></td><td>重新开始一行（无论光标在哪个位置）</td></tr></tbody></table> 
 <p><strong>建议配置版本控制快捷键</strong></p> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>esc</strong></td><td>进入代码编辑区域</td></tr><tr><td><strong>alt+F1</strong></td><td>查找代码在其他界面模块的位置，颇为有用</td></tr><tr><td><strong>ctrl+G</strong></td><td>到指定行的代码</td></tr><tr><td><strong>ctrl+]/[</strong></td><td>光标到代码块的前面或后面</td></tr><tr><td><strong>alt+up/down</strong></td><td>上一个/下一个方法</td></tr></tbody></table> 
 <table><thead><tr><th>快捷键</th><th>说明</th></tr></thead><tbody><tr><td><strong>ctrl+C</strong></td><td>提交代码</td></tr><tr><td><strong>ctrl+p</strong></td><td>向远程版本库推送更新</td></tr><tr><td><strong>ctrl+G</strong></td><td>到指定行的代码</td></tr><tr><td><strong>ctrl+]/[</strong></td><td>光标到代码块的前面或后面</td></tr><tr><td><strong>alt+up/down</strong></td><td>上一个/下一个方法</td></tr></tbody></table> 
</blockquote> 
<h2><a id="_239"></a>浏览器</h2> 
<h3><a id="UserAgent__241"></a>User-Agent （用户代理）</h3> 
<p>User Agent中文名为用户代理，简称 UA，它是一个特殊字符串头，使得服务器能够识别客户使用的<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192" rel="nofollow">操作系统</a>及版本、CPU 类型、<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8/213911" rel="nofollow">浏览器</a>及版本、浏览器渲染引擎、浏览器语言、<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6/8330255" rel="nofollow">浏览器插件</a>等。（标识浏览器身份）</p> 
<p>一些网站常常通过判断 UA 来给不同的<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" rel="nofollow">操作系统</a>、不同的<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8" rel="nofollow">浏览器</a>发送不同的页面，因此可能造成某些页面无法在某个浏览器中正常显示，但通过伪装 UA 可以绕过检测。</p> 
<p>这个都是浏览器的伪装，JS是不能实现问题，不能解决网页端实现手机端的标识 ，JS不能实现</p> 
<p>1、JS不能修改User-Agent （报错：Refused to set unsafe header “User-Agent”）</p> 
<h3><a id="_withCredentials_true_251"></a>前端跨域设置 withCredentials: true</h3> 
<blockquote> 
 <p>在做登录认证的时候，会出现请求未登录的情况，查看请求头的时候发现并没有把登录时的cookie设置到第二次的请求头里面。查看资料才知道跨域请求要想带上cookie，必须要在ajax请求里加上xhrFields: {withCredentials: true}, crossDomain: true。</p> 
 <p>再次访问发现请求头可以携带cookie了。</p> 
</blockquote> 
<h3><a id="CrossOrigin_258"></a>注解@CrossOrigin解决跨域问题</h3> 
<h4><a id="CrossOrigin_260"></a>注解@CrossOrigin</h4> 
<p>出于安全原因，浏览器禁止Ajax调用驻留在当前原点之外的资源。例如，当你在一个标签中检查你的银行账户时，你可以在另一个选项卡上拥有EVILL网站。来自EVILL的脚本不能够对你的银行API做出Ajax请求（从你的帐户中取出钱！）使用您的凭据。</p> 
<p>跨源资源共享（CORS）是由大多数浏览器实现的W3C规范，允许您灵活地指定什么样的跨域请求被授权，而不是使用一些不太安全和不太强大的策略，如IFRAME或JSONP</p> 
<h4><a id="CORS_266"></a>一、跨域(CORS)支持：</h4> 
<p>pring Framework 4.2 GA为CORS提供了第一类支持，使您比通常的基于过滤器的解决方案更容易和更强大地配置它。所以springMVC的版本要在4.2或以上版本才支持@CrossOrigin</p> 
<h4><a id="_270"></a>二、使用方法：</h4> 
<h2><a id="npmcnpm_272"></a>npm和cnpm</h2> 
<p>npm （nodejs平台上写的js模块的管理工具 下载、互相依赖等）</p> 
<pre><code class="prism language-js"><span class="token operator">/</span>npm install 本地项目的node_modules文件夹  ，
<span class="token comment">//-g  npm config prefix 目录eg: /usr/local</span>
<span class="token comment">//--save(-S为简写) 保存至package.json  dependencies，npm install 会安装 线上会用 {最常用---------}</span>
<span class="token comment">//--save-dev(-D为简写)　　保存至package.json  devDependencies，npm install 会安装 仅本地项目使用</span>
<span class="token comment">//还可以混合使用　　npm install lint-staged -D -S    配置　　</span>
</code></pre> 
<h2><a id="_286"></a>数据请求</h2> 
<h4><a id="1General_288"></a>1、General</h4> 
<ol><li>Request URL: 请求链接</li><li>Request Method: 请求方式（正常表单提交，post）</li><li>Status Code:HTTP响应状态码（状态码有很多）</li><li>Remote Address: 127.0.0.1:8080</li><li>Referrer Policy: no-referrer-when-downgrade</li></ol> 
<h4><a id="2Response_Headers_296"></a>2、Response Headers（响应头）</h4> 
<ol><li>access-control-allow-headers: x-requested-with,content-type</li><li>access-control-allow-methods: POST</li><li>access-control-allow-origin: *</li><li>cache-control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0</li><li>connection: close（连接的管理）</li><li>content-type: application/json</li><li>date: Fri, 13 Mar 2020 07:40:13 GMT（响应的时间）</li><li>expires: Thu, 19 Nov 1981 08:52:00 GMT</li><li>pragma: no-cache</li><li>server: nginx(HTTP服务器的安装信息)</li><li>set-cookie: XBSERVERSESSID=rjagpa88g4eb46fjt0pp53g6b4; path=/</li><li>transfer-encoding: chunked</li><li>X-Powered-By: Express</li></ol> 
<h4><a id="3Request_Headers_312"></a>3、Request Headers（请求头）</h4> 
<ol><li>Accept: application/json, text/plain, <em>/</em> （服务器能发送的媒体类型）</li><li>Accept-Encoding: gzip, deflate, br（支持的编码）</li><li>Accept-Language: zh-CN,zh;q=0.9,en;q=0.8（支持的自然语言）</li><li>Connection: keep-alive（连接状态）</li><li>Content-Length: 30（实体的长度）</li><li>Content-Type:请求的资源响应回来的类型（text/html说明这是个html页面，支持的字符集编码为UTF-8）(实体主体的媒体信息)</li><li>Cookie: 记录用户状态信息（客户端发送给服务器的身份标识）</li><li>Host:主机（指定请求资源的主机）</li><li>Origin: http://localhost:8080</li><li>Referer: http://localhost:8080/（指明了请求当前资源的原始资源的url）</li><li>Sec-Fetch-Mode: cors（）</li><li>Sec-Fetch-Site: same-origin</li><li>User-Agent: 浏览器的类型表示，附带你的机器信息（爬虫通过伪造这个，将生硬的爬虫请求变成浏览器请求）</li><li>X-REQUESTED-WITH: XMLHttpRequest</li></ol> 
<h4><a id="4Form_Data_329"></a>4、Form Data</h4> 
<h2><a id="_333"></a>富文本</h2> 
<pre><code class="prism language-js">
<span class="token keyword">const</span> toolbarOptions <span class="token operator">=</span> <span class="token punctuation">[</span>
 
  <span class="token punctuation">[</span><span class="token string">'bold'</span><span class="token punctuation">,</span> <span class="token string">'italic'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'blockquote'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'header'</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'header'</span><span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'list'</span><span class="token operator">:</span> <span class="token string">'ordered'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'list'</span><span class="token operator">:</span> <span class="token string">'bullet'</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'indent'</span><span class="token operator">:</span> <span class="token string">'-1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'indent'</span><span class="token operator">:</span> <span class="token string">'+1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'header'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'color'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'background'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'align'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ['clean'],</span>
  <span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token string">'image'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'video'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">'data-toggle'</span><span class="token operator">:</span> <span class="token string">'tooltip'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'data-placement'</span><span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'title'</span><span class="token operator">:</span> <span class="token string">'上传音视频'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'clean'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'undo'</span><span class="token punctuation">,</span> <span class="token string">'redo'</span><span class="token punctuation">]</span>
  <span class="token comment">// ['html']</span>
 
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> titleConfig <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">'ql-bold'</span><span class="token operator">:</span> <span class="token string">'加粗'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-color'</span><span class="token operator">:</span> <span class="token string">'颜色'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-font'</span><span class="token operator">:</span> <span class="token string">'字体'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-code'</span><span class="token operator">:</span> <span class="token string">'插入代码'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-italic'</span><span class="token operator">:</span> <span class="token string">'斜体'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-link'</span><span class="token operator">:</span> <span class="token string">'添加链接'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-background'</span><span class="token operator">:</span> <span class="token string">'背景颜色'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-size'</span><span class="token operator">:</span> <span class="token string">'字体大小'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-strike'</span><span class="token operator">:</span> <span class="token string">'删除线'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-script'</span><span class="token operator">:</span> <span class="token string">'上标/下标'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-underline'</span><span class="token operator">:</span> <span class="token string">'下划线'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-blockquote'</span><span class="token operator">:</span> <span class="token string">'引用'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-header'</span><span class="token operator">:</span> <span class="token string">'标题'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-indent'</span><span class="token operator">:</span> <span class="token string">'缩进'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-list'</span><span class="token operator">:</span> <span class="token string">'列表'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-align'</span><span class="token operator">:</span> <span class="token string">'文本对齐'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-direction'</span><span class="token operator">:</span> <span class="token string">'文本方向'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-code-block'</span><span class="token operator">:</span> <span class="token string">'代码块'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-formula'</span><span class="token operator">:</span> <span class="token string">'公式'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-image'</span><span class="token operator">:</span> <span class="token string">'图片'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-video'</span><span class="token operator">:</span> <span class="token string">'视频'</span><span class="token punctuation">,</span>
  <span class="token string-property property">'ql-clean'</span><span class="token operator">:</span> <span class="token string">'清除字体样式'</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">addQuillTitle</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> oToolBar <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ql-toolbar'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    aButton <span class="token operator">=</span> oToolBar<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    aSelect <span class="token operator">=</span> oToolBar<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'select'</span><span class="token punctuation">)</span>
  aButton<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>className <span class="token operator">===</span> <span class="token string">'ql-script'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'sub'</span> <span class="token operator">?</span> item<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'下标'</span> <span class="token operator">:</span> item<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'上标'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>className <span class="token operator">===</span> <span class="token string">'ql-indent'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      item<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">'+1'</span> <span class="token operator">?</span> item<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'向右缩进'</span> <span class="token operator">:</span> item<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'向左缩进'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      item<span class="token punctuation">.</span>title <span class="token operator">=</span> titleConfig<span class="token punctuation">[</span>item<span class="token punctuation">.</span>classList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  aSelect<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    item<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>title <span class="token operator">=</span> titleConfig<span class="token punctuation">[</span>item<span class="token punctuation">.</span>classList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="scss_427"></a>scss</h2> 
<p>1 、引用父级选择器“&amp;”</p> 
<p>Scss使用"&amp;"关键字在CSS规则中引用父级选择器，例如在嵌套使用伪类选择器的场景下：</p> 
<pre><code class="prism language-js"><span class="token comment">/*===== SCSS =====*/</span>
a <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
  text<span class="token operator">-</span>decoration<span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span>hover <span class="token punctuation">{<!-- --></span> text<span class="token operator">-</span>decoration<span class="token operator">:</span> underline<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  body<span class="token punctuation">.</span>firefox <span class="token operator">&amp;</span> <span class="token punctuation">{<!-- --></span> font<span class="token operator">-</span>weight<span class="token operator">:</span> normal<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*===== CSS =====*/</span>
a <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
  text<span class="token operator">-</span>decoration<span class="token operator">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span>hover <span class="token punctuation">{<!-- --></span>
    text<span class="token operator">-</span>decoration<span class="token operator">:</span> underline<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  body<span class="token punctuation">.</span>firefox a <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> normal<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> 
<p>无论CSS规则嵌套的深度怎样，关键字"&amp;"都会使用父级选择器级联替换全部其出现的位置：</p> 
<pre><code class="prism language-js"><span class="token comment">/*===== SCSS =====*/</span>
#main <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> black<span class="token punctuation">;</span>
  a <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span>hover <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*===== CSS =====*/</span>
#main <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> black<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  #main a <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    #main a<span class="token operator">:</span>hover <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> 
<p>"&amp;"必须出现在复合选择器开头的位置，后面再连接自定义的后缀，例如：</p> 
<pre><code class="prism language-js"><span class="token comment">/*===== SCSS =====*/</span>
#main <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> black<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span><span class="token operator">-</span>sidebar <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*===== CSS =====*/</span>
#main <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> black<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  #main<span class="token operator">-</span>sidebar <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> 
<p>如果在父级选择器不存在的场景使用&amp;，Scss预处理器会报出错误信息。</p> 
<h4><a id="_491"></a>嵌套属性</h4> 
<p>CSS许多属性都位于相同的命名空间（例如font-family、font-size、font-weight都位于font命名空间下），Scss当中只需要编写命名空间一次，后续嵌套的子属性都将会位于该命名空间之下，请看下面的代码：</p> 
<pre><code class="prism language-js"><span class="token comment">/*===== SCSS =====*/</span>
<span class="token punctuation">.</span>demo <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 命令空间后带有冒号:</span>
  <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">family</span><span class="token operator">:</span> fantasy<span class="token punctuation">;</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> 30em<span class="token punctuation">;</span>
    <span class="token literal-property property">weight</span><span class="token operator">:</span> bold<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*===== CSS =====*/</span>
<span class="token punctuation">.</span>demo <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>family<span class="token operator">:</span> fantasy<span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 30em<span class="token punctuation">;</span>
  font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> 
<p>命令空间上可以直接书写CSS简写属性，但是日常开发中建议直接书写CSS简写属性，尽量保持CSS语法的一致性。</p> 
<pre><code class="prism language-js"><span class="token punctuation">.</span>demo <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">font</span><span class="token operator">:</span> 20px<span class="token operator">/</span>24px fantasy <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">weight</span><span class="token operator">:</span> bold<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>demo <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">font</span><span class="token operator">:</span> 20px<span class="token operator">/</span>24px fantasy<span class="token punctuation">;</span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="transition_528"></a>transition</h3> 
<pre><code class="prism language-js"><span class="token operator">/</span>使用transition元素把需要被动画控制的元素，包裹起来
<span class="token comment">//可以区分不同组织间的动画</span>
</code></pre> 
<h2><a id="JavaScript_535"></a>JavaScript</h2> 
<h3><a id="1_537"></a>1.数组</h3> 
<h4><a id="11mapforEach_539"></a>1.1数组（map、forEach）(超常用)</h4> 
<pre><code class="prism language-js">Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token comment">//判断是否是数组</span>
</code></pre> 
<p>1.1.1 map</p> 
<pre><code class="prism language-js"><span class="token operator">/</span>map  返回一个新的数组，其本身的数组是不改变的
<span class="token comment">//map()返回一个新数组，原数组不会改变。</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> list<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> value<span class="token operator">*</span>value
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
<span class="token number">2</span>、方法二
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">''</span>        
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">//对象循环</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> objData <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token operator">/</span>key 就为当前的对象里面键（循环出来）
<span class="token punctuation">}</span>
</code></pre> 
<p>1.1.2 forEach</p> 
<pre><code class="prism language-js"><span class="token operator">/</span>forEach  可以在以前的基础上进行修改
<span class="token comment">//forEach()返回值是undefined，不可以链式调用。</span>
<span class="token comment">//没有办法终止或者跳出forEach()循环，除非抛出异常，所以想执行一个数组是否满足什么条件，返回布尔值，可以用一般的for循环实现，或者用Array.every()或者Array.some();</span>
<span class="token comment">//$.each()方法规定为每个匹配元素规定运行的函数，可以返回 false 可用于及早停止循环。</span>
<span class="token keyword">let</span> arrData<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrData<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> arrData<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token operator">*</span>value
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrData<span class="token punctuation">)</span>  <span class="token comment">//arr=[1,4,9,16,25];</span>
<span class="token number">1</span>、方法一        
<span class="token keyword">this</span><span class="token punctuation">.</span>selectList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
              <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token function">getId</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="12_593"></a>1.2数组（筛选关键字）</h4> 
<pre><code class="prism language-js">    <span class="token function">filterTreeNode</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> arrDara<span class="token operator">=</span><span class="token function">recurSave</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>newtreeData<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">recurSave</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> keyWord</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> item <span class="token operator">=</span> list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>keyWord<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            result <span class="token operator">=</span> <span class="token function">recurSave</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">,</span> keyWord<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>treeData<span class="token operator">=</span>arrDara<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>treeData<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="13_619"></a>1.3数组（不同类型的递归）</h4> 
<p>理论：</p> 
<ul><li>递归就是程序不断调用自身，递归方法就是方法直接或间接调用自身的方法</li></ul> 
<p>递归的特点：</p> 
<ul><li>反复执行的过程（调用自身）</li><li>结束反复执行过程的条件（方法跳出点）</li></ul> 
<p>递归的缺点：</p> 
<ul><li>耗内存，耗资源，不易阅读！不易阅读！不易阅读！（重要的事情说三遍）</li></ul> 
<pre><code class="prism language-js"><span class="token operator">/</span>需求一：已知整个数组可以某个数据的id，如何将其对应的父元素和子元素全部提取出来
          <span class="token keyword">function</span> <span class="token function">familyTreeqee</span> <span class="token punctuation">(</span><span class="token parameter">arr1<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              <span class="token keyword">function</span> <span class="token function">forFn</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                      <span class="token keyword">let</span> item <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                          temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token function">forFn</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> item<span class="token punctuation">.</span>parent_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token keyword">break</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                              <span class="token function">forFn</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
              <span class="token function">forFn</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
              <span class="token keyword">return</span> temp
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">/</span>需求二：已知整个数组和id，然后查找当前id的所有数据
     <span class="token keyword">function</span> <span class="token function">familyTree</span><span class="token punctuation">(</span><span class="token parameter">arr1<span class="token punctuation">,</span>id</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
              <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
              <span class="token function">forFn</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">function</span> <span class="token function">forFn</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                      <span class="token keyword">let</span> item <span class="token operator">=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
                      <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value <span class="token operator">==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                          temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                          <span class="token keyword">break</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                              <span class="token function">forFn</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
                          <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">return</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">/</span>需要三： 对树进行循环，然后找出不同的children，给key存在的添加属性
      <span class="token keyword">function</span> <span class="token function">recurSive</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> item <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            result <span class="token operator">=</span> item<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            result <span class="token operator">=</span> <span class="token function">recurSive</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token operator">/</span>需求四：对比两个数组，将重复的提取出来，合并数组
 oldTree <span class="token operator">=</span> oldTree<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">===</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            j<span class="token operator">--</span><span class="token punctuation">;</span>
            len<span class="token operator">--</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">/</span>需求五：两个数组相比，key值相同就合并  （降序）
          <span class="token keyword">let</span> showArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cardTable<span class="token punctuation">.</span>tableData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> sortId <span class="token operator">=</span> showArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            item<span class="token punctuation">.</span>sortId <span class="token operator">=</span> sortId<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>sortId <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sortId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> tem <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tem<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token operator">/</span>需求六：单个数组去重

<span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>            
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>         <span class="token comment">//第一个等同于第二个，splice方法删除第二个</span>
                    arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    j<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">/</span>改变数组里面的某些值
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token operator">/</span>根据一个数组，给两个id值，判断它们的层级关系  （功能未实现，因为是异步树，不知道所有的树结构）
<span class="token comment">//1、先找出oldId的树结构，再找出newId的树结构</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token operator">/</span>实时刷新树的状态
    <span class="token function">ces</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDeviceId</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>treeData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        gridFacilityOnline
          <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">noloading</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">intoArrayTree</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//将数组遍历又重新弄、</span>
    <span class="token function">initArr</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">transferKey</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>is_new_online<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>selectable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>slots <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"video-camera"</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>is_new_online <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>selectable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>slots <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"camera"</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>children <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">transferKey</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token function">transferKey</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//根据id已经查到的状态将它一层一层的再包裹进树里面</span>
    <span class="token function">intoArrayTree</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newTreeDasta <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>treeData<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// eslint-disable-next-line no-inner-declarations</span>
        <span class="token keyword">function</span> <span class="token function">transferKey</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>id <span class="token operator">===</span> key<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              obj<span class="token punctuation">.</span>is_new_online <span class="token operator">=</span> list<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
              <span class="token comment">// obj.is_new_online = 1;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>children <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token function">transferKey</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>newTreeDasta <span class="token operator">=</span> <span class="token function">transferKey</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>newTreeDasta<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>treeData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>newTreeDasta<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>treeData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initArr</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>treeData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//循环数组，根据特有的属性将是设备的id弄出来</span>
    <span class="token function">getDeviceId</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> deviceId <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//遍历树  获取id数组</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>is_facility <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            deviceId<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setName</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token function">setName</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> deviceId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//反面显示</span>
    <span class="token function">setPreviewValue</span><span class="token punctuation">(</span><span class="token parameter">defaultValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArray</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modelData <span class="token operator">=</span> <span class="token function">mapThisData</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modelData <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> defaultValue<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>defaultValue<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>defaultValue<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modelData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="16_848"></a>1.6数组（数组的基本方法）</h4> 
<pre><code class="prism language-js"><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>	a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span>连接两个或更多的数组，并返回结果。
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>	arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span> 把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。
<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//删除并返回数组的最后一个元素</span>
          <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法将删除 arrayObject 的最后一个元素，把数组长度减 <span class="token number">1</span>，并且返回它删除的元素的值。
          如果数组已经为空，则 <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 不改变数组，并返回 <span class="token keyword">undefined</span> 值。
<span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//向数组的末尾添加一个或更多元素，并返回新的长度。</span>
<span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   George<span class="token punctuation">,</span>John<span class="token punctuation">,</span>Thomas   Thomas<span class="token punctuation">,</span>John<span class="token punctuation">,</span>George	颠倒数组中元素的顺序。
<span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//删除并返回数组的第一个元素</span>
<span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	 <span class="token comment">//从某个已有的数组返回选定的元素</span>
          arrayObject<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span>  start必需。规定从何处开始选取。 可选。规定从何处结束选取。
<span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//对数组的元素进行排序（按何种情况待定）</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span> <span class="token comment">//arrayObject.splice(index,howmany,item1,.....,itemX)	删除元素，并向数组添加新元素。</span>
           index	必需。整数，规定添加<span class="token operator">/</span>删除项目的位置，使用负数可从数组结尾处规定位置。
           howmany	必需。要删除的项目数量。如果设置为 <span class="token number">0</span>，则不会删除项目。
          item1<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> itemX	可选。向数组添加的新项目。
<span class="token function">toSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//返回该对象的源代码。</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>	<span class="token comment">//把数组转换为字符串，并返回结果。</span>
            arrayObject 的字符串表示。返回值与没有参数的 <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法返回的字符串相同。 
<span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//把数组转换为本地数组，并返回结果。</span>
<span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// arrayObject.unshift(newelement1,....)向数组的开头添加一个或更多元素，并返回新的长度。</span>
           newelement1	必需。向数组添加的第一个元素。
           newelement2	可选。向数组添加的第二个元素。
           newelementX	可选。可添加若干个元素。 
<span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//返回数组对象的原始值</span>
</code></pre> 
<h4><a id="17_879"></a>1.7数组合并</h4> 
<pre><code class="prism language-js"><span class="token keyword">let</span> arr3 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">/</span>arr1不能够为空
</code></pre> 
<h3><a id="2JSON_887"></a>2.JSON数组、字符串、对象之间的转换(超常用)</h3> 
<p>1、将JSON数组转为正常的数组(对请求的数据，进行解析)</p> 
<pre><code class="prism language-js"><span class="token operator">/</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>place_pics<span class="token punctuation">)</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>第二个参数
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>第二个参数为选填，用于将转换后的每个成员变量都调用此函数。 
<span class="token operator">-</span> 以下为权限树json的转化代码 
<span class="token operator">-</span> 每个被转化的对象属性都会被遍历 
<span class="token operator">-</span> 被遍历的每一项都是一个js对象 
<span class="token operator">-</span> eg<span class="token punctuation">.</span> 一个含有两个属性值得对象会被遍历三次 
<span class="token operator">-</span> eg<span class="token punctuation">.</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"分析结果"</span><span class="token punctuation">,</span> <span class="token literal-property property">checked</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">}</span>
</code></pre> 
<p>2、将JavaScript对象转化为JSON数据(字符串)（将数据传入后端，进行数据保存）</p> 
<pre><code class="prism language-js"> <span class="token operator">/</span> 将JavaScript对象转化为<span class="token constant">JSON</span><span class="token function">数据</span><span class="token punctuation">(</span>字符串<span class="token punctuation">)</span>  <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>replacer<span class="token punctuation">)</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>replacer<span class="token punctuation">)</span>第二个参数
可选。用于转换结果的函数或数组。 
<span class="token operator">-</span> 如果 replacer 为函数，则 <span class="token constant">JSON</span><span class="token punctuation">.</span>stringify 将调用该函数。 
<span class="token operator">-</span> 函数的返回值将作为转化结果 
<span class="token operator">-</span> 如果 replacer 是一个数组，则仅转换该数组中具有键值的成员。
</code></pre> 
<h3><a id="3vuedialog_913"></a>3.vue-dialog的弹出层组件</h3> 
<pre><code class="prism language-js">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$Dialog</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token function-variable function">content</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
          <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/components/publicity-release.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"80%"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"发布信息"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">bodyStyle</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>acceptModelBodyStyle<span class="token punctuation">,</span>
          <span class="token literal-property property">modalStyle</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modalStyle<span class="token punctuation">,</span>
          <span class="token literal-property property">mask</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//这两个,必须一起使用   ，让弹窗，有模糊层</span>
          <span class="token literal-property property">maskStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">"rgba(0,0,0,0.25)"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">footer</span><span class="token operator">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">contentProps</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">whichOne</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">whichTitle</span><span class="token operator">:</span> <span class="token string">"请输入标题"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">whichAbstract</span><span class="token operator">:</span> <span class="token string">"请输入摘要"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">whichImg</span><span class="token operator">:</span> <span class="token string">"图片"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">whichConcent</span><span class="token operator">:</span> <span class="token string">"请填写内容"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">whichTitleData</span><span class="token operator">:</span> <span class="token string">"xxxx预览"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">3</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="4Objectkeysobj_943"></a>4.Object.keys(obj)</h3> 
<h3><a id="5_thisrouterpush_945"></a>5. this.$router.push</h3> 
<pre><code class="prism language-js">router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>：接受一个整数作为参数，类似window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>，在浏览器历史记录中前进或后退几步
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> location <span class="token punctuation">)</span>：跳转导航的方法，这种方法会向history栈添加一个新的记录
router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> location <span class="token punctuation">)</span>：和router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span>类似，但是它会替换掉当前的history记录，不会添加新的记录
router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：相当于router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：相当于router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>：解析目标路由，接受一个地址参数，返回location<span class="token punctuation">,</span>route<span class="token punctuation">,</span>href等属性信息，还可以接受当前默认路由current和当前路由上附加路径append　两个参数
router<span class="token punctuation">.</span><span class="token function">onReady</span><span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span><span class="token punctuation">[</span>errorCallback<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>：把一个回调排队，在路由完成初始导航时调用。
router<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>：注册一个回调，该回调会在路由导航过程中出错的时候被调用，但是对被调用的错误情形有要求：
　　<span class="token number">1</span>、错误在一个路由守卫函数中被同步抛出
　　<span class="token number">2</span><span class="token function">、错误在一个路由守卫函数中通过调用next</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>的方式异步捕获并处理
　　<span class="token number">3</span>、渲染一个路由的过程中，需要尝试解析一个异步组件时发生错误
</code></pre> 
<pre><code class="prism language-js">$route<span class="token punctuation">.</span>fullPath ：完成解析后的url，包含查询参数和hash的完整路径
$route<span class="token punctuation">.</span>path：路径，字符串类型，解析为绝对路径
$route<span class="token punctuation">.</span>hash： 当前路由的hash值（带#号的），如果没有hash值则为空字符串
$route<span class="token punctuation">.</span>name：当前路由的名称，如果有的话（用于命名路由）
$route<span class="token punctuation">.</span>params：一个键值对对象，路由参数
$route<span class="token punctuation">.</span>query：一个键值对对象，表示url查询参数
$route<span class="token punctuation">.</span>matched：一个包含了当前路由的所有嵌套路径片段的路由记录（routes配置数组中的对象副本）
$route<span class="token punctuation">.</span>redirectedFrom：重定向来源的路由的名字，如果存在重定向的话。
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//1、路由跳转（且路由上面带着值，显示出来）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"cases-list"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>取值
  <span class="token keyword">let</span> href <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//接受参数</span>
<span class="token comment">//2、路由跳转（路由上面没有值）</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'dispatch'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">paicheNo</span><span class="token operator">:</span> obj<span class="token punctuation">.</span>paicheNo<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//  在被跳转的页面使用</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params  <span class="token comment">//接受参数</span>
</code></pre> 
<h3><a id="6String__989"></a>6.String （字符串和数字的变化）</h3> 
<pre><code class="prism language-js"><span class="token comment">//js字符串转换数字。方法主要有三种</span>
<span class="token operator">/</span> 转换函数、强制类型转换、利用js变量弱类型转换。
<span class="token number">1.</span> 转换函数：
<span class="token function">js提供了parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">和parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">两个转换函数。前者把值转换成整数，后者把值转换成浮点数。只有对String类型调用这些方法，这两个函数才能正确运行；对其他类型返回的都是NaN</span><span class="token punctuation">(</span>Not a Number<span class="token punctuation">)</span>。
一些示例如下：
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"1234blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 1234</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"0xA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 10</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"22.5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 22</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns NaN</span>
 
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">方法还有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法的第二个参数指定的，示例如下：
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"AF"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 175</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 2</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 8</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 10</span>
如果十进制数包含前导<span class="token number">0</span>，那么最好采用基数<span class="token number">10</span>，这样才不会意外地得到八进制的值。例如：
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"010"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 8</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"010"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 8</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"010"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 10</span>
 
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">方法与parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法的处理方式相似。
<span class="token function">使用parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">方法的另一不同之处在于，字符串必须以十进制形式表示浮点数，parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>没有基模式。
<span class="token function">下面是使用parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法的示例：
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"1234blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 1234.0</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"0xA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns NaN</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"22.5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 22.5</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"22.34.5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 22.34</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"0908"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns 908</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//returns NaN</span>

<span class="token number">2.</span> 强制类型转换

还可使用强制类型转换（type casting）处理转换值的类型。使用强制类型转换可以访问特定的值，即使它是另一种类型的。
ECMAScript中可用的<span class="token number">3</span>种强制类型转换如下：
<span class="token comment">//Boolean(value)——把给定的值转换成Boolean型；</span>
<span class="token comment">//Number(value)——把给定的值转换成数字（可以是整数或浮点数）；</span>
<span class="token comment">//String(value)——把给定的值转换成字符串。</span>
用这三个函数之一转换值，将创建一个新值，存放由原始值直接转换成的值。这会造成意想不到的后果。
<span class="token function">当要转换的值是至少有一个字符的字符串、非0数字或对象时，Boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>函数将返回<span class="token boolean">true</span>。如果该值是空字符串、数字<span class="token number">0</span>、<span class="token keyword">undefined</span>或<span class="token keyword">null</span>，它将返回<span class="token boolean">false</span>。
可以用下面的代码段测试Boolean型的强制类型转换。
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false – empty string</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">"hi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true – non-empty string</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true – non-zero number</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false - null</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false - zero</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true – object</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">的强制类型转换与parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">和parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法的处理方式相似，只是它转换的是整个值，而不是部分值。示例如下：
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token number">NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token string">"5.5 "</span><span class="token punctuation">)</span> <span class="token number">5.5</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token string">"56 "</span><span class="token punctuation">)</span> <span class="token number">56</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token string">"5.6.7 "</span><span class="token punctuation">)</span> <span class="token number">NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token number">100</span>  
<span class="token function">最后一种强制类型转换方法String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>是最简单的，示例如下：
<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//"null"</span>
<span class="token keyword">var</span> oNull <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> oNull<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//won't work, causes an error</span>
<span class="token number">3.</span> 利用js变量弱类型转换
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> str<span class="token operator">=</span> <span class="token string">'012.345 '</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> str<span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> x<span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
上例利用了js的弱类型的特点，只进行了算术运算，实现了字符串到数字的类型转换，不过这个方法还是不推荐的
</code></pre> 
<h3><a id="7_thisrefs_1063"></a>7. this.$refs</h3> 
<pre><code class="prism language-js"><span class="token operator">/</span>　ref 有三种用法：  主要是vue里面的获取dom元素的方法
　<span class="token comment">//　1、ref 加在普通的元素上，用this.ref.name 获取到的是dom元素</span>
　<span class="token comment">//  2、ref 加在子组件上，用this.ref.name 获取到的是组件实例，可以使用组件的所有方法。</span>
　<span class="token comment">//  3、如何利用 v-for 和 ref 获取一组数组或者dom 节点   </span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">"childonemyyy"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isAdd<span class="token punctuation">;</span><span class="token comment">//"mychildone"用在父组件上引用子组件值，返回子组件上的data数据</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">"myspan"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>className  <span class="token comment">//redmy  用在元素上，返回元素节点对象</span>
</code></pre> 
<pre><code class="prism language-js">ref 有三种用法：
　　<span class="token number">1</span>、ref 加在普通的元素上，用<span class="token keyword">this</span><span class="token punctuation">.</span>ref<span class="token punctuation">.</span>name 获取到的是dom元素
　　<span class="token number">2</span>、ref 加在子组件上，用<span class="token keyword">this</span><span class="token punctuation">.</span>ref<span class="token punctuation">.</span>name 获取到的是组件实例，可以使用组件的所有方法。
　　<span class="token number">3</span>、如何利用 v<span class="token operator">-</span><span class="token keyword">for</span> 和 ref 获取一组数组或者dom 节点
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>text<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Hello Vue!'</span>  
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>canvas
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">"canvas"</span><span class="token punctuation">]</span>
注意：
　　<span class="token number">1</span>、ref 需要在dom渲染完成后才会有，在使用的时候确保dom已经渲染完成。比如在生命周期 <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> 钩子中调用，或者在 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span> 中调用。
　　<span class="token number">2</span>、如果ref 是循环出来的，有多个重名，那么ref的值会是一个数组 ，此时要拿到单个的ref 只需要循环就可以了。
</code></pre> 
<h3><a id="8_1089"></a>8.捕获和冒泡</h3> 
<h4><a id="__1091"></a>原理 ：</h4> 
<blockquote> 
 <p>DOM事件流（event flow ）：<br> 存在三个阶段：事件捕获阶段、处于目标阶段、事件冒泡阶段。</p> 
</blockquote> 
<blockquote> 
 <p>事件冒泡(event capturing） ：<br> 当一个元素接收到事件的时候 会把他接收到的事件传给自己的父级，一直到window 。（注意这里传递的仅仅是事件 并不传递所绑定的事件函数。所以如果父级没有绑定事件函数，就算传递了事件 也不会有什么表现 但事件确实传递了。）</p> 
</blockquote> 
<blockquote> 
 <p>事件捕获（event capturing）：<br> 当鼠标点击或者触发dom事件时，浏览器会从根节点开始由外到内进行事件传播，即点击了子元素，如果父元素通过事件捕获方式注册了对应的事件的话，会先触发父元素绑定的事件。</p> 
</blockquote> 
<pre><code class="prism language-js">事件捕获和事件冒泡
<span class="token constant">DOM</span>事件流
document<span class="token operator">-</span><span class="token operator">&gt;</span>html<span class="token operator">-</span><span class="token operator">&gt;</span>body<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">div</span><span class="token punctuation">(</span>最末<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>body<span class="token operator">-</span><span class="token operator">&gt;</span>html<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">document</span>
      <span class="token punctuation">(</span>捕获<span class="token punctuation">)</span>                            <span class="token punctuation">(</span>冒泡<span class="token punctuation">)</span>
当我们点击子元素，触发的时事件会传递给父元素，这就是事件冒泡。这时候为了不让父元素受影响就要阻止冒泡
<span class="token comment">//事件冒泡会从当前触发的事件目标一级一级往上传递，依次触发，直到document为止。</span>
event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">/</span>阻止事件冒泡
<span class="token comment">//stopPropagation也是事件对象(Event)的一个方法，作用是阻止目标元素的冒泡事件，但是会不阻止默认行为。</span>
总结使用方法
<span class="token comment">//当需要停止冒泡行为时，可以使用</span>
<span class="token keyword">function</span> <span class="token function">stopBubble</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
<span class="token comment">//如果提供了事件对象，则这是一个非IE浏览器 </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//因此它支持W3C的stopPropagation()方法 </span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//否则，我们需要使用IE的方式来取消事件冒泡 </span>
    window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token operator">/</span>当需要阻止默认行为时，可以使用
<span class="token comment">//阻止浏览器的默认行为 </span>
<span class="token keyword">function</span> <span class="token function">stopDefault</span><span class="token punctuation">(</span> <span class="token parameter">e</span> <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token comment">//阻止默认浏览器动作(W3C) </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>preventDefault <span class="token punctuation">)</span> 
    <span class="token punctuation">{<!-- --></span>  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token comment">//IE中阻止函数器默认动作的方式 </span>
    <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
事件注意点
event代表事件的状态，例如触发event对象的元素、鼠标的位置及状态、按下的键等等；
event对象只在事件发生的过程中才有效。
<span class="token operator">/</span>firefox里的event跟<span class="token constant">IE</span>里的不同，<span class="token constant">IE</span>里的是全局变量，随时可用；firefox里的要用参数引导才能用，是运行时的临时变量。
<span class="token comment">//事件捕获会从document开始触发，一级一级往下传递，依次触发，直到真正事件目标为止。</span>
event<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="9_item_1141"></a>9. …item</h3> 
<pre><code class="prism language-js"><span class="token comment">//这个就是让对应的数据，一样展开，主要在对象这边有效</span>
<span class="token keyword">let</span> data<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span>data<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"蛋烘糕"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="10beforeRouteEnterbeforeRouteLeave_1151"></a>10.beforeRouteEnter()和beforeRouteLeave()</h3> 
<pre><code class="prism language-js">  <span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> to<span class="token punctuation">.</span>fullPath<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> modulePath <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> param <span class="token operator">=</span> assignment<span class="token punctuation">[</span>modulePath<span class="token punctuation">]</span><span class="token punctuation">.</span>nav<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>param <span class="token operator">&amp;&amp;</span> param <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      generalNav<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">module_name</span><span class="token operator">:</span> param <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>list <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">in</span> res<span class="token punctuation">.</span>list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>img<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">let</span> url <span class="token operator">=</span> assignment<span class="token punctuation">[</span>modulePath<span class="token punctuation">]</span><span class="token punctuation">.</span>icon <span class="token operator">+</span> res<span class="token punctuation">.</span>list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>img<span class="token punctuation">;</span>
              res<span class="token punctuation">.</span>list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>img <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@/assets"</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
          totalMenus <span class="token operator">=</span> res<span class="token punctuation">.</span>list<span class="token punctuation">;</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          $Msg<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>error <span class="token operator">||</span> <span class="token string">"无权限查看!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-js">vue 导航守卫
<span class="token number">1</span><span class="token function">、beforeRouteEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        要执行的代码操作
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
beforeRouteEnter：进入路由之前执行的函数。
<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">--</span>》 必须有这个，相当于一个按钮开启一样。
<span class="token number">2</span><span class="token function">、beforeRouteLeave</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    要执行的代码操作
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
beforeRouteLeave：离开路由之前执行的函数。
<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">--</span>》 必须有这个，相当于一个按钮开启一样。
</code></pre> 
<h3><a id="11Promise_1194"></a>11.<code>Promise</code>对象(不常用)</h3> 
<p>遇见情况：当语音在播放的时候，会遇见，不能够播放的时候。这个问题，没有找到合适的解决方法。</p> 
<pre><code class="prism language-html">Promise 是异步编程的一种解决方案，其实是一个构造函数，自己身上有all、reject、resolve这几个方法，原型上有then、catch等方法。
（1）对象的状态不受外界影响。Promise对象代表一个异步操作，有三种状态：pending（进行中）、fulfilled（已成功）和rejected（已失败）。只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是Promise这个名字的由来，它的英语意思就是“承诺”，表示其他手段无法改变。
（2）一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise对象的状态改变，只有两种可能：从pending变为fulfilled和从pending变为rejected。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果，这时就称为 resolved（已定型）。如果改变已经发生了，你再对Promise对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。
</code></pre> 
<pre><code class="prism language-js">
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">//做一些异步操作</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行完成Promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'要返回的数据可以任何数据例如接口返回数据'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="12watch_1215"></a>12.watch（主要是需要深度监控）</h3> 
<pre><code class="prism language-js"><span class="token comment">//handle就是你watch中需要具体执行的方法</span>
<span class="token comment">// deep：就是你需要监听的数据的深度，一般用来监听对象中某个属性的变化</span>
<span class="token comment">//immediate：在选项参数中指定 immediate: true 将立即以表达式的当前值触发回调：</span>
<span class="token comment">//watch 里面还有一个属性 deep，默认值是 false，代表是否深度监听</span>
 <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>   
    <span class="token literal-property property">fileList</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"updateDataStore"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newName<span class="token punctuation">,</span> oldName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> newName <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 代表在wacth里声明了firstName这个方法之后立即先去执行handler方法</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">eventStatistics</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeEchart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//刷新加载 立马触发一次handler</span>
      <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 可以深度检测到 person 对象的属性值的变化</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h3><a id="13thisemit_1253"></a>13.this.$emit（子组件传值给父组件）</h3> 
<pre><code class="prism language-js">vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span> event<span class="token punctuation">,</span> arg <span class="token punctuation">)</span>
$emit 绑定一个自定义事件event，当这个这个语句被执行到的时候，就会将参数arg传递给父组件，父组件通过@event监听并接收参数
<span class="token comment">//父组件主要使用事件  @“定义的事件”=“定义的事件”，获取子组件穿过来的值</span>
<span class="token comment">//子组件传值父组件，是通过props传递过来的</span>
</code></pre> 
<h3><a id="14thisnextTickdom_1262"></a>14.this.$nextTick()（主要在dom更新之后执行）</h3> 
<pre><code class="prism language-js"><span class="token operator">/</span>vue实现响应式并不是数据发生变化后dom立即变化，而是按照一定的策略来进行dom更新。
<span class="token comment">//$nextTick是在下一次dom更新循环结束之后执行延迟回调，在修改数据之后使用这个方法，立即更新dom</span>
<span class="token comment">//改变数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'changed'</span>
<span class="token comment">//想要立即使用更新后的DOM。这样不行，因为设置message后DOM还没有更新</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span> <span class="token comment">// 并不会得到'changed'</span>
<span class="token comment">//这样可以，nextTick里面的代码会在DOM更新后执行</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span> <span class="token comment">//可以得到'changed'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="15thisforceUpdate_1277"></a>15.this.$forceUpdate()</h3> 
<pre><code class="prism language-asciiarmor">this.$forceUpdate() 强制刷新（因为数据层次太多，render函数没有自动更新，需手动强制刷新。）
</code></pre> 
<h3><a id="16_1283"></a>16.正则表达式</h3> 
<h3><a id="17sessionStorage_1285"></a>17.sessionStorage存储</h3> 
<pre><code class="prism language-js">存：
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"signoutShow"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>signoutShow<span class="token punctuation">)</span><span class="token punctuation">;</span> 
取：
<span class="token keyword">this</span><span class="token punctuation">.</span>signoutShow <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'signoutShow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span>vue中由于页面刷新会导致有些参数被清空，用sessionStorage存储数据一般是在 <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 挂载前取， <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 更新渲染时存：
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>signoutShow <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'signoutShow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"signoutShow"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>signoutShow<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment">//【注】sessionStorage 存储数据一般为对象，当存储值为 true/false 时，会发现存取都可以得到正确的值，但是页面渲染的结果不对，这是因为存储的类型为字符串类型，而 true/false 为bool 类型， </span>
<span class="token comment">// sessionStorage.getItem('signoutShow'); 取值的时候会得到带引号的值，比如说"true" / "false" ，那么这时候就需要用 JSON.parse 转换一下类型就好了</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> signoutBool <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'signoutShow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>signoutShow <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>signoutBool<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="18var_let_1307"></a>18.var 和let</h3> 
<pre><code class="prism language-js"><span class="token function">题目1：</span><span class="token punctuation">(</span>晕得很<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>            <span class="token comment">// 全局变量a</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// f是函数，虽然定义在调用的后面，但是函数声明会提升到作用域的顶部。 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// a=&gt;99,  此时是全局变量的a</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 当前的a变量是下面变量a声明提升后，默认值undefined</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// a =&gt; 10</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出结果：</span>
<span class="token keyword">undefined</span>
<span class="token number">10</span>
<span class="token number">99</span>
</code></pre> 
<h3><a id="19vue_storecommit_dispatchvuex_1325"></a>19.vue store存储commit 和dispatch(vuex)</h3> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'toShowLoginDialog'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'toShowLoginDialog'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span>
主要区别是：
dispatch：含有异步操作，例如向后台提交数据，写法： <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'mutations方法名'</span><span class="token punctuation">,</span>值<span class="token punctuation">)</span>
commit：同步操作，写法：<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'mutations方法名'</span><span class="token punctuation">,</span>值<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="20_1335"></a>20.识别屏幕宽高</h3> 
<pre><code class="prism language-js"><span class="token comment">//js中制作滚动代码的常用属性</span>
页可见区域宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
网页可见区域高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
网页可见区域宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">offsetWidth</span>   <span class="token punctuation">(</span>包括边线的宽<span class="token punctuation">)</span><span class="token punctuation">;</span>
网页可见区域高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">offsetHeight</span> <span class="token punctuation">(</span>包括边线的宽<span class="token punctuation">)</span><span class="token punctuation">;</span>
网页正文全文宽： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">;</span>
网页正文全文高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
网页被卷去的高： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
网页被卷去的左： document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>
网页正文部分上： window<span class="token punctuation">.</span>screenTop<span class="token punctuation">;</span>
网页正文部分左： window<span class="token punctuation">.</span>screenLeft<span class="token punctuation">;</span>
屏幕分辨率的高： window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
屏幕分辨率的宽： window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
屏幕可用工作区高度： window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span> availHeight<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="21vifvshow_1354"></a>21.v-if和v-show的区别</h3> 
<pre><code class="prism language-js"><span class="token comment">//相同点</span>
两者都是在判断<span class="token constant">DOM</span>节点是否要显示
<span class="token comment">//不同点</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1、实现方式</span><span class="token template-punctuation string">`</span></span>
v<span class="token operator">-</span><span class="token keyword">if</span>是根据后面数据的真假值判断直接从Dom树上删除或重建元素节点
v<span class="token operator">-</span>show只是在修改元素的css样式，也就是display的属性值，元素始终在Dom树上。
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">2、编译过程</span><span class="token template-punctuation string">`</span></span>
v<span class="token operator">-</span><span class="token keyword">if</span>切换有一个局部编译<span class="token operator">/</span>卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件； 
v<span class="token operator">-</span>show只是简单的基于css切换；
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">3、编译条件</span><span class="token template-punctuation string">`</span></span>
v<span class="token operator">-</span><span class="token keyword">if</span>是惰性的，如果初始条件为假，则什么也不做；只有在条件第一次变为真时才开始局部编译；
v<span class="token operator">-</span>show是在任何条件下（首次条件是否为真）都被编译，然后被缓存，而且<span class="token constant">DOM</span>元素始终被保留； 
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">4、性能消耗</span><span class="token template-punctuation string">`</span></span>
v<span class="token operator">-</span><span class="token keyword">if</span>有更高的切换消耗，不适合做频繁的切换；
v<span class="token operator">-</span>show有更高的初始渲染消耗，适合做频繁的额切换；
</code></pre> 
<h3><a id="22mixins_1374"></a>22.mixins</h3> 
<blockquote> 
 <p>Mixins是一种分发Vue组件中可复用功能的非常灵活的一种方式。</p> 
 <p>什么时候使用`Mixins</p> 
 <p>页面的风格不用，但是执行的方法和需要的数据类似，我们是选择每个都写呢还是提取出公共部分呢？</p> 
</blockquote> 
<pre><code class="prism language-js"><span class="token comment">// modal.vue</span>
<span class="token comment">// 将mixin引入该组件，就可以直接使用 toggleShow() 了</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>mixin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../mixin.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// tooltip组件同上</span>
</code></pre> 
<h3><a id="23vBus_1394"></a>23、vBus（是一旦触发，另外一边就有数据）</h3> 
<pre><code class="prism language-js"><span class="token comment">//传值    ，现在看来主要用于关闭弹窗，更新列表数据，传递值</span>
vBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"reGetBubble"</span>，data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//接收值</span>
    vBus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"reGetBubble"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"reGetBubble"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="24_1406"></a>24、！！或者</h3> 
<blockquote> 
 <p>!!一般用来将后面的表达式转换为布尔型的数据（boolean） 因为javascript是弱类型的语言（变量没有固定的数据类型）所以有时需要强制转换为相应的类型，类似的如: a=parseInt(“1234”) a=“1234”+0 //转换为数字 b=1234+“” //转换为字符串 c=someObject.toString() //将对象转换为字符串 其中第1种、第4种为显式转换，2、3为隐式转换 布尔型的转换，javascript约定和c类似，规则为 ·false、undefinded、null、0、“” 为 false ·true、1、“somestring”、[Object] 为 true</p> 
</blockquote> 
<pre><code class="prism language-js"><span class="token operator">/</span>在js中看源码时有时候出现两个！！<span class="token punctuation">,</span>我起初以为是js的其他语法，其实！！就是两次取“非”的运算。
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> 
<h3><a id="25_1417"></a>25、深拷贝和浅拷贝</h3> 
<ol><li>浅拷贝： 将原对象或原数组的引用直接赋给新对象，新数组，新对象／数组只是原对象的一个引用</li><li>深拷贝： 创建一个新的对象和数组，将原对象的各项属性的“值”（数组的所有元素）拷贝过来，是“值”而不是“引用”**</li></ol> 
<p>我的回答是：浅拷贝是拷贝了对象的引用，当原对象发生变化的时候，拷贝对象也跟着变化；深拷贝是另外申请了一块内存，内容和原对象一样，更改原对象，拷贝对象不会发生变化；</p> 
<p>但是面试官给我说：浅拷贝是拷贝一层，深层次的对象级别的就拷贝引用；深拷贝是拷贝多层，每一级别的数据都会拷贝出来；</p> 
<p>其实总结来看，浅拷贝的时候如果数据是基本数据类型，那么就如同直接赋值那种，会拷贝其本身，如果除了基本数据类型之外还有一层对象，那么对于浅拷贝而言就只能拷贝其引用，对象的改变会反应到拷贝对象上；但是深拷贝就会拷贝多层，即使是嵌套了对象，也会都拷贝出来。</p> 
<h4><a id="_1428"></a>实现浅拷贝的第一种方法</h4> 
<pre><code class="prism language-js"><span class="token comment">/**
 * Created by 811 on 2018/7/27.
 */</span>
<span class="token keyword">function</span> <span class="token function">simpleClone</span><span class="token punctuation">(</span><span class="token parameter">initalObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">var</span> i <span class="token keyword">in</span> initalObj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"world"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">21</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token string">"Jenny"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">d</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cloneObj <span class="token operator">=</span> <span class="token function">simpleClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//更改原对象中的a,b,c,d，看看拷贝过来的对象是否变化</span>
cloneObj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">"changed"</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">"changed"</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
cloneObj<span class="token punctuation">.</span><span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"changed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//{a:"changed",b:25},事实上就是只有对象是拷贝的引用类型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//['Bob','Tom','Jenny']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//...alert("hello world")</span>
</code></pre> 
<p>事实证明面试官说的是对的，浅拷贝就是拷贝了一层，除了对象是拷贝的引用类型，其他都是直接将值传递，有自己的内存空间的</p> 
<h4><a id="_1474"></a>实现浅拷贝的第二种方法</h4> 
<p>ES6中的Object.assign方法，Object.assign是ES6的新函数。Object.assign() 方法可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。但是 Object.assign() 进行的是浅拷贝，拷贝的是对象的属性的引用，而不是对象本身。</p> 
<p>Object.assign(target, …sources)<br> 参数：</p> 
<p>target：目标对象。<br> sources：任意多个源对象。<br> 返回值：目标对象会被返回。</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cloneObj1<span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
cloneObj1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">"changed"</span><span class="token punctuation">;</span>
cloneObj1<span class="token punctuation">.</span>b<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">"changed"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "changed"</span>
</code></pre> 
<p>另外，（这里其实没太看懂），为什么上面的改了，这里却没有改。。。。说是可以拷贝深一层，如果对象只有一层的话，可以使用这个函数作为深拷贝的方法</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cloneObj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
cloneObj2<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: 10, b: 20, c: 30 } &lt;-- 沒被改到</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cloneObj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: 10, b: 100, c: 30 }</span>
</code></pre> 
<h4><a id="_1512"></a>深拷贝的实现方式</h4> 
<p>1、手动复制</p> 
<p>把一个对象的属性复制给另一个对象的属性</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>b<span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>c <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: 10, b: 20, c: 30 } &lt;-- 沒被改到</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { a: 10, b: 100, c: 30 }</span>
</code></pre> 
<p>但这样很麻烦，要一个一个自己复制；而且这样的本质也不能算是 Deep Copy，因为对象里面也可能回事对象，如像下面这个状况：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">body</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>body <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>body<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { body: { a: 20 } } &lt;-- 被改到了</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { body: { a: 20 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>body <span class="token operator">===</span> obj2<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// true</span>
</code></pre> 
<p>虽然obj1跟obj2是不同对象，但他们会共享同一个obj1.body，所以修改obj2.body.a时也会修改到旧的。</p> 
<p>2、对象只有一层的话可以使用上面的：Object.assign()函数</p> 
<p>Object.assign({}, obj1)的意思是先建立一个空对象{}，接着把obj1中所有的属性复制过去，所以obj2会长得跟obj1一样，这时候再修改obj2.b也不会影响obj1。</p> 
<p>因为Object.assign跟我们手动复制的效果相同，所以一样只能处理深度只有一层的对象，没办法做到真正的 Deep Copy。不过如果要复制的对象只有一层的话可以考虑使用它。</p> 
<p>3、转成 JSON 再转回来</p> 
<p>用JSON.stringify把对象转成字符串，再用JSON.parse把字符串转成新的对象。</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>body<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { body: { a: 10 } } &lt;-- 沒被改到</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { body: { a: 20 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>body <span class="token operator">===</span> obj2<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
</code></pre> 
<p>这样做是真正的Deep Copy，这种方法简单易用。</p> 
<p>但是这种方法也有不少坏处，譬如它会抛弃对象的constructor。也就是深拷贝之后，不管这个对象原来的构造函数是什么，在深拷贝之后都会变成Object。</p> 
<p>这种方法能正确处理的对象只有 Number, String, Boolean, Array, 扁平对象，即那些能够被 json 直接表示的数据结构。RegExp对象是无法通过这种方式深拷贝。</p> 
<p>也就是说，只有可以转成JSON格式的对象才可以这样用，像function没办法转成JSON。</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj1<span class="token punctuation">.</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'function'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj2<span class="token punctuation">.</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'undefined' &lt;-- 没复制</span>
</code></pre> 
<p>要复制的function会直接消失，所以这个方法只能用在单纯只有数据的对象。</p> 
<p>4、递归拷贝</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">initalObj<span class="token punctuation">,</span> finalObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    
  <span class="token keyword">var</span> obj <span class="token operator">=</span> finalObj <span class="token operator">||</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>    
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> initalObj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>        
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>            
      arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>    
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述代码确实可以实现深拷贝。但是当遇到两个互相引用的对象，会出现死循环的情况。</p> 
<p>为了避免相互引用的对象导致死循环的情况，则应该在遍历的时候判断是否相互引用对象，如果是则退出循环。</p> 
<p>改进版代码如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">initalObj<span class="token punctuation">,</span> finalObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    
  <span class="token keyword">var</span> obj <span class="token operator">=</span> finalObj <span class="token operator">||</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>    
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> initalObj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>        
    <span class="token keyword">var</span> prop <span class="token operator">=</span> initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 避免相互引用对象导致死循环，如initalObj.a = initalObj的情况</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>prop <span class="token operator">===</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>            
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>        
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prop <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>            
      arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> prop<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>    
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>5、使用Object.create()方法</p> 
<p>直接使用var newObj = Object.create(oldObj)，可以达到深拷贝的效果。</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">initalObj<span class="token punctuation">,</span> finalObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    
  <span class="token keyword">var</span> obj <span class="token operator">=</span> finalObj <span class="token operator">||</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>    
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> initalObj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>        
    <span class="token keyword">var</span> prop <span class="token operator">=</span> initalObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// 避免相互引用对象导致死循环，如initalObj.a = initalObj的情况</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>prop <span class="token operator">===</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>            
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>        
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prop <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> prop<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>    
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="26_1663"></a>26、富文本</h3> 
<p>富文本里面的图片问题，如何提取里面的图片，让字段不显得那么长（难点呀，还没有百度到，难受）</p> 
<pre><code class="prism language-js">        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tinymce"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>vue<span class="token operator">-</span>editor
            ref<span class="token operator">=</span><span class="token string">"content"</span>
            v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formData.content"</span>
            @focus<span class="token operator">=</span><span class="token string">"onEditorFocus($event)"</span>
            @blur<span class="token operator">=</span><span class="token string">"onEditorBlur"</span>
            useCustomImageHandler
            @selection<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"onSelectionChange"</span>
            @image<span class="token operator">-</span>added<span class="token operator">=</span><span class="token string">"handleImageAdded"</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> VueEditor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue2-editor/dist/vue2-editor.core.js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
@<span class="token keyword">import</span> <span class="token string">"~vue2-editor/dist/vue2-editor.css"</span><span class="token punctuation">;</span>

<span class="token comment">/* Import the Quill styles you want */</span>
@<span class="token keyword">import</span> <span class="token string">"~quill/dist/quill.core.css"</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">"~quill/dist/quill.bubble.css"</span><span class="token punctuation">;</span>
@<span class="token keyword">import</span> <span class="token string">"~quill/dist/quill.snow.css"</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span>button_bull <span class="token punctuation">{<!-- --></span>
  margin<span class="token operator">-</span>left<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>ant<span class="token operator">-</span>upload<span class="token operator">-</span>select<span class="token operator">-</span>picture<span class="token operator">-</span>card i <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 32px<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">999</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>ant<span class="token operator">-</span>upload<span class="token operator">-</span>select<span class="token operator">-</span>picture<span class="token operator">-</span>card <span class="token punctuation">.</span>ant<span class="token operator">-</span>upload<span class="token operator">-</span>text <span class="token punctuation">{<!-- --></span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 8px<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">666</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token literal-property property">method</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>    
    <span class="token function">onEditorFocus</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 富文本获得焦点时的事件</span>
      val<span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在获取焦点的时候禁用</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">handleImageAdded</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> Editor<span class="token punctuation">,</span> cursorLocation<span class="token punctuation">,</span> resetUploader</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formData<span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
      upfileIndex<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>formData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>picUrl<span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> formData
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> url <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">;</span> <span class="token comment">// Get url from response</span>
          Editor<span class="token punctuation">.</span><span class="token function">insertEmbed</span><span class="token punctuation">(</span>cursorLocation<span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">resetUploader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">/</span>哪种时候的需要传token的真的难受，为啥不能上传成功？真的是头疼   ！！！！！！！！

</code></pre> 
<h3><a id="27_1734"></a>27、浏览器指纹</h3> 
<h3><a id="28_1736"></a>28、全局设置移入，移出，样式</h3> 
<pre><code class="prism language-js"><span class="token operator">/</span>什么时候触发这个函数，问题在这里  
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeOtherPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">closeOtherPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> el <span class="token operator">=</span> event <span class="token operator">?</span> event<span class="token punctuation">.</span>target <span class="token operator">:</span> window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
        switchDisplay<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> targetArea <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>totalTitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> targetArea1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>popupTitle<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>targetArea<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//滑出指定的div,其显示问题/··这里就是重点啊··</span>
            targetArea1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">changeInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>infomation<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> targetArea1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"massages-id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        targetArea1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">==</span> <span class="token string">"none"</span>
          <span class="token operator">?</span> <span class="token punctuation">(</span>targetArea1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">)</span>
          <span class="token operator">:</span> <span class="token punctuation">(</span>targetArea1<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>infomation <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>infomation<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="29js_1772"></a>29、js轮询</h3> 
<p>js轮询还是下面的这种方法有比较大的问题，所以还是需要自己循环自己，这种比较有效果，当页面销毁时记得一定要清除定时器，不然页面多次切换时，容易造成多次请求</p> 
<h6><a id="_1776"></a>范例：(循环自己，记得销毁清除)</h6> 
<pre><code class="prism language-js"><span class="token function">getDataAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDataAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h6><a id="_1791"></a>不好的范例：</h6> 
<pre><code class="prism language-js">js setInterval每隔一段时间执行一次
js setInterval每隔一段时间执行一次
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式。
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法会不停地调用函数，直到 <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 被调用或窗口被关闭。由 <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 返回的 <span class="token constant">ID</span> 值可用作 <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法的参数。

<span class="token keyword">function</span> <span class="token function">funcDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//每隔3秒执行一次countTime方法</span>
window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token string">"countTime()"</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

window<span class="token punctuation">.</span>onload <span class="token operator">=</span> funcDemo<span class="token punctuation">;</span>

另外有setTimeout方法，这两个方法之间的区别就是：

setInterval方法是每隔一段时间执行一次，是循环执行的，

而setTimeout方法是页面加载完毕之后的规定时间内执行一次，就不再执行了。

done<span class="token operator">!</span>
</code></pre> 
<h3><a id="30HTTP_1815"></a>30、常见的HTTP状态码</h3> 
<pre><code class="prism language-js"><span class="token number">100</span>  客户端可以继续
<span class="token number">101</span>  指示服务器正根据 Upgrade 头切换协议
<span class="token number">200</span>  请求正常成功
<span class="token number">201</span>  指示请求成功并在服务器上创建了一个新资源
<span class="token number">202</span>  指示已接受请求进行处理但处理尚未完成
<span class="token number">203</span>  指示客户端呈现的元信息并不源自服务器
<span class="token number">204</span>  指示请求成功但没有返回新信息
<span class="token number">205</span>  指示代理应该 重置导致请求被发送的文档视图
<span class="token number">206</span>  指示服务器已完成对资源的部分 <span class="token constant">GET</span> 请求
<span class="token number">300</span>  请求的资源对应于表示形式集合中的某种表示形式，每种表示形式都有自己的特定位置
<span class="token number">301</span>  指示已经将资源永久地移动到了某个新位置，并且将来的引用应将新 <span class="token constant">URI</span> 用于其请求
<span class="token number">302</span>  指示已经将资源暂时地移动到了另一个位置，但将来的引用仍应使用原来的 <span class="token constant">URI</span> 访问该资源。 保留此定义是为了向后兼容。<span class="token constant">SC_FOUND</span> 现在是首选定义
<span class="token number">303</span>  指示可在另一个 <span class="token constant">URI</span> 之下找到该请求的响应
<span class="token number">304</span>  指示条件 <span class="token constant">GET</span> 操作发现资源可用但不可修改
<span class="token number">305</span>  指示必须 通过 Location 字段给定的代理访问请求资源
<span class="token number">307</span>  指示请求的资源暂时驻留在另一个 <span class="token constant">URI</span> 之下。临时 <span class="token constant">URI</span> 应该 通过响应中的 Location 字段提供
<span class="token number">400</span>  指示客户端发送的请求在语法上不正确
<span class="token number">401</span>  指示请求需要进行 <span class="token constant">HTTP</span> 验证
<span class="token number">402</span>  保留此代码以备将来使用
<span class="token number">403</span>  指示服务器理解请求但拒绝完成它
<span class="token number">404</span>  指示请求的资源不可用
<span class="token number">405</span>  指示 Request<span class="token operator">-</span>Line 中指定的方法不支持 Request<span class="token operator">-</span><span class="token constant">URI</span> 标识的资源
<span class="token number">406</span>  指示请求标识的资源只能生成响应实体，根据请求中发送的 accept 头，这些响应实体具有不可接受的内容特征
<span class="token number">407</span>  指示客户端必须 首先通过代理验证其自身
<span class="token number">408</span>  指示客户端没有在服务器准备等待的时间内生成请求
<span class="token number">409</span>  指示由于与当前资源状态冲突请求无法完成
<span class="token number">410</span>  指示资源在服务器上不再可用并且不知道转发地址。应该 认为此条件是永久性的
<span class="token number">411</span>  指示在没有定义 Content<span class="token operator">-</span>Length 的情况下无法处理请求
<span class="token number">412</span>  指示在服务器上测试一个或多个请求头字段中给出的前提时，该前提被求值为 <span class="token boolean">false</span>
<span class="token number">413</span>  指示因为请求实体大于服务器愿意或能够处理的实体，所以服务器拒绝处理请求
<span class="token number">414</span>  指示因为 Request<span class="token operator">-</span><span class="token constant">URI</span> 的长度大于服务器愿意解释的 Request<span class="token operator">-</span><span class="token constant">URI</span> 长度，所以服务器拒绝为请求提供服务
<span class="token number">415</span>  指示因为请求实体的格式不受请求方法的请求资源支持，所以服务器拒绝为请求提供服务
<span class="token number">416</span>  指示服务器无法服务于请求的字节范围
<span class="token number">417</span>  指示服务器无法服务于请求的字节范围
<span class="token number">500</span>  指示 <span class="token constant">HTTP</span> 服务器内存在错误使服务器无法完成请求
<span class="token number">501</span>  指示 <span class="token constant">HTTP</span> 服务器不支持完成请求所需的功能
<span class="token number">502</span>  指示 <span class="token constant">HTTP</span> 服务器在充当代理或网关时从它参考的服务器接收到一个无效响应
<span class="token number">503</span>  指示 <span class="token constant">HTTP</span> 服务器暂时过载，并且无法处理请求
<span class="token number">504</span>  指示服务器在充当网关或代理时没有从上游服务器接收到及时的响应
<span class="token number">505</span>  指示服务器不支持或拒绝支持请求消息中使用的 <span class="token constant">HTTP</span> 协议版本
</code></pre> 
<h3><a id="31windowlocationhref_1860"></a>31、window.location.href(对路由的处理尤为重要)</h3> 
<pre><code class="prism language-js">javascript中的location<span class="token punctuation">.</span>href有很多种用法，主要如下。

self<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 当前页面打开<span class="token constant">URL</span>页面
location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 当前页面打开<span class="token constant">URL</span>页面
windows<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 当前页面打开<span class="token constant">URL</span>页面，前面三个用法相同。
<span class="token keyword">this</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 当前页面打开<span class="token constant">URL</span>页面
parent<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 在父页面打开新页面
top<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">"/url"</span> 在顶层页面打开新页面

如果页面中自定义了frame，那么可将parent self top换为自定义frame的名称<span class="token punctuation">,</span>效果是在frame窗口打开url地址

此外，window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>和window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">Reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>和都是刷新当前页面。区别在于是否有提交数据。当有提交数据时，window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">Reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>会提示是否提交，window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>则是向指定的url提交数据
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>直接返回当前页的上一页，数据全部消息，是个新页面
 history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>也是返回当前页的上一页，不过表单里的数据全部还在 
 history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 前进 
 history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> 后退
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//刷新  </span>
window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">//前进  </span>
window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//返回+刷新  </span>
window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//前进  </span>
window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//返回</span>
<span class="token operator">/</span>  window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>“你定义要跳转的页面”
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token operator">/</span>document<span class="token punctuation">.</span>referrer
  <span class="token keyword">let</span> OldHref <span class="token operator">=</span> document<span class="token punctuation">.</span>referrer<span class="token punctuation">;</span><span class="token operator">/</span>对于当前window的前一个页面，window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">HistoryBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>将事件写在父级上面，然后代替子集页面写函数，绑在父级的window上面
      window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> OldHref<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&amp;is_command=1"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="32dom_1891"></a>32、dom任一位置插入节点</h3> 
<h3><a id="33100100vh_1893"></a>33、100%和100vh的区别</h3> 
<pre><code class="prism language-js">h就是当前屏幕可见高度的<span class="token number">1</span><span class="token operator">%</span>，也就是说
<span class="token literal-property property">height</span><span class="token operator">:</span>100vh <span class="token operator">==</span> height<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
<span class="token literal-property property">但是当元素没有内容时候，设置height</span><span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span>，该元素不会被撑开，此时高度为<span class="token number">0</span>，
<span class="token literal-property property">但是设置height</span><span class="token operator">:</span>100vh，该元素会被撑开屏幕高度一致。
</code></pre> 
<h3><a id="34pxemremvwvhvm_1902"></a>34、px、em、rem、%、vw、vh、vm这些单位的区别</h3> 
<ul><li> <p>px</p> <pre><code class="prism language-js"><span class="token operator">/</span>px就是pixel的缩写，意为像素。px就是设备或者图片最小的一个点，比如常常听到的电脑像素是1024x768的，表示的是水平方向是<span class="token number">1024</span>个像素点，垂直方向是<span class="token number">768</span>个像素点。
<span class="token comment">//是我们网页设计常用的单位，也是基本单位。通过px可以设置固定的布局或者元素大小，缺点是没有弹性。</span>
<span class="token comment">//特点是1. em的值并不是固定的； 2. em会继承父级元素的字体大小。</span>
</code></pre> </li><li> <p>em</p> <pre><code class="prism language-js"><span class="token operator">/</span>参考物是父元素的font<span class="token operator">-</span>size，具有继承的特点。如果自身定义了font<span class="token operator">-</span>size按自身来计算（浏览器默认字体是16px），整个页面内1em不是一个固定的值。
<span class="token comment">//特点是1. em的值并不是固定的； 2. em会继承父级元素的字体大小。</span>
</code></pre> </li><li> <p>rem</p> <pre><code class="prism language-js"><span class="token operator">/</span>em是相对于根元素html，这样就意味着，我们只需要在根元素确定一个参考值，可以设计<span class="token constant">HTML</span>为大小为10px，到时设置<span class="token number">1</span><span class="token punctuation">.</span>2rem就是12px<span class="token punctuation">.</span>以此类推。
<span class="token comment">//优点是，只需要设置根目录的大小就可以把整个页面的成比例的调好。</span>
</code></pre> </li><li> <p>%</p> <pre><code class="prism language-js"><span class="token operator">/</span>一般来说就是相对于父元素的，
<span class="token comment">//1、对于普通定位元素就是我们理解的父元素 </span>
<span class="token comment">//2、对于position: absolute;的元素是相对于已定位的父元素</span>
<span class="token comment">//3、对于position: fixed;的元素是相对于ViewPort（可视窗口），</span>
</code></pre> </li><li> <p>vw</p> <pre><code class="prism language-js"><span class="token operator">/</span>css3新单位，view width的简写，是指可视窗口的宽度。假如宽度是1200px的话。那10vw就是120px
<span class="token comment">//举个例子：浏览器宽度1200px, 1 vw = 1200px/100 = 12 px</span>
</code></pre> </li><li> <p>vh</p> <pre><code class="prism language-js"><span class="token operator">/</span>css3新单位，view height的简写，是指可视窗口的高度。假如高度是1200px的话。那10vh就是120px
<span class="token comment">//举个例子：浏览器高度900px, 1 vh = 900px/100 = 9 px。</span>
</code></pre> </li><li> <p>vm</p> <pre><code class="prism language-js"></code></pre> </li></ul> 
<p>/css3新单位，相对于视口的宽度或高度中较小的那个。其中最小的那个被均分为100单位的vm 举个例子：浏览器高度900px，宽度1200px，取最小的浏览器高度，1 vm = 900px/100 = 9 px。<br> //兼容性太差 ，现在基本上没人用，我试了一下Chrome就用不了。</p> 
<pre><code>
## 35、iframe

### 1、行内元素（内联元素）

### 2、div高度大于iframe高度5px左右

**问题**：用一个div包裹一个iframe，但无论如何，div的高度都比iframe高了5px。

~~~html
&lt;div id="iframeContent"&gt;
 &lt;iframe id="iframe" name="iframe" src="home.html" style="width:100%;" frameborder="0" scrolling="no" 
 	"iframeHeight();"&gt;&lt;/iframe&gt;
&lt;/div&gt;
~~~

**问题原因**：使用了HTML5的头部，在使用如下两个头部声明时会使iframe不能填满div，从而产生5px的高度差。

~~~js
&lt;!DOCTYPE html&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
~~~

**解决方案**：在为iframe添加属性：**vertical-align:bottom**;或者**display:block;**
其中vertical-align:bottom;表示把元素的顶端与行中最低的元素的顶端对齐。即是以元素底线作为与父元素垂直对齐的基线。

display:block;表示将元素转换为块级元素。iframe本身是一个内联框架，他本身是从div中分出了一部分空间，作为自己的空间，而将其转换为块级对象时，他就会自己从新的一行开始显示内容，而不依赖于div。

**内联对象和块级对象的区别**：

内联对象：不会前后换行，不会从新的一行开始，而是从包裹它的内容一直往后走。
块级对象：前后换行，从新的一行开始往下走，不依赖于包裹他的对象。

## 36、javascript -- 判断是否为某个数据类型

场景：对于后端的返回的数据类型进行严格判断，避免出现不必要的问题，返回的类型可能不是唯一的，不需要判断不是什么，应该判断是什么

/判断是否为数组
isArray = function (source) {
 return '[object Array]' == Object.prototype.toString.call(source);
};
/判断是否为日期对象
isDate = function(o) {
 // return o instanceof Date;
 return {}.toString.call(o) === "[object Date]" &amp;&amp; o.toString() !== 'Invalid Date' &amp;&amp; !isNaN(o);
};
/判断是否为Element对象
isElement = function (source) {
 return !!(source &amp;&amp; source.nodeName &amp;&amp; source.nodeType == 1);
};
/判断目标参数是否为function或Function实例
isFunction = function (source) {
 // chrome下,'function' == typeof /a/ 为true.
 return '[object Function]' == Object.prototype.toString.call(source);
};
/判断目标参数是否number类型或Number对象
isNumber = function (source) {
 return '[object Number]' == Object.prototype.toString.call(source) &amp;&amp; isFinite(source);
};
/ 判断目标参数是否为Object对象
isObject = function (source) {
 return 'function' == typeof source || !!(source &amp;&amp; 'object' == typeof source);
};
/判断目标参数是否string类型或String对象
isString = function (source) {
 return '[object String]' == Object.prototype.toString.call(source);
};
/判断目标参数是否Boolean对象
isBoolean = function(o) {
 return typeof o === 'boolean';
};


</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ad2eefb39599f318b14bc224e5ebd7a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java SPI 学习记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/14c3b3487f671183ed87b6d135f868a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">15年FPGA工作经验：诚实、耐心和不断学习的关键</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>