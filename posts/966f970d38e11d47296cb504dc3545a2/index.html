<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux之网络配置 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux之网络配置" />
<meta property="og:description" content="ifconfig命令 查看或设定网络接口
ifconfig eth0 ip/24 设定网络
ifconfig eth0 down 关闭网络
ifconfig eth0 up 开启网络
测试 ifconfig
ifconfig eth0 ip/24 设定网络
ifconfig eth0 down 关闭网络
ifconfig eth0 up 开启网络
ip addr 检测或设定网络接口
ip addr show device 查看
ip addr del dev eth0 ip/24 删除
ip addr flush eth0 全部删除
ip addr add ip/24 dev device 设定
测试 ip addr ip addr show eth0
ip addr add 172.25.254.200/24 dev eth0 ip addr flush eth0 ip addr add 172." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/966f970d38e11d47296cb504dc3545a2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-17T19:48:34+08:00" />
<meta property="article:modified_time" content="2019-04-17T19:48:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux之网络配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>ifconfig命令</h2> 
<p>查看或设定网络接口</p> 
<p>ifconfig eth0 ip/24                       设定网络</p> 
<p>ifconfig eth0 down                      关闭网络</p> 
<p>ifconfig eth0 up                           开启网络</p> 
<h3>测试</h3> 
<p>ifconfig</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/93/b0/B73deaoa_o.png"></p> 
<p>ifconfig eth0 ip/24                       设定网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/6e/ad/PsRKprpI_o.png"></p> 
<p>ifconfig eth0 down                      关闭网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/96/99/OYRPj1UK_o.png"></p> 
<p>ifconfig eth0 up                           开启网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/19/bf/v03XE3eO_o.png"></p> 
<h2>ip addr    </h2> 
<p>检测或设定网络接口</p> 
<p>ip addr show   device                              查看</p> 
<p>ip addr del dev eth0 ip/24                       删除</p> 
<p>ip addr flush eth0                                      全部删除</p> 
<p>ip addr add ip/24 dev device                  设定</p> 
<h3>测试</h3> 
<p>ip addr </p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/73/6b/tMNxEEPS_o.png"></p> 
<p>ip addr show   eth0</p> 
<p style="text-align:center;"><img alt="" class="has" height="151" src="https://images2.imgbox.com/e2/95/yoriFZC1_o.png" width="739"></p> 
<p>ip addr add 172.25.254.200/24 dev eth0               </p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/65/67/w6PvTGZM_o.png"></p> 
<p>ip addr flush eth0 </p> 
<p>ip addr add 172.25.254.200/24 dev eth0</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/1f/d9/jDA4deOz_o.png"></p> 
<h2>IP 设定方式</h2> 
<h3>1.图形方式</h3> 
<p>nm-connection-editor</p> 
<h3>2.nmtui(无图形界面设定ip)</h3> 
<p>1)创建连接</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/c4/82/Mk0KUf8l_o.png"></p> 
<p>2）添加一个网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/8d/a5/JdfPFlhp_o.png"></p> 
<p>3）选择以太网</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/1b/93/ilOOLabM_o.png"></p> 
<p> 4）修改名字、添加ip</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/bc/f8/k6XLOl4M_o.png"></p> 
<p>5）eth1添加完成</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/da/85/nLdkvv62_o.png"></p> 
<h2>3.命令方式设定IP</h2> 
<p>nmcli device connect eth0                          ##启用eth0网卡<br> nmcli device disconnect eth0                     ##关闭eth0网卡<br> nmcli device show eth0                              ##查看网卡信息<br> nmcli device status eth0                             ##查看网卡服务接口信息<br> 注意：nmcli 前提是NetworkManager必须开启</p> 
<h3>测试</h3> 
<p>nmcli device connect eth0            ##启用eth0网卡</p> 
<p>nmcli device disconnect eth0       ##关闭eth0网卡</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/b8/8d/FhTu1Izv_o.png"></p> 
<p>nmcli device show eth0     ##查看网卡信息</p> 
<p style="text-align:center;"><img alt="" class="has" height="165" src="https://images2.imgbox.com/de/e1/qzl4ZGRn_o.png" width="732"></p> 
<p>nmcli device status eth0     ##查看网卡服务接口信息</p> 
<p style="text-align:center;"><img alt="" class="has" height="112" src="https://images2.imgbox.com/69/61/W7VSaone_o.png" width="505"></p> 
<p>nmcli connection show                           ##显示网络信息<br> nmcli connection down eth0                  ##关闭eth0<br> nmcli connection up eth0                       ##开启eth0<br> nmcli connection delete eth0                ##删除eth0<br> nmcli connection add type ethernet con-name eth0 ifname eth0 ip4 1.1.1.224/24    ##添加一个名字为eth0，ip为1.1.1.224，子网掩码为255.255.255.0的网络</p> 
<h3>测试</h3> 
<p>nmcli connection down westos     关闭</p> 
<p style="text-align:center;"><img alt="" class="has" height="131" src="https://images2.imgbox.com/78/33/RxpW70Iz_o.png" width="542"></p> 
<p>nmcli connection up westos     开启</p> 
<p style="text-align:center;"><img alt="" class="has" height="169" src="https://images2.imgbox.com/aa/11/wd6sMrir_o.png" width="733"></p> 
<p> nmcli connection delete westos     删除</p> 
<p style="text-align:center;"><img alt="" class="has" height="185" src="https://images2.imgbox.com/ce/06/kNGfkgKt_o.png" width="637"></p> 
<p>nmcli connection add type ethernet con-name westos ifname eth0 ip4 1.1.1.224/24</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/86/68/kfFqLuBA_o.png"></p> 
<p>上面ip设定方式也是临时的，虚拟机重启后就消失了<br> nmcli connection modify westos ipv4.method auto     修改为动态网络<br> nmcli connection modify westos ipv4.method manual     修改为静态网络<br> nmcli connection modify westos ipv4.addresses 172.25.254.200/24     修改ip和子网掩码为172.25.254.200/24<br> 测试</p> 
<p>nmcli connection modify westos ipv4.method auto     修改为动态网络</p> 
<p style="text-align:center;"><img alt="" class="has" height="196" src="https://images2.imgbox.com/ed/67/VuMAMZBP_o.png" width="753"></p> 
<p> </p> 
<h2>管理网络配置文件</h2> 
<p>vim   /etc/sysconfig/network-scripts/<br><br> ifcfg-xxxx                                                               ##网卡文件<br> DEVICE=****                                                       ##****为网卡设备名称<br> BOOTPROTO=dhcp/static/none                       ##设定工作方式（动态/静态/无）<br> ONBOOT=yes                                                     ##网络服务开启时自动激活网卡<br> IPADDR=                                                             ##ip地址<br> PREFIX=24                                                         ##子网掩码设置形式<br> NETMASK=255.255.255.0                               ##子网掩码设置形式<br> NAME=                                                                 ##接口名称（可以不写）<br> TYPE=Ethernet                                                     ##网卡类型（以太网）（可以不写）</p> 
<h3>测试</h3> 
<p>1.设定静态网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/e9/db/sU8jj7Bn_o.png"></p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/2d/74/AG44rSq2_o.png"></p> 
<p>2.在同一块网卡上设置两个IP</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/92/db/GLp03joW_o.png"></p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/a4/b1/xSy6meDn_o.png"></p> 
<p>3.设置动态网络</p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/80/7e/NeX7yfUh_o.png"></p> 
<p> </p> 
<p style="text-align:center;"><img alt="" class="has" src="https://images2.imgbox.com/15/74/fqKKsqB9_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb8248a339fc30ea13634cb4e7236147/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软引用、弱引用、虚引用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e55dee76c2ed887c20dd7c7a92a841e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux下配置ip地址</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>