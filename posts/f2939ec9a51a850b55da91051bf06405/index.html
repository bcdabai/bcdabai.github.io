<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>机器学习-案例：流行电影统计 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="机器学习-案例：流行电影统计" />
<meta property="og:description" content="机器学习–案例：流行电影统计 现在我们有一组从2006年到2016年1000部最流行的电影数据
数据来源：https://www.kaggle.com/damianpanek/sunday-eda/data
问题1：我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？问题2：对于这一组电影数据，如果我们想rating，runtime的分布情况，应该如何呈现数据？问题3：对于这一组电影数据，如果我们希望统计电影分类(genre)的情况，应该如何处理数据？ 实现 首先获取导入包，获取数据
%matplotlib inline import pandas as pd import numpy as np from matplotlib import pyplot as plt #文件的路径 path = &#34;./IMDB-Movie-Data.csv&#34; #读取文件 df = pd.read_csv(path) 问题一： 我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？
得出评分的平均分 使用mean函数
df[&#34;Rating&#34;].mean() 得出导演人数信息 求出唯一值，然后进行形状获取
## 导演的人数 # df[&#34;Director&#34;].unique().shape[0] np.unique(df[&#34;Director&#34;]).shape[0] 问题二： 对于这一组电影数据，如果我们想Rating，**Runtime (Minutes)**的分布情况，应该如何呈现数据？
直接呈现，以直方图的形式 选择分数列数据，进行plot
df[&#34;Rating&#34;].plot(kind=&#39;hist&#39;,figsize=(20,8)) Rating进行分布展示 进行绘制直方图
plt.figure(figsize=(20,8),dpi=80) plt.hist(df[&#34;Rating&#34;].values,bins=20) plt.show() 修改刻度的间隔
# 求出最大最小值 max_ = df[&#34;Rating&#34;].max() min_ = df[&#34;Rating&#34;].min() # 生成刻度列表 t1 = np.linspace(min_,max_,num=21) # [ 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f2939ec9a51a850b55da91051bf06405/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T20:22:46+08:00" />
<meta property="article:modified_time" content="2024-01-26T20:22:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">机器学习-案例：流行电影统计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>机器学习–案例：流行电影统计</h2> 
<p>现在我们有一组从2006年到2016年1000部最流行的电影数据</p> 
<p>数据来源：https://www.kaggle.com/damianpanek/sunday-eda/data</p> 
<ul><li>问题1：我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？</li><li>问题2：对于这一组电影数据，如果我们想rating，runtime的分布情况，应该如何呈现数据？</li><li>问题3：对于这一组电影数据，如果我们希望统计电影分类(genre)的情况，应该如何处理数据？</li></ul> 
<h3><a id="_10"></a>实现</h3> 
<p>首先获取导入包，获取数据</p> 
<pre><code class="prism language-python"><span class="token operator">%</span>matplotlib inline
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#文件的路径</span>
path <span class="token operator">=</span> <span class="token string">"./IMDB-Movie-Data.csv"</span>
<span class="token comment">#读取文件</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_30"></a>问题一：</h4> 
<p>我们想知道这些电影数据中评分的平均分，导演的人数等信息，我们应该怎么获取？</p> 
<ul><li>得出评分的平均分</li></ul> 
<p>使用mean函数</p> 
<pre><code class="prism language-python">df<span class="token punctuation">[</span><span class="token string">"Rating"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>得出导演人数信息</li></ul> 
<p>求出唯一值，然后进行形状获取</p> 
<pre><code class="prism language-python"><span class="token comment">## 导演的人数</span>
<span class="token comment"># df["Director"].unique().shape[0]</span>
np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">"Director"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="_52"></a>问题二：</h4> 
<p>对于这一组电影数据，如果我们想<strong>Rating</strong>，**Runtime (Minutes)**的分布情况，应该如何呈现数据？</p> 
<ul><li>直接呈现，以直方图的形式</li></ul> 
<p>选择分数列数据，进行plot</p> 
<pre><code class="prism language-python">df<span class="token punctuation">[</span><span class="token string">"Rating"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">'hist'</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>Rating进行分布展示</li></ul> 
<p>进行绘制直方图</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">"Rating"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>修改刻度的间隔</p> 
<pre><code class="prism language-python"><span class="token comment"># 求出最大最小值</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Rating"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Rating"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 生成刻度列表</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>
<span class="token comment"># [ 1.9 2.255 2.61 2.965 3.32 3.675 4.03 4.385 4.74 5.095 5.45 5.805 6.16 6.515 6.87 7.225 7.58 7.935 8.29 8.645 9.]</span>
<span class="token comment"># 修改刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
<span class="token comment"># 添加网格</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>Runtime (Minutes)进行分布展示</li></ul> 
<p>进行绘制直方图</p> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">"Runtime (Minutes)"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>修改间隔</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 求出最大最小值</span>
max_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Runtime (Minutes)"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
min_ <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">"Runtime (Minutes)"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># # 生成刻度列表</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span>
<span class="token comment"># 修改刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span>min_<span class="token punctuation">,</span>max_<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 添加网格</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="genre_113"></a>问题三：对于这一组电影数据，如果我们希望统计电影分类**(genre)**的情况，应该如何处理数据？</h4> 
<ul><li>思路 
  <ul><li>1、创建一个全为0的dataframe，列索引置为电影的分类，temp_df</li><li>2、遍历每一部电影，temp_df中把分类出现的列的值置为1</li><li>3、求和</li></ul> </li><li>1、创建一个全为0的dataframe，列索引置为电影的分类，temp_df</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 进行字符串分割</span>
temp_list <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> df<span class="token punctuation">[</span><span class="token string">"Genre"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment"># 获取电影的分类</span>

genre_list <span class="token operator">=</span> np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">[</span>i <span class="token keyword">for</span> j <span class="token keyword">in</span> temp_list <span class="token keyword">for</span> i <span class="token keyword">in</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 增加新的列</span>
temp_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">[</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>genre_list<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>genre_list<span class="token punctuation">)</span>
</code></pre> 
<p>2、遍历每一部电影，temp_df中把分类出现的列的值置为1</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    temp_df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>i<span class="token punctuation">,</span>temp_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>3、求和,绘图</p> 
<pre><code class="prism language-python">temp_df<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>colormap<span class="token operator">=</span><span class="token string">"cool"</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6afb120360522455272705b2d99c0ce4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构（顺序表）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/776029c5d7d2773438f1c322b2fa29ef/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java集合（五）LinkedHashMap、TreeMap</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>