<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>clickhouse学习笔记-6-数据类型 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="clickhouse学习笔记-6-数据类型" />
<meta property="og:description" content="一、整形
带符号 - Int8	[-128 : 127] - Int16	[-32768 : 32767] - Int32 - Int64 无符号 - uInt8	[0 : 255] - uInt16	[0 : 65535] - uInt32 - uInt64 二、浮点数
支持类型 - Float32 - Float64 支持以下特殊的浮点数 - Inf – 正无穷 - Inf – 负无穷 - NaN – 非数字 三、定点数
数据类型 - Decimal32	- ( -1 * 10^(9 - S), 1 * 10^(9 - S) ) - Decimal64	- ( -1 * 10^(18 - S), 1 * 10^(18 - S) ) - Decimal128	- ( -1 * 10^(38 - S), 1 * 10^(38 - S) ) 有符号的定点数，可在加、减和乘法运算过程中保持精度。对于除法，最低有效数字会被丢弃（不舍入）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/13ea10982a7c296a72ba00567806589a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-30T14:58:20+08:00" />
<meta property="article:modified_time" content="2021-04-30T14:58:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">clickhouse学习笔记-6-数据类型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>一、整形</p> 
<ol><li>带符号</li></ol> 
<pre><code>- Int8		[-128 : 127]
- Int16		[-32768 : 32767]
- Int32
- Int64
</code></pre> 
<ol start="2"><li>无符号</li></ol> 
<pre><code>- uInt8		[0 : 255]
- uInt16	[0 : 65535]
- uInt32
- uInt64
</code></pre> 
<p>二、浮点数</p> 
<ol><li>支持类型</li></ol> 
<pre><code>- Float32
- Float64
</code></pre> 
<ol start="2"><li>支持以下特殊的浮点数</li></ol> 
<pre><code>- Inf – 正无穷
- Inf – 负无穷
- NaN – 非数字
</code></pre> 
<p>三、定点数</p> 
<ol><li>数据类型</li></ol> 
<pre><code>- Decimal32		- ( -1 * 10^(9 - S), 1 * 10^(9 - S) )
- Decimal64		- ( -1 * 10^(18 - S), 1 * 10^(18 - S) )
- Decimal128	- ( -1 * 10^(38 - S), 1 * 10^(38 - S) )
</code></pre> 
<p>有符号的定点数，可在加、减和乘法运算过程中保持精度。对于除法，最低有效数字会被丢弃（不舍入）</p> 
<ol start="2"><li>设置</li></ol> 
<pre><code>decimal(P,S)
- P 精度。有效范围：[1:38]，决定可以有多少个十进制数字（包括分数）。
- S 规模。有效范围：[0：P]，决定数字的小数部分中包含的小数位数。
</code></pre> 
<ol start="3"><li>运算和结果类型</li></ol> 
<p>对Decimal的二进制运算导致更宽的结果类型（无论参数的顺序如何）。</p> 
<ul><li>Decimal64(S1) Decimal32(S2) -&gt; Decimal64(S)</li><li>Decimal128(S1) Decimal32(S2) -&gt; Decimal128(S)</li><li>Decimal128(S1) Decimal64(S2) -&gt; Decimal128(S)</li></ul> 
<p>精度变化的规则：</p> 
<ul><li>加法，减法：S = max(S1, S2)。</li><li>乘法：S = S1 + S2。</li><li>除法：S = S1。</li></ul> 
<p>三、String</p> 
<p>字符串可以任意长度的。它可以包含任意的字节集，包含空字节</p> 
<p>四、时间</p> 
<ol><li> <p>date - （1970-01-01 至 2105）</p> </li><li> <p>datetime - 允许存储与日期类型相同</p> </li><li> <p>时区</p> <p>使用启动客户端或服务器时的系统时区，时间戳是从文本（分解为组件）转换为二进制并返回。在文本格式中，有关夏令时的信息会丢失。</p> <p>默认情况下，客户端连接到服务的时候会使用服务端时区。您可以通过启用客户端命令行选项 <code>--use_client_time_zone</code> 来设置使用客户端时间</p> </li></ol> 
<p>五、枚举</p> 
<p><code>Enum</code> 保存 <code>'string'= integer</code> 的对应关系</p> 
<ol><li>数据类型</li></ol> 
<pre><code>- Enum8		'String'= Int8
- Enum16	'String'= Int16

例：
CREATE TABLE t_enum
(
    x Enum8('hello' = 1, 'world' = 2)
)
ENGINE = TinyLog

INSERT INTO t_enum VALUES ('hello'), ('world'), ('hello')

SELECT * FROM t_enum
┌─x─────┐
│ hello │
│ world │
│ hello │
└───────┘

如果需要看到对应行的数值，则必须将 Enum 值转换为整数类型。
SELECT CAST(x, 'Int8') FROM t_enum
┌─CAST(x, 'Int8')─┐
│               1 │
│               2 │
│               1 │
└─────────────────┘
</code></pre> 
<ol start="2"><li>规则和用法</li></ol> 
<p><code>Enum</code> 中的字符串和数值都不能是 NULL</p> 
<p><code>Enum</code> 包含在 Nullable 类型中 <code>x Nullable( Enum8('hello' = 1, 'world' = 2) )</code> 此时可以存储 NULL</p> 
<p>枚举值不能与数字进行比较。可以与常量字符串进行比较。如果与之比较的字符串不是有效 Enum 值，则将引发异常。可以使用 IN 运算符来判断一个 Enum 是否存在于某个 Enum 集合中，其中集合中的 Enum 需要用字符串表示。</p> 
<p>Enum 类型可以被 <code>ALTER</code> 无成本地修改对应集合的值。可以通过 <code>ALTER</code> 操作来增加或删除 Enum 的成员（只要表没有用到该值，删除都是安全的）。作为安全保障，改变之前使用过的 Enum 成员将抛出异常。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b910b2247ca168d6cf5840c8e5271c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">clickhouse学习笔记-9-问题集</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a4dcc2f8d7f86fcd4f94650687b0c7c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Educational Codeforces Round 108 (Rated for Div. 2) ABCD题解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>