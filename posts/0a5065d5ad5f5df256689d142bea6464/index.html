<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常用类的方法总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常用类的方法总结" />
<meta property="og:description" content="类的各种常用方法 字符串String类中的常用方法 方法名返回值作用length()int得到字符串长度toLowerCase()String转换为小写toUpperCase()String转换为大写trimString去除字符串首尾全部空格isEmpty()boolean判断字符串长度是否为0getBytes()byte[]转换为字节数组toCharArray()char[]转换为字符数组equalsIgnoreCase(String str)boolean忽略大小写比较字符串是否相等equals(String str)boolean判断两个字符串是否相等charAt(int index)char得到某个索引上的字符indexOf(String str)int得到某个字符串第一次出现的索引，不存在返回-1lastIndexOf(String str)int得到某个字符串最后一次出现的索引，不存在返回-1contains(String str)boolean判断是否存在某个字符串startsWith(String str)boolean判断是否以某个字符串开头endsWith(String str)boolean判断是否以某个字符串结尾concat(String str)String将指定字符串评级到原字符串末尾substring(int index)String从索引index开始截取字符串末尾substring(int begin,int end)String截取[begin,end)范围内的字符串split(Sting regex)String[]根据字符串或者正则表达式切分原字符串replace(String oldStr,String newStr)String将原字符串的oldStr替换为newStrString.valueOf(参数)String将参数转换为字符串，参数可以是任何数据，通常用于原始类型转换为字符串String.format(String式,Object…obj)String根据指定格式转换参数。常用与将浮点数据保留指定小数位数。\n如String.format(“%4.2f”,2.345)表示将 2.345保留2位小数，整体占4位，输出为字符串格式。 如果实际数字总位数大于4，原样输出，如果实际数字 总位数小于4，会在最前补充空格。 可变字符串 StringBuilder 用于表示可变字符串的一个类，是非线程安全的，在单线程环境下使用，效率更高。
StringBuffer 用于表示可变字符串的一个类，是线程安全的，在多线程环境下使用。
StringBuilder和StringBuffer中的方法都一致，只不过StringBuffer中的方法使用了synchronized关键字修饰，表示是一个同步方法，在多线程环境下不会出现问题。
常用方法 常用方法作用append(Object obj)将任意数据添加带原可变字符串的末尾delete(int start,int end)删除[start,end)范围内的字符deleteCharAt(int index)删除index索引上的字符insert(int index,Object obj)将obj添加到index上repalce(int start,int end,String str)将[start，end)范围内的字符替换为strreverse()反转字符串 注意 String类中的所有方法调用后，都会创建一个新的String对象，即原本的String字符串不会改变
StringBuilder类中的所有方法都是在操作同一个字符串对象，每次调用方法，都会让原字符串发生变化
StringBuilder类中没有重写equals方法，所以判断两个可变字符串对象是否相同时，如果调用equals方法，实际调用的是Object类中未重写的方法，即==判断。所以判断可变字符串是否相同时，需要将其转换为String对象再调用equals方法。
任意类型对象转换为String String.valueOf(Object obj)
toString()方法
拼接空字符串
可变字符串相关面试题 比较String、StringBuilder和StringBuffer的区别 相同点： 这三个类都可以表示字符串。都提供了一些操作字符串的方法。
这三个类中有相同的方法，如charAt(),indexOf()等。
这三个类都是被final修饰的类，不能被继承
不同点： String定义的字符串是一个常量。可变字符串定义的字符串是一个变量。
String类中的方法调用后，不会改变原本字符串的值。可变字符串中的方法调用后，会改变原本字符串的值
StringBuilder是非线程安全的可变字符串类，StringBuffer是线程安全的可变字符串类，其中的方法被synchronized修饰。
System类 常用方法 常用方法与属性System.ou获取标准输出流对象，用于打印信息System.in获取标准输入流对象，用于获取输入的信息System.err获取错误输出流对象，用于打印异常信息System.exit(int statues)终止虚拟机运行，参数0表示正常终止System.currentTimeMills()获取从1970/1/1 0:0:0至今经过了多少毫秒。中国是UTC(&#43;8)，所以实际是从1970/1/1 8:0:0至今经过了多少毫秒。返回值为long类型。通常称为时间戳。System.arraycopy(原数组,原数组的起始位置,目标数组,目标数组的起始位置,要复制的元素数量)将原数组中指定数量的元素复制到新数组中 Runtime类 这个类不是一个抽象类，但不能创建对象，因为它的构造方法是私有的。
这个类提供了一个静态方法getRuntime()，通过该方法，可以获取一个Runtime类的对象。
这种方式可以保证该类只能创建一个对象，是Java中的一种设计模式：单例模式。
public class Runtime{ //定义了一个私有的静态成员，创建一个当前类的对象 private static Runtime currentRuntime = new Runtime(); //将构造方法私有，无法在外创建对象 private Runtime(); //定义了一个公开的静态方法，用于获取创建的唯一的当前类的对象 public static Runtime getRuntime(){ return currentRuntime; } } Date类 常用方法 常用方法作用getTime()得到Date对应对象的毫秒数after(Date when)判断参数是否是调用日期之后before(Date when)判断参数是否再调用日期之前 SimpleDateFormat类 日期模板 特殊字符作用yyyy年MM月dd日hh12小时制HH24小时制mm分ss秒E星期yyyy/MM/dd HH:mm:ss E2023/03/09 14:05:16 星期四 常用方法 常用方法返回值作用format(Date date)String将Date对象按日期模板转换为字符串parse(String str)Date将满足日期模板的字符串转换为Date对象 Calendar类 常用方法 get(int field)根据日历字段获取对应的值getMaximum(int field)获取指定日历字段的最大值，如日期最大值为31getActualMaximum(int field)获取指定日历字段的实际最大值，如11月的日期最大为30getTime()将Calendar对象转换为Date对象set(int field,int value)将指定的日历字段设置为指定值set(int year,int month,int date)同时设置日历的年月日setTime(Date date)将Date对象作为参数设置日历的信息 使用Calendar类实现万年历 package com." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0a5065d5ad5f5df256689d142bea6464/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-20T18:58:25+08:00" />
<meta property="article:modified_time" content="2023-03-20T18:58:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常用类的方法总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>类的各种常用方法</h2> 
<h3><a id="String_2"></a>字符串String类中的常用方法</h3> 
<table><thead><tr><th>方法名</th><th>返回值</th><th>作用</th></tr></thead><tbody><tr><td><strong>length()</strong></td><td>int</td><td>得到字符串长度</td></tr><tr><td>toLowerCase()</td><td>String</td><td>转换为小写</td></tr><tr><td>toUpperCase()</td><td>String</td><td>转换为大写</td></tr><tr><td>trim</td><td>String</td><td>去除字符串首尾全部空格</td></tr><tr><td>isEmpty()</td><td>boolean</td><td>判断字符串长度是否为0</td></tr><tr><td>getBytes()</td><td>byte[]</td><td>转换为字节数组</td></tr><tr><td><strong>toCharArray()</strong></td><td>char[]</td><td>转换为字符数组</td></tr><tr><td>equalsIgnoreCase(String  str)</td><td>boolean</td><td>忽略大小写比较字符串是否相等</td></tr><tr><td><strong>equals(String str)</strong></td><td>boolean</td><td>判断两个字符串是否相等</td></tr><tr><td><strong>charAt(int index)</strong></td><td>char</td><td>得到某个索引上的字符</td></tr><tr><td><strong>indexOf(String str)</strong></td><td>int</td><td>得到某个字符串第一次出现的索引，不存在返回-1</td></tr><tr><td><strong>lastIndexOf(String str)</strong></td><td>int</td><td>得到某个字符串最后一次出现的索引，不存在返回-1</td></tr><tr><td><strong>contains(String str)</strong></td><td>boolean</td><td>判断是否存在某个字符串</td></tr><tr><td>startsWith(String str)</td><td>boolean</td><td>判断是否以某个字符串开头</td></tr><tr><td>endsWith(String str)</td><td>boolean</td><td>判断是否以某个字符串结尾</td></tr><tr><td>concat(String str)</td><td>String</td><td>将指定字符串评级到原字符串末尾</td></tr><tr><td><strong>substring(int index)</strong></td><td>String</td><td>从索引index开始截取字符串末尾</td></tr><tr><td><strong>substring(int begin,int end)</strong></td><td>String</td><td>截取[begin,end)范围内的字符串</td></tr><tr><td><strong>split(Sting regex)</strong></td><td>String[]</td><td>根据字符串或者正则表达式切分原字符串</td></tr><tr><td>replace(String oldStr,String newStr)</td><td>String</td><td>将原字符串的oldStr替换为newStr</td></tr><tr><td><strong>String.valueOf(参数)</strong></td><td>String</td><td>将参数转换为字符串，参数可以是任何数据，通常用于原始类型转换为字符串</td></tr><tr><td>String.format(String式,Object…obj)</td><td>String</td><td>根据指定格式转换参数。常用与将浮点数据保留指定小数位数。\n如String.format(“%4.2f”,2.345)表示将 2.345保留2位小数，整体占4位，输出为字符串格式。 如果实际数字总位数大于4，原样输出，如果实际数字 总位数小于4，会在最前补充空格。</td></tr></tbody></table> 
<h3><a id="_29"></a>可变字符串</h3> 
<ul><li> <h6><a id="StringBuilder_31"></a>StringBuilder</h6> <p>用于表示可变字符串的一个类，是非线程安全的，在单线程环境下使用，效率更高。</p> </li><li> <h6><a id="StringBuffer_35"></a>StringBuffer</h6> <p>用于表示可变字符串的一个类，是线程安全的，在多线程环境下使用。</p> <p>StringBuilder和StringBuffer中的方法都一致，只不过StringBuffer中的方法使用了synchronized关键字修饰，表示是一个同步方法，在多线程环境下不会出现问题。</p> <h4><a id="_41"></a>常用方法</h4> 
  <table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>append(Object obj)</td><td>将任意数据添加带原可变字符串的末尾</td></tr><tr><td>delete(int start,int end)</td><td>删除[start,end)范围内的字符</td></tr><tr><td>deleteCharAt(int index)</td><td>删除index索引上的字符</td></tr><tr><td>insert(int index,Object obj)</td><td>将obj添加到index上</td></tr><tr><td>repalce(int start,int end,String str)</td><td>将[start，end)范围内的字符替换为str</td></tr><tr><td>reverse()</td><td>反转字符串</td></tr></tbody></table></li></ul> 
<h4><a id="_52"></a>注意</h4> 
<ul><li> <p>String类中的所有方法调用后，都会创建一个新的String对象，即原本的String字符串不会改变</p> </li><li> <p>StringBuilder类中的所有方法都是在操作同一个字符串对象，每次调用方法，都会让原字符串发生变化</p> </li><li> <p>StringBuilder类中没有重写equals方法，所以判断两个可变字符串对象是否相同时，如果调用equals方法，实际调用的是Object类中未重写的方法，即==判断。所以判断可变字符串是否相同时，需要将其转换为String对象再调用equals方法。</p> </li></ul> 
<h4><a id="String_60"></a>任意类型对象转换为String</h4> 
<ul><li> <p>String.valueOf(Object obj)</p> </li><li> <p>toString()方法</p> </li><li> <p>拼接空字符串</p> </li></ul> 
<h4><a id="_68"></a>可变字符串相关面试题</h4> 
<h5><a id="StringStringBuilderStringBuffer_70"></a>比较String、StringBuilder和StringBuffer的区别</h5> 
<h5><a id="_72"></a>相同点：</h5> 
<ul><li> <p>这三个类都可以表示字符串。都提供了一些操作字符串的方法。</p> </li><li> <p>这三个类中有相同的方法，如charAt(),indexOf()等。</p> </li><li> <p>这三个类都是被final修饰的类，不能被继承</p> </li></ul> 
<h5><a id="_80"></a>不同点：</h5> 
<ul><li> <p>String定义的字符串是一个常量。可变字符串定义的字符串是一个变量。</p> </li><li> <p>String类中的方法调用后，不会改变原本字符串的值。可变字符串中的方法调用后，会改变原本字符串的值</p> </li><li> <p>StringBuilder是非线程安全的可变字符串类，StringBuffer是线程安全的可变字符串类，其中的方法被synchronized修饰。</p> </li></ul> 
<h3><a id="System_88"></a>System类</h3> 
<h4><a id="_90"></a>常用方法</h4> 
<table><thead><tr><th>常用方法与属性</th><th></th></tr></thead><tbody><tr><td>System.ou</td><td>获取标准输出流对象，用于打印信息</td></tr><tr><td>System.in</td><td>获取标准输入流对象，用于获取输入的信息</td></tr><tr><td>System.err</td><td>获取错误输出流对象，用于打印异常信息</td></tr><tr><td>System.exit(int statues)</td><td>终止虚拟机运行，参数0表示正常终止</td></tr><tr><td>System.currentTimeMills()</td><td>获取从1970/1/1 0:0:0至今经过了多少毫秒。中国是UTC(+8)，所以实际是从1970/1/1 8:0:0至今经过了多少毫秒。返回值为long类型。通常称为时间戳。</td></tr><tr><td>System.arraycopy(原数组,原数组的起始位置,目标数组,目标数组的起始位置,要复制的元素数量)</td><td>将原数组中指定数量的元素复制到新数组中</td></tr></tbody></table> 
<h3><a id="Runtime_101"></a>Runtime类</h3> 
<p>这个类不是一个抽象类，但不能创建对象，因为它的构造方法是私有的。</p> 
<p>这个类提供了一个静态方法getRuntime()，通过该方法，可以获取一个Runtime类的对象。</p> 
<p>这种方式可以保证该类只能创建一个对象，是Java中的一种设计模式：单例模式。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Runtime</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//定义了一个私有的静态成员，创建一个当前类的对象</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Runtime</span> currentRuntime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将构造方法私有，无法在外创建对象</span>
<span class="token keyword">private</span> <span class="token class-name">Runtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//定义了一个公开的静态方法，用于获取创建的唯一的当前类的对象</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Runtime</span> <span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">return</span> currentRuntime<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="Date_122"></a>Date类</h3> 
<h4><a id="_124"></a>常用方法</h4> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>getTime()</td><td>得到Date对应对象的毫秒数</td></tr><tr><td>after(Date  when)</td><td>判断参数是否是调用日期之后</td></tr><tr><td>before(Date when)</td><td>判断参数是否再调用日期之前</td></tr></tbody></table> 
<h3><a id="SimpleDateFormat_132"></a>SimpleDateFormat类</h3> 
<h4><a id="_134"></a>日期模板</h4> 
<table><thead><tr><th>特殊字符</th><th>作用</th></tr></thead><tbody><tr><td>yyyy</td><td>年</td></tr><tr><td>MM</td><td>月</td></tr><tr><td>dd</td><td>日</td></tr><tr><td>hh</td><td>12小时制</td></tr><tr><td>HH</td><td>24小时制</td></tr><tr><td>mm</td><td>分</td></tr><tr><td>ss</td><td>秒</td></tr><tr><td>E</td><td>星期</td></tr><tr><td>yyyy/MM/dd HH:mm:ss E</td><td>2023/03/09 14:05:16 星期四</td></tr></tbody></table> 
<h4><a id="_148"></a>常用方法</h4> 
<table><thead><tr><th>常用方法</th><th>返回值</th><th>作用</th></tr></thead><tbody><tr><td>format(Date date)</td><td>String</td><td>将Date对象按日期模板转换为字符串</td></tr><tr><td>parse(String str)</td><td>Date</td><td>将满足日期模板的字符串转换为Date对象</td></tr></tbody></table> 
<h3><a id="Calendar_155"></a>Calendar类</h3> 
<h4><a id="_157"></a>常用方法</h4> 
<table><thead><tr><th>get(int field)</th><th>根据日历字段获取对应的值</th></tr></thead><tbody><tr><td>getMaximum(int field)</td><td>获取指定日历字段的最大值，如日期最大值为31</td></tr><tr><td>getActualMaximum(int field)</td><td>获取指定日历字段的实际最大值，如11月的日期最大为30</td></tr><tr><td>getTime()</td><td>将Calendar对象转换为Date对象</td></tr><tr><td>set(int field,int value)</td><td>将指定的日历字段设置为指定值</td></tr><tr><td>set(int year,int month,int date)</td><td>同时设置日历的年月日</td></tr><tr><td>setTime(Date date)</td><td>将Date对象作为参数设置日历的信息</td></tr></tbody></table> 
<h4><a id="Calendar_168"></a>使用Calendar类实现万年历</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hqyj<span class="token punctuation">.</span>dateTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Calendar</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test2</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//实现"万年历"</span>
<span class="token comment">//输入年份和月份，输出</span>
<span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"输入年份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"输入月份"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> month <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//得到当月最大日期</span>
<span class="token keyword">int</span> maxDate <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换行计数</span>
<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">//输出空格</span>
<span class="token comment">/*
* DAY_OF_WEEK 星期 空格数量
* 2 一 0
* 3 二 1
* 4 三 2
* 5 四 3
* 6 五 4
* 7 六 5
* 1 天 6
* //周天空6 其余空DAY_OF_WEEK-2
* */</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"一\t二\t三\t四\t五\t六\t日"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//获取当月1号是一周中的第几天</span>
<span class="token keyword">int</span> week <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//周天空6格</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>week <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\t\t\t\t\t\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//空格也需要计数</span>
count <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//其他情况空星期-2个格</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> week <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//空格也需要计数</span>
count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//输出数字</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> maxDate<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//计数+1</span>
count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token comment">//计数到7换行</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_231"></a>包装类</h3> 
<p>Java是纯面向对象语言，宗旨是将一切事物视为对象处理。</p> 
<p>但原始类型不属于对象，不满足面向对象的思想。但原始类型无需创建对象，保存在栈中，效率更高。</p> 
<p>为了既保证效率又让原始类型也有对应的类类型，达到"万物皆对象"的理念，所以就有了包装类的概念。</p> 
<h6><a id="_239"></a>包装类就是原始类型对应的类类型。</h6> 
<p>包装类常用于字符串与原始类中之间的转换。</p> 
<p>在web应用中，从浏览器页面中获取数据提交到服务器，全部都是String类型，所以一定要使用字符串转换为原始类型的方法。</p> 
<table><thead><tr><th>包装类</th><th>原始类型</th></tr></thead><tbody><tr><td>Byte</td><td>byte</td></tr><tr><td>Short</td><td>short</td></tr><tr><td>Integer</td><td>integer</td></tr><tr><td>Long</td><td>long</td></tr><tr><td>Float</td><td>float</td></tr><tr><td>Double</td><td>double</td></tr><tr><td>Chartacter</td><td>char</td></tr><tr><td>Boolean</td><td>boolean</td></tr></tbody></table> 
<h6><a id="_256"></a>特点</h6> 
<ul><li>八个原始类型中，除了int和char，其余包装类都是将原始类型的首字母改为大写。</li></ul> 
<p>int对应Integer，char对应Character</p> 
<ul><li> <p>包装类都是被final修饰的，不能被继承</p> </li><li> <p>除了Character类，其余包装类都有两个过时的构造方法，参数为对应的原始类型或字符串</p> </li></ul> 
<p>Character只有一个参数为char类型的构造方法</p> 
<p>构造方法的目的都是将原始类型的数据转换为包装类的对象</p> 
<ul><li> <p>除了Character类，其余包装类都有静态方法"parse原始类型单词(String str)"，用于将字符串转换为相应的原始类型</p> 
  <ul><li> <p>数值型的包装类parseXXX()方法，如果参数不是对应的数字，就会抛出NumberFormat异常，如"123a"或"123.4"都会报错</p> </li><li> <p>boolean的包装类Boolean的parseBoolean()方法，如果参数不是"true"这个单词的四个字母，转换结果都是false</p> </li></ul> </li><li> <p>除了Boolean类，其余包装类都有MAX_VALUE和MIN_VALUE这两个静态属性，用于获取对应类型支持的最大最小值</p> </li><li> <p>所有包装类都重写了toString()，用于将包装类对象转换为String对象</p> </li></ul> 
<h3><a id="_280"></a>装箱和拆箱</h3> 
<h5><a id="_282"></a>装箱</h5> 
<h5><a id="_284"></a>拆箱</h5> 
<h3><a id="_286"></a>自动装箱和拆箱</h3> 
<ul><li> <p>自动装箱缓冲区</p> <pre><code class="prism language-java"><span class="token comment">//i1和i2保存的数字在byte范围[-127,127]内，这个值会共享，只会有一个"100"对象</span>
<span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> i2 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1 <span class="token operator">==</span> i2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i1和i2引用同一个地址，结果为true</span>
<span class="token comment">//i3和i4保存的数字不在byte范围[-127,127]内，会创建对象</span>
<span class="token class-name">Integer</span> i3 <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span><span class="token comment">//128对象</span>
<span class="token class-name">Integer</span> i4 <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span><span class="token comment">//128对象</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i3 <span class="token operator">==</span> i4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i3和i4引用不同的地址，结果为false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i3<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>i4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//包装类重写了equals，会拆箱后判断，结果为ture</span>
</code></pre> 
  <ul><li> <p>使用自动装箱给包装类对象赋值，值的范围在byte范围[-127,127]内，这个值会保存在缓冲区中，如果多个对象都使用这个值，共享这一个数据，使用同一个地址，==判断结果true;值的范围不在byte范围[-127,127]内，就会创建新的包装类对象，会有不同的地址，==判断结果false</p> </li><li> <p>引用类型对象比较相同时，不要使用==，包括包装类的对象。比较相同时，使用包装类重写的equals方法.</p> </li></ul> </li></ul> 
<h4><a id="_306"></a>异常</h4> 
<p>当程序没有按开发人员的意愿正常执行，中途出现错误导致程序中断，这种情况，就称为异常。</p> 
<p>学习异常就是认识异常的种类，如何处理异常和避免异常出现。</p> 
<h5><a id="_312"></a>异常的产生</h5> 
<p>异常在程序中以对象的形式存在。当代码执行过程中出现异常，虚拟机会自动创建一个异常对象，如果没有对该异常对象进行处理，就会导致程序中断，不再执行后续内容。</p> 
<h5><a id="_316"></a>异常的分类</h5> 
<p>异常在程序中以对象的形式存在，就有相应的类。</p> 
<p>所有的异常类，组成了"异常家族"。</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-BB4l6SCY-1679309728418)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-10-15-26-11-image.png)]</p> 
<h5><a id="Error_324"></a>Error错误</h5> 
<p>如果出现xxxError，如StackOverFlowError，栈溢出，无法通过额外的代码解决，只能修改源代码。</p> 
<h5><a id="Exception_328"></a>Exception异常</h5> 
<ul><li> <p>RunTimeExcetpion运行时异常</p> <p>如果一个异常类属于RunTimeExcetpion异常类的子类，称这个异常为运行时异常，可以通过编译，运行时可能抛出异常对象</p> 
  <table><thead><tr><th>常见运行时异常</th><th>说明</th><th>出现的情景</th></tr></thead><tbody><tr><td>NullPointerException</td><td>NullPointerException 空指针异 常</td><td>如用空对象null调用属性或方法</td></tr><tr><td>IndexOutOfBoundsException</td><td>n 索引越界异常</td><td>如当使用某个带有索引的对象超出范围</td></tr><tr><td>NumberFormatException</td><td>数字格式异常</td><td>如调用包装类的parseXX()方法，如果参数不 能转换</td></tr><tr><td>InputMismatchException</td><td>输入不匹配异常</td><td>如使用Scanner接收控制台输入时，如果输 入的数据不是对应的类型</td></tr><tr><td>ClassCastException</td><td>对象转型异常</td><td>如Person p = (Person)Dog dog;</td></tr><tr><td>ArithmeticException</td><td>算术运算 异常</td><td>如0当分母</td></tr><tr><td></td><td></td><td></td></tr></tbody></table></li><li> <p>编译时异常</p> <p>如果一个异常类属于RunTimeExcetpion异常类的子类，称这个异常为运行时异常，可以通过编译，运行时可能抛出异常对象</p> 
  <table><thead><tr><th>常见编译时异常</th><th>说明</th><th>出现的情景</th></tr></thead><tbody><tr><td>IOException</td><td>输入输出流异常</td><td>使用流对象</td></tr><tr><td>FileNotFoundException</td><td>文件未找到以</td><td>方法的参数为文件对象时</td></tr><tr><td>SQLException</td><td>数据库相关异常</td><td>操作数据库时</td></tr></tbody></table></li></ul> 
<h4><a id="_354"></a>处理异常</h4> 
<p>通常所说的处理异常，指的是处理Exception类的子类异常。</p> 
<p>处理异常的目的，就是保证程序正常执行。</p> 
<h5><a id="trycatchfinally_360"></a>方式一：try-catch-finally语句</h5> 
<p>这种方式处理异常，无论会不会抛出异常，都能让程序正常执行</p> 
<pre><code class="prism language-java"><span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//可能出错的代码</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>异常类 异常对象<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//如果try中的代码抛出异常，异常对象属于catch中的异常类型，就会执行这里的代码</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>异常类 异常对象<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//如果try中的代码抛出异常，异常对象属于catch中的异常类型，就会执行这里的代码</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//无论程序是否会抛出异常，都要执行这里的代码</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wsUzXVtl-1679309728419)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-10-19-09-04-image.png)]</p> 
<p>执行流程：先执行try中的内容，当出现异常，与后续每个catch中的异常类型进行匹配，如果匹配到对应的类型或异常父类时，执行后续大括号中的内容，最终一定执行finally中的内容。</p> 
<h6><a id="trycatchfinally_381"></a>try-catch-finally使用时注意</h6> 
<ul><li> <p>如果代码会抛出多个异常，可以使用多个catch进行捕获。需要将子类异常放在最前，父类异常放在最后</p> </li><li> <p>try、catch、finally都不能单独使用，try必须配合catch或finally或一起使用</p> </li><li> <p>无论try中的代码是否会抛出异常，finally中的代码一定会执行</p> </li><li> <p>执行try中的代码是，如果出现异常，就不再执行try中剩余代码</p> </li><li> <p>try中定义的内容，无法在try之外的地方使用</p> </li><li> <p>try中如果有return，不影响finally的执行，finally优先于return执行</p> </li></ul> 
<h4><a id="throws_395"></a>方式二：throws关键字</h4> 
<p>这种方法，可以让编译时异常通过编译。</p> 
<p>在定义方法的时候，通过该关键字<strong>声明</strong>方法可能抛出的<strong>异常</strong>。</p> 
<p>用法：方法的参数部分后，添加 <strong>throws</strong> ****异常类型1,****异常类型2.</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//这时该方法就会有一个声明：该方法可能会抛出InterruptedException异常</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//sleep()方法在源码中声明了可能会抛出InterruptedException异常，</span>
<span class="token comment">//InterruptedException异常不是RuntimeException的子类异常，必须要处理才能通过编译</span>
<span class="token comment">//要么使用try-catch处理，要么继续声明有异常</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="throwthrows_415"></a>throw和throws</h4> 
<ul><li> <p>throws表示用于声明方法有可能出现的异常。使用时写在方法的小括号之后</p> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">{<!-- --></span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>throw用于手动抛出异常对象。使用时，写在方法体中，“throw 异常对象”。</p> </li></ul> 
<p>常用于满足某种条件时，强制中断程序。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">throw</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_435"></a>自定义异常</h4> 
<p>如果需要在某种情况下中断程序，可以自定义一个异常类。再通过throw关键字手动抛出自定义异常。</p> 
<h5><a id="_439"></a>自定义异常步骤</h5> 
<p>1.创建一个类，继承某个异常类</p> 
<ul><li> <p>如果继承的是RuntimeException，表示自定义的异常类属于运行时异常，该异常对象可以不用处理</p> </li><li> <p>如果继承的是非RuntimeException，表示自定义的异常属于编译时异常，该异常对象必须要处理</p> </li></ul> 
<p>2.可选操作。定义带参构造方法，参数为String类型的异常信息，调用父类中的构造方法</p> 
<pre><code class="prism language-java"><span class="token comment">/*
* 自定义异常
* 只需继承某个异常类即可
* 是否定义构造方法根据实际情况决定
* */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyException</span> <span class="token keyword">extends</span> <span class="token class-name">NullPointerException</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">/*
* 带参构造，参数为异常信息
* */</span>
<span class="token keyword">public</span> <span class="token class-name">MyException</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">super</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
* 无参构造
* */</span>
<span class="token keyword">public</span> <span class="token class-name">MyException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_471"></a>数组和集合</h3> 
<h4><a id="_473"></a>数组的特点</h4> 
<ul><li> <p>数组中保存的元素都是有序的，可以通过索引快速访问。</p> </li><li> <p>数组中保存的元素都是一种类型。</p> </li><li> <p>数组的长度在定义后，无法改变。</p> </li><li> <p>数组中无法获取其中实际保存的元素数量</p> </li></ul> 
<h4><a id="_483"></a>集合的特点</h4> 
<ul><li> <p>能保存一组数据，元素可以有序和无序(存入的顺序和读取的顺序不一致)</p> </li><li> <p>集合中保存的元素的数据类型可以不同</p> </li><li> <p>集合的容量可以改变</p> </li><li> <p>可以获取集合中实际存在的元素数量</p> </li></ul> 
<h4><a id="_493"></a>集合家族</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-xzFjcbME-1679309728420)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-13-10-08-29-image.png)]</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VIu7L7jV-1679309728420)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-13-10-10-24-image.png)]</p> 
<p>图上的所有实现类，都是非线程安全的，在多线程环境下使用以上任何集合，都会出现数据不准确的情况。</p> 
<h5><a id="Cellection_501"></a>Cellection接口</h5> 
<p>该接口有两个核心接口：List和Set。</p> 
<p>这两个接口都可以保存一组元素，<strong>List接口</strong>保存原始有序可重复，<strong>Set接口</strong>保存元素无需不可重复。</p> 
<p>Collection接口有一个父类接口Iterable，它不是一个集合，而是用于遍历集合的工具接口，包含forEach()和iterator()方法。</p> 
<table><thead><tr><th>常用方法</th><th>返回值</th><th>作用</th></tr></thead><tbody><tr><td>add(Object obj)</td><td>boolean</td><td>将元素添加到集合中</td></tr><tr><td>size()</td><td>int</td><td>获取集合中的元素数量</td></tr><tr><td>isEmpty()</td><td>boolean</td><td>判断集合是否为空</td></tr><tr><td>clear()</td><td>void</td><td>清空集合</td></tr><tr><td>contains(Object obj)</td><td>boolean</td><td>判断集合中是否包含指定元素</td></tr><tr><td>remove()</td><td>boolean</td><td>移除集合中的指定元素</td></tr><tr><td>toArray()</td><td>Object[]</td><td>将集合转换为数组</td></tr><tr><td>stream()</td><td>Streanm</td><td>获取集合流对象</td></tr><tr><td>iterator()</td><td>Iterator</td><td>得到集合的迭代器对象，用于遍历集合</td></tr></tbody></table> 
<h5><a id="List_521"></a>List接口(有序可重复)</h5> 
<p>有序集合，元素可以重复，允许保存null，可以通过索引获取对应的元素。</p> 
<p>List接口在继承Colletion接口后，又拓展了一些操作元素的方法。</p> 
<table><thead><tr><th>拓展方法</th><th>返回值</th><th>作用</th></tr></thead><tbody><tr><td>get(int index)</td><td>Object</td><td>得到指定索引的元素</td></tr><tr><td>set(int index,Object obj)</td><td>Object</td><td>使用obj替换index上的元素，返回被替换的元素</td></tr><tr><td>add(int index,Object obj)</td><td>void</td><td>将obj添加到index上</td></tr><tr><td>remove(int index)</td><td>Object</td><td>移除指定索引上的元素，返回被移除的元素</td></tr><tr><td>index(Object obj)</td><td>int</td><td>得到obj第一次出现的索引</td></tr><tr><td>lastindex(Object ojb)</td><td>int</td><td>得到obj最后一次出现的索引</td></tr><tr><td>subList(int from,int to)</td><td>List</td><td>截取[from,to)区间的元素，返回子集合</td></tr></tbody></table> 
<h5><a id="ArrayList_537"></a>ArrayList实现类(重点)</h5> 
<ul><li> <p>采用数组实现集合。</p> </li><li> <p>可以通过索引访问元素，可以改变集合大小，可以要在其中插入和删除元素时，会影响后续元素。</p> </li><li> <p>该集合查询效率很高，在其中间删除或加入元素效率很低。</p> </li><li> <p>任何集合中保存的都是引用类，如集合中保存123，保存的不是int类型的123，二十integer类型的123.</p> </li></ul> 
<table><thead><tr><th>构造方法</th><th>说明</th></tr></thead><tbody><tr><td>ArrayList()</td><td>创建一个Object类型的空数组，在调用后添加方法，才会初始化数组大小为10.</td></tr><tr><td>ArrayList(int initialCapacity)</td><td>创建一个指定容量的Object类型数组，如果参数为负值，会抛出IllegalArgumentException异常</td></tr><tr><td>ArrayList(Collection c)</td><td>根据指定集合创建Object类型数组</td></tr></tbody></table> 
<h6><a id="_553"></a>常用方法</h6> 
<p>主要以List接口和Collection接口中的方法为主。</p> 
<h5><a id="LinkedList_557"></a>LinkedList实现类</h5> 
<ul><li> <p><strong>采用双向链表实现集合</strong></p> </li><li> <p>集合中保存的每个元素称为节点，除首尾节点外，其他节点即保存了自己的数据，还保存了其前后节点的地址。</p> </li><li> <p>如果在双向链表的结构中进行插入和删除节点的操作时，不会影响其他节点现在的保存位置。</p> </li><li> <p>如果要查询某个节点的地址时，需要从头节点或则尾节点开始搜索目标节点的位置。</p> </li><li> <p>双向链表在中间插入和删除数据效率高，随机读取的效率低。</p> <p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-dJ7BH4Zk-1679309728421)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-14-18-08-16-image.png)]</p> </li></ul> 
<h6><a id="_571"></a>构造方法</h6> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>LinkedList()</td><td></td></tr></tbody></table> 
<h6><a id="_577"></a>常用方法</h6> 
<p>主要以List接口和Collection接口中的方法为主，由于还实现了Deque接口，所以还有一些Deque接口中的方法。</p> 
<table><thead><tr><th>常用来自于Deque接口中的方法</th><th>作用</th></tr></thead><tbody><tr><td>addFirst(Object obj)</td><td>添加obj为头节点</td></tr><tr><td>addLast(Object obj)</td><td>添加obj为尾节点</td></tr><tr><td>getFirst()</td><td>得到头节点</td></tr><tr><td>gerLast()</td><td>得到尾巴节点</td></tr><tr><td>removeFirst()</td><td>删除头节点</td></tr><tr><td>removeLast()</td><td>删除尾节点</td></tr></tbody></table> 
<h5><a id="ArrayListLinkedList_590"></a>ArrayList和LinkedList的区别</h5> 
<ul><li> <p>这两个类都是List接口的实习类，保存的元素有序可重复，允许保存null。</p> </li><li> <p>ArrayList采用数组实现，随机读取效率高，插入和删除效率低，适用于查询。</p> </li><li> <p>LinkedList采用双向链表实现，插入和删除效率高，随机读取效率低，适用于频繁更新集合。</p> </li></ul> 
<h5><a id="Set_598"></a>Set接口(无序不重复)</h5> 
<p>无序集合，元素不重复，允许保存null，没有索引。</p> 
<p>Set接口中的方法都是继承于Collection接口。</p> 
<h5><a id="hash_table_604"></a>哈希表hash table</h5> 
<p>哈希表，也成为散列表，是一种数据结构，能更快地访问数据.</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-kVdFDuNb-1679309728422)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-14-18-21-54-image.png)]</p> 
<h6><a id="_610"></a>哈希表的特点</h6> 
<ul><li> <p>采用哈希表实现</p> </li><li> <p>元素不重复，无序保存，允许保存一个null</p> </li><li> <p>本质是HashMap对象</p> </li><li> <p>使用HashSet集合时，通常要吃重写实体类中的equals和hashcode方法</p> </li></ul> 
<h6><a id="_620"></a>构造方法</h6> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>HashSet()</td><td>创建一个空集合，实际是创建了一个HashMap对象</td></tr></tbody></table> 
<h6><a id="_626"></a>常用方法</h6> 
<p>HashSet中没有定义属于自定的方法，都是父接口Set和Collection中的方法。</p> 
<h5><a id="equalshashcode_630"></a>equals和hashcode的关系</h5> 
<ul><li> <p>如果两个对象的equals方法结果为true，在没有重写equals方法的前提下，hashcode相同吗？</p> 
  <ul><li>如果没有重写equals方法，默认使用Object中的方法，使用==判断，如果结果为true,说明是同一个地址，同一个对象，hashcode一定相同</li></ul> </li><li> <p>如果两个对象的hashcode不同，在没有重写equals方法的前提下，equals方法的结果为？</p> 
  <ul><li>hashcode不同，说明不是同一个对象，没有重写equals，说明使用Object中的方法，使用==判断，结果为false。</li></ul> </li><li> <p>如果两个对象的hashcode相同，equals方法的比较结果为？</p> 
  <ul><li> <p>可能为true或false</p> <pre><code class="prism language-java"><span class="token class-name">String</span> str1<span class="token operator">=</span><span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2<span class="token operator">=</span><span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token comment">//str1和str2使用同一个地址，hashcode相同，equals结果为true</span>
<span class="token class-name">String</span> str3<span class="token operator">=</span><span class="token string">"通话"</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str4<span class="token operator">=</span><span class="token string">"重地"</span><span class="token punctuation">;</span>
<span class="token comment">//str3和str4不是同一个地址，但hashcode相同，这种情况称为哈希冲突，equals结果为</span>
<span class="token boolean">false</span>
</code></pre> </li></ul> </li></ul> 
<h5><a id="TreeSet_654"></a>TreeSet实现类</h5> 
<ul><li> <p>特殊的Set实现类，数据可以有序保存，可以重复，不能添加null</p> </li><li> <p>采用红黑树(自平衡二叉树)实现的集合</p> 
  <ul><li> <p>二叉树表示某个节点最多有两个节点</p> </li><li> <p>某个节点右侧节点值都大于左侧节点值</p> </li><li> <p>红黑树会经过"变色"和旋转达到二叉树的平衡</p> </li></ul> </li><li> <p>只能添加同一种类型的对象且该对象实现了Comparable接口</p> 
  <ul><li>每次调用add方法添加元素时，会自动调用CompareTo()方法,用于决定新添加的元素放在旧元素之前还是之后</li></ul> </li><li> <p>CompareTo()方法的返回值决定了能否添加新元素和新元素的位置</p> 
  <ul><li> <p>如果返回，视为每次添加的元素都是同一个，不再重复添加</p> </li><li> <p>如果为正数，将新的元素添加在现有元素之后</p> </li><li> <p>如果为负数，将新的元素添加在现有元素之前</p> </li></ul> </li><li> <p>添加的元素是自动排序</p> </li></ul> 
<h6><a id="_680"></a>构造方法</h6> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>TreeSet()</td><td>常见一个空集合</td></tr></tbody></table> 
<h6><a id="_686"></a>常用方法</h6> 
<table><thead><tr><th>独有方法</th><th>作用</th></tr></thead><tbody><tr><td>first()</td><td>得到集合中第一个元素</td></tr><tr><td>last()</td><td>得到集合中的最后一个元素</td></tr><tr><td>celliling(Object obj)</td><td>得到集合中比参数大的元素中的最小元素</td></tr><tr><td>floor(Object obj)</td><td>得到集合中比参数小的元素中的最大元素</td></tr></tbody></table> 
<h5><a id="Map_695"></a>Map接口</h5> 
<p>Map成为映射，该集合中保存的数据时以<strong>键值对</strong>的形式保存，保存的键与值的映射关系。</p> 
<p><strong>键成为Key</strong>，<strong>值成为Value</strong>，键不能重复，允许出现一个null作为键，值没有限制</p> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>size()</td><td>得到键值对的数量</td></tr><tr><td>isEmty()</td><td>判断是否为空集合</td></tr><tr><td>clear()</td><td>清空所有键值对</td></tr><tr><td>put(Object key,Object Value)</td><td>添加一组键值对</td></tr><tr><td>get(Object key)</td><td>根据键得到对应的值</td></tr><tr><td>containsKey(Object key)</td><td>判断是否存在某个键</td></tr><tr><td>containValue(Object value)</td><td>判断是否存在某个值</td></tr><tr><td>keyset()</td><td>得到键的集合</td></tr><tr><td>values()</td><td>得到值的集合</td></tr><tr><td>entrySet()</td><td>得到键值对的集合</td></tr><tr><td>remove(Object key)</td><td>删除指定的键值对</td></tr></tbody></table> 
<h5><a id="HashMap_715"></a>HashMap实现类（重点）</h5> 
<h6><a id="_717"></a>构造方法</h6> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>HashMap()</td><td>创建一个大小为16，加载因子为0.75的空集合</td></tr></tbody></table> 
<h6><a id="_723"></a>常用方法</h6> 
<p>使用Map接口中的方法</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-HmMO0m5Y-1679309728422)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-14-19-16-12-image.png)]</p> 
<ul><li> <p>JDK1.8之后，HashMap采用"<strong>数组</strong>+<strong>链表</strong>+<strong>红黑树</strong>"实现</p> 
  <ul><li> <p>当没有出现哈希表冲突时，元素保存在数组中</p> </li><li> <p>如果出现哈希冲突，在对应的位置上创建链表，元素保存在链表中</p> </li></ul> </li></ul> 
<h3><a id="_735"></a>遍历集合的方式</h3> 
<h4><a id="LIst_737"></a>遍历LIst集合</h4> 
<ul><li> <p>普通for循环</p> <pre><code class="prism language-java"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token operator">&lt;</span>集合<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    s
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>增强for循环</p> <pre><code class="prism language-java"><span class="token keyword">for</span><span class="token punctuation">(</span>数据类型 变量名 <span class="token operator">:</span> 集合<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
元素 变量 <span class="token operator">=</span> 集合<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>forEach()方法</p> <p><strong>使用该方法遍历集合时，不要使用add或remove操作，遍历会抛出异常。</strong></p> <pre><code class="prism language-java">集合<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>obj <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
元素 变量 <span class="token operator">=</span> 集合<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>迭代器</p> </li></ul> 
<pre><code class="prism language-java"><span class="token comment">//Collection接口有一个父接口Iterable，其中有一个iterator方法用于获取迭代器对象遍历集合</span>
<span class="token comment">//所有Collection的子实现类都能调用该方法</span>
<span class="token class-name">Iterator</span> it <span class="token operator">=</span> <span class="token class-name">Collection</span>集合<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//hasNext()判断是否还有下一个元素</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//next()方法读取该元素</span>
元素 变量 <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="Set_778"></a>遍历Set集合</h4> 
<ul><li> <p>普通for循环无法遍历Set集合，因为元素没有索引</p> </li><li> <p>增强for循环</p> <pre><code class="prism language-java"><span class="token keyword">for</span><span class="token punctuation">(</span>数据类型 变量名 <span class="token operator">:</span> 集合<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
元素 变量 <span class="token operator">=</span> 集合<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>forEach()方法</p> <pre><code class="prism language-java">集合<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>obj <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
元素 变量 <span class="token operator">=</span> 集合<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>迭代器</p> <pre><code class="prism language-java"><span class="token comment">//Collection接口有一个父接口Iterable，其中有一个iterator方法用于获取迭代器对象遍历集合</span>
<span class="token comment">//所有Collection的子实现类都能调用该方法</span>
<span class="token class-name">Iterator</span> it <span class="token operator">=</span> <span class="token class-name">Collection</span>集合<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//hasNext()判断是否还有下一个元素</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//next()方法读取该元素</span>
元素 变量 <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> 
<h4><a id="HashMap_811"></a>遍历HashMap集合</h4> 
<pre><code class="prism language-java"><span class="token class-name">Set</span> keySet <span class="token operator">=</span> 集合<span class="token punctuation">.</span><span class="token function">keySets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span>keySet<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token class-name">Object</span> value<span class="token operator">=</span>集合<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_820"></a>泛型</h5> 
<p>一种规范，常用于限制集合中的元素类型，省去遍历集合时转换Object对象的过程。</p> 
<pre><code class="prism language-java"><span class="token comment">//定义只能保存任意类型的元素，即Object类型</span>
<span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//遍历时只能使用Object类型获取</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj <span class="token operator">:</span> list<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>  
</code></pre> 
<h4><a id="Collections_834"></a>Collections集合工具类</h4> 
<ul><li> <p><strong>Collection</strong>是集合的<strong>跟接口</strong>，定义了操作集合中元素的方法。</p> </li><li> <p><strong>Collection</strong>是集合的工具<strong>类</strong>，定义了操作集合中元素的静态方法。</p> </li></ul> 
<table><thead><tr><th>Collections中的静态方法</th><th>说明</th></tr></thead><tbody><tr><td>Collections.shuffle(List list)</td><td>打乱集合中元素的顺序</td></tr><tr><td>Collections.sort(List list)</td><td>对集合中的元素进行排序。元素必须实现Comparable接</td></tr><tr><td>口。</td><td></td></tr><tr><td>Collections.swap(List list,int</td><td></td></tr><tr><td><br>a,int b)</td><td>将集合中索引a和b的元素交换位置</td></tr><tr><td>Collections.reverse(List list)</td><td>反转集合中的元素</td></tr><tr><td>Collections.max(Collection c)</td><td>得到集合中元素的最大值，元素必须实现Comparable接口</td></tr><tr><td>Collections.rotate(List list,int distance)</td><td>将集合中第一个元素向后移动distance个元素</td></tr><tr><td>Collections.fill(List list,Object obj)</td><td>使用obj填充集合</td></tr></tbody></table> 
<h4><a id="Arrays_852"></a>Arrays数组工具类</h4> 
<p>包含了一些操作数据的静态方法</p> 
<table><thead><tr><th>常用静态方法</th><th>说明</th></tr></thead><tbody><tr><td>Arrays.sort()</td><td>对数组的元素升序排序</td></tr><tr><td>Array.aList(T…obj)</td><td>将可变参数转换为ArrayList集合</td></tr></tbody></table> 
<h2><a id="_861"></a>文件与流</h2> 
<h3><a id="File_863"></a>文件File</h3> 
<p>java中的File类，表示本地硬盘中的文件file或我呢见驾directory的一个类。</p> 
<p>通过这个类创建对象，可以读取文件信息或操作对应文件。</p> 
<h5><a id="_869"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>File(Strin pathName)</td><td>根据文件的完整路径创建File对象</td></tr><tr><td>File(String parent,String child)</td><td>根据文件的父目录的路径和自身创建File对象</td></tr><tr><td>File(File parent,String child)</td><td>根据文件的父目录对应的Filed对象和自身的名称创建File对象</td></tr></tbody></table> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//"C:\Users\23266\Desktop\test.txt"</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"C:\\Users\\23266\\Desktop\\test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"C:\\Users\\23266\\Desktop"</span><span class="token punctuation">,</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"C:\\Users\\23266\\Desktop "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_893"></a>常用方法</h4> 
<table><thead><tr><th>常用方法（File）</th><th>作用</th></tr></thead><tbody><tr><td><strong>exists()</strong></td><td>判断文件是否存在</td></tr><tr><td><strong>isFile()</strong></td><td>判断是否为文件</td></tr><tr><td><strong>isDirectory()</strong></td><td>判断是否为文件夹</td></tr><tr><td><strong>getName()</strong></td><td>获取文件名</td></tr><tr><td><strong>getPath()</strong></td><td>获取文件的相对路径</td></tr><tr><td><strong>getAbsolutePath()</strong></td><td>获取文件的绝对路径</td></tr><tr><td>getParent()</td><td>获取文件父目录路径</td></tr><tr><td>getParentFile()</td><td>获取文件父目录对象</td></tr><tr><td>lastModfied()</td><td>获取我呢见最后一次修改时间</td></tr><tr><td><strong>length()</strong></td><td>获取文件字节大小</td></tr><tr><td>isHidden</td><td>判断文件是否隐藏</td></tr><tr><td><strong>delete()</strong></td><td>删除文件或空的目录</td></tr><tr><td><strong>mkdir()</strong></td><td>新建指定文件夹</td></tr><tr><td>removeTo()</td><td>移动且重命名文件</td></tr><tr><td>parent(文件夹).list()</td><td>得到文件夹第一层文件名称的数组，返回String[]</td></tr><tr><td><strong>parent.listFile()</strong></td><td>得到文件夹中的第一层文件对象的数组，返回File[]</td></tr></tbody></table> 
<h4><a id="_914"></a>斐波那契数列</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VlOVDAGQ-1679309728423)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-15-19-23-39-image.png)]</p> 
<h4><a id="_918"></a>递归遍历文件夹</h4> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-OSlexVie-1679309728423)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-15-19-26-12-image.png)]</p> 
<h3><a id="IO_922"></a>IO</h3> 
<ul><li> <p>I：input输入</p> </li><li> <p>O：output输出</p> </li></ul> 
<h3><a id="Stream_928"></a>流Stream</h3> 
<p>在java中，<strong>流表示计算机硬盘与内存之间传输数据的通道</strong></p> 
<p>将<strong>内存中</strong>的数据存入<strong>到硬盘</strong>中，称为<strong>写write</strong>，也称为<strong>输出Output。</strong></p> 
<p>将<strong>硬盘中</strong>的数据存入<strong>到内存中</strong>，称为<strong>读read</strong>，也称为<strong>输入Input</strong></p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-fVy4Ije6-1679309728424)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-15-14-28-18-image.png)]</p> 
<h4><a id="_938"></a>流的分类</h4> 
<p>java中的流也是类，以对象的实现表示流，流有”四大家族“，是所有流的父类。</p> 
<h5><a id="InputStream_942"></a>字节输入流InputStream</h5> 
<p><strong>FileInputStream、ObjectInputStream</strong></p> 
<h5><a id="OutputStream_946"></a>字节输出流OutputStream</h5> 
<p><strong>FileOutputStream、ObjectOutputStream</strong></p> 
<h5><a id="Reader_950"></a>字符输入流Reader</h5> 
<p>FileReader、<strong>BufferedReader</strong>、InputStreamReader</p> 
<h5><a id="Writer_954"></a>字符输出流Writer</h5> 
<p>FileWriter、<strong>BufferedWriter</strong>、InputStreamWriter</p> 
<h5><a id="_958"></a>按方向分类</h5> 
<ul><li> <p>输入流：InputStream、OutputStream</p> 
  <ul><li>读写非文本类型文件。如图片、多媒体文件</li></ul> </li><li> <p>字符流：Reader、Writer</p> 
  <ul><li>读写纯文本我呢见。如txt、md等</li></ul> </li></ul> 
<h4><a id="_968"></a>流的四个父类的特点</h4> 
<ul><li> <p>这四个父类都是java.io包下，都是抽象类，不能直接创建其对象，使用其子类对象</p> </li><li> <p>这四个父类都有close()方法，用于关闭流对象，释放资源</p> </li><li> <p>输入流(InputStream和Writer)都有flush()方法，用于将流中的数据冲刷到硬盘中</p> 
  <ul><li>在使用输出流对象时，一定要调用flush()方法后，才能真正将数据写入到硬盘中</li></ul> </li><li> <p>所有流中，以Stream结尾，都是字节流,数据以字节传输；以Reader或Writer结尾，都是字符流，数据以字符传输</p> </li><li> <p>读取硬盘中的数据时，读取的文件必须存在；写入数据到硬盘中时，写入的文件可以不存在，但父目录必须存在。</p> </li></ul> 
<h4><a id="FileInputStream_982"></a>FileInputStream文件字节输入流(重点)</h4> 
<p>以字节的形式读取文件</p> 
<h5><a id="_986"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>FileInputStream(String filePath)</strong></td><td>根据文件完整路径创建流对象</td></tr><tr><td><strong>FileInputStream(File file)</strong></td><td>根据文件对象创建流对象</td></tr></tbody></table> 
<h5><a id="_993"></a>常用方法</h5> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>read()</td><td>读取一个字节，返回读取到的字节</td></tr><tr><td>read(byte[] bytes)</td><td>读取指定数组大小的字节，返回读取到的字节数量</td></tr><tr><td>read(byte[] bytes,int off,int len)</td><td>读取指定数组大小的字节，从off索引开始读取len个字节，返回读取到的字节数量</td></tr><tr><td>available</td><td>文件可读取的最大字节数量</td></tr><tr><td>close()</td><td>关闭流对象</td></tr></tbody></table> 
<h4><a id="FileOutputStream_1003"></a>FileOutputStream文件字节输出流(掌握)</h4> 
<p>以字节的形式读取文件</p> 
<h5><a id="_1007"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>FileOutputStream(String filePath)</td><td>根据文件名创建流对象，覆盖写入</td></tr><tr><td>FileOutputStream(String filePath,boolean appen)</td><td>根据文件名创建流对象，追加写入</td></tr><tr><td>FileOutputStream(File file)</td><td>根据文件对象创建流对象，覆盖写入</td></tr><tr><td>FileOutputStream(File file,boolean appen)</td><td>根据文件对象创建对象，追加写入</td></tr></tbody></table> 
<h5><a id="_1016"></a>常用方法</h5> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>write(int b)</td><td>写入一个字节</td></tr><tr><td>write(byte[] bytes)</td><td>写入一个字节数组</td></tr><tr><td>write(byte[] bytes,int off,int  len)</td><td>写入一个字节数组，从off开始到len个字节</td></tr><tr><td>flush()</td><td>将流中的数据冲刷到硬盘中</td></tr><tr><td>close()</td><td>关闭流对象</td></tr></tbody></table> 
<h5><a id="FileInputStreamFileOutputStream_1026"></a>使用FileInputStream和FileOutputStream读写时的注意事项</h5> 
<ul><li> <p>在通过FileInputStream对象使用ready(byte[] bytes)方法时，每次读取指定数组的字节，将读取到的字节保存在字节数组中。</p> <p>该方法的返回值是读取到的字节数量，如果最后一次读取的字节数量不足字节数组的大小时，只会将读取到的内容覆盖数组中最前的几个元素。</p> </li><li> <p>在通过FileOutputStream对象使用write(byte[] bytes),会将字节数组中的所有内容写入到输出流中，在最后一次写入时，会写入多余的内容。</p> <p>所以在写入时，使用write(byte[],bytes,int off,int len)方法，表示将字节数组中的内容，从off开始写入len个</p> </li></ul> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VQeNxVql-1679309728424)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-15-20-05-48-image.png)]</p> 
<h5><a id="_1038"></a>单文件复制</h5> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test2</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//使用FileInputStream读取字节的同时使用FileOutputStream写入字节，实现单文件复制</span>
<span class="token comment">//源文件</span>
<span class="token class-name">File</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"d:\\xxx.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//读取</span>
<span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//写入到目标文件中</span>
<span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"f:\\copy.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//定义字节数组，大小为8MB</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//读取指定数组大小的字节，返回读取到的字节数量</span>
<span class="token keyword">int</span> count <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//写入指定数组的字节</span>
<span class="token comment">//fos.write(int b);写入一个字节</span>
<span class="token comment">//fos.write(byte[] bytes);写入一个数组的字节</span>
fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写入一个数组的字节，从0开始写入读取到的数量的字节</span>
count <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="FileReader_1066"></a>FileReader文件字符输入流</h4> 
<p>按字符读取文件</p> 
<h5><a id="_1070"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>FileReader(String fileName)</td><td>根据文件名创建文件字符输入流对象</td></tr><tr><td>FileReader(File file)</td><td>根据文件对象创建文件字符输入流对象</td></tr></tbody></table> 
<h5><a id="_1077"></a>常用方法</h5> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>ready()</strong></td><td>判断是否还有下一个字符</td></tr><tr><td><strong>read()</strong></td><td>读取下一个字符，返回读取到的字符</td></tr><tr><td><strong>read(char[] chars)</strong></td><td>按字符数组读取，返回读取到的字符数量，读取到的字符保存在字符数组中</td></tr><tr><td><strong>close()</strong></td><td>关闭流对象</td></tr></tbody></table> 
<h4><a id="BufferedReader_1086"></a>BufferedReader缓冲字符输入流(重点)</h4> 
<p>在读取纯文本文件(txt或md)时，首选该类。</p> 
<h5><a id="_1090"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>BufferedReader(Reader in)</strong></td><td>创建一个带有缓冲区(大小为8912的char数组)的字符流对象，参数为Reader类型对象，Reader是抽象类，所以实际参数为Reader的子类，如FileReader，在FileReader对象中定义要读取到的文件</td></tr><tr><td>BufferedReader(Reader in ，int size)</td><td>创建一个指定缓冲区(字符数组)大小的字符输入流对象</td></tr></tbody></table> 
<h5><a id="_1097"></a>常用方法</h5> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>ready()</strong></td><td>判断是否还有字符</td></tr><tr><td><strong>readLine()</strong></td><td>读取整行字符</td></tr><tr><td><strong>close()</strong></td><td>关闭流对象</td></tr></tbody></table> 
<h4><a id="FileWriter_1105"></a>FileWriter文件字符输出流</h4> 
<p>按字符写入文件，必须在调用flush()或close()方法后才会写入</p> 
<h5><a id="_1109"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>FileWriter(String filePath)</td><td>根据文件路径创建流对象，覆盖写入</td></tr><tr><td>FileWriter(String filePath,boolean append)</td><td>根据文件路径创建对象，append为true时追加写入</td></tr><tr><td>FileWriter(File file)</td><td>根据文件对象创建流对象，覆盖写入</td></tr><tr><td>FileWriter(File file,boolean append)</td><td>根据文件对象创建流对象，append为true时追加写入</td></tr></tbody></table> 
<h5><a id="_1118"></a>常用方法</h5> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>writer(String str)</td><td>写入字符串</td></tr><tr><td>flush()</td><td>冲刷数据到硬盘</td></tr><tr><td>close()</td><td>关闭对象流</td></tr></tbody></table> 
<h4><a id="BufferedWriter_1126"></a>BufferedWriter缓冲字符输出流(重点)</h4> 
<p>按字符写入，带有缓冲区的输出流。必须在调用flush()或flush()方法后才会写入。</p> 
<h5><a id="_1130"></a>构造方法</h5> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>BufferedWriter(Writer writer)</td><td>根据Writer对象创建字符缓冲输出流</td></tr></tbody></table> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>writer(String str)</strong></td><td>写入字符串</td></tr><tr><td><strong>newLine()</strong></td><td>写入空白行</td></tr><tr><td><strong>flush()</strong></td><td>冲刷数据到硬盘</td></tr><tr><td><strong>close()</strong></td><td>关闭流对象</td></tr></tbody></table> 
<h4><a id="ObjectOutputStream_1143"></a>序列化ObjectOutputStream对象字节输出流(重点)</h4> 
<p><strong>序列化：将对象转换为文件的过程。</strong></p> 
<p><strong>被序列化的对象，其类必须要是实现Serializable接口。</strong></p> 
<p>这个接口是一个特殊的接口，其中没有定义任何方法，只是给类将上标记，表示该类可以被序列化。</p> 
<h4><a id="_1151"></a>构造方法</h4> 
<table><thead><tr><th>构造方法</th><th>说明</th></tr></thead><tbody><tr><td>ObjectOutputStream(OutputStream os)</td><td>根据字节输出流对象创建</td></tr></tbody></table> 
<h4><a id="_1157"></a>常用方法</h4> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>writerObject(Object obj)</strong></td><td>将一个对象写入本地文件</td></tr><tr><td><strong>flush()</strong></td><td>冲刷数据到硬盘中</td></tr><tr><td><strong>close()</strong></td><td>关闭流对象</td></tr></tbody></table> 
<h4><a id="ObjectInputStream_1165"></a>反序列化ObjectInputStream对象字节输入流(重点)</h4> 
<p><strong>反序列化：将文件转换为对象的过程。</strong></p> 
<h5><a id="_1169"></a>构造方法</h5> 
<table><thead><tr><th>构造方法</th><th>说明</th></tr></thead><tbody><tr><td>ObjectInputStream(InoutStream is)</td><td>根据字节输入流对象创建</td></tr></tbody></table> 
<h4><a id="_1175"></a>常用方法</h4> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td><strong>readObject()</strong></td><td>对于序列化的文件，返回Object类型</td></tr><tr><td><strong>close()</strong></td><td>关闭流对象</td></tr></tbody></table> 
<h5><a id="_1182"></a>序列化与反序列化案例</h5> 
<p>Person类，实现Serializable接口</p> 
<pre><code class="prism language-java"><span class="token comment">/*
* 如果要序列化某个类的对象，该类必须要实现Serializable接口
* 该接口中没有定义任何方法，只是一个标记接口，表明该类可序列化
* */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>
<span class="token comment">//省略get/set/构造方法等</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>测试类</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hqyj<span class="token punctuation">.</span></span><span class="token class-name">ObjectStreamTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span>
<span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"王海"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"刘玉梅"</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"白伟强"</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将程序运行中的数据(对象)保存到本地，这个过程就称为序列化</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建 "对象输出字节流" 对象，参数为字节输出流对象，这里使用FileOutputStream子类</span>
<span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span>
<span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"person.p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建一个对象，将其保存为一个文件，再读取该文件中保存的对象</span>
<span class="token comment">//ObjectInputStream 反序列化</span>
<span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span>
<span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"person.p"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//读取序列化文件中的对象</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//需要转换为相应的类型后使用</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> pList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">)</span> obj<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> pList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="InputStreamReader_1238"></a>InputStreamReader</h4> 
<p>属于转换流(将字节流转换为字符流)</p> 
<h4><a id="OutputStreamWriter_1242"></a>OutputStreamWriter</h4> 
<p>属于转换流(将字节转换为字符流)</p> 
<h2><a id="_1246"></a>进程与线程</h2> 
<h3><a id="Process_1248"></a>进程Process</h3> 
<ul><li> <p>进程就是操作系统中正在执行的程序.</p> </li><li> <p>一个程序就是一个执行的进程实体对象。</p> </li><li> <p>每个运行的进程，都有属于他独立的内存空间，各个进程之间互不影响。</p> </li></ul> 
<h3><a id="Thread_1256"></a>线程Thread</h3> 
<ul><li> <p>线程是一个进程的执行单元，一个进程可以多个线程。</p> </li><li> <p>每个线程之间可以访问同一个进程中的资源。</p> </li><li> <p>每个线程都有一块独立的栈空间，这些线程所在的栈空间位于同一个进程空间中。</p> </li></ul> 
<h3><a id="_1264"></a>多线程</h3> 
<ul><li> <p>如果一个进程中，同时执行着多个线程，就称为多线程。</p> </li><li> <p>多线程可以提高程序执行效率。</p> </li><li> <p>其实每个执行的java程序都是多线程执行。所以main方法所在的线程称为<strong>主线程</strong>，还有<strong>GC线程</strong>(守护线程)在同时执行。</p> </li></ul> 
<h3><a id="_1272"></a>并行与并发</h3> 
<h4><a id="_1274"></a>并行</h4> 
<p>各个进程同时运行，称为并行。</p> 
<h4><a id="_1278"></a>并发</h4> 
<p>多个线程同时执行，称为并发</p> 
<h4><a id="_1282"></a>同步和异步</h4> 
<h4><a id="_1284"></a>同步</h4> 
<p>所有任务排队执行，成为同步执行。</p> 
<h4><a id="_1288"></a>异步</h4> 
<p>在执行任务A的同时，执行任务B，称为异步执行。</p> 
<h3><a id="JavaThread_1292"></a>Java中的线程Thread类</h3> 
<p>Java中，线程以对象的形式存在。</p> 
<p>Thread类表示线程类。</p> 
<h4><a id="_1298"></a>获取线程对象</h4> 
<ul><li> <p>获取当前正在运行的线程对象</p> <pre><code class="prism language-java"><span class="token class-name">Thread</span> thread <span class="token operator">=</span><span class="token class-name">Tread</span><span class="token punctuation">.</span><span class="token function">cuttentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>创建一个线程对象</p> </li></ul> 
<table><thead><tr><th>常用构造方法</th><th>说明</th></tr></thead><tbody><tr><td>Thread()</td><td>创建一个线程对象</td></tr><tr><td>Thread(String name)</td><td>创建一个指定线程名的线程对象</td></tr><tr><td>Thread(Runnable target)</td><td>根据Runnable对象创建线程对象</td></tr><tr><td>Thread(Runnable target,String name)</td><td>根据Runnable对象和指定线程名的线程对象</td></tr></tbody></table> 
<h4><a id="_1315"></a>线程类常常用方法</h4> 
<table><thead><tr><th>常用方法</th><th>作用</th></tr></thead><tbody><tr><td>getId()</td><td>获取线程Id</td></tr><tr><td>gatName()</td><td>获取线程名</td></tr><tr><td>getPriority()</td><td>获取线程优先级，默认为5</td></tr><tr><td>getState()</td><td>获取线程状态</td></tr><tr><td>setName(String name)</td><td>设置线程名</td></tr><tr><td>setPriority(int i )</td><td>设置线程优先级，范围在1~10，数字越大优先级越高，越先执行完</td></tr><tr><td>isDaemon()</td><td>判断是否为守护线程</td></tr><tr><td>setDaemon(boolean on )</td><td>设置线程是否为守护线程</td></tr><tr><td>start()</td><td>让线程进入就绪状态，等待执行</td></tr><tr><td>run()</td><td>在线程获得执行权时要执行的方法(线程要做的事情)</td></tr><tr><td>Thread.sleep(long m)</td><td>让线程休眠m毫秒后继续执行</td></tr><tr><td>Thread.currentThread()</td><td>获取当前执行的线程对象</td></tr></tbody></table> 
<h3><a id="_1332"></a>实现多线程</h3> 
<h4><a id="Thread_1334"></a>方式一:继承Thread类</h4> 
<ul><li> <p>1.创建一个类，继承Thread类</p> </li><li> <p>2.重写Thread类中run()方法，该方法</p> </li><li> <p>3.创建自定义的线程对象后，调用start(方法，让线程就绪)</p> <p><strong>自定义Thread类的子类(子线程)</strong></p> <pre><code class="prism language-java"><span class="token comment">/*
- 1.创建一个类，继承Thread类
- 2.重写Thread类中的run()方法，该方法表示当该线程执行时要做的事情
- 3.创建自定义的线程对象后，调用start()方法，让线程就绪
*/</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token keyword">extends</span>  <span class="token class-name">Thread</span><span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span>  <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>                
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> </li></ul> 
<p><strong>mian类(主线程)</strong></p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="Runnable_1370"></a>方式二：实现Runnable接口(建议使用)</h4> 
<p>由于Java中是单继承，如果某个类已经使用了extends继承了某个类，就无法在继承Thread类。</p> 
<p>这时就可以自定义线程实现Runnable接口的方式实现多线程</p> 
<ul><li> <p>1.自定义一个类，实现Runnable接口</p> </li><li> <p>2.重写run()方法，将多线程要执行的内容写在该方法中。</p> </li><li> <p>3.创建Runnable接口的实现类对象</p> </li><li> <p>4.使用Thread(Runnable)构造方法，将Runnable接口实现对象包装为Thread对象</p> </li></ul> 
<p><strong>自定义Runnable接口的实现类</strong></p> 
<pre><code class="prism language-java"><span class="token comment">/*
* 如果一个类已经是其他类的子类，无法再继承Thread
* 这时实现Runnable接口,重写Run方法
* 再将该类对象当做Thread(Runnable target)构造方法的参数,包装为线程类
* */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread2</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{<!-- --></span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>mian类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//创建两个子线程对象</span>
<span class="token comment">//使用new Thread(Runnable target)构造方法，将自定义线程子类包装为Thread</span>
<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyThread2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyThread2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_1417"></a>方式三:使用匿名内部类</h5> 
<p>如果不想创建Thread的子类或Runnable的实现类，就可以将匿名内部类当做Runnable接口的实现类来使用，甚至可以配合lambda表达式来更进一步简化。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo2</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">"线程A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">"线程B"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1442"></a>线程生命周期</h4> 
<p>线程的初始化到终止的过程，成为线程的生命周期。</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-rAO28i3U-1679309728425)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-17-14-07-18-image.png)]</p> 
<h6><a id="_1448"></a>新生状态</h6> 
<p>当线程对象创建成功后，进入新生状态</p> 
<h6><a id="_1452"></a>就绪状态</h6> 
<ul><li> <p>当某个线程对象调用了start()方法后，就进入就绪状态。</p> </li><li> <p>在这个状态下，线程对象不会做任何事情，只是等待CPU分配时间片。</p> </li></ul> 
<h6><a id="_1458"></a>运行状态</h6> 
<ul><li> <p>当某个线程对象得到CPU时间片(CPU执行该线程时分配得时间)，进入运行状态，开始执行run()方法。</p> </li><li> <p>不会等到run()方法执行完毕，只会在指定的时间内尽可能地执行run()方法。</p> </li><li> <p>如果多线程下，某个线程对象在调用完run()方法后，就会进入就绪状态。</p> </li></ul> 
<h6><a id="_1466"></a>阻塞状态</h6> 
<ul><li> <p>如果某个线程遇到了sleep()方法或wait()方法时，就会进入阻塞状态。</p> 
  <ul><li> <p>sleep()方法在指定时间后，就会让线程重新就绪。</p> </li><li> <p>wait()方法只有在被调用notifyAll()方法将其唤醒后才能重新就绪。</p> </li></ul> </li></ul> 
<h6><a id="_1474"></a>终止状态</h6> 
<p>当某个线程的run()方法中的所有内容执行完，就会进入终止状态。</p> 
<h4><a id="_1478"></a>守护线程</h4> 
<p>如果将一个线程设置为setDaemon(true)，表示该线程为守护线程。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DaemonDemo</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//将含有死循环的线程设置为守护线程</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"守护线程运行中......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
        * 普通线程，有限循环
        * */</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"普通线程运行中......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//随着有限循环结束，死循环线程也会接受</span>
        <span class="token comment">//非守护线程结束，守护线程也会接受</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1507"></a>多线程访问同一个资源</h4> 
<h5><a id="_1509"></a>可能出现的问题</h5> 
<p>如有10张票，三个窗口同时卖票</p> 
<pre><code class="prism language-java"><span class="token comment">/*
* 模拟多窗口卖票
* */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TicketDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> ticket<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token comment">//如有10张票，三个窗口同时卖票</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ticket<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                ticket <span class="token operator">=</span>ticket<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"售出一张,剩余"</span><span class="token operator">+</span>ticket<span class="token operator">+</span><span class="token string">"张票"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"已售罄"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">TicketDemo</span> td <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TicketDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>td<span class="token punctuation">,</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> t2<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>td<span class="token punctuation">,</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>td<span class="token punctuation">,</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-yuZ1i2JV-1679309728425)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-17-15-03-44-image.png)]</p> 
<h5><a id="_1556"></a>出现问题的原因</h5> 
<p>由于线程调用start()方法后，就会进入就绪状态。当线程获得了CPU时间片，就开始执行run()方法</p> 
<p>并不会等待run()方法执行完毕，所以很有可能在线程A执行run()方法过程中，线程B也开始执行run()方法，造成数据共享时出错。</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ng5Cmdt2-1679309728425)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-17-14-57-26-image.png)]</p> 
<h5><a id="_1564"></a>如何解决</h5> 
<p>如果要防止在线程A执行过程中B插队的情况，可以让所有线程排队同步执行。</p> 
<p>这样一来，某个线程执行run()方法的时候，其他线程就会等待run()执行完毕。</p> 
<h5><a id="synchronized_1570"></a>synchronized关键字</h5> 
<p>这个关键字可以修饰方法或代码块</p> 
<h6><a id="_1574"></a>修饰方法</h6> 
<p>写在方法的返回值前，这是该方法就称为同步方法</p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_1582"></a>修饰代码块</h6> 
<pre><code class="prism language-java"><span class="token function">synchornized</span><span class="token punctuation">(</span>要同步的对象<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//该方法执行过程中，其他线程无法插队</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_1590"></a>原理</h5> 
<p>每个对象默认都有一个"锁"，当某个线程运行时被synchornized修饰方法时，</p> 
<p>该对象就会拥有这把锁，在拥有锁的过程，其他线程不能同时访问该方法，只能等待其他执行结束后，才能释放这把锁。</p> 
<p>使用synchornized修饰后的锁被称为"悲观锁"。</p> 
<p>方法被synchornized修饰后，称为同步方法，会让原本多线程执行变成了单线程执行(异步变同步).</p> 
<h4><a id="_1600"></a>多线程相关面试题</h4> 
<ul><li> <p>实现多线程的方式</p> 
  <ul><li> <p>继Thread类，创建对象</p> </li><li> <p>实现Runnable接口后，包装成Thread对象</p> </li><li> <p>匿名内部类</p> </li></ul> </li><li> <p>为什么说StringBuilder或ArrayList，HashMap是非线性安全的</p> <p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-r5YvqVkP-1679309728426)(C:\Users\23266\AppData\Roaming\marktext\images\2023-03-17-15-38-30-image.png)]</p> </li><li> <p>什么叫死锁？怎么产生？如何解决？</p> <p>如两个人吃西餐，必须要有刀和叉，当前只有一副刀叉。</p> <p>如果A拿到了刀，B拿到了叉，互相都在等待对象释放另一个工具，如果不释放，就会进入僵持局面，这个局面就叫做死锁，既不结束，也不继续。</p> </li></ul> 
<h5><a id="_1620"></a>模拟死锁出现的情况</h5> 
<p>定义两个线程类，线程A先获取资源A后，再获取资源B；线程B先获取资源B后，再获取资源A。</p> 
<p>如果对资源A和资源B同步执行,线程A</p> 
<p><strong>PersonA类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonA</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> knife<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> fork<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonA</span><span class="token punctuation">(</span><span class="token class-name">Object</span> knife<span class="token punctuation">,</span> <span class="token class-name">Object</span> fork<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>knife <span class="token operator">=</span> knife<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fork <span class="token operator">=</span> fork<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>knife<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了刀，三秒后拿到叉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fork<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了叉，就可以吃饭啦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>personB类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonB</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> knife<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> fork<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonB</span><span class="token punctuation">(</span><span class="token class-name">Object</span> knife<span class="token punctuation">,</span> <span class="token class-name">Object</span> fork<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>knife <span class="token operator">=</span> knife<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fork <span class="token operator">=</span> fork<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fork<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了叉，三秒后拿到刀"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>knife<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了刀，就可以吃饭啦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>Mian方法</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Object</span> knife <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> fork <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonA</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonB</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_1697"></a>死锁的解决方式</h5> 
<h6><a id="_1699"></a>方式一：让两个线程获取资源的顺序一致</h6> 
<p>如两个线程都先获取knife，再获取fork</p> 
<h6><a id="ABCCsynchornizedC_1703"></a>方式二：在两个线程获取的资源A和资源B之前，再获取第三个资源C，对这个资源C使用synchornized进行同步这样在某个线程获取资源C后，继续执行后续内容，指导执行完毕，其他线程才有机会开始执行。</h6> 
<p>如获取knife与fork之前，先获取paper</p> 
<p><strong>PersonA类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonA</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> knife<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> fork<span class="token punctuation">;</span>
    <span class="token keyword">private</span>  <span class="token class-name">Object</span> paper<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonA</span><span class="token punctuation">(</span><span class="token class-name">Object</span> knife<span class="token punctuation">,</span> <span class="token class-name">Object</span> fork<span class="token punctuation">,</span><span class="token class-name">Object</span> paper<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>knife <span class="token operator">=</span> knife<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fork <span class="token operator">=</span> fork<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>paper<span class="token operator">=</span>paper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>paper<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>knife<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了刀，三秒后拿到叉"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fork<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了叉，就可以吃饭啦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>PersonB类</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonB</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> knife<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> fork<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> paper<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonB</span><span class="token punctuation">(</span><span class="token class-name">Object</span> knife<span class="token punctuation">,</span> <span class="token class-name">Object</span> fork<span class="token punctuation">,</span> <span class="token class-name">Object</span> paper<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>knife <span class="token operator">=</span> knife<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fork <span class="token operator">=</span> fork<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>paper <span class="token operator">=</span> paper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>paper<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>fork<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了叉，三秒后拿到刀"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>knife<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"拿到了刀，就可以吃饭啦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>Main</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Object</span> knife <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> fork <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonA</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">,</span>paper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonB</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">,</span>paper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>(Object knife, Object fork,Object paper) {<!-- --><br> this.knife = knife;<br> this.fork = fork;<br> this.paper=paper;<br> }</p> 
<pre><code>@Override
public void run() {
    synchronized (paper){
        synchronized (knife){
            System.out.println("拿到了刀，三秒后拿到叉");
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
            synchronized (fork){
                System.out.println("拿到了叉，就可以吃饭啦");
            }
        }
    }
}
</code></pre> 
<p>}</p> 
<pre><code>
**PersonB类**

```java
public class PersonB implements Runnable {
    private Object knife;
    private Object fork;
    private Object paper;

    public PersonB(Object knife, Object fork, Object paper) {
        this.knife = knife;
        this.fork = fork;
        this.paper = paper;
    }

    @Override
    public void run() {
        synchronized (paper) {
            synchronized (fork) {
                System.out.println("拿到了叉，三秒后拿到刀");
                try {
                    Thread.sleep(3000);
                } catch (InterruptedException e) {
                    throw new RuntimeException(e);
                }
                synchronized (knife) {
                    System.out.println("拿到了刀，就可以吃饭啦");
                }
            }
        }
    }
}
</code></pre> 
<p><strong>Main</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Object</span> knife <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> fork <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> paper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonA</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">,</span>paper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonB</span><span class="token punctuation">(</span> knife<span class="token punctuation">,</span>fork<span class="token punctuation">,</span>paper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/558dbf7fffa75862b7ba0261ef45a602/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">minio windows 运行没反应</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/582fa19716c71e508cae227c74e418e8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">!!! INVALID CITATION !!!</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>