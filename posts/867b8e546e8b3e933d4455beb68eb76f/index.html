<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3项目中在线编辑组件，codemirror-editor-vue3 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue3项目中在线编辑组件，codemirror-editor-vue3" />
<meta property="og:description" content="#安装
npm install codemirror-editor-vue3 codemirror@5.x -S #组件中使用
&lt;template&gt; &lt;Codemirror v-model:value=&#34;code&#34; :options=&#34;cmOptions&#34; border ref=&#34;cmRef&#34; height=&#34;400&#34; width=&#34;600&#34; @change=&#34;onChange&#34; @input=&#34;onInput&#34; @ready=&#34;onReady&#34; &gt; &lt;/Codemirror&gt; &lt;!-- &lt;el-button type=&#34;primary&#34; @click=&#34;handleSave&#34;&gt;保存&lt;/el-button&gt; --&gt; &lt;/template&gt; &lt;script setup&gt; import { ref, reactive, onMounted,onUnmounted } from &#39;vue&#39; import &#34;codemirror/mode/javascript/javascript.js&#34; import Codemirror from &#34;codemirror-editor-vue3&#34; import &#34;codemirror/theme/ayu-mirage.css&#34;; import &#34;codemirror/theme/neo.css&#34;; const code = ref( `var i = 0; for (; i &lt; 9; i&#43;&#43;) { console.log(i); // more statements } ` ) const cmRef = ref() const cmOptions = reactive({ mode: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/867b8e546e8b3e933d4455beb68eb76f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-08T16:12:52+08:00" />
<meta property="article:modified_time" content="2023-05-08T16:12:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3项目中在线编辑组件，codemirror-editor-vue3</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>#安装</p> 
<pre><code class="language-javascript">npm install codemirror-editor-vue3 codemirror@5.x -S</code></pre> 
<p>#组件中使用</p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;Codemirror
    v-model:value="code"
    :options="cmOptions"
    border
    ref="cmRef"
    height="400"
    width="600"
    @change="onChange"
    @input="onInput"
    @ready="onReady"
  &gt;
  &lt;/Codemirror&gt;
  &lt;!-- &lt;el-button type="primary" @click="handleSave"&gt;保存&lt;/el-button&gt; --&gt;

&lt;/template&gt;
&lt;script setup&gt;
import { ref, reactive, onMounted,onUnmounted } from 'vue'
import "codemirror/mode/javascript/javascript.js"
import Codemirror from "codemirror-editor-vue3"
import "codemirror/theme/ayu-mirage.css";
import "codemirror/theme/neo.css";
const code = ref(
        `var i = 0;
for (; i &lt; 9; i++) {
    console.log(i);
    // more statements
}
`
      )

const cmRef = ref()
const cmOptions = reactive({
    mode: "text/javascript",
    lineNumbers: true, // Show line number
    smartIndent: true, // Smart indent
    indentUnit: 4, // The smart indent unit is 2 spaces in length
    foldGutter: true, // Code folding
    matchBrackets: true,
    autoCloseBrackets: true,
    styleActiveLine: true, // Display the style of the selected row
    readOnly:true,
    // theme:'ayu-mirage',
    // theme:'neo',


})
const onChange = (val, cm) =&gt; {
    console.log(val)
    console.log(cm.getValue())
}

const onInput = (val) =&gt; {
    console.log(val)
}

const onReady = (cm) =&gt; {
    console.log(cm.focus())
}
onMounted(() =&gt; {
    setTimeout(() =&gt; {
        cmRef.value?.refresh()
    }, 1000)

    setTimeout(() =&gt; {
        // cmRef.value?.resize(300, 200)
    }, 2000)

    setTimeout(() =&gt; {
        cmRef.value?.cminstance.isClean()
    }, 3000)
})

onUnmounted(() =&gt; {
    cmRef.value?.destroy()
})
function handleSave() {
    console.log('codeValue: ', );
    console.log(code.value);
}


&lt;/script&gt;</code></pre> 
<p>#如果想要更换不同的主题色， 只需要在组件中引入你要使用的主题色的css文件，然后配置theme的名字为引入的css文件名称。 <a class="link-info" href="https://codemirror.net/5/theme/%C2%A0" rel="nofollow" title="https://codemirror.net/5/theme/ ">https://codemirror.net/5/theme/ </a> </p> 
<p>#效果</p> 
<p><img alt="" height="402" src="https://images2.imgbox.com/13/d0/7G3N5pdN_o.png" width="607"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d090dac6819981bd8a76f1306ffd513d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Linux】2.2 环境基础开发工具使用——vim</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/98b11bef5d5ab63f84c4abe18a734d6a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">控制台flask db init执行后，出现flask : 无法将“flask”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>