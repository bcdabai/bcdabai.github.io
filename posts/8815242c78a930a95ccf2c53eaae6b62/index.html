<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>windows-exporter部署手册 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="windows-exporter部署手册" />
<meta property="og:description" content="目录 windows-exporter部署手册来源说明兼容性 部署方式自定义配置使用配置文件 windows-exporter部署手册 来源 https://github.com/prometheus-community/windows_exporter
说明 适用于 Windows 机器的 Prometheus 导出器。
兼容性 windows_exporter 支持 Windows Server 版本 2008R2 和更高版本，以及桌面 Windows 版本 7 和更高版本。
部署方式 下载exporter：
https://github.com/prometheus-community/windows_exporter/releases/download/v0.16.0/windows_exporter-0.16.0-amd64.exe
可直接执行.exe文件，也可自定义方式启动，直接启动将使用默认配置：
自定义配置 Flags: -h, --help Show context-sensitive help (also try --help-long and --help-man). --collectors.dfsr.sources-enabled=&#34;connection,folder,volume&#34; Comma-seperated list of DFSR Perflib sources to use. --collectors.exchange.list List the collectors along with their perflib object name/ids --collectors.exchange.enabled=&#34;&#34; Comma-separated list of collectors to use. Defaults to all, if not specified." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8815242c78a930a95ccf2c53eaae6b62/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-16T17:29:29+08:00" />
<meta property="article:modified_time" content="2021-07-16T17:29:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">windows-exporter部署手册</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#windowsexporter_1" rel="nofollow">windows-exporter部署手册</a></li><li><ul><li><a href="#_2" rel="nofollow">来源</a></li><li><a href="#_4" rel="nofollow">说明</a></li><li><ul><li><a href="#_6" rel="nofollow">兼容性</a></li></ul> 
   </li><li><a href="#_8" rel="nofollow">部署方式</a></li><li><a href="#_13" rel="nofollow">自定义配置</a></li><li><a href="#_122" rel="nofollow">使用配置文件</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="windowsexporter_1"></a>windows-exporter部署手册</h2> 
<h3><a id="_2"></a>来源</h3> 
<p><a href="https://github.com/prometheus-community/windows_exporter">https://github.com/prometheus-community/windows_exporter</a></p> 
<h3><a id="_4"></a>说明</h3> 
<p>适用于 Windows 机器的 Prometheus 导出器。</p> 
<h4><a id="_6"></a>兼容性</h4> 
<p>windows_exporter 支持 Windows Server 版本 2008R2 和更高版本，以及桌面 Windows 版本 7 和更高版本。</p> 
<h3><a id="_8"></a>部署方式</h3> 
<p>下载exporter：<br> <a href="https://github.com/prometheus-community/windows_exporter/releases/download/v0.16.0/windows_exporter-0.16.0-amd64.exe">https://github.com/prometheus-community/windows_exporter/releases/download/v0.16.0/windows_exporter-0.16.0-amd64.exe</a></p> 
<p>可直接执行.exe文件，也可自定义方式启动，直接启动将使用默认配置：</p> 
<h3><a id="_13"></a>自定义配置</h3> 
<pre><code>Flags:
  -h, --help                     Show context-sensitive help (also try
                                 --help-long and --help-man).
      --collectors.dfsr.sources-enabled="connection,folder,volume"
                                 Comma-seperated list of DFSR Perflib sources to
                                 use.
      --collectors.exchange.list
                                 List the collectors along with their perflib
                                 object name/ids
      --collectors.exchange.enabled=""
                                 Comma-separated list of collectors to use.
                                 Defaults to all, if not specified.
      --collector.iis.site-whitelist=".+"
                                 Regexp of sites to whitelist. Site name must
                                 both match whitelist and not match blacklist to
                                 be included.
      --collector.iis.site-blacklist=COLLECTOR.IIS.SITE-BLACKLIST
                                 Regexp of sites to blacklist. Site name must
                                 both match whitelist and not match blacklist to
                                 be included.
      --collector.iis.app-whitelist=".+"
                                 Regexp of apps to whitelist. App name must both
                                 match whitelist and not match blacklist to be
                                 included.
      --collector.iis.app-blacklist=COLLECTOR.IIS.APP-BLACKLIST
                                 Regexp of apps to blacklist. App name must both
                                 match whitelist and not match blacklist to be
                                 included.
      --collector.logical_disk.volume-whitelist=".+"
                                 Regexp of volumes to whitelist. Volume name
                                 must both match whitelist and not match
                                 blacklist to be included.
      --collector.logical_disk.volume-blacklist=""
                                 Regexp of volumes to blacklist. Volume name
                                 must both match whitelist and not match
                                 blacklist to be included.
      --collector.msmq.msmq-where=COLLECTOR.MSMQ.MSMQ-WHERE
                                 WQL 'where' clause to use in WMI metrics query.
                                 Limits the response to the msmqs you specify
                                 and reduces the size of the response.
      --collectors.mssql.classes-enabled="accessmethods,availreplica,bufman,databases,dbreplica,genstats,locks,memmgr,sqlstats,sqlerrors,transactions"
                                 Comma-separated list of mssql WMI classes to
                                 use.
      --collectors.mssql.class-print
                                 If true, print available mssql WMI classes and
                                 exit. Only displays if the mssql collector is
                                 enabled.
      --collector.net.nic-whitelist=".+"
                                 Regexp of NIC:s to whitelist. NIC name must
                                 both match whitelist and not match blacklist to
                                 be included.
      --collector.net.nic-blacklist=""
                                 Regexp of NIC:s to blacklist. NIC name must
                                 both match whitelist and not match blacklist to
                                 be included.
      --collector.process.whitelist=".*"
                                 Regexp of processes to include. Process name
                                 must both match whitelist and not match
                                 blacklist to be included.
      --collector.process.blacklist=""
                                 Regexp of processes to exclude. Process name
                                 must both match whitelist and not match
                                 blacklist to be included.
      --collector.service.services-where=""
                                 WQL 'where' clause to use in WMI metrics query.
                                 Limits the response to the services you specify
                                 and reduces the size of the response.
      --collector.smtp.server-whitelist=".+"
                                 Regexp of virtual servers to whitelist. Server
                                 name must both match whitelist and not match
                                 blacklist to be included.
      --collector.smtp.server-blacklist=COLLECTOR.SMTP.SERVER-BLACKLIST
                                 Regexp of virtual servers to blacklist. Server
                                 name must both match whitelist and not match
                                 blacklist to be included.
      --collector.textfile.directory="C:\\Program Files\\windows_exporter\\textfile_inputs"
                                 Directory to read text files with metrics from.
      --config.file=CONFIG.FILE  YAML configuration file to use. Values set in
                                 this file will be overriden by CLI flags.
      --web.config.file=""       [EXPERIMENTAL] Path to configuration file that
                                 can enable TLS or authentication.
      --telemetry.addr=":9182"   host:port for exporter.
      --telemetry.path="/metrics"
                                 URL path for surfacing collected metrics.
      --telemetry.max-requests=5
                                 Maximum number of concurrent requests. 0 to
                                 disable.
      --collectors.enabled="cpu,cs,logical_disk,net,os,service,system,textfile"
                                 Comma-separated list of collectors to use. Use
                                 '[defaults]' as a placeholder for all the
                                 collectors enabled by default.
      --collectors.print         If true, print available collectors and exit.
      --scrape.timeout-margin=0.5
                                 Seconds to subtract from the timeout allowed by
                                 the client. Tune to allow for overhead or high
                                 loads.
      --log.level="info"         Only log messages with the given severity or
                                 above. Valid levels: [debug, info, warn, error,
                                 fatal]
      --log.format="logger:stderr"
                                 Set the log target and format. Example:
                                 "logger:syslog?appname=bob&amp;local=7" or
                                 "logger:stdout?json=true"
      --version                  Show application version.
</code></pre> 
<h3><a id="_122"></a>使用配置文件</h3> 
<p>可以使用–config.file标志指定 YAML 配置文件。例如</p> 
<pre><code>.\windows_exporter.exe --config.file=config.yml
</code></pre> 
<p>config.yml格式如下：</p> 
<pre><code>collectors:
  enabled: cpu,cs,net,service
collector:
  service:
    services-where: "Name='windows_exporter'"
log:
  level: warn

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/53d07fcb63b9d2f38067f09aa38509f4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">where语句后面条件执行顺序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93f27ab3a4442c3742b12894c148b563/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">git解决本地分支合并test分支冲突的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>