<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MYSQL数据库备份恢复 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MYSQL数据库备份恢复" />
<meta property="og:description" content="数据库版本类型: MYSQL 5.0.x 社区版本
数据库重要命令:mysqldump ;mysql
系统环境: Windows Xp Sp2
示例数据库: Demo (内部表可自己任意建立)
数据库用户名: root (也可以是具有管理操作权限的用户名)
数据库登录密码: dbuserkey
测试环境中mysql已在环境变量中设置成功即 可在命令行中输入mysql启动mysql数据库引擎
A,完全导出Demo所有数据和结构 (完全备份)
在任目录中(比如 D:/mydb )建立批处理文件backup.bat,内容如下:
mysqldump -uroot -pdbuserkey --add-locks --opt Demo&gt;D:/mydb/Demo.sql;
@pause
B,完全导入Demo所有数据和结构 (完全恢复)
在与backup.bat同目录中建立批处理文件restore.bat 内容如下:
mysql -uroot -pdbuserkey demo&lt;D:/mydb/Demo.sql;
@pause
C,测试
开启mysql数据库引擎 net start mysql
运行 A中批处理 会看到D:/mydb下生成Demo.sql 然后执行 Drop Database Demo命令删除Demo数据库
建立Demo数据库 Create Database Demo;
运行 B 中比处理 即可恢复所有数据和结构
D,常用命令
登录或连接mysql数据库服务
mysql -h主机地址 -u用户名 -p用户密码;
推出mysql 数据库连接" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b871a266d80e121e6a3d975794906f5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2009-12-22T09:48:00+08:00" />
<meta property="article:modified_time" content="2009-12-22T09:48:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MYSQL数据库备份恢复</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span id="text196971" class="javascript">数据库版本类型: MYSQL 5.0.x 社区版本<br>数据库重要命令:mysqldump ;mysql<br>系统环境: Windows Xp Sp2<br>示例数据库: Demo (内部表可自己任意建立)<br>数据库用户名: root (也可以是具有管理操作权限的用户名)<br>数据库登录密码: dbuserkey<br>测试环境中mysql已在环境变量中设置成功即 可在命令行中输入mysql启动mysql数据库引擎<br>A,完全导出Demo所有数据和结构 (完全备份)<br>在任目录中(比如 D:/mydb )建立批处理文件backup.bat,内容如下:<br>mysqldump -uroot -pdbuserkey --add-locks --opt Demo&gt;D:/mydb/Demo.sql;<br>@pause<br>B,完全导入Demo所有数据和结构 (完全恢复)<br>在与backup.bat同目录中建立批处理文件restore.bat 内容如下:<br>mysql -uroot -pdbuserkey demo&lt;D:/mydb/Demo.sql;<br>@pause<br>C,测试<br>开启mysql数据库引擎 net start mysql<br>运行 A中批处理 会看到D:/mydb下生成Demo.sql <br>然后执行 Drop Database Demo命令删除Demo数据库<br>建立Demo数据库 Create Database Demo;<br>运行 B 中比处理 即可恢复所有数据和结构<br>D,常用命令<br>登录或连接mysql数据库服务<br>mysql -h主机地址 -u用户名 -p用户密码;<br>推出mysql 数据库连接<br>Exit<br>停止本地mysql数据库服务<br>Net stop mysql<br>修改密码<br>mysqladmin -u用户名 -p旧密码 password 新密码;<br>显示数据库列表<br>Show Database;<br>使用数据库<br>Use DatabaseName;<br>显示当前选择数据库<br>Select Database();<br>打开表<br>Show TableName;<br>显示数据表的结构<br>Describe TableName; <br>当前数据库包含的表信息: <br>Show Tables; (注意:最后有个s) <br>建立数据库<br>Create DataBase databaseName;<br>建立表<br>Use databaseName;<br>Create Table tableName (字段设定列表);<br>删库和删表<br>Drop Database databaseName;<br>Drop Table tableName;<br>将表中记录清空<br>Delete From tableName;<br>表名字更改<br>Rename Table tableA to tableB; <br>SQL结构化查询语句命令见mysql doc 文档<br>Mysql创建删除用户<br>Grant select,insert,update,delete on *[(数据库)].* to 用户名@登录主机 identified by "密码" <br>命令方式的.注意每行后边都跟个 ; 表示一个命令语句结束. <br>格式:grant select on 数据库.* to 用户名@登录主机 identified by "密码" <br>==以下来自网络==<br>例1,增加一个用户test1密码为abc,让他可以在任何主机上登录,并对所有数据库有查询,插入,修改,删除的权限.首先用以root用户连入MYSQL,然后键入以下命令: <br>grant select,insert,update,delete on *.* to test1@"%" Identified by "abc"; <br>例1增加的用户是十分危险的,你想如某个人知道test1的密码,那么他就可以在internet上的任何一台电脑上登录你的mysql数据库并对你的数据可以为所欲为了,解决办法见例2. <br>例2,增加一个用户test2密码为abc,让他只可以在localhost上登录,并可以对数据库mydb进行查询,插入,修改,删除的操作(localhost指本地主机,即MYSQL数据库所在的那台主机),这样用户即使用知道test2的密码,他也无法从internet上直接访问数据库,只能通过MYSQL主机上的web页来访问了. <br>grant select,insert,update,delete on mydb.* to test2@localhost identified by "abc"; <br>如果你不想test2有密码,可以再打一个命令将密码消掉. <br>grant select,insert,update,delete on mydb.* to test2@localhost identified by ""; <br>这样就创建了一个名为:phplamp 密码为:1234 的用户. <br>然后登录一下. <br>mysql&gt;exit; <br>mysql -u phplamp -p <br>输入密码 <br>mysql&gt;登录成功 <br>2.为用户授权. <br>//登录MYSQL(有ROOT权限).我里我以ROOT身份登录. <br>mysql -u root -p <br>密码 <br>//首先为用户创建一个数据库(phplampDB) <br>mysql&gt;create database phplampDB; <br>//授权phplamp用户拥有phplamp数据库的所有权限. <br>&gt;grant all privileges on phplampDB.* to phplamp@localhost identified by '1234'; <br>//刷新系统权限表 <br>mysql&gt;flush privileges; <br>mysql&gt;其它操作 <br>/* <br>如果想指定部分权限给一用户,可以这样来写: <br>mysql&gt;grant select,update on phplampDB.* to phplamp@localhost identified by '1234'; <br>//刷新系统权限表. <br>mysql&gt;flush privileges; <br>*/ <br>3.删除用户. <br>mysql -u root -p <br>密码 <br>mysql&gt;Delete FROM user Where User="phplamp" and Host="localhost"; <br>mysql&gt;flush privileges; <br>//删除用户的数据库 <br>mysql&gt;drop database phplampDB; <br>4.修改指定用户密码. <br>mysql -u root -p <br>密码 <br>mysql&gt;update mysql.user set password=password('新密码') where User="phplamp" and Host="localhost"; <br>mysql&gt;flush privileges; <br>5.列出所有数据库 <br>mysql&gt;show database; <br>6.切换数据库 <br>mysql&gt;use '数据库名'; <br>7.列出所有表 <br>mysql&gt;show tables; <br>8.显示数据表结构 <br>mysql&gt;describe 表名; <br>9.删除数据库和数据表 <br>mysql&gt;drop database 数据库名; <br>mysql&gt;drop table 数据表名; <br>10. 显示表的结构 <br>describe "tabaleName"; <br>cmd下连接mysql: <br>mysql -uroot -p 回车 注意密码不要打在-p后面<br>注:-参数符与值之间无空格<br>=========<br>转自 Happy漫步者花园 </span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/610fac4b8d8eb78431ae8157a1bc6466/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QQ邮箱 503 : HTTP Error 503 服务暂时不可用，请刷新重试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9e78f3bff8d0fe61cf50d5587d4cb4de/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hibernate插入、查询、删除操作 HQL</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>