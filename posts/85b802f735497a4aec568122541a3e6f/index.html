<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu 环境下多站点配置 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu 环境下多站点配置" />
<meta property="og:description" content="参考网址：https://www.linuxidc.com/Linux/2017-05/143590.htm
Ubuntu 环境下：
第一步：新增站点配置文件**
1，打开连接服务器的软件xftp 中，连接上服务器，然后在 /etc/apache2/sites-available 目录中新建站点的配置文件 ***.conf （自己命名）例如：www-linuxidc-com.conf
2，在控制台输入cmd 进入控制台后，输入连接服务器的用户名和密码：
例如：
用户名：ssh root@47.75.99.185
密码： *******
3， #进入虚拟主机配置文件夹
cd /etc/apache2/sites-available/ 4， #复制默认的虚拟主机配置文件
sudo cp 000-default.conf www-linuxidc-com.conf, 5，编辑这两个配置文件，以 www-linuxidc-com.conf 为例
&lt;VirtualHost *:8080&gt; ServerAdmin 1054840542@qq.com ServerName www.linuxidc.com DocumentRoot /home/www/linuxidc ​ &lt;Directory &#34;/home/www/linuxidc&#34;&gt; Options FollowSymLinks AllowOverride All #Require all denied Require all granted &lt;/Directory&gt; ​ ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined ​ &lt;/VirtualHost&gt; ​ 注意上面配置中：ServerName（域名）、DocumentRoot（根目录） 和 VirtualHost （端口号） 是我们重点关注的配置点。linuxidc 的 ServerName 为www.linuxidc.com，根目录为 /home/www/linuxidc，Directory 同 DocumentRoot。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/85b802f735497a4aec568122541a3e6f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-02-11T00:28:16+08:00" />
<meta property="article:modified_time" content="2019-02-11T00:28:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu 环境下多站点配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>参考网址：</strong><a href="https://www.linuxidc.com/Linux/2017-05/143590.htm" rel="nofollow">https://www.linuxidc.com/Linux/2017-05/143590.htm</a></p> 
<p><strong><strong>Ubuntu 环境下：</strong></strong></p> 
<p>第一步：新增站点配置文件**</p> 
<p>1，打开连接服务器的软件xftp 中，连接上服务器，然后在 /etc/apache2/sites-available 目录中新建站点的配置文件 ***.conf （自己命名）例如：www-linuxidc-com.conf</p> 
<p>2，在控制台输入cmd 进入控制台后，输入连接服务器的用户名和密码：</p> 
<p>例如：</p> 
<p>用户名：ssh root@47.75.99.185</p> 
<p>密码： *******</p> 
<p><img alt="" class="has" height="294" src="https://images2.imgbox.com/bd/fe/qkv5N3cy_o.png" width="871"></p> 
<p>3， #进入虚拟主机配置文件夹</p> 
<pre class="has"><code> cd /etc/apache2/sites-available/</code></pre> 
<p>4， #复制默认的虚拟主机配置文件</p> 
<pre class="has"><code>  sudo cp 000-default.conf www-linuxidc-com.conf,</code></pre> 
<p>5，编辑这两个配置文件，以 www-linuxidc-com.conf 为例</p> 
<pre class="has"><code>&lt;VirtualHost *:8080&gt;
    ServerAdmin 1054840542@qq.com
    ServerName www.linuxidc.com
    DocumentRoot /home/www/linuxidc
​
    &lt;Directory "/home/www/linuxidc"&gt;
        Options FollowSymLinks
        AllowOverride All 
        #Require all denied
        Require all granted
    &lt;/Directory&gt;                            
​
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
​
&lt;/VirtualHost&gt;
​</code></pre> 
<p>注意上面配置中：ServerName（域名）、DocumentRoot（根目录） 和 VirtualHost （端口号） 是我们重点关注的配置点。linuxidc 的 ServerName 为www.linuxidc.com，根目录为 /home/www/linuxidc，Directory 同 DocumentRoot。</p> 
<p> </p> 
<p><strong>第二步：在sites-enabled目录下建立符号链接</strong></p> 
<p>1，进入配置的文件夹</p> 
<pre class="has"><code>cd /etc/apache2/sites-enabled</code></pre> 
<p>2，#建立对应的软链接</p> 
<pre class="has"><code>sudo ln -s /etc/apache2/sites-available/www-linuxidc-com.conf （刚才第一步新建的conf文件）/etc/apache2/sites-enabled/www-linuxidc-com.conf（刚才第一步新建的conf文件）</code></pre> 
<p> </p> 
<p><strong>第三步：在/etc/apache2/ports.conf 文件中开启端口号</strong></p> 
<p>Listen 8080 ...</p> 
<p>如图：添加其他端口号</p> 
<p><img alt="" class="has" height="455" src="https://images2.imgbox.com/f5/ca/84nc2jGR_o.png" width="558"></p> 
<p></p> 
<p><strong>第四步：在对应目录放入项目代码</strong></p> 
<p>把打包好的文件放到 val/www/.... 对应的文件夹中</p> 
<p><strong>第五步：修改 /etc/hosts 文件</strong></p> 
<p>打开查看 /etc/hosts 文件，开头是：</p> 
<p>127.0.0.1 localhost</p> 
<p>我们在该行后面添加：</p> 
<pre class="has"><code>127.0.0.1   www.linuxidc.com （自己的域名，需要加www....）  </code></pre> 
<p>#保存退出</p> 
<p><strong>第六步：重启 apache 服务器并测试</strong></p> 
<p>重启 apache 服务器使得配置生效：</p> 
<pre class="has"><code>sudo /etc/init.d/apache2 restart</code></pre> 
<p><img alt="" class="has" height="325" src="https://images2.imgbox.com/35/15/IPAYnVrw_o.png" width="933"></p> 
<p>在浏览器（如果是桌面版的话）中访问 www.linuxidc.com ，看看是否输出了你上传文件中的内容。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fd70d2ad378a3cc72ae710f3e4bc480/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">免费CDN：jsDelivr&#43;Github 使用方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/25f0bbc8cbcd00c9dd0603904b49d154/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LaTeX中的BibTex报错部分解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>