<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>细数C# 4.0四大新特性 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="细数C# 4.0四大新特性" />
<meta property="og:description" content="在十年前的发布会上，最难忘的莫过于C#新编程语言的发布，当然也有新的Visual Basic(VB)，关于垃圾回收，Java和.NET，C#和VB.NET，C&#43;&#43;和VB6的性能对比等高潮看点。作为微软.NET框架的标志性语言，C#在微软的开发战略中演了一个非常关键的角色。随着该语言呈现出动态和功能编程语言的特性，其角色也在不断向前发展。 一转眼，现在已经用到C# 4了。C# 4与COM互操作性、对后期绑定模型的支持也更友好，而当C#之父Anders Hejlsberg讨论动态类型如何能够简化COM接口处理和其它复杂的交互时，有一些程序员担忧C#会向新的方向分化。Hejlsberg表示他知道经常修改语言功能所带来的危险。不过他表示，“你不能对语言的底层经常进行修改。对于C#来说，它的核心设计是一个命令式的面向对象编程语言。你可以对其增加从功能编程语言和动态编程语言所借鉴来的功能，但是其核心设计并非发生改变。”文本主要是对C#以及C#4.0新特征进行详细的介绍。 在之前的文章中，我们曾介绍过C#的历史及C# 4.0新增特性，包括：dynamic、命名和可选参数、动态导入以及协变和逆变等。今天我们结合代码实例来具体看一下C# 4.0中的四个比较重要的特性。 1.dynamic ExpandoObject 熟悉js的朋友都知道js可以这么写 ： #div_code img{border:0px;}var t = new Object(); t.Abc = ‘something’; t.Value = 243; 现在这个js动态语言的特性，我们也可以在c#中使用了，前提是将一个变量声明为ExpandoObject类型。如下例： #div_code img{border:0px;}static void Main(string[] args) { dynamic t = new ExpandoObject(); t.Abc = &#34;abc&#34;; t.Value = 10000; Console.WriteLine(&#34;t&#39;s abc = {0},t&#39;s value = {1}&#34;, t.Abc, t.Value); Console.ReadLine(); } C# 4.0中新增了一个命名空间System.Dynamic来实现对此应用的支持，这种用法的意义何在，现在我还不太清楚，也是是C#向动态语言过渡的一种试探吧。关于动态语言请参考《5月编程语言排行榜：动态语言的前世今生》。 2.泛型自动转换 在C# 4.0之前下面的代码是不可以编译通过的 #div_code img{border:0px;}IEnumerable&lt;object&gt; objs = new List&lt;string&gt; { &#34;I&#39;m 0&#34;,&#34;I&#39;am 1&#34;,&#34;I&#39;am 2&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ce7ea9ab7769e867c69cbf12bbdfb2bc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-08-25T14:03:16+08:00" />
<meta property="article:modified_time" content="2010-08-25T14:03:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">细数C# 4.0四大新特性</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="artical-content-bak main-content editor-side-new"> 
 <div class="con editor-preview-side" id="result">
    在十年前的发布会上，最难忘的莫过于C#新编程语言的发布，当然也有新的Visual Basic(VB)，关于垃圾回收，Java和.NET，C#和VB.NET，C++和VB6的性能对比等高潮看点。作为微软.NET框架的标志性语言，C#在微软的开发战略中演了一个非常关键的角色。随着该语言呈现出动态和功能编程语言的特性，其角色也在不断向前发展。  
  <br>     一转眼，现在已经用到C# 4了。C# 4与COM互操作性、对后期绑定模型的支持也更友好，而当C#之父Anders Hejlsberg讨论动态类型如何能够简化COM接口处理和其它复杂的交互时，有一些程序员担忧C#会向新的方向分化。Hejlsberg表示他知道经常修改语言功能所带来的危险。不过他表示，“你不能对语言的底层经常进行修改。对于C#来说，它的核心设计是一个命令式的面向对象编程语言。你可以对其增加从功能编程语言和动态编程语言所借鉴来的功能，但是其核心设计并非发生改变。”文本主要是对C#以及C#4.0新特征进行详细的介绍。  
  <br>  
  <br>在之前的文章中，我们曾介绍过C#的历史及C# 4.0新增特性，包括：dynamic、命名和可选参数、动态导入以及协变和逆变等。今天我们结合代码实例来具体看一下C# 4.0中的四个比较重要的特性。 
  <br>   
  <b>1.dynamic ExpandoObject</b> 
  <br>  熟悉js的朋友都知道js可以这么写 ： 
  <br>#div_code img{border:0px;}var t = new Object();  t.Abc = ‘something’;  t.Value = 243;  
  <br>  现在这个js动态语言的特性，我们也可以在c#中使用了，前提是将一个变量声明为ExpandoObject类型。如下例： 
  <br>#div_code img{border:0px;}static void Main(string[] args) { dynamic t = new ExpandoObject(); t.Abc = "abc"; t.Value = 10000; Console.WriteLine("t's abc = {0},t's value = {1}", t.Abc, t.Value); Console.ReadLine(); } 
  <br> 
  <br>  C# 4.0中新增了一个命名空间System.Dynamic来实现对此应用的支持，这种用法的意义何在，现在我还不太清楚，也是是C#向动态语言过渡的一种试探吧。关于动态语言请参考《5月编程语言排行榜：动态语言的前世今生》。 
  <br>   
  <b>2.泛型自动转换</b> 
  <br>  在C# 4.0之前下面的代码是不可以编译通过的 
  <br>#div_code img{border:0px;}IEnumerable&lt;object&gt; objs = new List&lt;string&gt; {          "I'm 0","I'am 1","I'am 2"     };   
  <br>  是在C# 4.0中这种声明是允许的，不过也仅限于泛型接口，泛型类型的类似做法是不允许的，如下代码是有编译错误的 
  <br>#div_code img{border:0px;}List&lt;object&gt; objList = new List&lt;string&gt; {           "I'am 0","I'am 1","I'am 2"     };   
  <br>  
  <b>3.方法参数之可选参数</b>   如下方法声明的语法 
  <br>#div_code img{border:0px;}static void DoSomething(int notOptionalArg,string arg1 = "default Arg1", string arg2 = "default arg2") { Console.WriteLine("arg1 = {0},arg2 = {1}",arg1,arg2); }  
  <br>这个方法有三个参数第一个是必选参数，第二个和第三个是可选参数，他们都有一个默认值。这种形式对固定参数的几个方法重载很有用。如下调用： 
  <br>#div_code img{border:0px;}static void Main(string[] args) { DoSomething(1); DoSomething(1, "葫芦"); DoSomething(1, "葫芦", "黄瓜"); Console.ReadLine(); }  
  <br>也许你会想到，假如我有一个和可选参数方法不选某个参数相同的方法签名的方法时，C#会怎么处理呢，我们看下下面的代码 
  <br>#div_code img{border:0px;}static void DoSomething(int notOpArg, string arg) { Console.WriteLine("arg1 = {0}", arg); } 这里又重载了一个DoSomething 
  <br>这个方法有两个参数，但是没有可选参数，实验证明调用DoSomething(1,”arg”)时会优先执行没有可选参数的方法。 
  <br>   
  <b>4.方法参数之命名参数</b> 
  <br>#div_code img{border:0px;}static void DoSomething(int height, int width, string openerName, string scroll) { Console.WriteLine("height = {0},width = {1},openerName = {2}, scroll = {3}",height,width,openerName,scroll); }  
  <br>命名参数让我们可以在调用方法时指定参数名字来给参数赋值，这种情况下可以忽略参数的顺序。如下方法声明： 
  <br>  我们可以这样来调用上面声明的方法 
  <br>#div_code img{border:0px;}static void Main(string[] args) { DoSomething( scroll : "no",height : 10, width : 5, openerName : "windowname"); Console.ReadLine(); }  
  <br>很显然的这是一个语法糖，但是在方法参数很多的情况下很有意义，可以增加代码的可读性。 
 </div> 
</div> 
<p>转载于:https://blog.51cto.com/apprentice/1360685</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40c9e164008cc892dbd0ac329641071b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2010年软件设计师考试注意事项</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f00f3016b18f6d50aab86240e74bea6e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">转载：ACM题目难度分级列表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>