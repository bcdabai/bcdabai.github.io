<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python基础-文件操作（打开、读取、写入等） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python基础-文件操作（打开、读取、写入等）" />
<meta property="og:description" content="1、文件的基本操作 文件打开的格式： file = open（文件路径，读写模式） 文件路径：可以写相对路径，也可以写绝对路径读写模式：r（读取） w（写入） a（追加） 文件打开后，必须关闭，否则持续消耗服务器性能。 # 文件读写,在使用的时候和我们正常使用文件一样 # 1.打开文件 # 2.操作文件 # 3.关闭文件 # 打开文件使用open函数即可 # 格式: open(file_name(文件路径), mode(读写模式)) 使用该函数会返回一个文件对象 # 文件路径:可以写相对路径, 也可以写绝对路径,路径需要以字符串形式传入 # 读写模式: r(只读) w(写入) a()追加 file = open(&#39;python.txt&#39;, &#39;r&#39;) print(file) # &lt;_io.TextIOWrapper name=&#39;python.txt&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt; 在windows中默认读写格式是gbk print(type(file)) # &lt;class &#39;_io.TextIOWrapper&#39;&gt; # 将读取出来的内容进行打印 print(file.read()) # 关闭文件 file.close() # 为什么要关闭文件? # 在文件打开状态是会保持连接,这种状态下会持续消耗内存,不利于服务器性能优化(内存泄漏) # 关闭文件后,文件对象有没有被释放? # 没有释放 print(file) # &lt;_io.TextIOWrapper name=&#39;python.txt&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt; # 文件关闭后,相当于与文件的连接状态消失了,但是文件对象没有发生变化 # 在文件关闭后,file对象不能进行任何读写操作,因为已经无法连接文件 # ValueError: I/O operation on closed file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/eb215671174d96136e0857d872014a7a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-26T18:16:09+08:00" />
<meta property="article:modified_time" content="2023-04-26T18:16:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python基础-文件操作（打开、读取、写入等）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1、文件的基本操作</h3> 
<ul><li>文件打开的格式： 
  <ul><li>file = open（文件路径，读写模式） 
    <ul><li>文件路径：可以写相对路径，也可以写绝对路径</li><li>读写模式：r（读取） w（写入） a（追加）</li></ul> </li></ul> </li><li>文件打开后，必须关闭，否则持续消耗服务器性能。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 文件读写,在使用的时候和我们正常使用文件一样</span>
<span class="token comment"># 1.打开文件</span>
<span class="token comment"># 2.操作文件</span>
<span class="token comment"># 3.关闭文件</span>

<span class="token comment"># 打开文件使用open函数即可</span>
<span class="token comment"># 格式: open(file_name(文件路径), mode(读写模式)) 使用该函数会返回一个文件对象</span>
<span class="token comment"># 文件路径:可以写相对路径, 也可以写绝对路径,路径需要以字符串形式传入</span>
<span class="token comment"># 读写模式: r(只读)  w(写入)  a()追加</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span> <span class="token comment"># &lt;_io.TextIOWrapper name='python.txt' mode='r' encoding='UTF-8'&gt;  在windows中默认读写格式是gbk</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;class '_io.TextIOWrapper'&gt;</span>
<span class="token comment"># 将读取出来的内容进行打印</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 关闭文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 为什么要关闭文件?</span>
<span class="token comment"># 在文件打开状态是会保持连接,这种状态下会持续消耗内存,不利于服务器性能优化(内存泄漏)</span>

<span class="token comment"># 关闭文件后,文件对象有没有被释放?</span>
<span class="token comment"># 没有释放</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;_io.TextIOWrapper name='python.txt' mode='r' encoding='UTF-8'&gt;</span>
<span class="token comment"># 文件关闭后,相当于与文件的连接状态消失了,但是文件对象没有发生变化</span>
<span class="token comment"># 在文件关闭后,file对象不能进行任何读写操作,因为已经无法连接文件</span>
<span class="token comment"># ValueError: I/O operation on closed file.  无法操作一个已经关闭的文件</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2_38"></a>2、文件的读取操作</h3> 
<ul><li>read：如果（）内填写数字，则读取指定字符的字符串，每次读取指定字符，在一个文件开启后，多次读取会持续向后读取字符，如果字符全部读取完成将会返回空字符串“” 
  <ul><li>格式： 文件对象.read(单次最大读取字符数)</li></ul> </li><li>如果读取的文件不存在则直接报错</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 文件在'r'模式下可以进行文件读取</span>
<span class="token comment"># read 可以读取文件</span>

<span class="token comment"># 打开文件</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token comment"># 读取文件</span>
<span class="token comment"># n:在read中传入数值,代表我们读取的最大字符数</span>
<span class="token comment"># 如果开发中有一个文本文件,比如网络小说,4个G大小,一次性读取,用户依次读取这么大的文件,极度消耗性能,而且 等待时间过长</span>
<span class="token comment"># 所以在开发中我们经常会给读取数据的值做一个限定,最大读取字符一般限定为(1024*1024)</span>

<span class="token comment"># 那我们使用read只能依次读取3个字符,那省下的字符我们怎样读取呢?</span>
<span class="token comment"># 文件每一次读取,都会持续向后读取,直到文件关闭或程序结束,所以可以使用循环进行读取</span>
<span class="token comment"># 在所有的文件内容读取完成后,会持续返回空字符串("")</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> content <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

<span class="token comment"># 关闭文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>readline: 每次读取一行数据，以\n为分隔符，在一个文件开启后，多次执行读取操作会持续向后读取，如果字符全部被读取完成，则返回空字符串“”</p> 
  <ul><li>格式：文件对象.readline()</li></ul> </li><li> <p>readlines：一次性将文件全部读取，读取后，将文字以一行为一个元素保存到列表当中进行返回</p> 
  <ul><li>文件对象.readlines()</li></ul> </li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 除了read外还有一些读取方式</span>
<span class="token comment"># 文件打开</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>
<span class="token comment"># 文件操作</span>
<span class="token comment"># readline  使用这种方式读取文件,每次读取一行以\n为分隔符,并且在文件打开状态下,会持续向下读取,直到所有文件被读取完成后,会读取空字符串""</span>
<span class="token comment"># while True:</span>
<span class="token comment">#     content = file.readline()</span>
<span class="token comment">#     if content == '':</span>
<span class="token comment">#         break</span>
<span class="token comment">#     print(content,end='')</span>

<span class="token comment"># readlines 读取所有的文件以\n为分隔符,将所有的行以字符串元素的方式保存到列表当中进行返回</span>
<span class="token comment"># ['吴丝蜀桐张高秋\n', '空山凝云颓不流\n', '举头望明月\n', '低头思故乡\n']</span>
content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
<span class="token comment"># 文件关闭</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3_95"></a>3、文件的写入操作</h3> 
<ul><li>使用写入模式‘w’打开文件 
  <ul><li>如果文件存在，则清空源数据</li><li>如果文件不存在，则新建文件，不会报错</li></ul> </li><li>使用write可以写入字符</li><li>在windows电脑中书写文件读写时，需要使用encoding进行编码格式指定 
  <ul><li>格式：open（文件路径， 读写模式， encoding = 编码格式）</li></ul> </li></ul> 
<pre><code class="prism language-python"><span class="token comment"># write 写入</span>
<span class="token comment"># 当文件读写模式时 'w',可以使用文件的写入操作</span>
<span class="token comment"># 当文件执行写入模式打开时,如果被打开的文件不存在,则重新创建一个新的文件,不会报错</span>
<span class="token comment"># file = open('test.txt', 'w')</span>
<span class="token comment"># 当文件执行写入模式打开时,如果被打开的文件存在,则会将源文件内的字符清空</span>
<span class="token comment"># 如果使用windows电脑进行开发,在写入文件时,需要制定编码格式为'utf-8'</span>
<span class="token comment"># 如果使用linux 或者mac 默认是utf-8编码 不需要转码</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'python.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token comment"># 当完成文件的读写操作时,我们写入文件  和读取文件所使用的编码格式必须一致</span>
<span class="token comment"># UnicodeDecodeError: 'gbk' codec can't decode byte 0x89 in position 14: illegal multibyte sequence</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>  <span class="token comment"># &lt;_io.TextIOWrapper name='python.txt' mode='w' encoding='UTF-8'&gt;</span>
<span class="token comment"># 写入操作</span>
<span class="token comment"># file.write('我爱北京天安门,天安门上太阳升')</span>
<span class="token comment"># 如果写入的字符串时三对引号包过内部的换行符会不会写入呢?  会写入格式</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""
我爱北京天安门,
天安门上太阳升
"""</span><span class="token punctuation">)</span>

<span class="token comment"># writelines 是配合readlines进行使用的,可以将一个由字符串元素组成的列表一次性写入文件</span>
<span class="token comment"># file.writelines('我爱北京天安门')</span>
lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'吴丝蜀桐张高秋\n'</span><span class="token punctuation">,</span> <span class="token string">'空山凝云颓不流\n'</span><span class="token punctuation">,</span> <span class="token string">'举头望明月\n'</span><span class="token punctuation">,</span> <span class="token string">'低头思故乡\n'</span><span class="token punctuation">]</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>lines<span class="token punctuation">)</span>

<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="4_132"></a>4、文件的追加操作</h3> 
<ul><li>‘a’：模式下进行文件打开 
  <ul><li>如果文件不存在，则创建新文件</li><li>如果文件存在，则在原有文件内进行字符串追加，不会清空源文件</li></ul> </li><li>在追加模式下，也是使用write进行文件写入，没有单独的追加方法，写入方式和‘w’模式一致</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 'a'模式写入:追加模式</span>
<span class="token comment"># 在追加模式下可以进行文件字符的追加,在原有数据的末尾添加 新的字符</span>
<span class="token comment"># 在追加模式下打开文件,如果文件存在,则不会讲源文件清空</span>
<span class="token comment"># file = open('python.txt', 'a', encoding='utf-8')</span>
<span class="token comment"># 在追加模式下打开文件,如果文件不存在,则新建一个文件</span>
<span class="token comment"># 打开文件</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'bigdata.txt'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token comment"># 进行追加操作(注意:没有append方法,追加操作也是使用write进行写入,只不过不会清空源文件)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'乱我心者今日之日多烦忧'</span><span class="token punctuation">)</span>
<span class="token comment"># 关闭文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="5_153"></a>5、文件读写模式拓展（了解，看到能明白意思即可）</h3> 
<ul><li> <p>a： a a + ab ab+</p> 
  <ul><li>a：字符追加模式</li><li>a+ ：字符追加模式下可以进行字符读取</li><li>ab：字节追加</li><li>ab+：字节追加模式下，可以进行字节读取</li></ul> </li><li> <p>w： w w + wb wb+</p> 
  <ul><li>w：字符写入模式</li><li>w+：字符写入模式下可以进行字符读取</li><li>wb：字节写入模式</li><li>wb+：字节写入模式下，可以进行字节读取</li></ul> </li><li> <p>r： r r + rb rb+</p> 
  <ul><li>r：字符读取模式</li><li>r+：字符读取模式下可以进行字符写入</li><li>rb：字节读取模式</li><li>rb+：字节读取模式下，可以进行字节写入</li></ul> </li></ul> 
<h3><a id="6_173"></a>6、文件备份案例</h3> 
<pre><code class="prism language-python"><span class="token comment"># 需求:用户输入一个文件名,通过文件读写操作进行文件备份,并且将备份文件名称更改为:源文件名[备份].后缀</span>

<span class="token comment"># 1.获取用户键入的文件名</span>
<span class="token comment"># 2.要通过文件读写操作进行备份</span>
<span class="token comment">#   2.1.拼接备份后的文件的文件名</span>
<span class="token comment">#   2.2.读取源文件</span>
<span class="token comment">#   2.3.写入新文件</span>

<span class="token comment"># 1.获取用户键入的文件名</span>
file_name <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'请输入您要备份的文件名称:'</span><span class="token punctuation">)</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
<span class="token comment"># 2.要通过文件读写操作进行备份</span>
<span class="token comment"># 2.1.拼接备份后的文件的文件名</span>
copy_file_name <span class="token operator">=</span> file_name<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">'[备份].'</span><span class="token punctuation">)</span>
<span class="token comment"># 打开新文件</span>
copy_file <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>copy_file_name<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token comment"># # 读取旧文件数据</span>
<span class="token comment"># content = file.read()</span>
<span class="token comment"># # 写入新文件</span>
<span class="token comment"># copy_file.write(content)</span>
<span class="token comment"># 一般情况下,文件都是指定单次读取的最大字符的</span>
<span class="token comment"># 循环进行读取并写入,直到所有字符读取完成</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> content <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
    copy_file<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span>

<span class="token comment"># 关闭文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
copy_file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="7renameremove_209"></a>7、rename和remove</h3> 
<ul><li>rename可以进行文件的重命名或文件移动</li><li>remove 可以进行文件删除</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 如果想要使用这两个方法,就要去进行模块导入</span>
<span class="token keyword">import</span> os

<span class="token comment"># rename  重命名  &gt;&gt;&gt;类似于linux命令中的mv</span>
<span class="token comment"># 格式:os.rename(旧文件路径,新文件路径)</span>
<span class="token comment"># 需求:将Python.txt重命名为 abc.txt</span>
<span class="token comment"># rename可以对文件进行重命名</span>
<span class="token comment"># rename中源文件路径必须存在</span>
<span class="token comment"># os.rename('bigdata.txt', 'abcd.txt')</span>
<span class="token comment"># 文件可以通过rename进行移动,移动的位置根据新文件路径决定,移动后同样可以修改名称</span>
<span class="token comment"># os.rename('abcd.txt', '文件/abcd.txt')</span>
<span class="token comment"># 文件移动时必须有文件名称,否则无法移动,移动后可以改名</span>
<span class="token comment"># os.rename('abc.txt', '文件/a.txt')</span>


<span class="token comment"># remove  删除文件  &gt;&gt;&gt; 类似于linux里的rm</span>
<span class="token comment"># 可以删除文件,但是不会有任何提示,但是也不会出现在回收站中,误删后无法回复,删除需谨慎</span>
<span class="token comment"># os.remove('bigdata[备份].txt')</span>
<span class="token comment"># 可以删除指定路径下的文件</span>
<span class="token comment"># 如果被删除的路径不存在,则报错  (路径可以使用绝对路径,和相对路径)</span>
<span class="token comment"># os.remove('文件/a.txt')</span>
<span class="token comment"># os.remove('python[备份].txt')</span>
<span class="token comment"># PermissionError: [Errno 1] Operation not permitted: '文件'</span>
<span class="token comment"># 使用remove不能删除文件夹</span>
os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'文件'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="8_242"></a>8、文件夹的操作</h3> 
<ul><li>mkdir：创建一个空文件夹，不能创建多级文件夹</li><li>rmdir：删除空文件夹，不能删除有文件的文件夹</li><li>getcwd：获取当前使用的工作目录的路径</li><li>chdir：切换当前的工作目录</li><li>listdir：查询指定目录的目录结构，将该目录下所有文件名以字符串形式保存在列表中进行返回 
  <ul><li>括号内不填写任何内容则为查询工作目录的目录结构</li><li>如果填写路径，则是对指定目录的查询</li></ul> </li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 在使用下方函数或方法时,需要先导入os模块方可使用</span>
<span class="token keyword">import</span> os
<span class="token comment"># mkdir 创建文件夹</span>
<span class="token comment"># FileExistsError: [Errno 17] File exists: 'student'</span>
<span class="token comment"># 如果创建的文件夹已经存在则报错</span>
<span class="token comment"># os.mkdir('student')</span>
<span class="token comment"># 可以在已经存在的文件夹下创建文件夹</span>
<span class="token comment"># os.mkdir('文件/students')</span>
<span class="token comment"># FileNotFoundError: [Errno 2] No such file or directory: 'aaa/bbb'</span>
<span class="token comment"># os.mkdir('aaa/bbb')  # 如果上级目录不存在则无法创建文件夹</span>

<span class="token comment"># rmdir 删除文件夹</span>
<span class="token comment"># FileNotFoundError: [Errno 2] No such file or directory: 'aaa/bbb'</span>
<span class="token comment"># 如果删除的文件已经不存在,则会报错</span>
<span class="token comment"># os.rmdir('student')</span>
<span class="token comment"># os.rmdir('文件/students')</span>
<span class="token comment"># 如果文件夹非空使用rmdir能否删除</span>
<span class="token comment"># OSError: [Errno 66] Directory not empty: '文件'</span>
<span class="token comment"># 如果文件非空则不能使用rmdir删除,需要进行递归删除</span>
<span class="token comment"># os.rmdir('文件')</span>


<span class="token comment"># getcwd  可以获取当前活动的工作目录 &gt;&gt; 类似于linux中的pwd</span>
<span class="token comment"># /Users/day08/02-代码</span>
<span class="token comment"># 默认工作目录就是我们工程所在的根目录</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># chdir  切换工作目录  &gt;&gt; 类似于linux中的cd</span>
<span class="token comment"># os.chdir('文件')</span>
<span class="token comment"># /Users/day08/02-代码/文件</span>
<span class="token comment"># print(os.getcwd())</span>

<span class="token comment"># listdir  指定目录下的目录结构  &gt;&gt;&gt; 类似于linux命令中的ls</span>
<span class="token comment"># ['04-文件写入.py', '文件', '.DS_Store', '08-文件夹的操作.py', 'python[备份].txt', '01-文件读写操作体验.py', '00-作业讲解.py', '02-文件的读取.py', 'test.txt', '07-rename和remove.py', '06-文件备份案例.py', '03-其他读取方式.py', '05-文件追加.py', '.idea']</span>
<span class="token comment"># print(os.listdir())</span>
<span class="token comment"># os.chdir('文件')</span>
<span class="token comment"># 如果listdir括号内没有书写对应的路径,则我们使用的路径就是工作目录,如果工作目录进行了切换则查找目录结构的位置也发生了变化</span>
<span class="token comment"># ['abcd.txt']</span>
<span class="token comment"># print(os.listdir())</span>

<span class="token comment"># 查询指定位置的目录结构,可以在listdir括号内填写指定的目录,我们就会查询该目录的结构</span>
<span class="token comment"># ['abcd.txt']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'文件'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="9_299"></a>9、批量修改文件名案例</h3> 
<pre><code class="prism language-python"><span class="token comment"># 需求:批量修改指定目录下所有文件的文件名</span>
<span class="token triple-quoted-string string">'''
1.修改时可以通过参数控制是增加,还是删除字符
2.传入指定字符用于增加或者删除
3.使用rename进行重命名
'''</span>

<span class="token comment"># 导入os模块</span>
<span class="token keyword">import</span> os

<span class="token comment"># 定义一个控制增加还是删除的变量,True是增加 False 是删除</span>
flag <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token comment"># 指定字符的定义</span>
str1 <span class="token operator">=</span> <span class="token string">'[中国创造]'</span>


<span class="token comment"># 构造多个文件:要在文件目录下构造 test1-test10 十个文件</span>
<span class="token comment"># for i in range(1, 11):</span>
<span class="token comment">#     open('文件/test' + str(i), 'w')</span>

<span class="token comment"># 定义函数</span>
<span class="token keyword">def</span> <span class="token function">modify_files_name</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span> str1<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 切换工作目录为指定的目录path</span>
    os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
    <span class="token comment"># 遍历指定路径下的所有文件名称</span>
    <span class="token keyword">for</span> file_name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 判断时增加字符还是删除字符</span>
        <span class="token keyword">if</span> flag<span class="token punctuation">:</span>
            <span class="token comment"># 重命名添加文件前缀</span>
            os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> str1 <span class="token operator">+</span> file_name<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 重命名删除文件名中指定的字符</span>
            os<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> file_name<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># 将文件目录下所有的文件添加[中国创造]的前缀</span>
<span class="token comment"># modify_files_name(flag, str1, '文件')</span>
modify_files_name<span class="token punctuation">(</span>flag<span class="token punctuation">,</span> str1<span class="token punctuation">,</span> <span class="token string">'文件'</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4f87c7cf8f916b3158a7f72a5be7af36/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">快速排序-Python</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f3be2fc03e9d0645537c0fed7bcbb1d9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">APR欺骗的防御措施</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>