<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SAR 命令详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SAR 命令详解" />
<meta property="og:description" content="SAR 命令详解 sar 命令行的常用格式： sar [options] [-A] [-o file] t [n] 在命令行中，n 和t 两个参数组合起来定义采样间隔和次数，t为采样间隔，是必须有 的参数，n为采样次数，是可选的，默认值是1，-o file表示将命令结果以二进制格式 存放在文件中，file 在此处不是关键字，是文件名。options 为命令行选项，sar命令 的 选项很多，下面只列出常用选项： -A：所有报告的总和。 -u：CPU利用率 -v：进程、I节点、文件和锁表状态。 -d：硬盘使用报告。 -r：没有使用的内存页面和硬盘块。 -g：串口I/O的情况。 -b：缓冲区使用情况。 -a：文件读写情 况。 -c：系统调用情况。 -R：进程的活动情况。 -y：终端设备活动情况。 -w：系统交换活动。 下 面将举例说明。 例一：使用命令行 sar -u t n 例如，每60秒采样一次，连续采样5次，观察CPU 的使用情况，并将采样结果以二进制 形式存入当前目录下的文件zhou中，需键入如下命令： # sar -u -o zhou 60 5 屏幕显示： SCO_SV scosysv 3.2v5.0.5 i80386 10/01/2001 14:43:50 %usr %sys %wio %idle(-u) 14:44:50 0 1 4 94 14:45:50 0 2 4 93 14:46:50 0 2 2 96 14:47:50 0 2 5 93 14:48:50 0 2 2 96 Average 0 2 4 94 在显示内容包括： %usr：CPU处在用 户模式下的时间百分比。 %sys：CPU处在系统模式下的时间百分比。 %wio：CPU等待输入输出完成时间的百分比。 %idle：CPU空闲时间百分比。 在所有的显示中,我们应主要注意%wio和%idle，%wio的值过高,表示硬盘存在 I/O瓶颈，%idle值高，表示CPU较空闲，如果%idle值高但系统响应慢时，有可能是CPU等待分配内存， 此时应加大内存容量。%idle值如果持续低于10,那么系统的CPU处理能力相对较低，表明系统中最需要解决的资源是CPU。 如果要查看二进 制文件zhou中的内容，则需键入如下sar命令： # sar -u -f zhou 可见，sar命令即可以实时采样，又可 以对以往的采样结果进行查询。 例二：使用命行sar -v t n 例如，每30秒采样一次，连续采样5次，观察核心 表的状态，需键入如下命令： # sar -v 30 5 屏幕显示： SCO_SV scosysv 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b7d3e3d747fe693ea23377c9c77c450a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-12-28T21:36:31+08:00" />
<meta property="article:modified_time" content="2016-12-28T21:36:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SAR 命令详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="preview-main"> 
 <span style="font-family:Helvetica;"> SAR 命令详解 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar 命令行的常用格式： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar [options] [-A] [-o file] t [n] </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在命令行中，n 和t 两个参数组合起来定义采样间隔和次数，t为采样间隔，是必须有 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">的参数，n为采样次数，是可选的，默认值是1，-o file表示将命令结果以二进制格式 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">存放在文件中，file 在此处不是关键字，是文件名。options 为命令行选项，sar命令 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">的 选项很多，下面只列出常用选项： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">      -A：所有报告的总和。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">         -u：CPU利用率 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">          -v：进程、I节点、文件和锁表状态。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">         -d：硬盘使用报告。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">         -r：没有使用的内存页面和硬盘块。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">         -g：串口I/O的情况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-b：缓冲区使用情况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-a：文件读写情 况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-c：系统调用情况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-R：进程的活动情况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-y：终端设备活动情况。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-w：系统交换活动。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">下 面将举例说明。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例一：使用命令行 sar -u t n </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例如，每60秒采样一次，连续采样5次，观察CPU 的使用情况，并将采样结果以二进制 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">形式存入当前目录下的文件zhou中，需键入如下命令： </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;"># sar -u -o zhou 60 5 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">屏幕显示： </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  SCO_SV   scosysv 3.2v5.0.5 i80386    10/01/2001 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:43:50   %usr   %sys  %wio    %idle(-u) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:44:50   0     1    4      94 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:45:50   0     2    4      93 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:46:50   0     2    2      96 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:47:50   0     2    5      93 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     14:48:50   0     2    2      96 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">     Average    0     2    4      94 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在显示内容包括： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  %usr：CPU处在用 户模式下的时间百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   %sys：CPU处在系统模式下的时间百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   %wio：CPU等待输入输出完成时间的百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   %idle：CPU空闲时间百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在所有的显示中,我们应主要注意%wio和%idle，%wio的值过高,表示硬盘存在 I/O瓶颈，%idle值高，表示CPU较空闲，如果%idle值高但系统响应慢时，有可能是CPU等待分配内存， 此时应加大内存容量。%idle值如果持续低于10,那么系统的CPU处理能力相对较低，表明系统中最需要解决的资源是CPU。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">如果要查看二进 制文件zhou中的内容，则需键入如下sar命令： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">    # sar -u -f zhou </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">可见，sar命令即可以实时采样，又可 以对以往的采样结果进行查询。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例二：使用命行sar -v t n </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例如，每30秒采样一次，连续采样5次，观察核心 表的状态，需键入如下命令： </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;"># sar -v 30 5 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">屏幕显示： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">       SCO_SV scosysv 3.2v5.0.5 i80386 10/01/2001 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">       10:33:23 proc-sz ov inod-sz ov file-sz ov lock-sz   (-v) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:33:53 305/ 321  0 1337/2764  0 1561/1706 0 40/ 128 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:34:23 308/ 321  0 1340/2764  0 1587/1706 0 37/ 128 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:34:53 305/ 321  0 1332/2764  0 1565/1706 0 36/ 128 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:35:23 308/ 321  0 1338/2764  0 1592/1706 0 37/ 128 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:35:53 308/ 321  0 1335/2764  0 1591/1706 0 37/ 128 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示内容包括： </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">proc-sz：目前核心中正在使用或分配的进程表的表 项数，由核心参数MAX-PROC控制。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  inod-sz：目前核心中正在使用或分配的i节点表的表项数，由核心参数 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">MAX- INODE控制。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  file-sz： 目前核心中正在使用或分配的文件表的表项数，由核心参数MAX-FILE控 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">制。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   ov：溢出出现的次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  Lock-sz：目前核心中正在使用或分配的记录加锁的表项数，由核心参数MAX-FLCKRE </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">控 制。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示格式为 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">实际使用表项/可以使用的表项数 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示内容表示，核心使用完全正常，三个表没有出现 溢出现象，核心参数不需调整，如 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">果出现溢出时，要调整相应的核心参数，将对应的表项数加大。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例三：使用命行sar -d t n </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例如，每30秒采样一次，连续采样5次，报告设备使用情况，需键入如下命令： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;"># sar -d 30 5 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">屏幕显示： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">       SCO_SV scosysv 3.2v5.0.5 i80386 10/01/2001 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:06:43 device %busy   avque   r+w/s  blks/s  avwait avserv (-d) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:07:13 wd-0   1.47   2.75   4.67   14.73   5.50 3.14 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:07:43 wd-0   0.43   18.77   3.07   8.66   25.11 1.41 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:08:13 wd-0   0.77   2.78   2.77   7.26   4.94 2.77 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:08:43 wd-0   1.10   11.18   4.10   11.26   27.32 2.68 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:09:13 wd-0   1.97   21.78   5.86   34.06   69.66 3.35 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average wd-0   1.15   12.11   4.09   15.19   31.12 2.80 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示内容包括： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">device： sar命令正在监视的块设备的名字。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   %busy： 设备忙时，传送请求所占时间的百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   avque： 队列站满时，未完成请求数量的平均值。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   r+w/s： 每秒传送到设备或从设备传出的数据量。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   blks/s： 每秒传送的块数，每块512字节。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   avwait： 队列占满时传送请求等待队列空闲的平均时间。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">   avserv： 完成传送请求所需平均时间（毫秒）。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在显示的内容中，wd-0是硬盘的名字，%busy的值比较小，说明用于处理传送请求的有 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">效 时间太少，文件系统效率不高，一般来讲，%busy值高些，avque值低些，文件系统 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">的效率比较高，如果%busy和avque值相对比较 高，说明硬盘传输速度太慢，需调整。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例四：使用命行sar -b t n </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例如，每30秒采样一次，连续采样5次，报告缓冲区的使用情 况，需键入如下命令： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;"># sar -b 30 5 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">屏幕显示： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">  SCO_SV scosysv 3.2v5.0.5 i80386 10/01/2001 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:54:59 bread/s lread/s %rcache bwrit/s lwrit/s %wcache pread/s pwrit/s (-b) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:55:29 0  147  100  5  21  78   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:55:59 0  186  100  5  25  79   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:56:29  4  232   98  8  58  86   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:56:59 0  125  100  5  23  76   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:57:29 0   89  100  4  12  66   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average  1  156   99  5  28  80   0   0 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示内容包括： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">bread/s： 每秒从硬盘读入系统缓冲区buffer的物理块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">lread/s： 平均每秒从系统buffer读出的逻辑块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">%rcache： 在buffer cache中进行逻辑读的百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">bwrit/s： 平均每秒从系统buffer向磁盘所写的物理块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">lwrit/s： 平均每秒写到系统buffer逻辑块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">%wcache： 在buffer cache中进行逻辑读的百分比。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">pread/s： 平均每秒请求物理读的次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">pwrit/s： 平均每秒请求物理写的次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在显示的内容中，最重要的是%cache 和%wcache两列，它们的值体现着buffer的使用效 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">率，%rcache的值小于90或者%wcache的值低于65，应适当增加系统 buffer的数量，buffer </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">数量由核心参数NBUF控制，使%rcache达到90左右，%wcache达到80左右。但buffer参 数值的多少影响I/O效率，增加buffer，应在较大内存的情况下，否则系统效率反而得不到提高。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例五：使用命行sar -g t n </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">例 如，每30秒采样一次，连续采样5次，报告串口I/O的操作情况，需键入如下命令： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;"># sar -g 30 5 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">屏幕显示： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosysv 3.2v5.0.5 i80386  11/22/2001 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:07:03  ovsiohw/s  ovsiodma/s  ovclist/s (-g) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:07:33   0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:08:03    0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:08:33   0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:09:03    0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">17:09:33   0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average    0.00   0.00   0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">显示内容包括： </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">ovsiohw/s：每秒在串口I/O硬件出现的溢出。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">ovsiodma/s： 每秒在串口I/O的直接输入输出通道高速缓存出现的溢出。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">ovclist/s ：每秒字符队列出现的溢出。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">在显示的内容中，每一列的 值都是零，表明在采样时间内，系统中没有发生串口I/O溢 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">出现象。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar命令的用法很多，有时判断一个问题，需要几个sar 命令结合起来使用，比如，怀疑 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">CPU存在瓶颈，可用sar -u 和sar -q来看，怀疑I/O存在瓶颈，可用sar -b、sar -u和 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar-d来看 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Sar </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-A 所有的报告总和 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-a 文件读，写报告 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-B 报告附加的buffer cache使用情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-b buffer cache使用情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-c 系统调用使用报告 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-d 硬盘使用报告 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-g 有关串口I/O情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-h 关于buffer使用统计数字 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-m IPC消息和信号灯活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-n 命名cache </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-p 调页活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-q 运行队列和交换队列的平均长度 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-R 报告进程的活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-r 没有使用的内存页面和硬盘块 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-u CPU利用率 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-v 进程，i节点，文件和锁表状态 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-w 系统交换活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-y TTY设备活动 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-a 报告文件读，写报告 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar –a 5 5 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/07/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:45:40 iget/s namei/s dirbk/s (-a) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:45:45 6 2 2 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:45:50 91 20 28 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:45:55 159 20 18 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:46:00 157 21 19 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:46:05 177 30 35 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 118 18 20 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">iget/s 每秒由i节点项定位的文件数量 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">namei/s 每秒文件系统路径查询的数量 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">dirbk/s 每秒所读目录块的数量 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊这些值 越大，表明核心花在存取用户文件上的时间越多，它反映着一些程序和应用文件系统产生的负荷。一般地，如果iget/s与namei/s的比值大于5，并且 namei/s的值大于30，则说明文件系统是低效的。这时需要检查文件系统的自由空间，看看是否自由空间过少。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-m 报告进程间的通信活动（IPC消息和信号灯活动）情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -m 4 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/13/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:24:28 msg/s sema/s (-m) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:24:32 2.24 9.95 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:24:36 2.24 21.70 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:24:40 2.00 36.66 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 2.16 22.76 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">msg/s 每秒消息操作的次数（包括发送消息的接收信息）。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sema/s 每秒信号灯操作次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊信 号灯和消息作为进程间通信的工具，如果在系统中运行的应用过程中没有使用它们，那么由sar命令报告的msg 和sema的值都将等于0.00。如果使用了这些工具，并且其中或者msg/s大于100，或者sema/s大于100，则表明这样的应用程序效率比较 低。原因是在这样的应用程序中，大量的时间花费在进程之间的沟通上，而对保证进程本身有效的运行时间必然产生不良的影响。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-n 报告命名缓冲区活动情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -n 4 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/13/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:37:31 c_hits cmisses (hit %) (-n) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:37:35 1246 71 (94%) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:37:39 1853 81 (95%) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:37:43 969 56 (94%) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 1356 69 (95%) </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">c_hits cache命中的数量。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">cmisses cache未命中的数量。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">(hit %) 命中数量/(命中数理+未命中数量)。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊不难理解，(hit %)值越大越好，如果它低于90％，则应该调整相应的核心参数。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-p 报告分页活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -p 5 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/13/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:45:26 vflt/s pflt/s pgfil/s rclm/s (-p) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:45:31 36.25 50.20 0.00 0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:45:36 32.14 58.48 0.00 0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">13:45:41 79.80 58.40 0.00 0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 49.37 55.69 0.00 0.00 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">vflt/s 每秒进行页面故障地址转换的数量（由于有效的页面当前不在内存中）。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">pflt/s 每秒来自由于保护错误出现的页面故障数量（由于对页面的非法存，取引起的页面故障）。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">pgfil/s 每秒通过”页—入”满足vflt/s的数量。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">rclm/s 每秒由系统恢复的有效页面的数量。有效页面被增加到自由页面队列上。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊如 果vflt/s的值高于100，可能预示着对于页面系统来说，应用程序的效率不高，也可能分页参数需要调整，或者内存配置不太合适。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-q 报告进程队列（运行队列和交换队列的平均长度）情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -q 2 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/13/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:25:50 runq-sz %runocc swpq-sz %swpocc (-q) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:25:52 4.0 50 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:25:54 9.0 100 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">14:25:56 9.0 100 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 7.3 100 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">runq-sz 准备运行的进程运行队列。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">%runocc 运行队列被占用的时间（百分比） </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">swpq- sz 要被换出的进程交换队列。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">%swpocc 交换队列被占用的时间（百分比）。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊如果%runocc大于90，并且runq- sz的值大于2，则表明CPU的负载较重。其直接后果，可能使系统的响应速度降低。如果%swpocc大于20，表明交换活动频繁，将严重导致系统效率下 降。解决的办法是加大内存或减少缓存区数量，从而减少交换及页—入,页—出活动。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-r 报告内存及交换区使用情况（没有使用的内存页面和硬盘块） </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -r 2 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/14/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:14:19 freemem freeswp availrmem availsmem (-r) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:14:22 279729 6673824 93160 1106876 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:14:24 279663 6673824 93160 1106876 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">10:14:26 279661 6673824 93160 1106873 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 279684 6673824 93160 1106875 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">freemem 用户进程可以使用的内存页面数，4KB为一个页面。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">freeswp 用于进程交换可以使用的硬盘盘块，512B为一个盘块。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-w 系统交换活动 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -w 2 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/14/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:22:05 swpin/s bswin/s swpot/s bswots pswch/s (-w) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:22:07 0.00 0.0 0.00 0.0 330 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:22:09 0.00 0.0 0.00 0.0 892 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:22:11 0.00 0.0 0.00 0.0 1053 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 0.00 0.0 0.00 0.0 757 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">swpin/s 每秒从硬盘交换区传送进入内存的次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">bswin/s 每秒为换入而传送的块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">swpot/s 每秒从内存传送到硬盘交换区的次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">bswots 每秒为换出而传送的块数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">pswch/s 每秒进程交换的数量。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊swpin/s，bswin/s，swpot/s和bswots描述的是与硬盘交换区相关的交换活动。交换关系到系统 的效率。交换区在硬盘上对硬盘的读，写操作比内存读，写慢得多，因此，为了提高系统效率就应该设法减少交换。通常的作法就是加大内存，使交换区中进行的交 换活动为零，或接近为零。如果swpot/s的值大于1，预示可能需要增加内存或减少缓冲区（减少缓冲区能够释放一部分自由内存空间）。 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">-y 报告终端的I/O活动（TTY设备活动）情况 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">sar -y 2 3 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">SCO_SV scosvr 3.2v5.0.5 PentII(D)ISA 06/14/2002 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:38:03 rawch/s canch/s outch/s rcvin/s xmtin/s mdmin/s (-y) </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:38:05 5 0 951 0 1 0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:38:07 10 0 996 0 0 0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">11:38:09 4 0 2264 0 0 0 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">Average 6 0 1404 0 1 0 </span> 
 <br style="font-family:Helvetica;"> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">rawch/s 每秒输入的字符数（原始队列） </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">canch/s 每秒由正则队列（canonical queue）处理的输入字符数。进行正则处理过程中，可以识别出一些有特殊意义的字符。比如，(中断字符)，(退出符)，(退格键)等。因 此，canch/s中的计数不包括这些有特殊意义的字符。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">outch/s 每秒输出的字符数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">rcvin/s 每秒接收的硬件中断次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">xmtin/s 每秒发出的硬件中断次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">mdmin/s 每秒modem中断次数。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊应该特别 说明，sar命令可以对任意终端活动进行统计，所谓任意终端，是指任意tty设备。它们可以是串行终端，主控台，伪终端等等。 </span> 
 <br style="font-family:Helvetica;"> 
 <span style="font-family:Helvetica;">＊在这几个量 中，modem中断次数mdmin/s应该接近0。其它没有特殊要求，但如果每发送一个字符，中断的数量就动态地增加，这表明终端线出了差错，可能是接触 不好。</span> 
 <p style="clear:both;"></p> 
 <p class="translate"> 来自 “ ITPUB博客 ” ，链接：http://blog.itpub.net/26366371/viewspace-2131571/，如需转载，请注明出处，否则将追究法律责任。 </p> 
</div> 
<p>转载于:http://blog.itpub.net/26366371/viewspace-2131571/</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6fbb9d3efd3c9b856cf91f043f9d0c83/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AIX常见命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/90c06f580648ef42afba8522f7066fc0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Zookeeper（二）ZooKeeper服务器的安装与启动</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>