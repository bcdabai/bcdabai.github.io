<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java mvc附件上传_Spring MVC 实现文件的上传和下载 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java mvc附件上传_Spring MVC 实现文件的上传和下载" />
<meta property="og:description" content="SpringMVC 中，文件的上传，是通过 MultipartResolver 实现的。 所以，如果要实现文件的上传，只要在 spring-mvc.xml 中注册相应的 MultipartResolver 即可。
MultipartResolver 的实现类有两个：
CommonsMultipartResolver
StandardServletMultipartResolver
两个的区别：
第一个需要使用 Apache 的 commons-fileupload 等 jar 包支持，但它能在比较旧的 servlet 版本中使用。
第二个不需要第三方 jar 包支持，它使用 servlet 内置的上传功能，但是只能在 Servlet 3 以上的版本使用。
第一个使用步骤：
/CommonsMultipartResolver 上传用到的两个包/
&#34;commons-fileupload:commons-fileupload:1.3.1&#34;,
&#34;commons-io:commons-io:2.4&#34;
如果是maven项目的话直接导入:
commons-fileupload
commons-fileupload
1.3.1
dispatcher-servlet.xml配置：
web.xml：
dispatcher
org.springframework.web.servlet.DispatcherServlet
contextConfigLocation
classpath:dispatcher-servlet.xml
dispatcher
/
后台java(上传、下载)处理代码：
package edu.nf.ch08.controller;
import org.apache.commons.io.FileUtils;
import org.springframework.http.HttpHeaders;
import org.springframework.http.HttpStatus;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.multipart.MultipartFile;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/55222357beb5233d46102930b887e9f5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-16T06:33:05+08:00" />
<meta property="article:modified_time" content="2021-02-16T06:33:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java mvc附件上传_Spring MVC 实现文件的上传和下载</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>SpringMVC 中，文件的上传，是通过 MultipartResolver 实现的。 所以，如果要实现文件的上传，只要在 spring-mvc.xml 中注册相应的 MultipartResolver 即可。</p> 
 <p>MultipartResolver 的实现类有两个：</p> 
 <p>CommonsMultipartResolver</p> 
 <p>StandardServletMultipartResolver</p> 
 <p>两个的区别：</p> 
 <p>第一个需要使用 Apache 的 commons-fileupload 等 jar 包支持，但它能在比较旧的 servlet 版本中使用。</p> 
 <p>第二个不需要第三方 jar 包支持，它使用 servlet 内置的上传功能，但是只能在 Servlet 3 以上的版本使用。</p> 
 <p>第一个使用步骤：</p> 
 <p>/CommonsMultipartResolver 上传用到的两个包/</p> 
 <p>"commons-fileupload:commons-fileupload:1.3.1",</p> 
 <p>"commons-io:commons-io:2.4"</p> 
 <p>如果是maven项目的话直接导入:</p> 
 <p>commons-fileupload</p> 
 <p>commons-fileupload</p> 
 <p>1.3.1</p> 
 <p>dispatcher-servlet.xml配置：</p> 
 <p>web.xml：</p> 
 <p>dispatcher</p> 
 <p>org.springframework.web.servlet.DispatcherServlet</p> 
 <p>contextConfigLocation</p> 
 <p>classpath:dispatcher-servlet.xml</p> 
 <p>dispatcher</p> 
 <p>/</p> 
 <p>后台java(上传、下载)处理代码：</p> 
 <p>package edu.nf.ch08.controller;</p> 
 <p>import org.apache.commons.io.FileUtils;</p> 
 <p>import org.springframework.http.HttpHeaders;</p> 
 <p>import org.springframework.http.HttpStatus;</p> 
 <p>import org.springframework.http.MediaType;</p> 
 <p>import org.springframework.http.ResponseEntity;</p> 
 <p>import org.springframework.stereotype.Controller;</p> 
 <p>import org.springframework.web.bind.annotation.GetMapping;</p> 
 <p>import org.springframework.web.bind.annotation.PostMapping;</p> 
 <p>import org.springframework.web.multipart.MultipartFile;</p> 
 <p>import org.springframework.web.servlet.ModelAndView;</p> 
 <p>import java.io.File;</p> 
 <p>import java.io.IOException;</p> 
 <p>/**</p> 
 <p>上传文件的网页html：</p>Title 
 <h2>文件上传</h2> 
 <p>File:</p> 
 <p align="center"><img src="https://images2.imgbox.com/7f/71/GCeuoxNS_o.png" alt="a81a20b832af23309cb9f81196dd7a81.png"></p> 
 <p>上传成功后转发的jsp(下载文件)页面：</p> 
 <p>Created by IntelliJ IDEA.</p> 
 <p>User: wangl</p> 
 <p>Date: 2018/11/2</p> 
 <p>Time: 09:56</p> 
 <p>To change this template use File | Settings | File Templates.</p> 
 <p>--%&gt;</p>Title 
 <p><a href="download?fileName=%24%7BfileName%7D" rel="nofollow">${fileName}</a></p> 
 <p align="center"><img src="https://images2.imgbox.com/fe/19/otFlrMXq_o.png" alt="64c9a217a6e9a827ead05fd47f6fe51e.png"></p> 
 <p>项目结构：</p> 
 <p align="center"><img src="https://images2.imgbox.com/02/6d/cBqhfgws_o.png" alt="2de56b4be16bd23cee18c0c8c807011d.png"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/412d07f886d008ef43b4a688a606dafc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java socket 卡住_java socket服务器端线程卡死</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/61a10f35c2a38c93f362a9cd9aecc033/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java relativepath_Hive启动时，报错RelativepathinabsoluteURI:${system:java.io.tmpdir}</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>