<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>charles安装教程--以及针对安装证书后https＜unknown＞爬坑 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="charles安装教程--以及针对安装证书后https＜unknown＞爬坑" />
<meta property="og:description" content="一、安装教程（如果是爬坑https&lt;unknown&gt;可以往下翻到底部）
1.官网下载了charles 选好盘符进行安装 安装后打开 界面如下
2.功能介绍
（1）清空所有请求
（2）开始/关闭抓取请求
（3）开启/关闭SSL代理
（4）开启/关闭限流
（5）开启/关闭断点
（6）编辑请求 并可执行
（7）重发请求
（8）验证请求
（9）购买许可证
（10）工具
（11）设置
3.开始配置
(1)点击Proxy-&gt;Proxy Setting...开启代理 设置端口号 点击ok
(2)打开手机，手机网络要和电脑连接相同网段 然后打开手机连接的wifi 进入到设置界面滑动到最下面 http代理 修改配置代理为手动 在调试完成后 记得将代理改为自动 不然影响上网功能
服务器地址写电脑的IPV4地址 可以用cmd ipconfig查 也可以用charles中的Help-&gt;Local IP Address查询到 示例：192.168.210.125
(3)设置抓取的地址 Proxy-&gt;Recording Settings在Include中设置抓取包含的域名 端口号等 我这里请求没写端口号 大家可以按需去写 Exclude中设置排除掉的地址
（4）设置SSLProxy Settings 针对https的请求 这个是一定要设置的 我这里只写了一个端口号443 也可以写https请求的地址和域名等 按需设置
（5）第一次通过手机访问发送请求时，Charles会弹出提示框，提示有设备尝试连接到Charles，是否允许，如果不允许的话，手机发送请求失败，点击Allow允许，这样这个设备的IP地址就会添加到允许列表中，如果错误点击了Deny可以重启Charles会再此提示，或者通过Proxy-&gt;Access Control Settings手动添加地址，如果不想每个设备连接Charles都要点击允许的话，可以添加0.0.0.0/0允许所有设备连接到Charles。这里第一行的IP地址是手机的IP地址 只要点击Allow之后 就会自动同步进Charles 不用手动输入
基础配置先配置这些
然后请求基本都是https的请求 我们需要到Help-&gt;SSL Proxying-&gt;Install Charles Root Certificate中去安装证书
点击安装证书，一直点击下一步
我这里选的是根据证书类型，自动选择证书存储 点击下一步 直到导入成功提示" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c5949eecbebde998d8194992b1fe0eef/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-02T20:09:16+08:00" />
<meta property="article:modified_time" content="2023-12-02T20:09:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">charles安装教程--以及针对安装证书后https＜unknown＞爬坑</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>一、安装教程（如果是爬坑https&lt;unknown&gt;可以往下翻到底部）</strong></p> 
<p>1.官网下载了charles 选好盘符进行安装 安装后打开 界面如下</p> 
<p><img alt="" height="788" src="https://images2.imgbox.com/1e/ac/VxHTwxh6_o.png" width="1200"></p> 
<p>2.功能介绍</p> 
<p>（1）<img alt="" height="29" src="https://images2.imgbox.com/99/d7/XMQK3hVy_o.png" width="38">清空所有请求</p> 
<p>（2）<img alt="" height="30" src="https://images2.imgbox.com/c1/a6/nf10cLvQ_o.png" width="37">开始/关闭抓取请求</p> 
<p>（3）<img alt="" height="27" src="https://images2.imgbox.com/a0/0a/eWQELJCL_o.png" width="36">开启/关闭SSL代理</p> 
<p>（4）<img alt="" height="26" src="https://images2.imgbox.com/57/8d/HH0RXi90_o.png" width="33">开启/关闭限流</p> 
<p>（5）<img alt="" height="27" src="https://images2.imgbox.com/78/3b/RMDTngbH_o.png" width="33">开启/关闭断点</p> 
<p>（6）<img alt="" height="23" src="https://images2.imgbox.com/39/db/q8c25ixw_o.png" width="25">编辑请求 并可执行</p> 
<p>（7）<img alt="" height="23" src="https://images2.imgbox.com/54/14/hGJaSwrk_o.png" width="28">重发请求</p> 
<p>（8）<img alt="" height="26" src="https://images2.imgbox.com/e5/cd/EF9oM8F5_o.png" width="33">验证请求</p> 
<p>（9）<img alt="" height="28" src="https://images2.imgbox.com/fe/09/xGaIOaWx_o.png" width="32">购买许可证</p> 
<p>（10）<img alt="" height="25" src="https://images2.imgbox.com/b8/91/uqADnNgp_o.png" width="29">工具</p> 
<p>（11）<img alt="" height="27" src="https://images2.imgbox.com/74/be/bALYjI4f_o.png" width="32">设置</p> 
<p>3.开始配置</p> 
<p>(1)点击Proxy-&gt;Proxy Setting...开启代理 设置端口号 点击ok</p> 
<p><img alt="" height="506" src="https://images2.imgbox.com/e2/92/GfHRLs6M_o.png" width="590"></p> 
<p>(2)打开手机，手机网络要和电脑连接相同网段 然后打开手机连接的wifi 进入到设置界面滑动到最下面 http代理 修改配置代理为手动 在调试完成后 记得将代理改为自动 不然影响上网功能</p> 
<p>服务器地址写电脑的IPV4地址 可以用cmd ipconfig查 也可以用charles中的Help-&gt;Local IP Address查询到 示例：192.168.210.125</p> 
<p><img alt="" height="558" src="https://images2.imgbox.com/89/2f/QML08aqk_o.png" width="417"></p> 
<p><img alt="" height="413" src="https://images2.imgbox.com/a2/9c/8YqBZHOo_o.png" width="707"></p> 
<p>(3)设置抓取的地址 Proxy-&gt;Recording Settings在Include中设置抓取包含的域名 端口号等 我这里请求没写端口号 大家可以按需去写 Exclude中设置排除掉的地址</p> 
<p><img alt="" height="363" src="https://images2.imgbox.com/30/3e/GSgqFnN1_o.png" width="544"></p> 
<p>（4）设置SSLProxy Settings 针对https的请求 这个是一定要设置的 我这里只写了一个端口号443 也可以写https请求的地址和域名等 按需设置</p> 
<p><img alt="" height="439" src="https://images2.imgbox.com/c3/d8/ATVc2fpJ_o.png" width="542"></p> 
<p>（5）第一次通过手机访问发送请求时，Charles会弹出提示框，提示有设备尝试连接到Charles，是否允许，如果不允许的话，手机发送请求失败，点击Allow允许，这样这个设备的IP地址就会添加到允许列表中，如果错误点击了Deny可以重启Charles会再此提示，或者通过Proxy-&gt;Access Control Settings手动添加地址，如果不想每个设备连接Charles都要点击允许的话，可以添加0.0.0.0/0允许所有设备连接到Charles。这里第一行的IP地址是手机的IP地址 只要点击Allow之后 就会自动同步进Charles 不用手动输入</p> 
<p><img alt="" height="172" src="https://images2.imgbox.com/62/e9/9h0bdfex_o.png" width="579"></p> 
<p><img alt="" height="445" src="https://images2.imgbox.com/de/71/K1VVXDsG_o.png" width="519"></p> 
<p>基础配置先配置这些</p> 
<p>然后请求基本都是https的请求 我们需要到Help-&gt;SSL Proxying-&gt;Install Charles Root Certificate中去安装证书</p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/d8/2d/QrkDNM90_o.png" width="1058"></p> 
<p>点击安装证书，一直点击下一步</p> 
<p><img alt="" height="662" src="https://images2.imgbox.com/88/35/nuAlB9u7_o.png" width="471"></p> 
<p>我这里选的是根据证书类型，自动选择证书存储 点击下一步 直到导入成功提示</p> 
<p><img alt="" height="634" src="https://images2.imgbox.com/e9/0c/mgGgmdNX_o.png" width="616"></p> 
<p>电脑端证书安装完成后 接下来我们要安装手机端的证书 点击Help-&gt;SSL Proxying-&gt;Install Charles Root Certificate on a Mobile Device or Remote Browser</p> 
<p><img alt="" height="442" src="https://images2.imgbox.com/b5/4e/c2V5hDZB_o.png" width="970"></p> 
<p>看到如下提示 首先在浏览器地址栏中输入chls.pro/ssl 去下载证书</p> 
<p><img alt="" height="167" src="https://images2.imgbox.com/f1/a5/giAnR7IO_o.png" width="550"></p> 
<p>证书下载步骤如下：</p> 
<p>1.提示是否允许下载证书 点击允许</p> 
<p><img alt="" height="726" src="https://images2.imgbox.com/c1/e3/CIqiIJoq_o.png" width="416"></p> 
<p>2.已下载好 去设置/已下载描述文件中查看描述文件</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/3e/35/fJEWMnCr_o.png" width="413"></p> 
<p>3.点击右上角安装描述文件</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/4d/bf/4kJ5CNTR_o.png" width="415"></p> 
<p>4.描述文件 安装成功 已验证</p> 
<p><img alt="" height="589" src="https://images2.imgbox.com/f5/81/sutgQTDI_o.png" width="414"></p> 
<p><span style="color:#f33b45;"><strong>重点来了</strong></span> 还记得上面那个用红框框住的提示吗 ios10以上 需要去设置-&gt;通用-&gt;关于本机-&gt;证书信任设置-&gt;打开针对根证书完全信任 这样才会生效</p> 
<p>不然的话 连接代理访问 就一直出现&lt;unknown&gt; 怎么配置都不对 其实是手机代理针对ios10以上增加一个主动勾选 必须设置信任才可用</p> 
<p><img alt="" height="615" src="https://images2.imgbox.com/44/bd/T3jnrJs8_o.png" width="417"></p> 
<p>如果想删除该证书 以后都不再使用 在设置-&gt;通用-&gt;VPN与设备管理-&gt;配置描述文件中点击移除描述文件 将其删除 当然删除前可以将勾选关于本机-&gt;证书信任设置-&gt;打开针对根证书完全信任关掉</p> 
<p>第一次用这个工具 发现需要通过路径 展开目录往下一直找到对应的要操作的接口</p> 
<p><img alt="" height="314" src="https://images2.imgbox.com/8e/e9/RIpuwNEM_o.png" width="841"></p> 
<p>可以通过在Sequence中通过在Filter中输入关键词 检索相关接口 请求数据我这里遮了一下 见谅 哈哈哈</p> 
<p><img alt="" height="966" src="https://images2.imgbox.com/32/d8/bV3gbu49_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d440ae7dbf8f15c672396647bf02c85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA - String 中删除指定字符（11种方法）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f00e83047d18ae137eceabfcb73c2b2a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[传智杯 #2 决赛] 补刀</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>