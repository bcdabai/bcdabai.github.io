<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python中numpy使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python中numpy使用" />
<meta property="og:description" content="import numpy as np#导入numpy data=[[1,2,3],[4,5,6]]#创建元组 arr=np.array(data)#转化为数组 arr.ndim#数组空间维数 arr.shape#数据行列数 arr.dtype#数据类型&#34;&#34;int32&#34;&#34; np.zeros(10)#指定长度 np.zeros((3,6))#创建3行6列的0数组 np.ones(5)#array([ 1., 1., 1., 1., 1.]) np.ones((3,4))#3行4列的全1矩阵 ar1=np.arange(10)#结果:array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) np.eye(3)#3维单位矩阵 np.identity(3)#3维单位矩阵 np.ones_like(arr)#创建与arr相同行、列的全1矩阵 np.zeros_like(arr)#创建与arr相同行、列的全0矩阵 arr_f=arr.astype(np.float64)#将arr中的数据类型转换为float64格式 Nstring=np.array([&#39;1.2&#39;,&#39;3&#39;,&#39;4&#39;],dtype=np.string_)#创建数组师可以自行定义字符串 N_float=Nstring.astype(np.float)#将string数据转换为float格式，等价于float64 ######数组的标量运算 arr*arr#每个元素平方 arr*5#每个元素乘以5 &#39;&#39;&#39;索引和切片&#39;&#39;&#39; ar1_s=ar1[5:8] ar1[5:8]=12 ##ar1变化后，ar1_s的值也随之变化 ar1_s[:]=100#ar1_s变化后，ar1也随之变化 ar1_s1=ar1[5:8].copy()#完全拷贝，值变化不影响ar1 aro=np.array([[1,2,3],[4,5,6],[7,8,9]])#3维数组 aro[2]#第三组（行）数组 aro[0][2]#数组第0行第二列“3”或aro[0,2] arr3d=np.array([[[1,2,3],[4,5,6]],[[7,8,9],[10,11,12]]])#3维数组 &#39;&#39;&#39;布尔型索引&#39;&#39;&#39; names=np.array([&#39;bob&#39;,&#39;joe&#39;,&#39;will&#39;,&#39;bob&#39;,&#39;will&#39;,&#39;joe&#39;,&#39;joe&#39;]) data=np.random.randn(7,4) names==&#39;bob&#39; data[names=&#39;bob&#39;]#选取True的行,布尔型数组的长度必须跟被索引的轴长度一致。 data[names==&#39;bob&#39;,2:]#选取从第二列开始的数据 data[names==&#39;bob&#39;,3]#选取第三列的数据 data[names==&#39;bob&#39;][1,:]#选取第一行（从0行开始算） names!=&#39;bob&#39;#名字不是‘bob’的逻辑数据 -(names==&#39;bob&#39;)#意思与names!=&#39;bob一致 mask=(names==&#39;bob&#39;)|(names==&#39;will&#39;)#逻辑或，&amp;( 和),python中不能用and和or data[data&lt;0]=0#将data中所有小于0的数据设置为0 data[names!=&#39;joe&#39;]=7#将不是joe的行赋值为7 &#39;&#39;&#39;花式索引&#39;&#39;&#39; arr0=np.empty((8,4))#创建新数组，只分配内存空间，不填充任何值 for i in range(8): arr0[i]=i#数组的i值就是指i行 arr0[[2,3]]#选取数字的子集，第2行，第3行 arr0[[-7,-5]]#全负数将会从末尾开始选取子集 arr0[[-1,2]]#有正数，负数选取子集 arr1=np." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/85170d336af1d32c6a13a1c5f8e0ace7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-04-01T15:25:57+08:00" />
<meta property="article:modified_time" content="2017-04-01T15:25:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python中numpy使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    import numpy as np#导入numpy 
<br> data=[[1,2,3],[4,5,6]]#创建元组 
<br> arr=np.array(data)#转化为数组 
<br> arr.ndim#数组空间维数 
<br> arr.shape#数据行列数 
<br> arr.dtype#数据类型""int32"" 
<br> np.zeros(10)#指定长度 
<br> np.zeros((3,6))#创建3行6列的0数组 
<br> np.ones(5)#array([ 1.,  1.,  1.,  1.,  1.]) 
<br> np.ones((3,4))#3行4列的全1矩阵 
<br> ar1=np.arange(10)#结果:array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) 
<br> np.eye(3)#3维单位矩阵 
<br> np.identity(3)#3维单位矩阵 
<br> np.ones_like(arr)#创建与arr相同行、列的全1矩阵 
<br> np.zeros_like(arr)#创建与arr相同行、列的全0矩阵 
<br> arr_f=arr.astype(np.float64)#将arr中的数据类型转换为float64格式 
<br> Nstring=np.array(['1.2','3','4'],dtype=np.string_)#创建数组师可以自行定义字符串 
<br> N_float=Nstring.astype(np.float)#将string数据转换为float格式，等价于float64 
<br> ######数组的标量运算 
<br> arr*arr#每个元素平方 
<br> arr*5#每个元素乘以5 
<br> '''索引和切片''' 
<br> ar1_s=ar1[5:8] 
<br> ar1[5:8]=12 ##ar1变化后，ar1_s的值也随之变化 
<br> ar1_s[:]=100#ar1_s变化后，ar1也随之变化 
<br> ar1_s1=ar1[5:8].copy()#完全拷贝，值变化不影响ar1 
<br> aro=np.array([[1,2,3],[4,5,6],[7,8,9]])#3维数组 
<br> aro[2]#第三组（行）数组 
<br> aro[0][2]#数组第0行第二列“3”或aro[0,2] 
<br> arr3d=np.array([[[1,2,3],[4,5,6]],[[7,8,9],[10,11,12]]])#3维数组 
<br> '''布尔型索引''' 
<br> names=np.array(['bob','joe','will','bob','will','joe','joe']) 
<br> data=np.random.randn(7,4) 
<br> names=='bob' 
<br> data[names='bob']#选取True的行,布尔型数组的长度必须跟被索引的轴长度一致。 
<br> data[names=='bob',2:]#选取从第二列开始的数据 
<br> data[names=='bob',3]#选取第三列的数据 
<br> data[names=='bob'][1,:]#选取第一行（从0行开始算） 
<br> names!='bob'#名字不是‘bob’的逻辑数据 
<br> -(names=='bob')#意思与names!='bob一致 
<br> mask=(names=='bob')|(names=='will')#逻辑或，&amp;( 和),python中不能用and和or 
<br> data[data&lt;0]=0#将data中所有小于0的数据设置为0 
<br> data[names!='joe']=7#将不是joe的行赋值为7 
<br> '''花式索引''' 
<br> arr0=np.empty((8,4))#创建新数组，只分配内存空间，不填充任何值 
<br> for i in range(8): 
<br>     arr0[i]=i#数组的i值就是指i行 
<br> arr0[[2,3]]#选取数字的子集，第2行，第3行 
<br> arr0[[-7,-5]]#全负数将会从末尾开始选取子集 
<br> arr0[[-1,2]]#有正数，负数选取子集 
<br> arr1=np.arange(32).reshape((8,4))#按行重新设置数据维数，8行4列 
<br> arr1[[1,5,4,2],[0,3,1,2]]#等价与选取元素行列如下的元素（1，0）,（5，3）,（4，1）,（4，2） 
<br> arr1[[1,5,4,2]][:,[0,3,1,2]]#选取数组1，5，4，2行0，3，1，2列的子集 
<br> arr1[np.ix_([1,5,4,2],[0,3,1,2])]#选取数组1，5，4，2行0，3，1，2列的子集 
<br> arr1T=np.dot(arr1.T,arr1)#计算矩阵内积#(arr1)^t(arr1) 
<br> '''通用函数  ufunc''' 
<br> arr2=np.arange(10) 
<br> np.sqrt(arr2)#各元素开方 
<br> np.exp(arr2)#各元素求指数 
<br> x=np.random.randn(8)# 
<br> y=np.random.randn(8) 
<br> np.maximum(x,y)#x，y两数组元素两两对比，返回较大的值 
<br> points=np.arange(-5,5,1)#产生-5至5之间，间隔1的10个数 
<br> xs,ys=np.meshgrid(points,points)#xs按行重复points元素10次，ys按列重复points元素10次 
<br> 
<br> 
<br> import matplotlib.pyplot as plt 
<br> z=np.sqrt(xs**2+ys**2)#每个元素开方 
<br> plt.imshow(z,cmap=plt.cm.gray)#创建图形函数 
<br> plt.colorbar() 
<br> plt.title('Imange plot of $\sqrt{x^2+y^2}$ for a grid of values') 
<br> plt.show()#显示图形 
<br> '''将numpy.where 三元表达式x if condition else y的矢量化版本。''' 
<br> xarr=np.array([1,2,3,4,5]) 
<br> yarr=np.array([6,7,8,9,10]) 
<br> cond=np.array([True,False,True,True,False]) 
<br> result=np.where(cond,xarr,yarr)#1,7,3,4,10。np.where的意思为[xarr if cond else yarr] 
<br> arrc=np.random.randn(4,4)#产生4行4列随机数,注意和zeros，ones区分 
<br> np.where(arrc&gt;0,2,-2)#arr元素中大于0的赋值为2，小于0的赋值为-2 
<br> arr=np.arange(16).reshape((2,8))#产生5行4列随机数 
<br> arr.mean()#数据均值 
<br> np.mean(arr)#数据均值 
<br> arr.sum()#数组和 
<br> np.sum(arr)#数组和 
<br> arr.sum(axis=0)#按列求和 
<br> arr.sum(axis=1)#按行求和 
<br> np.sum(arr,axis=1)#按行求和 
<br> arr=np.array([[0,1,2],[3,4,5],[6,7,8]]) 
<br> arr=np.random.randn(8) 
<br> arr.sort()#数据排序，对arr变化，此时arr为排序好的数据 
<br> arr=np.random.randn(5,3) 
<br> arr.sort(1)#多维数组可以对轴进行排序，0按行排序，1按列排序，修改后arr发生变化 
<br> np.sort(arr,0)#arr按行排序，arr本身不发生变化 
<br> large_arr=np.random.randn(1000)#产生1000个随机数 
<br> large_arr.sort() 
<br> large_arr[(int(0.05*len(large_arr)))]#5%分位数 
<br> names=np.array(['bob','joe','will','bob','will','joe','joe']) 
<br> np.unique(names)#唯一字符 
<br> sorted(set(names))#唯一字符 
<br> values=np.array([6,0,0,3,2,5,6]) 
<br> np.in1d(values,[2,3,6])#value中的每一个值是否在[2,3,6]中，如果是，该值返回true,否则返回false.返回bool值 
<br> np.in1d([2,3,6],values)#[2,3,6]中的值是否在#value中，返回bool值(T,T,T) 
<br> x=np.array([1,2,7,6,3]) 
<br> y=np.array([2,4,8,3,9,7,7]) 
<br> 
<br> 
<br> np.intersect1d(x,y)#返回x和y中的公共元素，并返回有序结构 
<br> np.union1d(x,y)#计算x,y的并集（无重复），并返回有序据结果过 
<br> np.in1d(x,y)#x的每一个元素是否包含再y中，bool 
<br> np.setdiff1d(x,y)#集合的差，即在x中且不在y中 
<br> np.setxor1d(x,y)#集合对称差，“异或”，即存在与一个数组中，但不同时在两个数组中，并-交 
<br> '''numpy可以去写磁盘上的二进制数据或文本数据，pandas能将表格型读取到内存''' 
<br> '''np.save,np.load用于读写磁盘数据。''' 
<br> arr=np.arange(10) 
<br> np.save('some_arr',arr)#保存文件 
<br> np.load("some_arr.npy")#读取磁盘保存数据 
<br> arr2=np.arange(-5,5,0.1) 
<br> np.savez('arr_ar.npz',a=arr,b=arr2)#多个数组已压缩文件的形式保存，以关键字形式存入 
<br> ach=np.load("arr_ar.npz")#加载压缩文件式数组，得到类似字典的对象， 
<br> ach['a']#调取字典名字查看数据 
<br> arr=np.loadtxt("code_public.txt",delimiter=',')#读取文本数据 
<br> arrc=np.loadtxt("d:\code\code_public.txt",delimiter=',')#读取d盘数据 
<br> x=np.array([[1,2,3],[4,5,6]]) 
<br> y=np.array([[6,23],[-1,7],[8,9]]) # 
<br> x.dot(y)##矩阵x与y相乘 
<br> samples=np.random.normal(size=(4,4))#产生4维正态分布矩阵 
<br> from numpy.linalg import *#计算与举证相关，行列式，矩阵的逆等 
<br> np.linalg.det(samples)#矩阵行列式 
<br> np.linalg.inv(samples)#矩阵求逆 
<br> np.diag(samples)#返回矩阵对角线元素 
<br> np.linalg.eig(samples)#返回矩阵特征值和特征向量 
<br> import timeit #导入计算时间的模块 
<br> 
<br> 
<br> timeit np.random.normal(size=2)#必须写明size，产生正态分布的2个随机数 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/42f81168031a1a71d64d995aabc387a2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mac使用ngrok将本地Web服务映射到外网</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/89a50bb51a25599861469b36b6d15e0f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c程序多次调用python脚本的正确打开模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>