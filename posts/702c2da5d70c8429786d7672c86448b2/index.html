<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java项目实战--瑞吉外卖DAY01 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java项目实战--瑞吉外卖DAY01" />
<meta property="og:description" content="20240114
跟着黑马学习瑞吉外卖项目
DAY1数据库环境搭建 导入数据库
表含义
MAVEN项目搭建 检查maven配置
jre
sdk 1.8
pom设置
&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.4.5&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; 依赖加入
pom.xml parent爆红解决：idea导入项目爆红问题记录以及解决_java_脚本之家
resource导入
server: port: 8080 //启动时tomcat端口号 spring: application: #启动时应用的名称，若不配置默认使用工程名 name: reggie_take_out datasource: druid: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true username: root password: root mybatis-plus: configuration: #address_book-----&gt;&gt; AddressBook #user_name-----&gt;&gt;userName #在映射实体或者属性时，将数据库中表名和字段名中的下划线去掉，按照驼峰命名法映射 map-underscore-to-camel-case: true log-impl: org.apache.ibatis.logging.stdout.StdOutImpl global-config: db-config: id-type: ASSIGN_ID //主键生成策略 创建启动类
创建启动类：
package com.itheima.reggie; import lombok.extern.slf4j.Slf4j; import org.springframework.boot.SpringApplication; import org." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/702c2da5d70c8429786d7672c86448b2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T23:12:18+08:00" />
<meta property="article:modified_time" content="2024-01-24T23:12:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java项目实战--瑞吉外卖DAY01</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3></h3> 
<p>20240114</p> 
<p>跟着黑马学习瑞吉外卖项目</p> 
<p><img alt="" height="165" src="https://images2.imgbox.com/ba/bc/6WsbIImb_o.png" width="193"></p> 
<h3>DAY1数据库环境搭建</h3> 
<p></p> 
<p><img alt="" height="399" src="https://images2.imgbox.com/57/72/50qsBMQb_o.png" width="456"></p> 
<p></p> 
<p><img alt="" height="131" src="https://images2.imgbox.com/2c/42/mrDJ9Ymg_o.png" width="685"></p> 
<p>导入数据库</p> 
<p><img alt="" height="555" src="https://images2.imgbox.com/9b/b2/TNxhJKkn_o.png" width="625"></p> 
<p></p> 
<p></p> 
<p>表含义</p> 
<p></p> 
<p><img alt="" height="872" src="https://images2.imgbox.com/09/0e/CRdVSrGL_o.png" width="1082"></p> 
<p></p> 
<h3>MAVEN项目搭建</h3> 
<p></p> 
<p><img alt="" height="633" src="https://images2.imgbox.com/ed/f2/RavtbHSD_o.png" width="818"></p> 
<p></p> 
<p>检查maven配置</p> 
<p><img alt="" height="721" src="https://images2.imgbox.com/54/3f/0TQCjOcR_o.png" width="998"></p> 
<p>jre</p> 
<p><img alt="" height="752" src="https://images2.imgbox.com/75/6d/eYsYXWxH_o.png" width="1200"></p> 
<p>sdk 1.8</p> 
<p><img alt="" height="853" src="https://images2.imgbox.com/2f/8f/SDUMdKHe_o.png" width="1040"></p> 
<p></p> 
<p>pom设置</p> 
<pre>&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.4.5&lt;/version&gt;
    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
&lt;/parent&gt;</pre> 
<p><img alt="" height="169" src="https://images2.imgbox.com/f6/84/nk8DhtdS_o.png" width="550"></p> 
<p>依赖加入</p> 
<p>pom.xml parent爆红解决：<a href="https://www.jb51.net/program/2923947o3.htm" rel="nofollow" title="idea导入项目爆红问题记录以及解决_java_脚本之家">idea导入项目爆红问题记录以及解决_java_脚本之家</a></p> 
<p><img alt="" height="1025" src="https://images2.imgbox.com/7f/98/K5sxyhLw_o.jpg" width="1200"></p> 
<p></p> 
<p>resource导入</p> 
<p><img alt="" height="205" src="https://images2.imgbox.com/51/df/VWV0P3dX_o.png" width="646"></p> 
<pre><code class="language-java">server:
  port: 8080    //启动时tomcat端口号
spring:
  application:
#启动时应用的名称，若不配置默认使用工程名
    name: reggie_take_out   
  datasource:
    druid:
      driver-class-name: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true
      username: root
      password: root
mybatis-plus:
  configuration:
    #address_book-----&gt;&gt; AddressBook
    #user_name-----&gt;&gt;userName
    #在映射实体或者属性时，将数据库中表名和字段名中的下划线去掉，按照驼峰命名法映射
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      id-type: ASSIGN_ID     //主键生成策略</code></pre> 
<p></p> 
<p>创建启动类</p> 
<p><img alt="" height="80" src="https://images2.imgbox.com/3b/9f/TYKI3i9j_o.png" width="483"></p> 
<p></p> 
<p>创建启动类：</p> 
<pre><code class="language-java">package com.itheima.reggie;


import lombok.extern.slf4j.Slf4j;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

//日志   添加后可以直接使用log变量   log.info() 表示输出日志
@Slf4j
@SpringBootApplication
public class RiggieApplication {
    public static void main(String[] args) {
        SpringApplication.run(RiggieApplication.class,args);
        log.info("项目启动成功");
    }
}
</code></pre> 
<p>启动成功截图：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/de/c1/ciqGv3bl_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p>前端资料导入</p> 
<p><img alt="" height="272" src="https://images2.imgbox.com/4a/02/nYgX8sNI_o.png" width="939"></p> 
<p><img alt="" height="289" src="https://images2.imgbox.com/83/6d/oQEbIMjN_o.png" width="1150"></p> 
<p></p> 
<p>需要设置静态资源映射，不然无法访问页面。告诉MVC框架，这两个目录下就是静态资源</p> 
<p><img alt="" height="427" src="https://images2.imgbox.com/dc/86/D8gsCzRe_o.png" width="1068"></p> 
<p>重写addResourceHandlers方法</p> 
<pre><code class="language-java">package com.itheima.reggie.config;

import lombok.extern.slf4j.Slf4j;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;

@Slf4j
@Configuration
public class WebMvcConfig extends WebMvcConfigurationSupport {
    /**
     * 设置静态资源映射
     * @param registry
     */
    @Override
    protected void addResourceHandlers(ResourceHandlerRegistry registry) {
//        super.addResourceHandlers(registry);
        log.info("开始进行静态资源映射...");
        registry.addResourceHandler("/backend/**").addResourceLocations("classpath:/backend/");
        registry.addResourceHandler("/front/**").addResourceLocations("classpath:/front/");
    }

}
</code></pre> 
<p>启动效果图</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/e7/84/t4XbNLCz_o.png" width="1200"></p> 
<p></p> 
<p>访问图</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8b/9b/DAn6IAv9_o.png" width="1200"></p> 
<h3>后台系统登录功能</h3> 
<p></p> 
<p>点击登录按钮发请求-请求到服务端 control ler-调service   -service调mapper -mapper和数据库交互根据用户名密码进行查询</p> 
<p><a href="http://localhost:8080/backend/page/login/login.html" rel="nofollow" title="http://localhost:8080/backend/page/login/login.html">http://localhost:8080/backend/page/login/login.html</a></p> 
<p><img alt="" height="929" src="https://images2.imgbox.com/a6/4b/RZ9Qt0td_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p></p> 
<p>login.html              这三个需要后端给前端相应对应的json数据</p> 
<p><img alt="" height="835" src="https://images2.imgbox.com/91/90/pAOZtvxq_o.png" width="1200"></p> 
<h4>P8后台系统登录功能_代码开发（创建controller，mapper，service，impl，实体类）</h4> 
<p><img alt="" height="616" src="https://images2.imgbox.com/d4/63/daGVpAYo_o.png" width="886"></p> 
<p></p> 
<p>创建包</p> 
<p><img alt="" height="491" src="https://images2.imgbox.com/62/64/qo27FZf3_o.png" width="407"></p> 
<p></p> 
<p><img alt="" height="839" src="https://images2.imgbox.com/b4/1a/E3IsNaVg_o.png" width="1200"></p> 
<p>创建EmployeeMapper</p> 
<p><img alt="" height="549" src="https://images2.imgbox.com/a3/46/0xFpwoB2_o.png" width="365"></p> 
<pre><code class="language-java">package com.itheima.reggie.mapper;

import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import com.itheima.reggie.entity.Employee;
import org.apache.ibatis.annotations.Mapper;

@Mapper
public interface EmployeeMapper extends BaseMapper&lt;Employee&gt; {
}
</code></pre> 
<p>创建EmployeeService</p> 
<p><img alt="" height="643" src="https://images2.imgbox.com/9b/82/ozQYRpel_o.png" width="973"></p> 
<pre><code class="language-java">package com.itheima.reggie.service;

import com.baomidou.mybatisplus.extension.service.IService;
import com.itheima.reggie.entity.Employee;

public interface EmployeeService extends IService&lt;Employee&gt; {
}
</code></pre> 
<p></p> 
<p>创建EmployeeServiceImpl</p> 
<p><img alt="" height="721" src="https://images2.imgbox.com/d9/f0/FHY2TLru_o.png" width="1200"></p> 
<pre><code class="language-java">package com.itheima.reggie.service.impl;

import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.itheima.reggie.entity.Employee;
import com.itheima.reggie.mapper.EmployeeMapper;
import com.itheima.reggie.service.EmployeeService;
import org.springframework.stereotype.Service;

@Service
public class EmployeeServiceImpl extends ServiceImpl&lt;EmployeeMapper, Employee&gt; implements EmployeeService {
}
</code></pre> 
<p></p> 
<p>创建EmployeeController</p> 
<p><img alt="" height="699" src="https://images2.imgbox.com/d2/5c/w37na6VE_o.png" width="1000"></p> 
<pre><code class="language-java">package com.itheima.reggie.controller;


import com.itheima.reggie.service.EmployeeService;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@Slf4j
@RestController
@RequestMapping("/employee")
public class EmployeeController {
    @Autowired
    private EmployeeService employeeService;

}
</code></pre> 
<p>P9后台系统登录功能_代码开发（导入通用返回结果类）</p> 
<p>r类</p> 
<p><img alt="" height="273" src="https://images2.imgbox.com/56/ab/TrqgsFc3_o.png" width="962"></p> 
<p></p> 
<p></p> 
<p><img alt="" height="672" src="https://images2.imgbox.com/b2/98/PeN5YFJz_o.png" width="914"></p> 
<p></p> 
<p></p> 
<pre><code class="language-java">package com.itheima.reggie.common;

import lombok.Data;
import java.util.HashMap;
import java.util.Map;

/**
 * 通用返回结果,服务的相应的数据最终都会封装成此对象
 * @param &lt;T&gt;
 */

@Data
public class R&lt;T&gt; {

    private Integer code; //编码：1成功，0和其它数字为失败

    private String msg; //错误信息

    private T data; //数据

    private Map map = new HashMap(); //动态数据

    /**
     * 返回成功时返回R对象
     * @param object
     * @param &lt;T&gt;
     * @return
     */
    public static &lt;T&gt; R&lt;T&gt; success(T object) {
        R&lt;T&gt; r = new R&lt;T&gt;();
        r.data = object;
        r.code = 1;
        return r;
    }

    /**
     * 失败时候反馈msg
     * @param msg
     * @param &lt;T&gt;
     * @return
     */
    public static &lt;T&gt; R&lt;T&gt; error(String msg) {
        R r = new R();
        r.msg = msg;
        r.code = 0;
        return r;
    }

    /**
     * map操作动态数据,等用到时再说
     * @param key
     * @param value
     * @return
     */
    public R&lt;T&gt; add(String key, Object value) {
        this.map.put(key, value);
        return this;
    }

}
</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h4>P10后台系统登录功能_代码开发（梳理登陆方法处理逻辑）</h4> 
<p>编写登录接口</p> 
<p></p> 
<p><img alt="" height="926" src="https://images2.imgbox.com/31/81/qvcmk7Xp_o.png" width="1200"></p> 
<p>P11后台系统登录功能_代码开发（实现登陆处理逻辑）</p> 
<pre><code class="language-java">package com.itheima.reggie.controller;


import com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;
import com.itheima.reggie.common.R;
import com.itheima.reggie.entity.Employee;
import com.itheima.reggie.service.EmployeeService;
import lombok.extern.slf4j.Slf4j;
import lombok.val;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.util.DigestUtils;
import org.springframework.web.bind.annotation.PatchMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import javax.servlet.http.HttpServletRequest;

@Slf4j
@RestController
@RequestMapping("/employee")
public class EmployeeController {
    @Autowired
    private EmployeeService employeeService;


    /**
     *员工登录
     */
    @PostMapping("/login")
    public R&lt;Employee&gt; login(HttpServletRequest request, @RequestBody Employee employee){

        /**
         * 1、将页面提交的密码password进行md5加密处理
         * 2、根据页面提交的用户名username查询数据库
         * 3、如果没有查询到则返回登录失败结果
         * 4、密码比对，如果不一致则返回登录失败结果
         * 5、查看员工状态，如果为已禁用状态，则返回员工已禁用结果
         * 6、登录成功，将员工id存入Session并返回登录成功结果
         */

        //         * 1、将页面提交的密码password进行md5加密处理
        String password = employee.getPassword();
        password = DigestUtils.md5DigestAsHex(password.getBytes());

        //           * 2、根据页面提交的用户名username查询数据库
        LambdaQueryWrapper&lt;Employee&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();
        queryWrapper.eq(Employee::getUsername,employee.getUsername());
        Employee emp = employeeService.getOne(queryWrapper);
        //     * 3、如果没有查询到则返回登录失败结果
        if (emp==null){
            return R.error("登陆失败");
        }


        //       * 4、密码比对，如果不一致则返回登录失败结果
        if(!emp.getPassword().equals(password)){
        return R.error("登陆失败");
        }

        // * 5、查看员工状态，如果为已禁用状态，则返回员工已禁用结果
        if(emp.getStatus() == 0){
            return R.error("账号已禁用");

        }

        // * 6、登录成功，将员工id存入Session并返回登录成功结果
        request.getSession().setAttribute("employee",emp.getId());
        return R.success(emp);
    }
}
</code></pre> 
<h4>P12后台系统登录功能_功能测试</h4> 
<p></p> 
<p>一直报错500，数据库名称在pom.xml里修改也能没问题</p> 
<p>后来发现是NAVCAT里创建的数据库前面有个空格导致的。</p> 
<p></p> 
<h4>P13后台系统退出功能_需求分期分析&amp;代码开发&amp;功能测试</h4> 
<p><img alt="" height="431" src="https://images2.imgbox.com/d9/af/fQ4LfsL7_o.png" width="644"></p> 
<p></p> 
<p></p> 
<p><img alt="" height="219" src="https://images2.imgbox.com/ec/7d/DiyfFYsT_o.png" width="808"></p> 
<p>页面创建时 VUE的钩子函数created（） 获取到userinfo</p> 
<p><img alt="" height="473" src="https://images2.imgbox.com/05/51/Hp36lKQW_o.png" width="703"></p> 
<p></p> 
<p>localstorege</p> 
<p><img alt="" height="547" src="https://images2.imgbox.com/36/76/Gg3VYc5g_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p>点击退出按钮，前端页面发生ajx请求</p> 
<p></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/7e/65/1aNV0Dnw_o.png" width="1200"></p> 
<p></p> 
<p>后端编写controller接受这个请求</p> 
<p><img alt="" height="271" src="https://images2.imgbox.com/bf/74/qb2PQCJG_o.png" width="731"></p> 
<p></p> 
<pre><code class="language-java">/**
     * 员工退出
     * @param request
     * @return
     */
    @PostMapping("logout")
    public R&lt;String&gt; logout(HttpServletRequest request){
        //清理Session中保存的当前登陆员工的id
        request.getSession().removeAttribute("employee");
        return R.success("退出成功");
    }</code></pre> 
<h4>P14分析后台系统</h4> 
<p>el-menu菜单</p> 
<p>遍历</p> 
<p><img alt="" height="228" src="https://images2.imgbox.com/f9/4c/hHmRL2Y8_o.png" width="860"></p> 
<p></p> 
<p>切换页面的地址</p> 
<p><img alt="" height="286" src="https://images2.imgbox.com/0f/53/t3AQwIEX_o.png" width="519"></p> 
<p>持续更新分享-------------------------------------------------------------------------------------</p> 
<p>day02链接:</p> 
<p><a href="https://blog.csdn.net/Fxdll/article/details/135589036?spm=1001.2014.3001.5502" title="Java项目实战--瑞吉外卖DAY02-CSDN博客">Java项目实战--瑞吉外卖DAY02-CSDN博客</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3ccf12c916bcf5ed52086ae5f9ed5b85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mysql的基本操作详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0482a2d7f2d90623593d19b2195b60b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">web蓝桥杯真题--13、水果摆盘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>