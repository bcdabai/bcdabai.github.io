<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【鸿蒙软件开发】ArkUI容器组件之Grid(网格布局) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【鸿蒙软件开发】ArkUI容器组件之Grid(网格布局)" />
<meta property="og:description" content="文章目录 前言一、Grid1.1 子组件GridItem是什么子组件接口属性事件示例代码 1.2 接口参数 1.3 属性1.4 Grid的几种布局模式1.5 GridDirection枚举说明1.6事件ItemDragInfo对象说明 1.7 示例代码 总结 前言 Grid容器组件：网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。
一、Grid 网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。
说明
该组件从API Version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。
1.1 子组件 包含GridItem子组件。
说明
Grid子组件的索引值计算规则：
按子组件的顺序依次递增。
if/else语句中，只有条件成立分支内的子组件会参与索引值计算，条件不成立分支内的子组件不计算索引值。
ForEach/LazyForEach语句中，会计算展开所有子节点索引值。
if/else/ForEach/LazyForEach发生变化以后，会更新子节点索引值。
Grid子组件的visibility属性设置为Hidden或None时依然会计算索引值。
Grid子组件的visibility属性设置为None时不显示，但依然会占用子组件对应的网格。
Grid子组件设置position属性，会占用子组件对应的网格，子组件将显示在相对Grid左上角偏移position的位置。该子组件不会随其对应网格滚动，在对应网格滑出Grid显示范围外后不显示。
GridItem是什么 网格容器中单项内容容器。
说明
该组件从API Version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。
子组件 可以包含子组件。
接口 使用下面这个即可创建一个GridItem了，他没有参数
GridItem() 属性 名称: rowStart
参数类型: number
描述: 指定当前元素的起始行号。
名称: rowEnd
参数类型: number
描述: 指定当前元素的终点行号。
名称: columnStart
参数类型: number
描述: 指定当前元素的起始列号。
名称: columnEnd
参数类型: number
描述: 指定当前元素的终点列号。
名称: forceRebuild (已废弃)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7300306cecf1a00b83549da665805d0d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-07T08:00:00+08:00" />
<meta property="article:modified_time" content="2023-11-07T08:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【鸿蒙软件开发】ArkUI容器组件之Grid(网格布局)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_5" rel="nofollow">前言</a></li><li><a href="#Grid_11" rel="nofollow">一、Grid</a></li><li><ul><li><a href="#11__17" rel="nofollow">1.1 子组件</a></li><li><ul><li><a href="#GridItem_31" rel="nofollow">GridItem是什么</a></li><li><ul><li><a href="#_37" rel="nofollow">子组件</a></li><li><a href="#_40" rel="nofollow">接口</a></li><li><a href="#_46" rel="nofollow">属性</a></li><li><a href="#_81" rel="nofollow">事件</a></li><li><a href="#_88" rel="nofollow">示例代码</a></li></ul> 
   </li></ul> 
   </li><li><a href="#12__145" rel="nofollow">1.2 接口</a></li><li><ul><li><a href="#_153" rel="nofollow">参数</a></li></ul> 
   </li><li><a href="#13__162" rel="nofollow">1.3 属性</a></li><li><a href="#14_Grid_225" rel="nofollow">1.4 Grid的几种布局模式</a></li><li><a href="#15_GridDirection_251" rel="nofollow">1.5 GridDirection枚举说明</a></li><li><a href="#16_273" rel="nofollow">1.6事件</a></li><li><ul><li><a href="#ItemDragInfo_330" rel="nofollow">ItemDragInfo对象说明</a></li></ul> 
   </li><li><a href="#17__341" rel="nofollow">1.7 示例代码</a></li></ul> 
  </li><li><a href="#_413" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_5"></a>前言</h2> 
<p>Grid容器组件：网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。</p> 
<hr> 
<h2><a id="Grid_11"></a>一、Grid</h2> 
<p>网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。</p> 
<p>说明<br> 该组件从API Version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p> 
<h3><a id="11__17"></a>1.1 子组件</h3> 
<p>包含GridItem子组件。</p> 
<p>说明<br> Grid子组件的索引值计算规则：</p> 
<p>按子组件的顺序依次递增。<br> if/else语句中，只有条件成立分支内的子组件会参与索引值计算，条件不成立分支内的子组件不计算索引值。<br> ForEach/LazyForEach语句中，会计算展开所有子节点索引值。<br> if/else/ForEach/LazyForEach发生变化以后，会更新子节点索引值。<br> Grid子组件的visibility属性设置为Hidden或None时依然会计算索引值。<br> Grid子组件的visibility属性设置为None时不显示，但依然会占用子组件对应的网格。<br> Grid子组件设置position属性，会占用子组件对应的网格，子组件将显示在相对Grid左上角偏移position的位置。该子组件不会随其对应网格滚动，在对应网格滑出Grid显示范围外后不显示。</p> 
<h4><a id="GridItem_31"></a>GridItem是什么</h4> 
<p>网格容器中单项内容容器。</p> 
<p>说明<br> 该组件从API Version 7开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。</p> 
<h5><a id="_37"></a>子组件</h5> 
<p>可以包含子组件。</p> 
<h5><a id="_40"></a>接口</h5> 
<p>使用下面这个即可创建一个GridItem了，他没有参数</p> 
<pre><code class="prism language-javascript"><span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_46"></a>属性</h5> 
<p>名称: rowStart<br> 参数类型: number<br> 描述: 指定当前元素的起始行号。</p> 
<p>名称: rowEnd<br> 参数类型: number<br> 描述: 指定当前元素的终点行号。</p> 
<p>名称: columnStart<br> 参数类型: number<br> 描述: 指定当前元素的起始列号。</p> 
<p>名称: columnEnd<br> 参数类型: number<br> 描述: 指定当前元素的终点列号。</p> 
<p>名称: forceRebuild (已废弃)<br> 参数类型: boolean<br> 描述: 设置在触发组件构建时是否重新创建此节点。从API version 9开始，该选项已被废弃。GridItem会根据自身属性和子组件的变化自行决定是否需要重新创建，无需设置。默认值为false。</p> 
<p>名称: selectable<br> 参数类型: boolean<br> 描述: 指定当前GridItem元素是否可以被鼠标框选。需要注意，外层Grid容器的鼠标框选必须开启，GridItem的框选才会生效。默认值为true。</p> 
<p>说明<br> 起始行号、终点行号、起始列号、终点列号生效规则如下：</p> 
<p>rowStart/rowEnd合理取值范围为0<sub>总行数-1，columnStart/columnEnd合理取值范围为0</sub>总列数-1。<br> 只有在设置columnTemplate和rowTemplate的Grid中，设置合理的rowStart/rowEnd/columnStart/columnEnd四个属性的GridItem才能按照指定的行列号布局。<br> 在设置columnTemplate和rowTemplate的Grid中，单独设置行号rowStart/rowEnd或列号columnStart/columnEnd的GridItem会占用指定的行数(rowEnd-rowStart+1)或列数(columnEnd-columnStart+1)。<br> 在只设置columnTemplate的Grid中设置列号columnStart/columnEnd的GridItem按照指定的列数布局。<br> 在只设置rowTemplate的Grid中设置行号rowStart/rowEnd的GridItem按照指定的行数布局。<br> columnTemplate和rowTemplate都不设置的Grid中GridItem的行列号属性无效。</p> 
<h5><a id="_81"></a>事件</h5> 
<p>GridItem元素被鼠标框选的状态改变时触发下面这个回调函数。</p> 
<pre><code class="prism language-javascript"><span class="token function">onSelect</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">isSelected</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p>isSelected：进入鼠标框选范围即被选中返回true， 移出鼠标框选范围即未被选中返回false。</p> 
<h5><a id="_88"></a>示例代码</h5> 
<pre><code class="prism language-javascript"><span class="token comment">// xxx.ets</span>
@Entry
@Component
struct GridItemExample <span class="token punctuation">{<!-- --></span>
  @State numbers<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xFAEEE0</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">rowStart</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rowEnd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">columnStart</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">columnEnd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 同时设置合理的行列号</span>

        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xF9CF93</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">)</span>

        <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xDBD0C0</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">columnStart</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">columnEnd</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// 只设置列号，不会从第1列开始布局</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span><span class="token function">columnsTemplate</span><span class="token punctuation">(</span><span class="token string">'1fr 1fr 1fr 1fr 1fr'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">rowsTemplate</span><span class="token punctuation">(</span><span class="token string">'1fr 1fr 1fr 1fr 1fr'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'90%'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/30/dc/b703g9KE_o.png" alt="在这里插入图片描述"></p> 
<p>我们主要需要理解他这些属性的含义，我们可以通过图片来了解。如下：<br> <img src="https://images2.imgbox.com/12/8c/7cmDREZs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12__145"></a>1.2 接口</h3> 
<p>我们使用下面这个接口，可以创建一个Grid布局</p> 
<pre><code class="prism language-javascript"><span class="token function">Grid</span><span class="token punctuation">(</span>scroller<span class="token operator">?</span><span class="token operator">:</span> Scroller<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/39/be/eojqBVOc_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_153"></a>参数</h4> 
<p>参数名：scroller<br> 参数类型：Scroller<br> 是否需要填写：否<br> 作用：可滚动组件的控制器。用于与可滚动组件进行绑定。</p> 
<p>说明：<br> 不允许和其他滚动类组件绑定同一个滚动控制对象。</p> 
<h3><a id="13__162"></a>1.3 属性</h3> 
<p>除支持通用属性外，还支持以下属性：</p> 
<p>名称: columnsTemplate<br> 参数类型: string<br> 描述: 设置当前网格布局的列数，不设置时默认为1列。例如，‘1fr 1fr 2fr’ 表示将父组件分成3列，将父组件允许的宽度分为4等份，其中第一列占1份，第二列占1份，第三列占2份。如果设置为’0fr’，则该列的宽度为0，GridItem不会显示。如果设置为其他非法值，GridItem会显示为固定1列。</p> 
<p>名称: rowsTemplate<br> 参数类型: string<br> 描述: 设置当前网格布局的行数，不设置时默认为1行。例如，‘1fr 1fr 2fr’ 表示将父组件分成3行，将父组件允许的高度分为4等份，其中第一行占1份，第二行占1份，第三行占2份。如果设置为’0fr’，则该行的高度为0，GridItem不会显示。如果设置为其他非法值，GridItem会显示为固定1行。</p> 
<p>名称: columnsGap<br> 参数类型: Length<br> 描述: 设置列与列之间的间距。默认值为0。如果设置为小于0的值，将按默认值显示。</p> 
<p>名称: rowsGap<br> 参数类型: Length<br> 描述: 设置行与行之间的间距。默认值为0。如果设置为小于0的值，将按默认值显示。</p> 
<p>名称: scrollBar<br> 参数类型: BarState<br> 描述: 设置滚动条的状态。默认值为BarState.Off。</p> 
<p>名称: scrollBarColor<br> 参数类型: string | number | Color<br> 描述: 设置滚动条的颜色。</p> 
<p>名称: scrollBarWidth<br> 参数类型: string | number<br> 描述: 设置滚动条的宽度。宽度设置后，滚动条的正常状态和按压状态的宽度均为指定的宽度值。默认值为4vp。</p> 
<p>名称: cachedCount<br> 参数类型: number<br> 描述: 设置预加载的GridItem的数量，仅在LazyForEach中生效。默认值为1。设置缓存后，会在Grid的显示区域上下各缓存cachedCount * 列数个GridItem。LazyForEach超出显示和缓存范围的GridItem会被释放。</p> 
<p>名称: editMode<br> 参数类型: boolean<br> 描述: 设置Grid是否进入编辑模式，允许拖拽Grid组件内部的GridItem。默认值为false。</p> 
<p>名称: layoutDirection (8+)<br> 参数类型: GridDirection<br> 描述: 设置布局的主轴方向。默认值为GridDirection.Row。</p> 
<p>名称: maxCount (8+)<br> 参数类型: number<br> 描述: 当layoutDirection是Row/RowReverse时，表示可显示的最大列数；当layoutDirection是Column/ColumnReverse时，表示可显示的最大行数。默认值为Infinity。</p> 
<p>名称: minCount (8+)<br> 参数类型: number<br> 描述: 当layoutDirection是Row/RowReverse时，表示可显示的最小列数；当layoutDirection是Column/ColumnReverse时，表示可显示的最小行数。默认值为1。</p> 
<p>名称: cellLength<br> 参数类型: number<br> 描述: 当layoutDirection是Row/RowReverse时，表示一行的高度；当layoutDirection是Column/ColumnReverse时，表示一列的宽度。默认值为第一个元素的大小。</p> 
<p>名称: multiSelectable<br> 参数类型: boolean<br> 描述: 是否开启鼠标框选。默认值为false，其中false表示关闭框选，true表示开启框选。</p> 
<p>名称: supportAnimation<br> 参数类型: boolean<br> 描述: 是否支持动画。目前支持GridItem的拖拽动画。默认值为false。</p> 
<h3><a id="14_Grid_225"></a>1.4 Grid的几种布局模式</h3> 
<p>Grid组件根据rowsTemplate、columnsTemplate属性的设置情况，可分为以下三种布局模式：</p> 
<p>rowsTemplate、columnsTemplate同时设置：<br> Grid只展示固定行列数的元素，其余元素不展示，且Grid不可滚动。<br> 此模式下以下属性不生效：layoutDirection、maxCount、minCount、cellLength。<br> Grid的宽高没有设置时，默认适应父组件尺寸。<br> Gird网格列大小按照Gird自身内容区域大小减去所有行列Gap后按各个行列所占比重分配。<br> GridItem默认填满网格大小。</p> 
<p>rowsTemplate、columnsTemplate仅设置其中的一个：<br> 元素按照设置的方向进行排布，超出Grid显示区域后，Grid可通过滚动的方式展示。<br> 如果设置了columnsTemplate，Gird滚动方向为垂直方向，主轴方向为垂直方向，交叉轴方向为水平方向。<br> 如果设置了rowsTemplate，Gird滚动方向为水平方向，主轴方向为水平方向，交叉轴方向为垂直方向。<br> 此模式下以下属性不生效：layoutDirection、maxCount、minCount、cellLength。<br> 网格交叉轴方向尺寸根据Gird自身内容区域交叉轴尺寸减去交叉轴方向所有Gap后按所占比重分配。<br> 网格主轴方向尺寸取当前网格交叉轴方向所有GridItem高度最大值。</p> 
<p>rowsTemplate、columnsTemplate都不设置：<br> 元素在layoutDirection方向上排布，列数由Grid的宽度、首个元素的宽度、minCount、maxCount、columnsGap共同决定。<br> 行数由Grid高度、首个元素高度、cellLength、rowsGap共同决定。超出行列容纳范围的元素不显示，也不能通过滚动进行展示。<br> 此模式下仅生效以下属性：layoutDirection、maxCount、minCount、cellLength、editMode、columnsGap、rowsGap。<br> 当前layoutDirection设置为Row时，先从左到右排列，排满一行再排一下一列。剩余高度不足时不再布局，整体内容顶部居中。<br> 当前layoutDirection设置为Column时，先从上到下排列，排满一列再排一下一列，剩余宽度度不足时不再。整体内容顶部居中。</p> 
<h3><a id="15_GridDirection_251"></a>1.5 GridDirection枚举说明</h3> 
<p>Row（行）：<br> 描述：主轴布局方向沿水平方向布局，即自左往右先填满一行，再去填下一行。<br> 布局方向：水平方向</p> 
<p>Column（列）：<br> 描述：主轴布局方向沿垂直方向布局，即自上往下先填满一列，再去填下一列。<br> 布局方向：垂直方向</p> 
<p>RowReverse（反向行）：<br> 描述：主轴布局方向沿水平方向反向布局，即自右往左先填满一行，再去填下一行。<br> 布局方向：水平方向，反向</p> 
<p>ColumnReverse（反向列）：</p> 
<p>描述：主轴布局方向沿垂直方向反向布局，即自下往上先填满一列，再去填下一列。<br> 布局方向：垂直方向，反向<br> 这些描述指导了布局中元素在主轴方向上的排列方式，可以帮助你更好地理解和使用它们。</p> 
<p>说明<br> Grid组件通用属性clip的默认值为true。</p> 
<h3><a id="16_273"></a>1.6事件</h3> 
<p>除支持通用事件外，还支持以下事件：</p> 
<p>1、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onScrollIndex</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">first</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/78/85/6f9JahOX_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当当前网格显示的起始位置的项目发生变化时触发此事件。</p> 
<p>2、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onItemDragStart</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> ItemDragInfo<span class="token punctuation">,</span> <span class="token literal-property property">itemIndex</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> any<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/a2/PzVMWTBQ_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当开始拖拽网格元素时触发此事件。函数返回值为 void 表示不允许拖拽。</p> 
<p>3、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onItemDragEnter</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> ItemDragInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/3e/w6DwlSyA_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当拖拽进入某个网格元素的范围时触发此事件。</p> 
<p>4、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onItemDragMove</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> ItemDragInfo<span class="token punctuation">,</span> <span class="token literal-property property">itemIndex</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">insertIndex</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/a4/mI1uqpGn_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当拖拽在某个网格元素的范围内移动时触发此事件。</p> 
<p>5、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onItemDragLeave</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> ItemDragInfo<span class="token punctuation">,</span> <span class="token literal-property property">itemIndex</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/43/d3/Pd4jKH6k_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当拖拽离开某个网格元素的范围时触发此事件。</p> 
<p>6、函数原型：</p> 
<pre><code class="prism language-javascript"><span class="token function">onItemDrop</span><span class="token punctuation">(</span><span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> ItemDragInfo<span class="token punctuation">,</span> <span class="token literal-property property">itemIndex</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">insertIndex</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">isSuccess</span><span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/1d/eb/z3NeseFj_o.png" alt="在这里插入图片描述"></p> 
<p>功能描述：当绑定了此事件的网格元素可作为拖拽释放目标，且拖拽在网格元素内停止时触发。</p> 
<h4><a id="ItemDragInfo_330"></a>ItemDragInfo对象说明</h4> 
<p>这个对象有下列这些成员：</p> 
<p>名称: x<br> 类型: number<br> 描述: 当前拖拽点的x坐标。</p> 
<p>名称: y<br> 类型: number<br> 描述: 当前拖拽点的y坐标。</p> 
<h3><a id="17__341"></a>1.7 示例代码</h3> 
<pre><code class="prism language-javascript"><span class="token comment">// xxx.ets</span>
@Entry
@Component
struct GridExample <span class="token punctuation">{<!-- --></span>
  @State Number<span class="token operator">:</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">]</span>
  <span class="token literal-property property">scroller</span><span class="token operator">:</span> Scroller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scroller</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">space</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Number<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">day</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Number<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">day</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token function">Text</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xF9CF93</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">day</span> <span class="token operator">=&gt;</span> day<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">day</span> <span class="token operator">=&gt;</span> day<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span><span class="token function">columnsTemplate</span><span class="token punctuation">(</span><span class="token string">'1fr 1fr 1fr 1fr 1fr'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">rowsTemplate</span><span class="token punctuation">(</span><span class="token string">'1fr 1fr 1fr 1fr 1fr'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">columnsGap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">rowsGap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'90%'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xFAEEE0</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>

      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontColor</span><span class="token punctuation">(</span><span class="token number">0xCCCCCC</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'90%'</span><span class="token punctuation">)</span>
      <span class="token function">Grid</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span><span class="token punctuation">.</span>scroller</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Number<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">day</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Number<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">day</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token function">Text</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xF9CF93</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">textAlign</span><span class="token punctuation">(</span>TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">day</span> <span class="token operator">=&gt;</span> day<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">day</span> <span class="token operator">=&gt;</span> day<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token punctuation">.</span><span class="token function">columnsTemplate</span><span class="token punctuation">(</span><span class="token string">'1fr 1fr 1fr 1fr 1fr'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">columnsGap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">rowsGap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onScrollIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">first</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>first<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'90%'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token number">0xFAEEE0</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>
      <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">'next page'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 点击后滑到下一页</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>scroller<span class="token punctuation">.</span><span class="token function">scrollPage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string">'100%'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">margin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f4/d3/OVP0MBtf_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_413"></a>总结</h2> 
<p>Grid容器组件：网格容器，由“行”和“列”分割的单元格所组成，通过指定“项目”所在的单元格做出各种各样的布局。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/80fadbda010cf34320c82036d1fc89b4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pytorch_神经网络构建5</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/97283e038c980be737b6a997687c9528/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">.Net8顶级性能优化:类型转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>