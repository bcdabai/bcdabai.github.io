<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python (6) - 图形化界面TKinter、TCP/IP - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python (6) - 图形化界面TKinter、TCP/IP" />
<meta property="og:description" content="python 基础知识学习
中间可能断了一篇；
参考：
图形界面tkinter 图形化界面 python 自带的图形界面库TKinter
# GUI TKinter from tkinter import * # 消息盒子 弹窗信息 import tkinter.messagebox as messagebox class Application(Frame): def __init__(self,master=None): Frame.__init__(self,master) self.pack() self.createWidgets() def createWidgets(self): # label 标签信息 self.helloLabel = Label(self,text=&#34;hello world&#34;) self.helloLabel.pack() # input 信息输入 self.getNameInput = Entry(self) self.getNameInput.pack() self.sureButton = Button(self,text=&#34;ok&#34;,command=self.welCome) self.sureButton.pack() self.quitButton = Button(self,text=&#34;Exit&#34;,command=self.quit) self.quitButton.pack() def welCome(self): name = self.getNameInput.get() or &#34;world&#34; messagebox.showinfo(&#34;Message&#34;,&#34;你好,%s&#34; % name) # 创建程序 app = Application() # 程序标题title app." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7bc7a42568b97b252bd50739ceadb712/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-26T17:17:47+08:00" />
<meta property="article:modified_time" content="2019-10-26T17:17:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python (6) - 图形化界面TKinter、TCP/IP</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>python 基础知识学习</p> 
</blockquote> 
<p>中间可能断了一篇；</p> 
<p>参考：</p> 
<ul><li><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017786914566560" rel="nofollow">图形界面</a></li><li><a href="https://docs.python.org/3.7/library/tkinter.html#module-tkinter" rel="nofollow">tkinter</a></li></ul> 
<h5><a id="_8"></a>图形化界面</h5> 
<p>python 自带的图形界面库<code>TKinter</code></p> 
<pre><code class="prism language-python"><span class="token comment"># GUI TKinter</span>
<span class="token keyword">from</span> tkinter <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token comment"># 消息盒子 弹窗信息</span>
<span class="token keyword">import</span> tkinter<span class="token punctuation">.</span>messagebox <span class="token keyword">as</span> messagebox

<span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>Frame<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>master<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        Frame<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>master<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>createWidgets<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">createWidgets</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># label 标签信息</span>
        self<span class="token punctuation">.</span>helloLabel <span class="token operator">=</span> Label<span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"hello world"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>helloLabel<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># input 信息输入</span>
        self<span class="token punctuation">.</span>getNameInput <span class="token operator">=</span> Entry<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>getNameInput<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>sureButton <span class="token operator">=</span> Button<span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>welCome<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>sureButton<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>quitButton <span class="token operator">=</span> Button<span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token operator">=</span><span class="token string">"Exit"</span><span class="token punctuation">,</span>command<span class="token operator">=</span>self<span class="token punctuation">.</span>quit<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>quitButton<span class="token punctuation">.</span>pack<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">welCome</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        name <span class="token operator">=</span> self<span class="token punctuation">.</span>getNameInput<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">or</span> <span class="token string">"world"</span>
        messagebox<span class="token punctuation">.</span>showinfo<span class="token punctuation">(</span><span class="token string">"Message"</span><span class="token punctuation">,</span><span class="token string">"你好,%s"</span> <span class="token operator">%</span> name<span class="token punctuation">)</span>
        
<span class="token comment"># 创建程序</span>
app <span class="token operator">=</span> Application<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 程序标题title</span>
app<span class="token punctuation">.</span>master<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"hello world"</span><span class="token punctuation">)</span>
<span class="token comment"># print(app.master.size)</span>
app<span class="token punctuation">.</span>master<span class="token punctuation">.</span>minsize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>mainloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><mark>说明：</mark></p> 
<ul><li>继承自<code>Frame</code>;初始化时需调用<code>Frame.__init__()</code>;</li><li><code>master</code>程序窗口控制，如标题、大小、位置等；</li><li>类似<code>Label</code>/<code>Button</code>/<code>Entry</code>都是界面的组件；</li><li><code>pack()</code>方法将定义的组件放到主程序上；<code>command</code>属性可绑定事件到按钮组件；</li><li><code>app.master.title()</code>定义程序窗口的标题；</li><li>消息盒子<code>messagebox</code>;</li></ul> 
<p>结果示例：<br> <img src="https://images2.imgbox.com/1d/96/pVuHnmxv_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_58"></a>自定义图形绘制</h5> 
<p>在打开的界面中，处理常规的界面组件，也可自定义绘制图像；内置<code>turtle</code>库</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">'''
绘制图形、turtle库
'''</span>
<span class="token keyword">import</span> turtle
<span class="token comment"># 中心点(0.00,0.00)为原点开始,指定点的位置</span>
turtle<span class="token punctuation">.</span>setpos<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># 回到原点</span>
turtle<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>color<span class="token punctuation">(</span><span class="token string">"red"</span><span class="token punctuation">,</span><span class="token string">"green"</span><span class="token punctuation">)</span>
<span class="token comment"># 绘制一个正方形,不调用填充</span>
num <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    turtle<span class="token punctuation">.</span>forward<span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span>
    turtle<span class="token punctuation">.</span>right<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span>
    num<span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> num<span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
<span class="token comment"># 绘制一个圆，调用填充、fill</span>
turtle<span class="token punctuation">.</span>begin_fill<span class="token punctuation">(</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>setpos<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>circle<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>end_fill<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 隐藏绘制图形中移动的光标</span>
turtle<span class="token punctuation">.</span>hideturtle<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 绘制一个文本</span>
turtle<span class="token punctuation">.</span>color<span class="token punctuation">(</span><span class="token string">"#2312fa"</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>setpos<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
turtle<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span>align<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>font<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"heiti"</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token string">"bold"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># turtle.write((0,0),True)</span>
turtle<span class="token punctuation">.</span>done<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><mark>说明：</mark></p> 
<ul><li><a href="https://docs.python.org/3.7/library/turtle.html#module-turtle" rel="nofollow">官网地址，API</a></li><li>最后的语句需要<code>turtle.done()</code> 不然页面绘制完图形会直接关闭</li></ul> 
<p>结果示例：<br> <img src="https://images2.imgbox.com/5a/ff/BRpXB1As_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="TCPIP_101"></a>TCP/IP</h5> 
<p><code>Tcp/Ip</code>协议互联网终端之间的桥梁；信息传输、共享；TCP是可靠连接；<br> 使用<code>socket</code>创建一个服务<code>server.py</code>；</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">'''
创建一个server，启动监听 8080 端口，
处理客户端过来的数据请求
'''</span>
<span class="token keyword">import</span> socket 
<span class="token comment"># 线程控制接口</span>
<span class="token keyword">import</span> threading
<span class="token comment"># 时间</span>
<span class="token keyword">import</span> time

<span class="token comment"># AF_INET 指定IPV4 ，SOCK_STREAM 指向面向流的TCP协议</span>
server <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>

<span class="token comment"># 指定绑定的IP地址、端口号</span>
server<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 启动监听 ; 可指定监听连接的最大连接数</span>
server<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># 定义处理连接的方法</span>
<span class="token keyword">def</span> <span class="token function">handleInfo</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span>addr<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"from:%s:%s"</span> <span class="token operator">%</span> addr<span class="token punctuation">)</span>
    sock<span class="token punctuation">.</span>send<span class="token punctuation">(</span>b<span class="token string">"hello!"</span><span class="token punctuation">)</span>
    <span class="token comment"># 等待接收客户端数据</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> sock<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token operator">not</span> data <span class="token operator">or</span> data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token string">"exit"</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"client: %s "</span> <span class="token operator">%</span> data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        sock<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"I get you ! %s"</span> <span class="token operator">%</span> data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    sock<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"the addr %s:%s closed"</span> <span class="token operator">%</span> addr<span class="token punctuation">)</span>
<span class="token comment"># 处理客户端的连接</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    sock<span class="token punctuation">,</span>addr <span class="token operator">=</span> server<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 没过来一个新的连接，创建一个线程来处理</span>
    child <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>handleInfo<span class="token punctuation">,</span>args<span class="token operator">=</span><span class="token punctuation">(</span>sock<span class="token punctuation">,</span>addr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    child<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>创建客户端<code>client.py</code></p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">'''
创建一个客户端程序，连接服务程序

'''</span>
<span class="token keyword">import</span> socket

<span class="token comment"># 创建</span>
client <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>

<span class="token comment"># 进行连接</span>
client<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 接收服务端的数据</span>
data <span class="token operator">=</span> client<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"get info: %s"</span> <span class="token operator">%</span> data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 发送一个数据 、 提交一个名称</span>
client<span class="token punctuation">.</span>send<span class="token punctuation">(</span>b<span class="token string">"admin"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"server: %s"</span> <span class="token operator">%</span> client<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 连接关闭 、发送关闭表示 exit</span>
client<span class="token punctuation">.</span>send<span class="token punctuation">(</span>b<span class="token string">'exit'</span><span class="token punctuation">)</span>
<span class="token comment"># client.close()</span>
</code></pre> 
<p><mark>说明：</mark></p> 
<ul><li><code>socket.connect()</code>/<code>socket.bind()</code>方法只有一个参数，传入参数要使用元组传递IP、端口号</li><li>数据传输只能以字节传输<code>b'admin'</code></li><li><code>socket.AF_INET</code>指定的协议是IPV4 ；<code>socket.SOCK_STREAM</code>是基于流的TCP信息传输；</li><li><a href="https://docs.python.org/3.7/library/threading.html" rel="nofollow">threading 官网链接</a> 处理线程相关</li><li><a href="https://docs.python.org/3.7/library/time.html" rel="nofollow">time 官网链接</a> 处理时间相关、功能接口；</li><li>服务端、客户端之间通信：服务端发送-&gt;客户端接收、客户端发送-&gt;服务端接受； 
  <div class="mermaid"> 
   <svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-HYsCcFI0uwwX3NxV" height="86" width="408" viewbox="0 0 428 106"> 
    <g> 
     <g class="output"> 
      <g class="clusters"></g> 
      <g class="edgePaths"> 
       <g class="edgePath" style="opacity: 1;"> 
        <path class="path" d="M88,43L129,43L170,43" marker-end="url(#arrowhead29)" style="fill:none"></path> 
        <defs> 
         <marker id="arrowhead29" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
          <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
         </marker> 
        </defs> 
       </g> 
       <g class="edgePath" style="opacity: 1;"> 
        <path class="path" d="M238,43L279,43L320,43" marker-end="url(#arrowhead30)" style="fill:none"></path> 
        <defs> 
         <marker id="arrowhead30" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
          <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
         </marker> 
        </defs> 
       </g> 
      </g> 
      <g class="edgeLabels"> 
       <g class="edgeLabel" transform="translate(129,43)" style="opacity: 1;"> 
        <g transform="translate(-16,-13)" class="label"> 
         <foreignobject width="32" height="26"> 
          <div style="display: inline-block; white-space: nowrap;"> 
           <span class="edgeLabel">发送</span> 
          </div> 
         </foreignobject> 
        </g> 
       </g> 
       <g class="edgeLabel" transform="translate(279,43)" style="opacity: 1;"> 
        <g transform="translate(-16,-13)" class="label"> 
         <foreignobject width="32" height="26"> 
          <div style="display: inline-block; white-space: nowrap;"> 
           <span class="edgeLabel">发送</span> 
          </div> 
         </foreignobject> 
        </g> 
       </g> 
      </g> 
      <g class="nodes"> 
       <g class="node" id="A" transform="translate(54,43)" style="opacity: 1;"> 
        <rect rx="0" ry="0" x="-34" y="-23" width="68" height="46"></rect> 
        <g class="label" transform="translate(0,0)"> 
         <g transform="translate(-24,-13)"> 
          <foreignobject width="48" height="26"> 
           <div style="display: inline-block; white-space: nowrap;">
             服务端 
           </div> 
          </foreignobject> 
         </g> 
        </g> 
       </g> 
       <g class="node" id="B" transform="translate(204,43)" style="opacity: 1;"> 
        <rect rx="0" ry="0" x="-34" y="-23" width="68" height="46"></rect> 
        <g class="label" transform="translate(0,0)"> 
         <g transform="translate(-24,-13)"> 
          <foreignobject width="48" height="26"> 
           <div style="display: inline-block; white-space: nowrap;">
             客户端 
           </div> 
          </foreignobject> 
         </g> 
        </g> 
       </g> 
       <g class="node" id="C" transform="translate(354,43)" style="opacity: 1;"> 
        <rect rx="0" ry="0" x="-34" y="-23" width="68" height="46"></rect> 
        <g class="label" transform="translate(0,0)"> 
         <g transform="translate(-24,-13)"> 
          <foreignobject width="48" height="26"> 
           <div style="display: inline-block; white-space: nowrap;">
             服务端 
           </div> 
          </foreignobject> 
         </g> 
        </g> 
       </g> 
      </g> 
     </g> 
    </g> 
   </svg> 
  </div> </li></ul> 
<p><code>UDP</code>是一种不可靠传输协议；不保证完全接受，是用于信息广播；</p> 
<pre><code class="prism language-python"><span class="token comment"># server</span>
<span class="token triple-quoted-string string">'''
UDP 不可靠传输；广播协议 
'''</span>
<span class="token keyword">import</span> socket

<span class="token comment"># 选择 SOCK_DGRAM UDP类型</span>
us <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>
us<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">8089</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    data<span class="token punctuation">,</span>addr <span class="token operator">=</span> us<span class="token punctuation">.</span>recvfrom<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"from: %s:%s get info:"</span> <span class="token operator">%</span> addr <span class="token punctuation">,</span>data<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
    us<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>b<span class="token string">"I'm coming..."</span><span class="token punctuation">,</span>addr<span class="token punctuation">)</span>
    
<span class="token comment"># client </span>
<span class="token triple-quoted-string string">'''
创建一个客户端程序
'''</span>
<span class="token keyword">import</span> socket

<span class="token comment"># 创建</span>
client <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_DGRAM<span class="token punctuation">)</span>

<span class="token comment"># 发送一个数据 、 提交一个名称</span>
client<span class="token punctuation">.</span>sendto<span class="token punctuation">(</span>b<span class="token string">"admin"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">8089</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"server: %s"</span> <span class="token operator">%</span> client<span class="token punctuation">.</span>recv<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行效果预览：<br> <img src="https://images2.imgbox.com/ad/73/Zbk7vlDL_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/66bcc3c3b29579ef17c557cd1c00b631/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">7-1 列出叶结点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1acde5c2244ba2673419514f8af1b4b0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Seaborn绘图02</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>