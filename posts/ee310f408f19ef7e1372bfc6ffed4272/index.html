<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用python的re库精准匹配单词 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用python的re库精准匹配单词" />
<meta property="og:description" content="背景：针对跨境电商产品，要对英文标题中的某个词或组合词进行精准匹配，将匹配成功的产品进行删除
需要注意的是，这个词或组合词必须是在标题中独立存在的才算匹配成功，不能是某个词的组成部分
所以这里的重点是精准匹配，否则会误删其他不需要产品，所以关于如何精准匹配，这里写下我的思路
一个词在标题中无非就三个位置：开头、中间、结尾
因为英文标题中的每个单词之间是使用空格进行分隔的，所以针对这三个位置逐一进行匹配即可，这里采用正则库re
代码如下：
import re def pattern_word(search_word, en_title): &#34;&#34;&#34; params：search_word, str, 需要匹配的词 params：en_title, str, 被匹配的英文标题 return：pattern_result, bool, 匹配结果 &#34;&#34;&#34; r1 = re.findall(f&#39;^{search_word}$&#39;, en_title) r2 = re.findall(f&#39;^{search_word} &#39;, en_title) # 词是否在标题开头位置 r3 = re.findall(f&#39; {search_word}$&#39;, en_title) # 词是否在标题末尾位置 r4 = re.findall(f&#39; {search_word} &#39;, en_title) # 词是否在标题中间位置 result = r1 &#43; r2 &#43; r3 &#43; r4 return True if result else False # 无论在哪个位置，如果有成功匹配到，则表示该产品是需要删除的 if __name__ == &#39;__main__&#39;: search_word = &#39;Analog Digital&#39; en_title = &#39;this is a test there are words other word Analog Digitalas&#39; pattern_result = pattern_word(search_word, en_title) print(f&#39;搜索词：{search_word}&#39;) print(f&#39;标题：{en_title}&#39;) print(f&#39;匹配结果：{pattern_result}&#39;) 以下是测试结果：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ee310f408f19ef7e1372bfc6ffed4272/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-11T15:13:54+08:00" />
<meta property="article:modified_time" content="2023-01-11T15:13:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用python的re库精准匹配单词</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>背景：针对跨境电商产品，要对英文标题中的某个词或组合词进行精准匹配，将匹配成功的产品进行删除</p> 
<p>需要注意的是，这个词或组合词必须是在标题中独立存在的才算匹配成功，不能是某个词的组成部分</p> 
<p>所以这里的重点是精准匹配，否则会误删其他不需要产品，所以关于如何精准匹配，这里写下我的思路</p> 
<p>一个词在标题中无非就三个位置：开头、中间、结尾</p> 
<p>因为英文标题中的每个单词之间是使用空格进行分隔的，所以针对这三个位置逐一进行匹配即可，这里采用正则库re</p> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token keyword">def</span> <span class="token function">pattern_word</span><span class="token punctuation">(</span>search_word<span class="token punctuation">,</span> en_title<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	params：search_word, str, 需要匹配的词
	params：en_title, str, 被匹配的英文标题
	return：pattern_result, bool, 匹配结果
	"""</span>
	r1 <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'^</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>search_word<span class="token punctuation">}</span></span><span class="token string">$'</span></span><span class="token punctuation">,</span> en_title<span class="token punctuation">)</span>
	r2 <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'^</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>search_word<span class="token punctuation">}</span></span><span class="token string"> '</span></span><span class="token punctuation">,</span> en_title<span class="token punctuation">)</span> <span class="token comment"># 词是否在标题开头位置</span>
	r3 <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f' </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>search_word<span class="token punctuation">}</span></span><span class="token string">$'</span></span><span class="token punctuation">,</span> en_title<span class="token punctuation">)</span> <span class="token comment"># 词是否在标题末尾位置</span>
	r4 <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f' </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>search_word<span class="token punctuation">}</span></span><span class="token string"> '</span></span><span class="token punctuation">,</span> en_title<span class="token punctuation">)</span> <span class="token comment"># 词是否在标题中间位置</span>
	result <span class="token operator">=</span> r1 <span class="token operator">+</span> r2 <span class="token operator">+</span> r3 <span class="token operator">+</span> r4
	<span class="token keyword">return</span> <span class="token boolean">True</span> <span class="token keyword">if</span> result <span class="token keyword">else</span> <span class="token boolean">False</span> <span class="token comment"># 无论在哪个位置，如果有成功匹配到，则表示该产品是需要删除的</span>
		
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    search_word <span class="token operator">=</span> <span class="token string">'Analog Digital'</span>
    en_title <span class="token operator">=</span> <span class="token string">'this is a test there are words other word Analog Digitalas'</span>
    pattern_result <span class="token operator">=</span> pattern_word<span class="token punctuation">(</span>search_word<span class="token punctuation">,</span> en_title<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'搜索词：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>search_word<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'标题：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>en_title<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'匹配结果：</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>pattern_result<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>

</code></pre> 
<p>以下是测试结果：</p> 
<ol><li>词在末尾位置<br> <img src="https://images2.imgbox.com/fe/45/hMPuiR0m_o.png" alt="在这里插入图片描述"></li><li>词在开头位置<br> <img src="https://images2.imgbox.com/8d/c7/NHnbdKkU_o.png" alt="在这里插入图片描述"></li><li>标题中虽包含搜索词，但该词并不是独立存在的，而是某个词的部分组成<br> <img src="https://images2.imgbox.com/54/74/Ro2KfDlh_o.png" alt="在这里插入图片描述"></li><li>搜索词是由多个词组成的情况<br> <img src="https://images2.imgbox.com/ce/ae/fKrJzXVb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6a/0c/8QSYSUI2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a0/20/gCA9bkGp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e0/3d/Cm8WXnWp_o.png" alt="在这里插入图片描述"><br> 大家觉得怎么样呢？在评论区留下你的疑惑~</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f147faffe37b52f8c4923ea7d1ce0bbf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3 图片放大缩小、拖拽功能（自定义指令）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6dd65d9c7e30ede04b06e840f053463/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">centos忘记密码怎么办</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>