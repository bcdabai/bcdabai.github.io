<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>中年人学C语言Windows程序设计，8 窗口绘图：点的画法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="中年人学C语言Windows程序设计，8 窗口绘图：点的画法" />
<meta property="og:description" content="中年人学C语言Windows程序设计，8 窗口绘画：点 窗口画点函数SetPixel 函数功能： SetPixel 函数将指定坐标处的像素设为指定的颜色。
API 函数原型： 注释：In 说明该参数是输入的，opt 说明该参数是可选参数。
COLORREF SetPixel( _In_ HDC hdc, _In_ int x, _In_ int y, _In_ COLORREF crColor ); 参数解析： 参数 含义
hdc 设备环境句柄
x 指定要设置的像素点的 X 轴坐标，按逻辑单位表示坐标
y 指定要设置的像素点的 Y 轴坐标，按逻辑单位表示坐标
crColor 1. 指定该像素点的颜色
2. 使用 RGB 宏创建 COLORREF 的颜色值
注释：COLORREF 颜色被定义为 DWORD 类型（4 个字节），用于表示 RGB 颜色。
返回值： 如果函数调用成功，那么返回值就是函数设置像素的 RGB 颜色值（这个值可能与 crColor 指定的颜色有所不同，之所以有时发生这种情况是因为没有找到对指定颜色进行真正匹配造成的）；
如果函数调用失败，那么返回值是 -1。
可以是以下值
返回值 含义
ERROR_INVALID_PARAMETER 一个或者多个参数不正确
备注： 如果像素点坐标位于当前剪裁区之外，那么该函数执行失败。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b631e163619c38ebeeaaf34a1d208a17/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-13T11:01:44+08:00" />
<meta property="article:modified_time" content="2021-10-13T11:01:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">中年人学C语言Windows程序设计，8 窗口绘图：点的画法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="CWindows8__0"></a>中年人学C语言Windows程序设计，8 窗口绘画：点</h3> 
<h3><a id="SetPixel_2"></a><em>窗口画点函数SetPixel</em></h3> 
<h4><a id="_4"></a>函数功能：</h4> 
<p>SetPixel 函数将指定坐标处的像素设为指定的颜色。</p> 
<h4><a id="API__9"></a>API 函数原型：</h4> 
<p>注释：<em>In</em> 说明该参数是输入的，<em>opt</em> 说明该参数是可选参数。</p> 
<pre><code class="prism language-c">COLORREF <span class="token function">SetPixel</span><span class="token punctuation">(</span>
  _In_  HDC hdc<span class="token punctuation">,</span>
  _In_  <span class="token keyword">int</span> x<span class="token punctuation">,</span>
  _In_  <span class="token keyword">int</span> y<span class="token punctuation">,</span>
  _In_  COLORREF crColor
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_23"></a>参数解析：</h4> 
<p>参数 含义<br> hdc 设备环境句柄<br> x 指定要设置的像素点的 X 轴坐标，按逻辑单位表示坐标<br> y 指定要设置的像素点的 Y 轴坐标，按逻辑单位表示坐标<br> crColor 1. 指定该像素点的颜色<br> 2. 使用 RGB 宏创建 COLORREF 的颜色值</p> 
<p>注释：COLORREF 颜色被定义为 DWORD 类型（4 个字节），用于表示 RGB 颜色。</p> 
<h4><a id="_33"></a>返回值：</h4> 
<ol><li> <p>如果函数调用成功，那么返回值就是函数设置像素的 RGB 颜色值（这个值可能与 crColor 指定的颜色有所不同，之所以有时发生这种情况是因为没有找到对指定颜色进行真正匹配造成的）；</p> </li><li> <p>如果函数调用失败，那么返回值是 -1。</p> </li><li></ol> 
<p>可以是以下值</p> 
<p>返回值 含义<br> ERROR_INVALID_PARAMETER 一个或者多个参数不正确</p> 
<h4><a id="_44"></a>备注：</h4> 
<ol><li> <p>如果像素点坐标位于当前剪裁区之外，那么该函数执行失败。</p> </li><li> <p>不是所有设备都支持 SetPixel 函数。有关详情，请参考 GetDeviceCaps。</p> </li></ol> 
<p>【API档案】版权归鱼C工作室（www.fishc.com）所有，转载请注明来源。</p> 
<h3><a id="RGB__53"></a><strong>RGB 宏</strong></h3> 
<p><strong>宏功能：</strong></p> 
<p>RGB 宏有三个参数（byRed, byGreen, byBlue），功能是将这三个参数转换为 COLORREF 颜色值。</p> 
<p>注释：COLORREF 颜色被定义为 DWORD 类型（4 个字节），用于表示 RGB 颜色。</p> 
<p><strong>宏原型：</strong></p> 
<p>COLORREF RGB(<br> BYTE byRed,<br> BYTE byGreen,<br> BYTE byBlue<br> );<br> 复制代码</p> 
<p><strong>参数解析：</strong></p> 
<p>参数 含义<br> byRed 红色的颜色值<br> byGreen 绿色的颜色值<br> byBlue 蓝色的颜色值</p> 
<p>小甲鱼忍不住罗嗦补充一句：色彩中不能再分解的基本色称之为原色，红绿蓝即三原色，将它们按照不同比例混合，可以搭配出所有的颜色。</p> 
<p><strong>返回值：</strong></p> 
<ol><li>返回三个参数转换后的 COLORREF 颜色值</li></ol> 
<p><strong>备注：</strong></p> 
<ol><li> <p>每个颜色可以指定的颜色值是 0 ~ 255，三个参数同时为 0，即黑色，同时为 255 即白色。</p> </li><li> <p>通过 GetRValue、GetGValue 和 GetBValue 宏可以分别从 COLORREF 颜色值中获得红色、绿色、蓝色的颜色值。</p> </li></ol> 
<h3><a id="_92"></a><strong>代码实例：</strong></h3> 
<p>用多个点画一个直线</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token comment">/* -------------------------------------------------------------------
                   中年人学C语言Windows程序设计
--------------------------------------------------------------------*/</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;strsafe.h&gt;</span></span>
<span class="token comment">//#include"sysmets.h"</span>
LRESULT CALLBACK <span class="token function">WndProc</span><span class="token punctuation">(</span>HWND<span class="token punctuation">,</span> UINT<span class="token punctuation">,</span> WPARAM<span class="token punctuation">,</span> LPARAM<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> WINAPI <span class="token function">WinMain</span><span class="token punctuation">(</span>HINSTANCE hInstance<span class="token punctuation">,</span> HINSTANCE hPrevInstance<span class="token punctuation">,</span> PSTR szCmdLine<span class="token punctuation">,</span> <span class="token keyword">int</span> iCmdShow<span class="token punctuation">)</span>
<span class="token comment">//主函数</span>
<span class="token comment">// 四个参数：</span>
<span class="token comment">//hInstance : 程序当前实例的句柄(handle to current instance)，以后随时可以用GetModuleHandle(0)来获得</span>
<span class="token comment">//hPrevInstance : 前一个实例的句柄(handle to previous instance)，在Win32中，每一个进程都有一个独立的4G地址空间，从0到2G属于进程私有，对其他进程来说是不可见的。所以，在Win32中，hPrevInstance总是为NULL。</span>
<span class="token comment">//szCmdLine : 指向以 / 0结尾的命令行，不包括EXE本身的文件名(pointer to command line)，以后随时可以用GetCommandLine()来获取完整的命令行。</span>
<span class="token comment">//iCmdShow : 指明应该以什么方式显示主窗口(show state of window)。</span>

<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> TCHAR szAppName<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"MyWindows"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    HWND hwnd<span class="token punctuation">;</span><span class="token comment">//句柄</span>
    MSG msg<span class="token punctuation">;</span><span class="token comment">//消息</span>
    WNDCLASS wndclass<span class="token punctuation">;</span><span class="token comment">//定义窗口类结构</span>
    HBRUSH hCulorBrush <span class="token operator">=</span> <span class="token function">CreateSolidBrush</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设定背景颜色</span>

    <span class="token comment">//结构成员：</span>
    wndclass<span class="token punctuation">.</span>style <span class="token operator">=</span> CS_HREDRAW <span class="token operator">|</span> CS_VREDRAW<span class="token punctuation">;</span> <span class="token comment">//窗口类型</span>
    wndclass<span class="token punctuation">.</span>lpfnWndProc <span class="token operator">=</span> WndProc<span class="token punctuation">;</span>  <span class="token comment">//窗口过程（必须是回调函数）</span>
    wndclass<span class="token punctuation">.</span>cbClsExtra <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//预留的额外空间，一般为0</span>
    wndclass<span class="token punctuation">.</span>cbWndExtra <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//预留的额外空间，一般为0</span>
    wndclass<span class="token punctuation">.</span>hInstance <span class="token operator">=</span> hInstance<span class="token punctuation">;</span><span class="token comment">//应用程序的实例句柄</span>
    wndclass<span class="token punctuation">.</span>hIcon <span class="token operator">=</span> <span class="token function">LoadIcon</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> IDI_APPLICATION<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//为所有基于该窗口类的窗口设定一个图标</span>
    wndclass<span class="token punctuation">.</span>hCursor <span class="token operator">=</span> <span class="token function">LoadCursor</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> IDC_ARROW<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//为所有基于该窗口类的窗口设定一个鼠标指针</span>
    <span class="token comment">//wndclass.hbrBackground = (HBRUSH)GetStockObject(BLACK_BRUSH);//指定窗口背景色</span>
    wndclass<span class="token punctuation">.</span>hbrBackground <span class="token operator">=</span> hCulorBrush<span class="token punctuation">;</span><span class="token comment">//指定窗口背景色</span>
    wndclass<span class="token punctuation">.</span>lpszMenuName <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">//指定窗口菜单</span>
    wndclass<span class="token punctuation">.</span>lpszClassName <span class="token operator">=</span> szAppName<span class="token punctuation">;</span> <span class="token comment">//指定窗口类名</span>

    <span class="token comment">//注册窗口类</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">RegisterClass</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wndclass<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment">/*  RegisterClass：注册在随后调用CreateWindow函数和CreateWindowEx函数中使用的窗口类。
          参数为lpWndClass，指向一个WNDCLASS结构的指针
          返回值：ATOM的宏定义
          typedef WORD ATOM;
          typedef unsigned short WORD;
          关于RegisterClassEx:参数lpwcx指向一个WNDCLASSEX结构的指针如果函数成功，返回这个窗口类型的标识号；
          如果函数失败，返回值为0。若想获得更多错误信息，请调用GetLastError函数。*/</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">MessageBox</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"这个程序需要在Windows系统执行！"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> szAppName<span class="token punctuation">,</span> MB_ICONERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//实例化创建窗口</span>
    hwnd <span class="token operator">=</span> <span class="token function">CreateWindow</span><span class="token punctuation">(</span>szAppName<span class="token punctuation">,</span><span class="token comment">// 窗口类名称</span>
        <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"中年人学C语言Windows程序设计"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// 窗口标题</span>
        WS_OVERLAPPEDWINDOW<span class="token operator">|</span>WS_VSCROLL<span class="token punctuation">,</span><span class="token comment">// 窗口风格，或称窗口格式</span>
        CW_USEDEFAULT<span class="token punctuation">,</span><span class="token comment">// 初始 x 坐标</span>
        CW_USEDEFAULT<span class="token punctuation">,</span> <span class="token comment">// 初始 y 坐标</span>
        CW_USEDEFAULT<span class="token punctuation">,</span><span class="token comment">// 初始 x 方向尺寸</span>
        CW_USEDEFAULT<span class="token punctuation">,</span><span class="token comment">// 初始 y 方向尺寸</span>
        <span class="token constant">NULL</span><span class="token punctuation">,</span><span class="token comment">// 父窗口句柄</span>
        <span class="token constant">NULL</span><span class="token punctuation">,</span><span class="token comment">// 窗口菜单句柄</span>
        hInstance<span class="token punctuation">,</span><span class="token comment">// 程序实例句柄</span>
        <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建参数</span>

    <span class="token comment">/*_In_说明该参数是输入的，_opt_说明该参数是可选参数
        函数成功返回窗口句柄，否则返回NULL*/</span>

        <span class="token comment">//显示窗口</span>
    <span class="token function">ShowWindow</span><span class="token punctuation">(</span>hwnd<span class="token punctuation">,</span> iCmdShow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 第一次调用时应使用WinMain的参数nCmdShow作为参数
         如果窗口之前可见，则返回非0否则返回0*/</span>

         <span class="token comment">//更新窗口</span>
    <span class="token function">UpdateWindow</span><span class="token punctuation">(</span>hwnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* 绕过消息队列直接向窗口过程发送WM_PAINT消息
         函数调用成功返回非0*/</span>

         <span class="token comment">//消息循环</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">GetMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">TranslateMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">DispatchMessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*作用：从当前线程的消息队列里取出一个消息并放入MSG结构中，不能获得其他线程的消息
        若消息队列为空，函数会一直等待到有消息到来才有返回值
        返回值：
        函数出现错误则返回 - 1，
        获得WM_QUIT消息返回0
        否则返回非0*/</span>

    <span class="token keyword">return</span> msg<span class="token punctuation">.</span>wParam<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

LRESULT CALLBACK <span class="token function">WndProc</span><span class="token punctuation">(</span>HWND hWnd<span class="token punctuation">,</span> UINT message<span class="token punctuation">,</span> WPARAM wParam<span class="token punctuation">,</span> LPARAM lParam<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token comment">回调函数</span>
<span class="token comment">参数：</span>
<span class="token comment">hwnd : 窗口句柄</span>
<span class="token comment">message : 消息ID</span>
<span class="token comment">wParam和lParam：消息参数</span>
    <span class="token comment">//int i;</span>
    <span class="token comment">//size_t j;</span>
    HDC hdc<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token comment">//定义设备环境句柄  </span>
    <span class="token keyword">static</span> TCHAR  szBuffer<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//TEXTMETRIC tm;</span>
   <span class="token comment">// SCROLLINFO si;</span>
    PAINTSTRUCT ps<span class="token punctuation">;</span>
    RECT rect<span class="token punctuation">;</span>
    <span class="token class-name">size_t</span> iStrLength<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> cxChar<span class="token punctuation">,</span> cyChar<span class="token punctuation">,</span> yVscrollPos<span class="token punctuation">,</span> cxClient<span class="token punctuation">,</span> cyClient<span class="token punctuation">,</span> yPage<span class="token punctuation">,</span>cxCaps<span class="token punctuation">,</span> FirstLine<span class="token punctuation">,</span> LastLine<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>

        <span class="token keyword">case</span> WM_SIZE<span class="token operator">:</span><span class="token comment">//窗体大小改变</span>
            hdc <span class="token operator">=</span> <span class="token function">GetDC</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//GetClientRect(hwnd, &amp;rect);</span>
            cxClient <span class="token operator">=</span> <span class="token function">LOWORD</span><span class="token punctuation">(</span>lParam<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前x像素</span>
            cyClient <span class="token operator">=</span> <span class="token function">HIWORD</span><span class="token punctuation">(</span>lParam<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前y像素</span>
            <span class="token function">StringCchPrintf</span><span class="token punctuation">(</span>szBuffer<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token function">TEXT</span><span class="token punctuation">(</span><span class="token string">"当前客户区的分辨率:%d * %d px"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cxClient<span class="token punctuation">,</span> cyClient<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">StringCchLength</span><span class="token punctuation">(</span>szBuffer<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>iStrLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">SetTextAlign</span><span class="token punctuation">(</span>hdc<span class="token punctuation">,</span> TA_CENTER <span class="token operator">|</span> TA_TOP<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">TextOut</span><span class="token punctuation">(</span>hdc<span class="token punctuation">,</span> cxClient <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> szBuffer<span class="token punctuation">,</span> iStrLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">ReleaseDC</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> hdc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">case</span> WM_PAINT<span class="token operator">:</span><span class="token comment">//窗口绘画：点</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> x<span class="token punctuation">,</span>xLast<span class="token punctuation">;</span>
            HDC hdc <span class="token operator">=</span> <span class="token function">BeginPaint</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//函数为指定窗口进行绘画作准备，并用将和绘画有关的信息填充到一个 PAINTSTRUCT 结构中。</span>
            <span class="token function">GetClientRect</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取客户区信息. 函数用于获取窗口客户区的坐标，客户区坐标指定客户区的左上角和右下角。</span>
            xLast <span class="token operator">=</span> rect<span class="token punctuation">.</span>right<span class="token punctuation">;</span><span class="token comment">//获得客户区最右侧坐标</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> xLast<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//循环x轴的坐标</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">SetPixel</span><span class="token punctuation">(</span>hdc<span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在客户区上画点</span>
            <span class="token punctuation">}</span>
            <span class="token function">EndPaint</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
        <span class="token keyword">case</span> WM_DESTROY<span class="token operator">:</span>
            <span class="token function">PostQuitMessage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> <span class="token function">DefWindowProc</span><span class="token punctuation">(</span>hWnd<span class="token punctuation">,</span> message<span class="token punctuation">,</span> wParam<span class="token punctuation">,</span> lParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>结果是在 y轴 100的位置画一条红颜色的直线<br> <img src="https://images2.imgbox.com/81/07/WSJGoKgC_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c4a5a2e5abc648468b36b866df596dfb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PYQT5|异常情况处理|ImportError: DLL load failed: 找不到指定的程序。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6c3b604fceb35b92e3f052a3da1098e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue-ssr的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>