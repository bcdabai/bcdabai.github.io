<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux下 利用find命令删除所有.svn目录 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux下 利用find命令删除所有.svn目录" />
<meta property="og:description" content="====================实例==============
删除所有.svn目录
这也是我当初查找 Linux find 命令的目的。
1) find . -type d -name ‘.svn’ | xargs rm -rf #先(递归)找到当前路径下含有 .svn的文件目录，再经 xargs逐个干掉
#（处理方式是逐个，并不是’删一条显示删了一条再继续删’这样的）
2) find . -type d -iname ‘.svn’ -exec rm -rf {} \; #先(递归)找到.当前路径下含有.svn的文件目录，再干掉
-iname filename #同-name ，区别 -i 忽略大小写
——————————————————–
Linux中find常见用法示例
find path -option [ -print ] [ -exec -ok command ] {} \;
#-print 将查找到的文件输出到标准输出
#-exec command {} \; —–将查到的文件执行command操作,{} 和 \;之间有空格，{} 表示find到的结果，最后有反斜杠\ 和 分号 ; 表示命令结束？" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0a71f6212599b06884918d8efe21d2de/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-05-06T21:30:56+08:00" />
<meta property="article:modified_time" content="2011-05-06T21:30:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux下 利用find命令删除所有.svn目录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<div> 
 <p>====================实例==============</p> 
 <p> </p> 
 <p> </p> 
 <p>删除所有.svn目录</p> 
 <p>这也是我当初查找 Linux find 命令的目的。</p> 
 <p>1)  find . -type d -name ‘.svn’ | xargs rm -rf #先(递归)找到当前路径下含有 .svn的文件目录，再经 xargs逐个干掉</p> 
 <p>#（处理方式是逐个，并不是’删一条显示删了一条再继续删’这样的）</p> 
 <p>2)  find . -type d -iname ‘.svn’ -exec rm -rf {} \; #先(递归)找到.当前路径下含有.svn的文件目录，再干掉</p> 
 <p>-iname filename #同-name ，区别 -i 忽略大小写</p> 
 <p>——————————————————–</p> 
 <p>Linux中find常见用法示例</p> 
 <p>find path -option [ -print ] [ -exec -ok command ] {} \;</p> 
 <p>#-print 将查找到的文件输出到标准输出</p> 
 <p>#-exec command {} \; —–将查到的文件执行command操作,{} 和 \;之间有空格，{} 表示find到的结果，最后有反斜杠\ 和 分号 ; 表示命令结束？</p> 
 <p>#-ok 和-exec相同，只不过在操作前要询用户</p> 
 <p>#find 根据下列规则判断 path 和 expression(命令选项参数 -option)，在命令列上第一个 – ( ) , ! 之前的部份为 path，之后的是 expression。如果 path 是空字串则使用目前路径，如果 expression 是空字串则使用 -print 为预设 expression。</p> 
 <p>====================================================</p> 
 <p>-name filename #查找名为filename的文件</p> 
 <p>-perm #按执行权限来查找</p> 
 <p>-user username #按文件属主来查找</p> 
 <p>-group groupname #按组来查找</p> 
 <p>-mtime -n +n #按文件更改时间来查找文件，-n指n天以内，+n指n天以前</p> 
 <p>-atime -n +n #按文件访问时间来查找文件，-n指n天以内，+n指n天以前</p> 
 <p>-ctime -n +n #按文件创建时间来查找文件，-n指n天以内，+n指n天以前</p> 
 <p>-nogroup #查无有效属组的文件，即文件的属组在/etc/groups中不存在</p> 
 <p>-nouser #查无有效属主的文件，即文件的属主在/etc/passwd中不存</p> 
 <p>-newer f1 !f2 #查更改时间比f1新但比f2旧的文件</p> 
 <p>-type b/d/c/p/l/f #查是块设备、目录、字符设备、管道、符号链接、普通文件</p> 
 <p>-size n[c] #查长度为n块[或n字节]的文件</p> 
 <p>-depth #使查找在进入子目录前先行查找完本目录</p> 
 <p>-fstype #查更改时间比f1新但比f2旧的文件</p> 
 <p>-mount #查文件时不跨越文件系统mount点</p> 
 <p>-follow #如果遇到符号链接文件，就跟踪链接所指的文件</p> 
 <p>-cpio #对匹配的文件使用cpio命令，将他们备份到磁带设备中</p> 
 <p>-prune #忽略某个目录</p> 
 <p>====================实例================================</p> 
 <p>删除所有.svn目录</p> 
 <p>这也是我当初查找 Linux find 命令的目的。</p> 
 <p>1)  find . -type d -name '.svn' | xargs rm -rf #先(递归)找到当前路径下含有 .svn的文件目录，再经 xargs逐个干掉</p> 
 <p>#（处理方式是逐个，并不是'删一条显示删了一条再继续删'这样的）</p> 
 <p>2)  find . -type d -iname '.svn' -exec rm -rf {} \; #先(递归)找到.当前路径下含有.svn的文件目录，再干掉</p> 
 <p>-iname filename #同-name ，区别 -i 忽略大小写</p> 
 <p>——————————————————–</p> 
 <p>以下命令small2验证大部分，大家谨慎参考使用阿:)</p> 
 <p>毕竟是复制粘贴，有些命令重复或者用法重复,就当上面学习下面复习啦:)</p> 
 <p>$find ~ -name '*.txt' -print #在$HOME中查.txt文件并显示</p> 
 <p>$find . -name '*.txt' -print</p> 
 <p>$find . -name '[A-Z]*' -pri26nbsp; #对匹配的文件使用cpio命令，将他们备份到磁带设备中</p> 
 <p>-prune #忽略某个目录</p> 
 <p>$find . -name '[A-Z]*' -print #查以大写字母开头的文件</p> 
 <p>$find /etc -name 'host*' -print #查以host开头的文件</p> 
 <p>$find . -name '[a-z][a-z][0--9][0--9].txt' -print #查以两个小写字母和两个数字开头的txt文件</p> 
 <p>$find . -perm 755 -print</p> 
 <p>$find . -perm -007 -exec ls -l {} \; #查所有用户都可读写执行的文件同-perm 777</p> 
 <p>$find . -type d -print 打印目录结构</p> 
 <p>$find . ! -type d -print 打印非目录文件</p> 
 <p>find /usr/include -name '*.h' -exec grep AF_INEF6 {} \;</p> 
 <p>#因grep无法递归搜索子目录，故可以和find相结合使用。 在/usr/include 所有子目录中的.h文件中找字串AF_INEF6</p> 
 <p>#small2 : Are u kiding me ?</p> 
 <p>$find . -type l -print</p> 
 <p>$find . -size +1000000c -print #查长度大于1Mb的文件</p> 
 <p>$find . -size 100c -print # 查长度为100c的文件</p> 
 <p>$find . -size +10 -print #查长度超过期作废10块的文件（1块=512字节）</p> 
 <p>$cd /</p> 
 <p>$find etc home apps -depth -print | cpio -ivcdC65536 -o /dev/rmt0</p> 
 <p>$find /etc -name 'passwd*' -exec grep 'cnscn' {} \; #看是否存在cnscn用户</p> 
 <p>#small2: 上面这个得有root权限</p> 
 <p>$find . -name 'yao*' | xargs file</p> 
 <p>$find . -name 'yao*' | xargs echo '' &gt; /tmp/core.log</p> 
 <p>$find . -name 'yao*' | xargs chmod o-w</p> 
 <p>======================================================</p> 
 <p>find -name april* 在当前目录下查找以april开始的文件</p> 
 <p>find -name april* fprint file 在当前目录下查找以april开始的文件，并把结果输出到file中</p> 
 <p>find -name ap* -o -name may* 查找以ap或may开头的文件</p> 
 <p>find /mnt -name tom.txt -ftype vfat 在/mnt下查找名称为tom.txt且文件系统类型为vfat的文件</p> 
 <p>find /mnt -name t.txt ! -ftype vfat 在/mnt下查找名称为tom.txt且文件系统类型不为vfat的文件</p> 
 <p>find /tmp -name wa* -type l 在/tmp下查找名为wa开头且类型为符号链接的文件</p> 
 <p>find /home -mtime -2 在/home下查最近两天内改动过的文件</p> 
 <p>find /home -atime -1 查1天之内被存取过的文件</p> 
 <p>find /home -mmin +60 在/home下查60分钟前改动过的文件</p> 
 <p>find /home -amin +30 查最近30分钟前被存取过的文件</p> 
 <p>find /home -newer tmp.txt 在/home下查更新时间比tmp.txt近的文件或目录</p> 
 <p>find /home -anewer tmp.txt 在/home下查存取时间比tmp.txt近的文件或目录</p> 
 <p>find /home -used -2 列出文件或目录被改动过之后，在2日内被存取过的文件或目录</p> 
 <p>find /home -user cnscn 列出/home目录内属于用户cnscn的文件或目录</p> 
 <p>find /home -uid +501 列出/home目录内用户的识别码大于501的文件或目录</p> 
 <p>find /home -group cnscn 列出/home内组为cnscn的文件或目录</p> 
 <p>find /home -gid 501 列出/home内组id为501的文件或目录</p> 
 <p>find /home -nouser 列出/home内不属于本地用户的文件或目录</p> 
 <p>find /home -nogroup 列出/home内不属于本地组的文件或目录</p> 
 <p>find /home -name tmp.txt -maxdepth 4 列出/home内的tmp.txt 查时深度最多为3层</p> 
 <p>find /home -name tmp.txt -mindepth 3 从第2层开始查</p> 
 <p>find /home -empty 查找大小为0的文件或空目录</p> 
 <p>find /home -size +512k 查大于512k的文件</p> 
 <p>find /home -size -512k 查小于512k的文件</p> 
 <p>find /home -links +2 查硬连接数大于2的文件或目录</p> 
 <p>find /home -perm 0700 查权限为700的文件或目录</p> 
 <p>find /tmp -name tmp.txt -exec cat {} \;</p> 
 <p>find /tmp -name tmp.txt -ok rm {} \;</p> 
 <p>find / -amin -10 # 查找在系统中最后10分钟访问的文件</p> 
 <p>find / -atime -2 # 查找在系统中最后48小时访问的文件</p> 
 <p>find / -empty # 查找在系统中为空的文件或者文件夹</p> 
 <p>find / -group cat # 查找在系统中属于 groupcat的文件</p> 
 <p>find / -mmin -5 # 查找在系统中最后5分钟里修改过的文件</p> 
 <p>find / -mtime -1 #查找在系统中最后24小时里修改过的文件</p> 
 <p>find / -nouser #查找在系统中属于作废用户的文件</p> 
 <p>find / -user fred #查找在系统中属于FRED这个用户的文件</p> 
 <p>查当前目录下的所有普通文件</p> 
 <p>——————————————————————————–</p> 
 <p># find . -type f -exec ls -l {} \;</p> 
 <p>-rw-r–r– 1 root root 34928 2003-02-25 ./conf/httpd.conf</p> 
 <p>-rw-r–r– 1 root root 12959 2003-02-25 ./conf/magic</p> 
 <p>-rw-r–r– 1 root root 180 2003-02-25 ./conf.d/README</p> 
 <p>查当前目录下的所有普通文件，并在- e x e c选项中使用ls -l命令将它们列出</p> 
 <p>=================================================</p> 
 <p>在/ l o g s目录中查找更改时间在5日以前的文件并删除它们：</p> 
 <p>$ find logs -type f -mtime +5 -exec -ok rm {} \;</p> 
 <p>=================================================</p> 
 <p>#查询当天修改过的文件</p> 
 <p>small2@~$ find ./ -mtime -1 -type f -exec ls -l {} \;</p> 
 <p>=================================================</p> 
 <p>#查询文件并询问是否要显示</p> 
 <p>small2@~/tmp$ find ./ -mtime -1 -type f -ok ls -l {} \;</p> 
 <p>&lt; ls ... ./.find.swo &gt; ? yes</p> 
 <p>-rw-r--r-- 1 zgf zgf 20480 2010-06-30 23:48 ./.find.swo</p> 
 <p>&lt; ls ... ./find &gt; ? y</p> 
 <p>-rw-r--r-- 1 zgf zgf 10089 2010-06-30 23:42 ./find</p> 
 <p>&lt; ls ... ./tmp.txt &gt; ? y</p> 
 <p>-rw-r--r-- 1 zgf zgf 70 2010-06-30 15:43 ./tmp.txt</p> 
 <p>&lt; ls ... ./.find.swp &gt; ? y</p> 
 <p>-rw------- 1 zgf zgf 20480 2010-06-30 23:42 ./.find.swp</p> 
 <p>small2@~/tmp$</p> 
 <p>=================================================</p> 
 <p>查询并交给awk去处理</p> 
 <p>small2@~$ who | awk '{print $1″\t'$2}'</p> 
 <p>cnscn pts/0</p> 
 <p>=================================================</p> 
 <p>awk—grep—sed</p> 
 <p>small2@~$ df -k | awk '{print $1}' | grep -v 'none' | sed s'/\/dev\///g'</p> 
 <p>文件系统</p> 
 <p>sda2</p> 
 <p>sda1</p> 
 <p>small2@~$ df -k | awk '{print $1}' | grep -v 'none'</p> 
 <p>文件系统</p> 
 <p>/dev/sda2</p> 
 <p>/dev/sda1</p> 
 <p>1)在/tmp中查找所有的*.h，并在这些文件中查找'SYSCALL_VECTOR'，最后打印出所有包含'SYSCALL_VECTOR'的文件名</p> 
 <p>A) find /tmp -name '*.h' | xargs -n50 grep SYSCALL_VECTOR</p> 
 <p>B) grep SYSCALL_VECTOR /tmp/*.h | cut -d':' -f1| uniq &gt; filename</p> 
 <p>C) find /tmp -name '*.h' -exec grep 'SYSCALL_VECTOR' {} \; -print</p> 
 <p>2)find / -name filename -exec rm -rf {} \;</p> 
 <p>find / -name filename -ok rm -rf {} \;</p> 
 <p>#这个就是上面提到的删除.svn目录的一种方法</p> 
 <p>3)比如要查找磁盘中大于3M的文件：</p> 
 <p>find . -size +3000k -exec ls -ld {} \;</p> 
 <p>4)将find出来的东西拷到另一个地方</p> 
 <p>find *.txt -exec cp {} /home/zgf/tmp \;</p> 
 <p>如果有特殊文件，可以用cpio，也可以用这样的语法：</p> 
 <p>find dir -name filename -print | cpio -pdv newdir</p> 
 <p>6)查找2004-11-30 16:36:37时更改过的文件</p> 
 <p># A=`find ./ -name '*php'` | ls -l –full-time $A 2&gt;/dev/null | grep '2004-11-30 16:36:37</p> 
 <p>二、linux下find命令的用法</p> 
 <p>1. 基本用法：</p> 
 <p>find / -name 文件名</p> 
 <p>find ver1.d ver2.d -name '*.c' -print 查找ver1.d,ver2.d *.c文件并打印</p> 
 <p>find . -type d -print 从当前目录查找，仅查找目录，找到后，打印路径名。可用于打印目录结构。</p> 
 <p>2. 无错误查找：</p> 
 <p>find / -name access_log 2 &gt;/dev/null</p> 
 <p>3. 按尺寸查找：</p> 
 <p>find / -size 1500c （查找1,500字节大小的文件，c表示字节）</p> 
 <p>find / -size +1500c （查找大于1,500字节大小的文件，+表示大于）</p> 
 <p>find / -size +1500c （查找小于1,500字节大小的文件，-表示小于）</p> 
 <p>4. 按时间：</p> 
 <p>find / -amin n 最后n分钟</p> 
 <p>find / -atime n 最后n天</p> 
 <p>find / -cmin n 最后n分钟改变状态</p> 
 <p>find / -ctime n 最后n天改变状态</p> 
 <p>5. 其它：</p> 
 <p>find / -empty 空白文件、空白文件夹、没有子目录的文件夹</p> 
 <p>find / -false 查找系统中总是错误的文件</p> 
 <p>find / -fstype type 找存在于指定文件系统的文件，如type为ext2</p> 
 <p>find / -gid n 组id为n的文件</p> 
 <p>find / -group gname 组名为gname的文件</p> 
 <p>find / -depth n 在某层指定目录中优先查找文件内容</p> 
 <p>find / -maxdepth levels 在某个层次目录中按递减方式查找</p> 
 <p>6. 逻辑</p> 
 <p>-and 条件与 -or 条件或</p> 
 <p>7. 查找字符串</p> 
 <p>find . -name '*.html' -exec grep 'mailto:'{} \;</p> 
 <p>from : <a href="http://blog.zol.com.cn/751/article_750102.html" rel="nofollow">http://blog.zol.com.cn/751/article_750102.html</a></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b51221d91781958d3756f983b90de5fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Oracle执行计划详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f1cf00ba70426a876b5e49131320310c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">停止启用了安全性的WAS Server而不手动输入密码之第二种选择</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>