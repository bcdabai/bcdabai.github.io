<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Rust快速学习入门（第一节） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Rust快速学习入门（第一节）" />
<meta property="og:description" content="目录
0.背景
1. Hello World
2. 安装
3. 实战（猜数游戏）
4. 基本概念
4.1 变量的可变与不可变（mutable/imutable）
4.2 常量与变量
4.3 Shadow(影子变量)
4.4 Rust数据类型
4.5 函数简介
4.5 控制逻辑（if-else、loop/while/for）
0.背景 据说Rust要引入到Linux源码中，和C一起来做Linux的源码开发，所以凑个热闹，一起看了一下，本文仅作为入门了解，不作为专业介绍，详细专业介绍请参照官网介绍：Rust Programming Language
Rust是一种静态编译型语言，和C类似，简单的理解就是它能做Linux操作系统，应该是挺NB的，具体应用场景，Rust官网首页中有明确介绍
命令行应用（CLI）WebAssembly（WebAssembly | MDN）网络服务（Network）嵌入式（Embeded） 1. Hello World 免安装在线体验Hello World，入口：Rust Playground，输入以下代码：
fn main() { println!(&#34;Hellow Rust World! &#34;); } 2. 安装 到这里下载相应的安装文件就可以了：入门 - Rust 程序设计语言
安装完成后，进入命令行，输入以下命令，这个是编译Rust用的，将rust源码编译成可执行程序，在windows中就是exe的文件：
rustc --version 结果
说明安装成功，但其官方推荐的是使用cargo的管理工具，给我的理解cargo与Rust的关系，有点类似npm与js的关系：
3. 实战（猜数游戏） 我们用cargo创建一个猜数字游戏的命令行应用程序：
cargo new guessnumber 找到src目录下的main.rs文件，输入如下代码
use rand::prelude::*; use std::cmp::Ordering; use std::io; fn main() { let mut rng = thread_rng(); let secret_number = rng." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/746961effe5ade9093df5f6baef82f89/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-26T10:00:23+08:00" />
<meta property="article:modified_time" content="2022-07-26T10:00:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Rust快速学习入门（第一节）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="0.%E8%83%8C%E6%99%AF-toc" style="margin-left:0px;"><a href="#0.%E8%83%8C%E6%99%AF" rel="nofollow">0.背景</a></p> 
<p id="1.%20Hello%20World-toc" style="margin-left:0px;"><a href="#1.%20Hello%20World" rel="nofollow">1. Hello World</a></p> 
<p id="2.%20%E5%AE%89%E8%A3%85-toc" style="margin-left:0px;"><a href="#2.%20%E5%AE%89%E8%A3%85" rel="nofollow">2. 安装</a></p> 
<p id="3.%20%E5%AE%9E%E6%88%98%EF%BC%88%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F%EF%BC%89-toc" style="margin-left:0px;"><a href="#3.%20%E5%AE%9E%E6%88%98%EF%BC%88%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F%EF%BC%89" rel="nofollow">3. 实战（猜数游戏）</a></p> 
<p id="4.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#4.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" rel="nofollow">4. 基本概念</a></p> 
<p id="4.1%20%E5%8F%98%E9%87%8F%E7%9A%84%E5%8F%AF%E5%8F%98%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%EF%BC%88mutable%2Fimutable%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.1%20%E5%8F%98%E9%87%8F%E7%9A%84%E5%8F%AF%E5%8F%98%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%EF%BC%88mutable%2Fimutable%EF%BC%89" rel="nofollow">4.1 变量的可变与不可变（mutable/imutable）</a></p> 
<p id="4.2%C2%A0%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F-toc" style="margin-left:40px;"><a href="#4.2%C2%A0%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F" rel="nofollow">4.2 常量与变量</a></p> 
<p id="4.3%C2%A0Shadow(%E5%BD%B1%E5%AD%90%E5%8F%98%E9%87%8F)-toc" style="margin-left:40px;"><a href="#4.3%C2%A0Shadow%28%E5%BD%B1%E5%AD%90%E5%8F%98%E9%87%8F%29" rel="nofollow">4.3 Shadow(影子变量)</a></p> 
<p id="4.4%C2%A0Rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px;"><a href="#4.4%C2%A0Rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" rel="nofollow">4.4 Rust数据类型</a></p> 
<p id="4.5%C2%A0%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#4.5%C2%A0%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B" rel="nofollow">4.5 函数简介</a></p> 
<p id="4.5%20%E6%8E%A7%E5%88%B6%E9%80%BB%E8%BE%91%EF%BC%88if-else%E3%80%81loop%2Fwhile%2Ffor%EF%BC%89-toc" style="margin-left:40px;"><a href="#4.5%20%E6%8E%A7%E5%88%B6%E9%80%BB%E8%BE%91%EF%BC%88if-else%E3%80%81loop%2Fwhile%2Ffor%EF%BC%89" rel="nofollow">4.5 控制逻辑（if-else、loop/while/for）</a></p> 
<hr id="hr-toc"> 
<h2 id="0.%E8%83%8C%E6%99%AF">0.背景</h2> 
<p>据说Rust要引入到Linux源码中，和C一起来做Linux的源码开发，所以凑个热闹，一起看了一下，本文仅作为入门了解，不作为专业介绍，详细专业介绍请参照官网介绍：<a href="https://www.rust-lang.org/" rel="nofollow" title="Rust Programming Language">Rust Programming Language</a></p> 
<p>Rust是一种静态编译型语言，和C类似，简单的理解就是它能做Linux操作系统，应该是挺NB的，具体应用场景，<a href="https://www.rust-lang.org/zh-CN/" rel="nofollow" title="Rust官网首页">Rust官网首页</a>中有明确介绍</p> 
<ul><li>命令行应用（CLI）</li><li>WebAssembly（<a href="https://developer.mozilla.org/zh-CN/docs/WebAssembly" rel="nofollow" title="WebAssembly | MDN">WebAssembly | MDN</a>）</li><li>网络服务（Network）</li><li>嵌入式（Embeded）</li></ul> 
<h2 id="1.%20Hello%20World">1. Hello World</h2> 
<p>免安装在线体验Hello World，入口：<a href="https://play.rust-lang.org/" rel="nofollow" title="Rust Playground">Rust Playground</a>，输入以下代码：</p> 
<pre><code class="language-javascript">fn main() {
    println!("Hellow Rust World! ");
}
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3f/3c/U6dGTTPY_o.png"></p> 
<h2 id="2.%20%E5%AE%89%E8%A3%85">2. 安装</h2> 
<p>到这里下载相应的安装文件就可以了：<a href="https://www.rust-lang.org/zh-CN/learn/get-started" rel="nofollow" title="入门 - Rust 程序设计语言">入门 - Rust 程序设计语言</a></p> 
<p>安装完成后，进入命令行，输入以下命令，这个是编译Rust用的，将rust源码编译成可执行程序，在windows中就是exe的文件：</p> 
<pre><code>rustc --version</code></pre> 
<p>结果</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/54/26/Itv9nJCO_o.png"></p> 
<p>说明安装成功，但其官方推荐的是使用cargo的管理工具，给我的理解cargo与Rust的关系，有点类似npm与js的关系：</p> 
<h2 id="3.%20%E5%AE%9E%E6%88%98%EF%BC%88%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F%EF%BC%89">3. 实战（猜数游戏）</h2> 
<p>我们用cargo创建一个猜数字游戏的命令行应用程序：</p> 
<pre><code>cargo new guessnumber</code></pre> 
<p>找到src目录下的main.rs文件，输入如下代码</p> 
<p><img alt="" height="462" src="https://images2.imgbox.com/ad/a1/z2OJXZ6D_o.png" width="394"></p> 
<pre><code class="language-cpp">use rand::prelude::*;
use std::cmp::Ordering;
use std::io;

fn main() {
    let mut rng = thread_rng();
    let secret_number = rng.gen_range(1..100);

    println!("系统已经生成了一个1-100之间的神秘数字，请猜一下：");
    let mut icount = 0;
    loop {
        icount = icount + 1;
        let mut guess = String::new();
        io::stdin()
            .read_line(&amp;mut guess)
            .expect("没读到您输入的数字!");
        let guess: u32 = match guess.trim().parse(){
            Ok(num) =&gt; num,
            Err(_) =&gt; continue,
        };//.expect("请输入一个数字!");

        match guess.cmp(&amp;secret_number) {
            Ordering::Less =&gt; print!("小了!"),
            Ordering::Greater =&gt; print!("大了!"),
            Ordering::Equal =&gt; {
                println!("NB，猜对了!");
                break;
            }
        }
        println!("再猜一下：");
    }
    println!("一共猜了{}次就猜到了，神秘数字：{}", icount, secret_number);
}
</code></pre> 
<p>编译并运行</p> 
<pre><code>cargo run</code></pre> 
<p>报错了：</p> 
<p><img alt="" height="502" src="https://images2.imgbox.com/29/04/ZkYlO1gQ_o.png" width="754"></p> 
<p>说明缺少依赖包，我们在配置文件（Cargo.toml）里加入依赖：</p> 
<pre><code>[dependencies]
rand = "0.8.0"</code></pre> 
<p><img alt="" height="388" src="https://images2.imgbox.com/52/10/Aoxh3qtw_o.png" width="1200"></p> 
<p>加入后，我们重新运行 cargo run，加入依赖后，会先下载相关依赖，再进行编译运行，所以这里运行有点慢，这个要稍等一下，具体与你的网络有关。（也可参照以下地址配置，选择使用国内镜像：<a href="https://zhuanlan.zhihu.com/p/126204128" rel="nofollow" title="Rust crates 国内镜像源加速配置 - 知乎">Rust crates 国内镜像源加速配置 - 知乎</a>）</p> 
<p><img alt="" height="838" src="https://images2.imgbox.com/4e/9c/Ycz5Da60_o.png" width="1200"></p> 
<p>如何快速猜出这个数字，作为一个专业的程序员，我们可采用2分法来快速定位这个数字是什么，一般来说不出意外的话，6次就可以猜到了：</p> 
<p><img alt="" height="838" src="https://images2.imgbox.com/c7/d6/dkp5bNF8_o.png" width="1200"></p> 
<p>再运行一次：</p> 
<pre><code class="language-bash">PS C:\Users\gear1\rust\guessnumber&gt; cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.05s
     Running `target\debug\guessnumber.exe`
系统已经生成了一个1-100之间的神秘数字，请猜一下：
50
小了!再猜一下：
75
大了!再猜一下：
63
大了!再猜一下：
56
小了!再猜一下：
59
小了!再猜一下：
61
NB，猜对了!
一共猜了6次就猜到了，神秘数字：61
PS C:\Users\gear1\rust\guessnumber&gt; </code></pre> 
<p>这样就真正完成了第一个“实用”的程序</p> 
<h2 id="4.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">4. 基本概念</h2> 
<h3 id="4.1%20%E5%8F%98%E9%87%8F%E7%9A%84%E5%8F%AF%E5%8F%98%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%EF%BC%88mutable%2Fimutable%EF%BC%89">4.1 变量的可变与不可变（mutable/imutable）</h3> 
<p>变量声明，使用let关键字即可，注意<span style="color:#f33b45;">变量默认是不可变</span>的，相当于给定了值就是这个值了，如下图所示</p> 
<pre><code class="language-javascript">fn main() {
    let x = 5;
    println!("The value of x is: {}", x);
    x = 6; //这里会报错，默认变量是不可变的
    println!("The value of x is: {}", x);
}</code></pre> 
<p><img alt="" height="798" src="https://images2.imgbox.com/92/3c/IPcWRj9i_o.png" width="1200"></p> 
<p>如何不出错? 使用<span style="color:#f33b45;">mut</span>关键字</p> 
<pre><code class="language-javascript">fn main() {
    let mut x = 5;
    println!("The value of x is: {}", x);
    x = 6;
    println!("The value of x is: {}", x);
}</code></pre> 
<p><img alt="" height="589" src="https://images2.imgbox.com/c3/11/4FQQVrNl_o.png" width="1200"></p> 
<h3 id="4.2%C2%A0%E5%B8%B8%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F">4.2 常量与变量</h3> 
<p>常量的声明使用const关键字，与变量有什么区别，看个例子：</p> 
<pre><code class="language-javascript">const MAX_HUMAN_HEIGHT: u32 = 300;</code></pre> 
<p>这个是假设定义一个人最大高度的常量为300cm，如果使用变量定义</p> 
<pre><code class="language-javascript">let max_human_height = 300;</code></pre> 
<p>看到区别了吧，常量定义是要指定数据类型的，而变量定义是不需要指定类型的。</p> 
<p><img alt="" height="566" src="https://images2.imgbox.com/3f/c2/EqCNTRbV_o.png" width="1200"></p> 
<h3 id="4.3%C2%A0Shadow(%E5%BD%B1%E5%AD%90%E5%8F%98%E9%87%8F)">4.3 Shadow(影子变量)</h3> 
<p>看例子，下面的代码中对于变量x进行多次的声明，并且新的声明中使用了上次的声明，其实这个也比较容易理解，每次使用let定义变量时，就相当于声明了一个新的变量，与旧的变量毫无关系，在编译运算过程中，使用了旧的指向：</p> 
<pre><code class="language-javascript">fn main() {
    let x = 5;

    let x = x + 1;

    let x = x * 2;

    println!("The value of x is: {}", x);
}</code></pre> 
<p><img alt="" height="551" src="https://images2.imgbox.com/cb/79/l6GYa6Xv_o.png" width="1200"></p> 
<h3 id="4.4%C2%A0Rust%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">4.4 Rust数据类型</h3> 
<p>Rust 是静态类型语言，共4个标量的类型（scalar type）: 整数、浮点、布尔、字符（integers, floating-point numbers, Booleans, and characters），整理了一下，看完就明白了：</p> 
<p><img alt="" height="1031" src="https://images2.imgbox.com/14/4d/8Qw778dC_o.png" width="1200"></p> 
<h3 id="4.5%C2%A0%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B">4.5 函数简介</h3> 
<ol><li>main函数是Rust程序的入口函数，必须要有一个，函数声明</li><li>fn声明函数，函数命名建议为snake模式（全部是小写，使用下划线连接）如下所示</li><li>函数体使用{}进行包裹</li><li>每行代码使用分号（；）结束</li><li>函数体内代码块使用{}包括</li><li>函数返回值，使用 -&gt; 加返回值类型进行</li><li>备注说明使用//</li></ol> 
<pre><code class="language-javascript">//main函数是程序入口，必须要有
fn main() {
    println!("Hello, world!");
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {}", x);
}</code></pre> 
<pre><code class="language-javascript">//DEMO 返回值参数，也可使用return提前返回
//直接在最后一行写返回值时，不能再加分号，否则就会报错
fn five() -&gt; i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {}", x);
}</code></pre> 
<h3 id="4.5%20%E6%8E%A7%E5%88%B6%E9%80%BB%E8%BE%91%EF%BC%88if-else%E3%80%81loop%2Fwhile%2Ffor%EF%BC%89">4.5 控制逻辑（if-else、loop/while/for）</h3> 
<p>以下不作详细介绍，具体看代码就好了</p> 
<pre><code class="language-javascript">fn main() {
    let number = 3;

    if number &lt; 5 {
        println!("condition was true");
    } else {
        println!("condition was false");
    }
}</code></pre> 
<pre><code class="language-javascript">//类似IIF的应用
fn main() {
    let condition = true;
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {}", number);
}</code></pre> 
<pre><code class="language-javascript">//loop 并且带返回值的
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("The result is {}", result);
}</code></pre> 
<p></p> 
<p><img alt="" height="798" src="https://images2.imgbox.com/31/c6/4qg20DOj_o.png" width="1200"></p> 
<pre><code class="language-javascript">fn main() {
    let a = [10, 20, 30, 40, 50];
    let mut index = 0;

    while index &lt; 5 {
        println!("the value is: {}", a[index]);

        index += 1;
    }
}</code></pre> 
<p><img alt="" height="670" src="https://images2.imgbox.com/c5/af/Ewuv0JaF_o.png" width="763"></p> 
<pre><code class="language-javascript">fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a.iter() {
        println!("the value is: {}", element);
    }
}</code></pre> 
<p></p> 
<p><img alt="" height="670" src="https://images2.imgbox.com/e4/8b/YOOvEAqI_o.png" width="763"></p> 
<pre><code class="language-javascript">fn main() {
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}</code></pre> 
<p><img alt="" height="321" src="https://images2.imgbox.com/75/70/H35VuxRJ_o.png" width="621"></p> 
<p>《第一节结束》如有错误疑问可交流作者：微信+13316098767 QQ：380105206</p> 
<p></p> 
<p>为方便有需要的同学交流Rust学习，新建（2022-7-26）了QQ交流学习群：515636037</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f27b9ee22f8a792957952d9b7f4adb1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">机器学习中的概率模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf26f313d3dd7c7ceee7fda01cce2feb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Undo log日志详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>