<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PyQt5入门：一篇就够 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PyQt5入门：一篇就够" />
<meta property="og:description" content="PyQt5入门 （一）、窗口基本功能 1、第一个程序 编写一个PyQt5程序必须使用两个类：QApplication 和 QWidget ，这两个类都在PyQt5.QtWidgets模块中，所以首先要导入这个模块。
QApplication 类的实例表示整个应用程序，该类得构造方法需要传入Python程序得命令行参数（需要导入sys模块）QWidget 类的实例相当于一个窗口show 方法显示串口 import sys from PyQt5.QtWidgets import QApplication, QWidget if __name__ == &#34;__main__&#34;: # 创建QApplication类的实例，并传入命令行参数 app = QApplication(sys.argv) # 创建QWidget类的实例，相当于创建一个窗口 w = QWidget() # 调整窗口的大小（宽，高） w.resize(500, 300) # 移动窗口（显示的相对位置，左，上） w.move(100, 200) # 设置窗口的标题 w.setWindowTitle(&#34;this is a pyqt5 window&#34;) # 显示窗口 w.show() # 进入循环的主循环，并通过exit函数确保主循环安全结束 sys.exit(app.exec_()) 2、为窗口添加图标 import sys from PyQt5.QtWidgets import QApplication, QWidget # 导入QIcon类，用于装载图像文件 from PyQt5.QtGui import QIcon if __name__ == &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/84ab5c42546451a4f1f6d9253686c829/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-19T18:46:05+08:00" />
<meta property="article:modified_time" content="2023-03-19T18:46:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PyQt5入门：一篇就够</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="PyQt5_0"></a>PyQt5入门</h2> 
<h3><a id="_2"></a>（一）、窗口基本功能</h3> 
<h4><a id="1_4"></a>1、第一个程序</h4> 
<p>编写一个PyQt5程序必须使用两个类：<code>QApplication</code> 和 <code>QWidget</code> ，这两个类都在<code>PyQt5.QtWidgets</code>模块中，所以首先要导入这个模块。</p> 
<ul><li><code>QApplication</code> 类的实例表示整个应用程序，该类得构造方法需要传入Python程序得命令行参数（需要导入<code>sys</code>模块）</li><li><code>QWidget</code> 类的实例相当于一个窗口</li><li><code>show</code> 方法显示串口</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token comment"># 创建QApplication类的实例，并传入命令行参数</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    <span class="token comment"># 创建QWidget类的实例，相当于创建一个窗口</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 调整窗口的大小（宽，高）</span>
    w<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    <span class="token comment"># 移动窗口（显示的相对位置，左，上）</span>
    w<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口的标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"this is a pyqt5 window"</span><span class="token punctuation">)</span>
    <span class="token comment"># 显示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 进入循环的主循环，并通过exit函数确保主循环安全结束</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_33"></a>2、为窗口添加图标</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget
<span class="token comment"># 导入QIcon类，用于装载图像文件</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口 位置(左，上) + 尺寸(宽，高)</span>
    w<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"图标效果"</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口图标</span>
    w<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">"./icon.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_54"></a>3、鼠标悬浮显示提示框</h4> 
<ul><li>显示提示框需要使用 <code>QWidget</code>类的<code>setToolTip</code>方法，需要引入<code>QToolTip</code></li><li><code>setToolTip</code> 方法接收一个字符串类型的参数值，作为提示框显示文本；将鼠标放置在设置的区域不动，1秒后显示提示框，如果鼠标不动，提示框会在几秒后消失</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QToolTip<span class="token punctuation">,</span> QPushButton
<span class="token comment"># 引入QFont类，用于设置字体和字号</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QFont

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"显示提示框"</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置提示框中文本的字体和大小</span>
    QToolTip<span class="token punctuation">.</span>setFont<span class="token punctuation">(</span>QFont<span class="token punctuation">(</span><span class="token string">"SansSerif"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 为窗口设置提示框</span>
    w<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">"这是空白窗口"</span><span class="token punctuation">)</span>

    <span class="token comment"># 创建一个按钮（按键名称，按键所属窗口）</span>
    btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Button"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token comment"># 为按键设置提示框</span>
    btn<span class="token punctuation">.</span>setToolTip<span class="token punctuation">(</span><span class="token string">"这是一个按键"</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置按键大小，btn.sizeHint()返回按键最佳大小，也可以输入(宽,高)</span>
    btn<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>btn<span class="token punctuation">.</span>sizeHint<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置按键位置(窗口左边，窗口上边)</span>
    btn<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="4_89"></a>4、关闭窗口</h4> 
<p><strong>QCoreApplication类是一个基础的应用程序类，它提供了Qt应用程序的事件循环、命令行参数处理、消息翻译和应用程序版本号等基本功能。它是PyQt5应用程序的基础，可以用来实现很多不同类型的应用程序。</strong></p> 
<ul><li>关闭窗口可以使用系统内置的<code>quit</code>方法</li><li>如果要通过按键关闭窗口，可以间按键的单击事件与<code>quit</code>绑定</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton
<span class="token comment"># 绑定事件基于QCoreApplication，也可基于QApplication</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QCoreApplication


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"关闭窗口事件绑定"</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    btn_quit <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token comment"># 按键绑定quit事件</span>
    btn_quit<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>QCoreApplication<span class="token punctuation">.</span>instance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>quit<span class="token punctuation">)</span>
    <span class="token comment"># 写法2：btn_quit.clicked.connect(QApplication.instance().quit)</span>
    btn_quit<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>btn_quit<span class="token punctuation">.</span>sizeHint<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    btn_quit<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="5_119"></a>5、消息盒子</h4> 
<p><strong>消息盒子（MessageBox）其实就是各种类型的消息对话框，如消息对话框、警告对话框、询问对话框等</strong></p> 
<ul><li>主要组成：图标，提示信息，按键</li></ul> 
<p><strong><code>QMessageBox</code>类提供了若干个静态方法可以显示各种类型的对话框</strong></p> 
<ul><li><code>information</code>方法用于显示信息对话框</li><li><code>warning</code>方法用于显示警告对话框</li><li><code>question</code>方法用于显示询问对话框</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QMessageBox


<span class="token keyword">class</span> <span class="token class-name">MessageBox</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 初始化窗口</span>
        self<span class="token punctuation">.</span>initWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initWindow</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"消息盒子"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># pyqt5 默认方法，这里是重写closeEvent方法</span>
    <span class="token keyword">def</span> <span class="token function">closeEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 显示询问对话框(窗口，标题，询问框内容，询问框含有的按键，默认选择的按键)</span>
        reply <span class="token operator">=</span> QMessageBox<span class="token punctuation">.</span>question<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">"消息"</span><span class="token punctuation">,</span> <span class="token string">"确定要退出吗？"</span><span class="token punctuation">,</span> QMessageBox<span class="token punctuation">.</span>Yes <span class="token operator">|</span> QMessageBox<span class="token punctuation">.</span>No<span class="token punctuation">,</span> QMessageBox<span class="token punctuation">.</span>No<span class="token punctuation">)</span>
        <span class="token comment"># 不加以下判断，不管选择yes还是no都会关闭窗口</span>
        <span class="token keyword">if</span> reply <span class="token operator">==</span> QMessageBox<span class="token punctuation">.</span>Yes<span class="token punctuation">:</span>
            <span class="token comment"># 调用event的accept方法关闭窗口</span>
            event<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 调用event的ignore方法取消关闭窗口</span>
            event<span class="token punctuation">.</span>ignore<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    ex <span class="token operator">=</span> MessageBox<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="6_166"></a>6、窗口居中</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget


<span class="token keyword">class</span> <span class="token class-name">CenterWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>CenterWindow<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token comment"># 调用center方法将窗口在屏幕中心显示</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"窗口居中"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        desktop <span class="token operator">=</span> app<span class="token punctuation">.</span>desktop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 需要int类型的数据，float可能在后续版本会删除</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>desktop<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>desktop<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    ex <span class="token operator">=</span> CenterWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>代码改进（将app写入类中）</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget


<span class="token keyword">class</span> <span class="token class-name">CenterWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> app<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>CenterWindow<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>app <span class="token operator">=</span> app
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token comment"># 调用center方法将窗口在屏幕中心显示</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"窗口居中"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        desktop <span class="token operator">=</span> self<span class="token punctuation">.</span>app<span class="token punctuation">.</span>desktop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 需要int类型的数据，float可能在后续版本会删除</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>desktop<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>desktop<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    ex <span class="token operator">=</span> CenterWindow<span class="token punctuation">(</span>app<span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_231"></a>（二）、布局</h3> 
<h4><a id="1_233"></a>1、绝对布局</h4> 
<p><strong>绝对布局非常灵活，但是又局限性</strong></p> 
<ul><li>不会随着窗口的变化而变化</li><li>无法使用不同平台和不同分辨率的显示器</li><li>更改字体大小会破坏布局</li><li>重构时，需要对每个控件重新设置</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel


<span class="token keyword">class</span> <span class="token class-name">AbsoluteLayout</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>AbsoluteLayout<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"绝对布局"</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置一个标签（标签名，显示在哪个窗口）</span>
        lb1 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 将lb1置于(20, 10)这个位置</span>
        lb1<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
        lb2 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        lb2<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
        lb3 <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        lb3<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> AbsoluteLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_272"></a>2、盒布局</h4> 
<p><strong>使用盒布局能让程序具有更强的适应性。盒布局分为： 水平盒布局<code>QHBoxLayout</code> 和 垂直盒布局<code>QVBoxLayout</code></strong></p> 
<ul><li>水平盒布局是将控件沿水平反向摆放</li><li>垂直盒布局是将控件沿垂直反向摆放</li></ul> 
<p><strong>如果要对控件使用盒布局，需要通过盒布局对象的<code>addWidget</code>方法将控件添加到盒布局中。如果要将一个布局添加到盒布局中作为子布局存在，需要通过盒布局对象的<code>addLayout</code>方法将布局对象添加到盒布局中。</strong></p> 
<p>例子：在屏幕右下角放置两个按键，思路：</p> 
<ol><li>先建立一个水平盒布局，让两个按键始终在右侧</li><li>然后建立一个垂直盒布局，将水平盒布局添加到垂直盒布局中</li><li>最后让垂直盒布局始终在屏幕下方</li></ol> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QHBoxLayout<span class="token punctuation">,</span> QVBoxLayout


<span class="token keyword">class</span> <span class="token class-name">BoxLayout</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>BoxLayout<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        btn_ok <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"确定"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        btn_cancel <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"取消"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>

        <span class="token comment"># 创建 水平盒布局 对象</span>
        hbox <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加空白弹性空间，让两个按钮始终在窗口的右侧</span>
        hbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 将按键添加到布局中</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_ok<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_cancel<span class="token punctuation">)</span>

        <span class="token comment"># 创建 垂直盒布局 对象</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加空白弹性空间，让两个按钮始终在窗口的下方</span>
        vbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 将上面的 水平盒布局 添加到 垂直盒布局中</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox<span class="token punctuation">)</span>

        <span class="token comment"># 显示布局（最终的布局）</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"盒布局"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> BoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3_330"></a>3、网格布局</h4> 
<p><strong>网格布局相当于一个二维表，将窗口划分为若干个行 和 若干个列。一个控件可以摆放在一个单元格中，也可以横跨多行多列。</strong></p> 
<ul><li>网格布局用<code>QGridLayout</code>类表示</li><li>该类常用的方法是<code>addWidget</code>，可以将一个控件添加到网格布局中，并指定该控件从第几行第几列开始，以及张勇几行几列</li><li>还可以使用<code>addSpacing</code>方法指定在水平和垂直方向单元格之间的距离</li></ul> 
<p>例子：创建一个提交数据的表单窗口，包含 QLabel控件 和 三个文本编辑框（QLineEdit 和 QTextEdit）</p> 
<ul><li><code>QLineEdit</code>：单行文本编辑框</li><li><code>QTextEdit</code>：多行文本编辑框</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QGridLayout<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QTextEdit


<span class="token keyword">class</span> <span class="token class-name">GridLayout</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>GridLayout<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        title <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"标题"</span><span class="token punctuation">)</span>
        author <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"作者"</span><span class="token punctuation">)</span>
        content <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"内容"</span><span class="token punctuation">)</span>
        titleEdit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        authorEdit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        contentEdit <span class="token operator">=</span> QTextEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建网格布局对象</span>
        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置单元格之间的距离</span>
        grid<span class="token punctuation">.</span>setSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># 向网格布局添加控件，(控件名，行，列)，起始值为0</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 将title这个控件置于 第2行，第1列</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>titleEdit<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>author<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>authorEdit<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token comment"># QTextEdit 不设置占用空间会应用在所剩下的空白区域</span>
        <span class="token comment"># grid.addWidget(contentEdit, 3, 1)</span>
        <span class="token comment"># 设置占用空间 (控件，起始行，起始列，占用多少行，占用多少列)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>contentEdit<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># 将网格布局应用到当前窗口</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"网格布局"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> GridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/eb/65/JCym9bRd_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_393"></a>（三）、控件</h3> 
<h4><a id="1QPushButton_395"></a>1、QPushButton控件</h4> 
<p><strong>QPushButton是一个按钮控件，支持两种状态，一种是<code>Normal</code>状态，另外一种是<code>Checked</code>状态</strong></p> 
<ul><li>Normal 状态就是未按下的状态</li><li>Checked 状态就是被按下的状态，按下后颜色变成蓝色，表示被选中</li></ul> 
<p>例子：用三个按键控制 <code>QFrame</code> 控件的背景颜色</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QGridLayout<span class="token punctuation">,</span> QFrame
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QColor


<span class="token keyword">class</span> <span class="token class-name">PushButton</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>PushButton<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 初始化颜色为黑色</span>
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> QColor<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

        btn_red <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"红"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        btn_green <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"绿"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        btn_blue <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"蓝"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 将按键设为 可选中 状态，点击按钮后，按键状态将保持在选中(checked)状态，再次点击后将取消选中状态</span>
        btn_red<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        btn_green<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        btn_blue<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token comment"># 按键是否按下装换成 bool型数据(True, False) 传递到下面的 setColor 方法中，设置self.color的颜色</span>
        btn_red<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>
        btn_green<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>
        btn_blue<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>frame_show <span class="token operator">=</span> QFrame<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>frame_show<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token comment"># setStyleSheet()设置QFrame背景颜色，默认语句是：frame_show.setStyleSheet("background-color: red")</span>
        self<span class="token punctuation">.</span>frame_show<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>setSpacing<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_red<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_green<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_blue<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>frame_show<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QPushButton控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">setColor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pressed<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># QWidget.sender() 返回发送信号的对象，获取单击了哪个按键</span>
        source <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置颜色的rgb值，按下设置255，没按下设置0</span>
        <span class="token keyword">if</span> pressed<span class="token punctuation">:</span>
            flag <span class="token operator">=</span> <span class="token number">255</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            flag <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">if</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"红"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setRed<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"绿"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setGreen<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"蓝"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setBlue<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>frame_show<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> PushButton<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 解释：</span>
<span class="token comment"># 1、pressed 是 setColor 的一个参数，这个参数来源：</span>
<span class="token comment"># btn_red.clicked[bool].connect(self.setColor)</span>
<span class="token comment"># btn_green.clicked[bool].connect(self.setColor)</span>
<span class="token comment"># btn_blue.clicked[bool].connect(self.setColor)</span>
<span class="token comment"># 2、按键按下即发送一个信号给 setColor，可以使用任意参数名来接收这个信号，这里用pressed</span>
<span class="token comment"># 3、只要有按键按下，即设置255，按键释放即设置0，然后再判断是哪个按键按下，将255或0赋值给指定颜色</span>

<span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 将按键设为 可选中 状态，点击按钮后，按键状态将保持在选中(checked)状态，再次点击后将取消选中状态</span>
        btn_red<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        btn_green<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        btn_blue<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token comment"># 按键是否按下装换成 bool型数据(True, False) 传递到下面的 setColor 方法中，设置self.color的颜色</span>
        btn_red<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>
        btn_green<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>
        btn_blue<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span><span class="token builtin">bool</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>setColor<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">setColor</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> pressed<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># QWidget.sender() 返回发送信号的对象，获取单击了哪个按键</span>
        source <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置颜色的rgb值，按下设置255，没按下设置0</span>
        <span class="token keyword">if</span> pressed<span class="token punctuation">:</span>
            flag <span class="token operator">=</span> <span class="token number">255</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            flag <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">if</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"红"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setRed<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"绿"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setGreen<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> source<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"蓝"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>setBlue<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>frame_show<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>color<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2QLineEdit_511"></a>2、QLineEdit控件</h4> 
<p><strong>单行文本编辑框</strong></p> 
<p>例子：QLineEdit中输入内容，会同步显示再QLabel控件中</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QGridLayout


<span class="token keyword">class</span> <span class="token class-name">LineEdit</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>LineEdit<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        lineEdit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>setSpacing<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lineEdit<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>

        <span class="token comment"># 将QLineEdit中的数据发送到下面的 changeText 方法中(使用textChanged方法)</span>
        lineEdit<span class="token punctuation">.</span>textChanged<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeText<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QLineEdit控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">changeText</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        <span class="token comment"># 将QLabel设置成自适应</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>adjustSize<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> LineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3QCheckBox_556"></a>3、QCheckBox控件</h4> 
<p><strong>QCheckBox控件常用的事件是<code>stateChanged</code>，当QCheckBox控件选中状态发生变化是会触发该事件</strong></p> 
<p>例子：勾选改变title</p> 
<ul><li>此方法是通过 sender 方法接收信号，一次只能接收一个信号，导致与我们要的效果不符</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QCheckBox<span class="token punctuation">,</span> QGridLayout
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> Qt


<span class="token keyword">class</span> <span class="token class-name">CheckBox</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>CheckBox<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        checkBox_A <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        checkBox_B <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        checkBox_C <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        checkBox_D <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 默认选中A</span>
        checkBox_A<span class="token punctuation">.</span>toggle<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 将 changeTitle 方法与 QCheckBox控件 的 stateChanged事件 绑定</span>
        checkBox_A<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        checkBox_B<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        checkBox_C<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        checkBox_D<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>

        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>setSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>checkBox_A<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>checkBox_B<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>checkBox_C<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>checkBox_D<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QCheckBox控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">changeTitle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 返回发送信号</span>
        sender <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> sender<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"A"</span><span class="token punctuation">:</span>
            <span class="token comment"># Qt.Checked 是一个变量，表示选中状态</span>
            <span class="token keyword">if</span> state <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Checked<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"B"</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> state <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Checked<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"C"</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> state <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Checked<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"D"</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> state <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Checked<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> CheckBox<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>改进：通过判断 全局按键 是否按压，并将数据导入列表中来实现</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QCheckBox<span class="token punctuation">,</span> QGridLayout
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> Qt


<span class="token keyword">class</span> <span class="token class-name">CheckBox</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>CheckBox<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>checkBox_A <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_B <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_C <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_D <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 默认选中A</span>
        <span class="token comment"># self.checkBox_A.toggle()</span>

        <span class="token comment"># 将 changeTitle 方法与 QCheckBox控件 的 stateChanged事件 绑定</span>
        self<span class="token punctuation">.</span>checkBox_A<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_B<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_C<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>checkBox_D<span class="token punctuation">.</span>stateChanged<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeTitle<span class="token punctuation">)</span>

        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>setSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>checkBox_A<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>checkBox_B<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>checkBox_C<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
        grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>checkBox_D<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QCheckBox控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">changeTitle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">:</span>
        title <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>checkBox_A<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            title<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>checkBox_B<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            title<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>checkBox_C<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            title<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>checkBox_D<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            title<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span>

        totalTitle <span class="token operator">=</span> <span class="token string">","</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>title<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span>totalTitle<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> CheckBox<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_QRadionButton_686"></a>4、 QRadionButton控件</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QRadioButton<span class="token punctuation">,</span> QVBoxLayout


<span class="token keyword">class</span> <span class="token class-name">RadioButton</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>RadioButton<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>btn_radio_a <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 默认选中</span>
        self<span class="token punctuation">.</span>btn_radio_a<span class="token punctuation">.</span>setChecked<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token comment"># 发送被选中的按键的信息</span>
        self<span class="token punctuation">.</span>btn_radio_a<span class="token punctuation">.</span>toggled<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>radioToggle<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>btn_radio_b <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn_radio_b<span class="token punctuation">.</span>toggled<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>radioToggle<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>btn_radio_c <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn_radio_c<span class="token punctuation">.</span>toggled<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>radioToggle<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>btn_radio_d <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn_radio_d<span class="token punctuation">.</span>toggled<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>radioToggle<span class="token punctuation">)</span>

        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_radio_a<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_radio_b<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_radio_c<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_radio_d<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QRadioButton控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">radioToggle</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        sender <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> sender <span class="token operator">==</span> self<span class="token punctuation">.</span>btn_radio_a <span class="token keyword">and</span> self<span class="token punctuation">.</span>btn_radio_a<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender <span class="token operator">==</span> self<span class="token punctuation">.</span>btn_radio_b <span class="token keyword">and</span> self<span class="token punctuation">.</span>btn_radio_b<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender <span class="token operator">==</span> self<span class="token punctuation">.</span>btn_radio_c <span class="token keyword">and</span> sender<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> sender <span class="token operator">==</span> self<span class="token punctuation">.</span>btn_radio_d <span class="token keyword">and</span> sender<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> RadioButton<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="5QSlider_744"></a>5、QSlider控件</h4> 
<p><strong>QSlider滑块控件，用于控制值在一定的范围变化。</strong></p> 
<ul><li>可以将<code>QSlider</code>控件的<code>valueChanged</code>事件与一个方法绑定，用来监听滑块移动的动作。</li><li>可以使用<code>setMinimum</code>方法和<code>setMaximum</code>设置滑块的限度（变化的最小值和最大值）</li></ul> 
<p>例子：QSlider 改变 QLabel 的值</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QSlider<span class="token punctuation">,</span> QLabel
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt


<span class="token keyword">class</span> <span class="token class-name">Slider</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Slider<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 创建滑块 (滑块移动的方向，所在位置)</span>
        sld <span class="token operator">=</span> QSlider<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>Horizontal<span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        sld<span class="token punctuation">.</span>setMinimum<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        sld<span class="token punctuation">.</span>setMaximum<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>
        sld<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        <span class="token comment"># 事件绑定</span>
        sld<span class="token punctuation">.</span>valueChanged<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeValue<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QSlider控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">changeValue</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> Slider<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="6QProgressBar_790"></a>6、QProgressBar控件</h4> 
<p><strong>QProgressBar 是进度条控件，效果与 <code>QSlider</code>控件类似，只是没有滑块</strong></p> 
<ul><li>要改变<code>QProgressBar </code>控件的当前值，需要通过<code>QProgressBar</code>控件的<code>setValue</code>方法</li><li><code>QProgressBar </code>控件默认最小值为0，默认最大值为100，可以使用<code>setMinimum</code>方法和<code>setMaximum</code>设置最小值和最大值</li><li>可以通过<code>minimum</code>和<code>maximum</code>方法获取最小值和最大值</li></ul> 
<p>例子：点击按键开始，开始计时（按键变成取消），100ms更新一次QProgressBar控件的值，直到最大值</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QProgressBar<span class="token punctuation">,</span> QPushButton
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QBasicTimer


<span class="token keyword">class</span> <span class="token class-name">ProgressBar</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>ProgressBar<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>pbar <span class="token operator">=</span> QProgressBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>pbar<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"开始"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">440</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>changeButtonState<span class="token punctuation">)</span>

        <span class="token comment"># 创建定时器</span>
        self<span class="token punctuation">.</span>timer <span class="token operator">=</span> QBasicTimer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 初始化QProgressBar的值</span>
        self<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QProgressBar控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">changeButtonState</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>isActive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"继续"</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 启动定时器，时间间隔是100ms</span>
            self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"暂停"</span><span class="token punctuation">)</span>

    <span class="token comment"># 定时器调用的方法，名字必须是timeEvent</span>
    <span class="token keyword">def</span> <span class="token function">timerEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> e<span class="token punctuation">:</span> <span class="token string">'QTimerEvent'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>value <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>timer<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"完成"</span><span class="token punctuation">)</span>
            <span class="token comment"># return 空，程序结束才不会自动退出</span>
            <span class="token keyword">return</span> 
        self<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token comment"># 更新QProgressBar的值</span>
        self<span class="token punctuation">.</span>pbar<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> ProgressBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="7QPixmap_855"></a>7、QPixmap控件</h4> 
<p><strong>QPixmap是用于显示图像的控件，通过<code>QPixmap</code>类的构造方法可以指定要显示的图像文件名</strong></p> 
<p>例子：在窗口的左边显示一张照片</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QHBoxLayout
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QPixmap


<span class="token keyword">class</span> <span class="token class-name">Pixmap</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Pixmap<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        pixmap <span class="token operator">=</span> QPixmap<span class="token punctuation">(</span><span class="token string">"./icon.png"</span><span class="token punctuation">)</span>
        label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        label<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>pixmap<span class="token punctuation">)</span>

        hbox <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>label<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>hbox<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QPixmap控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> Pixmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="8QComboBox_892"></a>8、QComboBox控件</h4> 
<p><strong>QComboBox 是下拉列表控件，允许在列表中显示多个值，并且选择其中一个</strong></p> 
<ul><li>可以使用<code>QComboBox</code>对象的<code>addItem</code>方法添加列表项，并通过<code>QComboBox</code>控件的<code>activated</code>事件处理选择列表项的动作</li></ul> 
<p>例子：QComboBox 选中后将数据显示在 QLabel 中</p> 
<p><strong>注意：<code>setFixedSize()</code> 方法将控件大小限制为一个固定的值，而 <code>resize()</code> 方法允许控件的大小随着内容的改变而自适应</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QComboBox<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QHBoxLayout<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt


<span class="token keyword">class</span> <span class="token class-name">ComboBox</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>ComboBox<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        combobox <span class="token operator">=</span> QComboBox<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        <span class="token comment"># 设置控件的固定长宽</span>
        combobox<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        <span class="token comment"># 将显示内容居中(需要开启编辑功能)</span>
        combobox<span class="token punctuation">.</span>setEditable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        combobox<span class="token punctuation">.</span>lineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        <span class="token comment"># 添加数据</span>
        combobox<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 默认不选择数据(当前的索引为-1)，要在数据设置之后才会生效</span>
        combobox<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        combobox<span class="token punctuation">.</span>activated<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>showComboBoxItem<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"None"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 将显示内容居中</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        <span class="token comment"># 为QLabel添加背景颜色</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"#3399FF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


        hbox <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>combobox<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token punctuation">)</span>

        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"QComboBox控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">showComboBoxItem</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>text<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> ComboBox<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="9QCalendarWidget_958"></a>9、QCalendarWidget控件</h4> 
<p><strong>QCalendarWidget 是用于显示日历的控件，可以按年、月显示日历</strong></p> 
<ul><li>通过<code>setGridVisibel</code>方法可以设置是否在日期中显示网格</li><li>通过绑定 <code>clicked</code>事件，可以处理单击日历某一天的动作</li></ul> 
<p>例子：单击 QCalendarWidget 控件的某一天时，会在 QLable控件 中显示这一天的完整日期（包括星期）</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QCalendarWidget<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QLabel
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt<span class="token punctuation">,</span> QDate


<span class="token keyword">class</span> <span class="token class-name">CalendarWidget</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>CalendarWidget<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        calendar <span class="token operator">=</span> QCalendarWidget<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        <span class="token comment"># 显示日历网格</span>
        calendar<span class="token punctuation">.</span>setGridVisible<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token comment"># 绑定事件</span>
        calendar<span class="token punctuation">.</span>clicked<span class="token punctuation">[</span>QDate<span class="token punctuation">]</span><span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>showDate<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"None"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setFixedHeight<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">"#0099FF"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>calendar<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>label<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"CalendarWidget控件"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">showDate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">:</span>
        strDate <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        strDateList <span class="token operator">=</span> strDate<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>
        setDate <span class="token operator">=</span> strDateList<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"年-"</span> <span class="token operator">+</span> strDateList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> strDateList<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"日-"</span> <span class="token operator">+</span> strDateList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>label<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>setDate<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> CalendarWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_1012"></a>（四）、菜单</h3> 
<p><strong>调用 <code>QMainWindow</code>类的 <code>menuBar</code>方法可以获得主窗口的 <code>QMenuBar</code>对象，该对象表示主窗口的菜单栏</strong></p> 
<ul><li>通过 <code>QMenuBar</code>对象的<code>addMenu</code>方法可以在菜单栏中添加菜单项，然后通过<code>addAction</code>方法添加子菜单项</li><li><code>QMainWindow.menuBar()</code>：菜单栏对象</li><li><code>addMenu</code>：一级菜单</li><li><code>QMenu</code>：二级菜单，可以在其内部添加QAction或三级菜单</li><li><code>QAction</code>：最小级别的菜单，不能在其内部添加二级菜单</li></ul> 
<p>例子：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QAction<span class="token punctuation">,</span> QMenu


<span class="token keyword">class</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Menu<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># menuBar = QMenuBar(self) 这样生成的菜单栏不能自适应宽度</span>
        <span class="token comment"># 改进，使用QMainWindow.menuBar()</span>
        menuBar <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>

        fileMenu <span class="token operator">=</span> menuBar<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"文件"</span><span class="token punctuation">)</span>
        fMNew <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"新建"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        fMOpen <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"打开"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 绑定事件</span>
        fMOpen<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">)</span>
        fMExit <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 添加快捷键，并显示</span>
        fMExit<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">"Ctrl+Q"</span><span class="token punctuation">)</span>
        <span class="token comment"># 调用内部方法关闭</span>
        fMExit<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close<span class="token punctuation">)</span>
        fMSave <span class="token operator">=</span> QMenu<span class="token punctuation">(</span><span class="token string">"保存"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        fMS1 <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"保存为.txt"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        fMS1<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>saveAsTxt<span class="token punctuation">)</span>
        fMS2 <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"保存为.csv"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        fMS3 <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"保存为.md"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        fMSave<span class="token punctuation">.</span>addActions<span class="token punctuation">(</span><span class="token punctuation">[</span>fMS1<span class="token punctuation">,</span> fMS2<span class="token punctuation">,</span> fMS3<span class="token punctuation">]</span><span class="token punctuation">)</span>
        fileMenu<span class="token punctuation">.</span>addActions<span class="token punctuation">(</span><span class="token punctuation">[</span>fMNew<span class="token punctuation">,</span> fMOpen<span class="token punctuation">,</span> fMExit<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加分割线</span>
        fileMenu<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># fMSave 包含 子菜单，所以要用 addMenu 添加到菜单栏中</span>
        fileMenu<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span>fMSave<span class="token punctuation">)</span>

        editMenu <span class="token operator">=</span> menuBar<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"编辑"</span><span class="token punctuation">)</span>
        eMCopy <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"复制"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        eMPaste <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"粘贴"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        eMDelete <span class="token operator">=</span> QMenu<span class="token punctuation">(</span><span class="token string">"删除"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        eMD1 <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"删除当前"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        eMD2 <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"删除全部"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        eMDelete<span class="token punctuation">.</span>addActions<span class="token punctuation">(</span><span class="token punctuation">[</span>eMD1<span class="token punctuation">,</span> eMD2<span class="token punctuation">]</span><span class="token punctuation">)</span>
        editMenu<span class="token punctuation">.</span>addActions<span class="token punctuation">(</span><span class="token punctuation">[</span>eMCopy<span class="token punctuation">,</span> eMPaste<span class="token punctuation">]</span><span class="token punctuation">)</span>
        editMenu<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        editMenu<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span>eMDelete<span class="token punctuation">)</span>

        helpMenu <span class="token operator">=</span> menuBar<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"帮助"</span><span class="token punctuation">)</span>
        hMAbout <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">"关于"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        helpMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>hMAbout<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"菜单"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 响应菜单的方法 就写几个(文件-打开)、(文件-保存-保存为.txt)示范</span>
    <span class="token keyword">def</span> <span class="token function">open</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"打开"</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">saveAsTxt</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"保存为.txt"</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    LW <span class="token operator">=</span> Menu<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a3240111acc41e4cddc7feca36a522ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LINUX 下 用C语言编写 TCP/IP通信的 sqlite3数据库服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a8a02620e06b0294b190aa417d583aa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java学习第一部分题目合集（pta）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>