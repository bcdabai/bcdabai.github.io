<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CL &amp; LINK的命令行用法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CL &amp; LINK的命令行用法" />
<meta property="og:description" content="CL.exe 是控制 Microsoft C 和 C&#43;&#43; 编译器与链接器的 32 位工具。编译器产生通用对象文件格式 (COFF) 对象 (.obj) 文件。链接器产生可执行文件 (.exe) 或动态链接库文件 (DLL)。
注意，所有编译器选项都区分大小写。
用法如下：
CL [option...] file... [option | file]... [lib...] [@command-file] [/link link-opt...]
option : 一个或多个 CL 选项。请注意，所有选项都应用于所有指定的源文件。选项是由一个
正斜杠 (/) 或一个短划线 (-) 指定的。如果某个选项带有参数，则该选项的说明指
定在选项和参数之间是否允许有空格。选项名（/HELP 选项除外）区分大小写。有关
更多信息，请参见 CL 选项的顺序。
/c : 编译但不链接
/Zs : 检查语法 /? : 列出编译器选项 /arch : 使用 SSE 或 SSE2 指令生成代码 /arch:SSE2 /clr : 启用 C&#43;&#43; 的托管扩展并产生在公共语言运行库上运行的输出文件 /F : 设置堆栈大小 | 此选项设置程序堆栈大小（以字节为单位）。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/102cc73aedc7d175c9109ad9a9003dc0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-12-12T12:47:19+08:00" />
<meta property="article:modified_time" content="2011-12-12T12:47:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CL &amp; LINK的命令行用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                      
<p><span style="color:#333333">CL.exe 是控制 Microsoft C 和 C++ 编译器与链接器的 32 位工具。编译器产生通用对象文件格式 (COFF) <br> 对象 (.obj) 文件。链接器产生可执行文件 (.exe) 或动态链接库文件 (DLL)。<br> <br> 注意，所有编译器选项都区分大小写。<br> 用法如下：<br> CL [option...] file... [option | file]... [lib...] [@command-file] [/link link-opt...]<br> <br> option : 一个或多个 CL 选项。请注意，所有选项都应用于所有指定的源文件。选项是由一个<br> 正斜杠 (/) 或一个短划线 (-) 指定的。如果某个选项带有参数，则该选项的说明指<br> 定在选项和参数之间是否允许有空格。选项名（/HELP 选项除外）区分大小写。有关<br> 更多信息，请参见 CL 选项的顺序。<br> /c : 编译但不链接<br> /Zs : 检查语法 <br> /? : 列出编译器选项 <br> /arch : 使用 SSE 或 SSE2 指令生成代码 <br> /arch:SSE2 <br> /clr : 启用 C++ 的托管扩展并产生在公共语言运行库上运行的输出文件 <br> /F : 设置堆栈大小 | 此选项设置程序堆栈大小（以字节为单位）。<br> 如果不使用此选项，堆栈大小默认为 1 MB<br> /F 100<br> /Fe : 重命名可执行文件<br> /Feexe.exe <br> /G7 ：针对 Pentium 4 或 Athlon 优化代码。 <br> /GA ：优化 Windows 应用程序的代码 <br> /GL ：启用全程序优化 <br> /Gm ：启用最小重新生成 <br> /HELP ：列出编译器选项 <br> /I ：在目录中搜索包含文件 | 指定源文件目录 include<br> /I"e:\VC\include"<br> /link : 将指定的选项传递给 LINK <br> /MD : 使用 MSVCRT.lib 创建多线程 DLL <br> /ML : 使用 LIBC.lib 创建单线程可执行文件 <br> /MT : 使用 LIBCMT.lib 创建多线程可执行文件 <br> /O1 : 创建小代码 <br> /O2 : 创建快速代码 <br> /Os : 代码大小优先 <br> /W : 设置警告等级 <br> /W3<br> ------------------------------<br> /Ot : 代码速度优先 <br> /LD : 创建动态链接库<br> /Ox : 使用最大优化<br> <br> /Zs : 只检查语法<br> ------------------------------<br> /TC : 指定 C 源文件 <br> /TP : 指定 C++ 源文件 <br> -----------------------------------------------------------------------------------------<br> file : 一个或多个源文件、.obj 文件或库的名称。CL 编译源文件并将 .obj 文件和库的名<br> 称传递给链接器。有关更多信息，请参见 CL 文件名语法。 <br> lib : 一个或多个库名。CL 将这些名称传递给链接器。 <br> command-file: 包含多个选项和文件名的文件。有关更多信息，请参见 CL 命令文件。 <br> link-opt : 一个或多个链接器选项。CL 将这些选项传递给链接器 <br> ---------------------------------------------------------------------------------------------<br> 精典用法:<br> cl *.cpp /G7 /MD /Ox /Ot /W3 /c /EHsc /I"G:\Visual C++\VC98\PlatformSDK\Include"<br> ---------------------------------------------------------------------------------------------<br> LINK 是将通用对象文件格式 (COFF) 对象文件和库链接起来以创建 32 位可执行 (.exe) 文件或动态链接<br> 库 (DLL) 的 32 位工具。<br> <br> LINK 用法如下：<br> <br> /ALIGN 指定每一节的对齐方式 <br> /ALIGN 选项指定程序线性地址空间中每一节的对齐方式。number 参数以字节为单位，并且必须是2 的幂。默认值是 4K (4096)。如果对齐方式产生<br> 无效的图像，则链接器发出警告。除非正<br> 在编写诸如设备驱动程序的应用程序，否则应不需要修改对齐方式。<br> /DLL 生成 DLL <br> /DRIVER 创建 Windows NT 核心模式驱动程序 <br> /EXETYPE 生成虚拟设备驱动程序 <br> /EXETYPE：DYNAMIC 创建动态加载的虚拟设备驱动程序。 <br> /EXETYPE：DEV386 创建静态加载的虚拟设备驱动程序。这是 /EXETYPE 的默认值<br> /INCREMENTAL 控制增量链接 <br> /LARGEADDRESSAWARE 通知编译器应用程序支持大于 2 GB 的地址 <br> /LIBPATH 允许用户重写环境库路径 <br> /LIBPATH："e:\VC\LIB" /LIBPATH："e:\DX\LIB"<br> /MACHINE 指定目标平台 <br> ` /MACHINE:{AM33|ARM|EBC|IA64|M32R|MIPS|MIPS16|MIPSFPU|MIPSFPU16|<br> MIPSR41XX|SH3|SH3DSP|SH4|SH5|THUMB|X86| X64/*8.0版本*/}<br> /MACHINE:X86<br> /NOENTRY 创建纯资源 DLL <br> 创建纯资源 DLL 时要求 /NOENTRY 选项。<br> /OPT 控制 LINK 优化<br> 如果生成仅运行于 Windows NT 或 Windows 2000 上的组件，则应使用 /OPT:NOWIN98。<br> /SUBSYSTEM: 指定子系统 <br> {CONSOLE|EFI_APPLICATION|EFI_BOOT_SERVICE_DRIVER|<br> EFI_ROM|EFI_RUNTIME_DRIVER|NATIVE|POSIX|WINDOWS|<br> WINDOWSCE}[,#[.##]]<br> /OUT 指定输出文件名 <br> /OUT:Hello.exe<br> <br> 精典用法:<br> link *.obj rc.res /LIBPATH:"G:\Visual C++\lib" /SUBSYSTEM:WINDOWS /MACHINE:X86 kernel32.lib user32.lib gdi32.lib winspool.lib comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib uuid.lib odbc32.lib odbccp32.lib OpenGL32.Lib<br> <br> rc 是资源编译<br> /l 列出资源用的区域性 <br> 0x804 中国<br> 0x409 美国 <br> 用法:<br> rc /l 0x804 file.rc<br> <br> ---------------------------------------------------------------------------------------------<br> MFC 开发如下：<br> 编译源代码:<br> cl *.cpp /Ox /Ot /G7 /D "WIN32" /D "_WINDOWS" /D "_AFXDLL" /EHsc /MD /arch:SSE2 /W3 /c<br> 资源编译 :<br> rc /l 0x804 winmfc.rc<br> 链接 :<br> link *.obj WinMFC.res /out:WinMFC.exe /OPT:NOWIN98 /SUBSYSTEM:WINDOWS /MACHINE:X86</span></p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cb8393b579fea17780a166a56370c112/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">程序员的自我经营之道第三层</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cc89b89095bf811d113dc76c59df860e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">struts的DevMode模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>