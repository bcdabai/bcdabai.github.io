<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HDFS常用命令汇总 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HDFS常用命令汇总" />
<meta property="og:description" content="HDFS常用命令汇总 一、前言信息二、帮助信息查看1、查看帮助信息2、帮助文档（附带命令的详细说明） 三、常用命令1、创建目录2、查看目录下的内容3、上传文件4、上传并删除源文件5、查看文件内容6、查看文件开头内容7、查看文件末尾内容8、下载文件9、合并下载文件10、拷贝文件11、追加数据到文件中12、查看磁盘空间13、查看文件使用的空间14、移动文件15、修改文件副本个数16、查看校验码信息17、显示路径下的目录、文件和字节数18、从本地拷贝文件19、拷贝文件到本地20、查找目录文件21、删除文件 一、前言信息 官网命令说明查看
说明：
命令适用范围hadoop fs使用范围最广，建议使用，可操作任何对象hadoop dfs只可操作HDFS文件系统(已弃用)hdfs fs只可操作HDFS文件系统，包括与Local FS间的操作hdfs dfs只可操作HDFS文件系统，常用 二、帮助信息查看 1、查看帮助信息 hadoop fs []表示可选参数，&lt;&gt;表示必须参数
2、帮助文档（附带命令的详细说明） hadoop fs –help 三、常用命令 1、创建目录 hadoop fs –mkdir [-p] &lt;path&gt; 2、查看目录下的内容 hadoop fs –ls [-h] [-R] [&lt;path&gt;] -h 人性化显示文件大小 -R 递归查看指定目录及子目录 3、上传文件 hadoop fs –put [-f] [-p] &lt;localsrc&gt; &lt;dst&gt; -f 覆盖目标文件(若文件已存在) -p 保留访问和修改时间、所有权和权限 localsrc 本地文件系统 dst 目标文件系统 4、上传并删除源文件 hadoop fs –moveFromLocal &lt;localsrc&gt; &lt;dst&gt; 这个和put唯一不同的地方就在于该命令会上传完后会删除源文件
5、查看文件内容 读取文件全部内容显示在标准输出控制台(大文件慎用)
hadoop fs –cat &lt;src&gt; 6、查看文件开头内容 查看文件前1KB的内容" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a9b53f9c47a8e225a85d1c2c861705c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-02T11:03:23+08:00" />
<meta property="article:modified_time" content="2023-02-02T11:03:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HDFS常用命令汇总</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>HDFS常用命令汇总</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">一、前言信息</a></li><li><a href="#_14" rel="nofollow">二、帮助信息查看</a></li><li><ul><li><a href="#1_15" rel="nofollow">1、查看帮助信息</a></li><li><a href="#2_23" rel="nofollow">2、帮助文档（附带命令的详细说明）</a></li></ul> 
   </li><li><a href="#_30" rel="nofollow">三、常用命令</a></li><li><ul><li><a href="#1_31" rel="nofollow">1、创建目录</a></li><li><a href="#2_37" rel="nofollow">2、查看目录下的内容</a></li><li><a href="#3_45" rel="nofollow">3、上传文件</a></li><li><a href="#4_55" rel="nofollow">4、上传并删除源文件</a></li><li><a href="#5_63" rel="nofollow">5、查看文件内容</a></li><li><a href="#6_69" rel="nofollow">6、查看文件开头内容</a></li><li><a href="#7_75" rel="nofollow">7、查看文件末尾内容</a></li><li><a href="#8_82" rel="nofollow">8、下载文件</a></li><li><a href="#9_91" rel="nofollow">9、合并下载文件</a></li><li><a href="#10_100" rel="nofollow">10、拷贝文件</a></li><li><a href="#11_108" rel="nofollow">11、追加数据到文件中</a></li><li><a href="#12_119" rel="nofollow">12、查看磁盘空间</a></li><li><a href="#13_125" rel="nofollow">13、查看文件使用的空间</a></li><li><a href="#14_133" rel="nofollow">14、移动文件</a></li><li><a href="#15_142" rel="nofollow">15、修改文件副本个数</a></li><li><a href="#16_153" rel="nofollow">16、查看校验码信息</a></li><li><a href="#17_159" rel="nofollow">17、显示路径下的目录、文件和字节数</a></li><li><a href="#18_167" rel="nofollow">18、从本地拷贝文件</a></li><li><a href="#19_175" rel="nofollow">19、拷贝文件到本地</a></li><li><a href="#20_184" rel="nofollow">20、查找目录文件</a></li><li><a href="#21_196" rel="nofollow">21、删除文件</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>一、前言信息</h3> 
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/FileSystemShell.html" rel="nofollow">官网命令说明查看</a><br> <img src="https://images2.imgbox.com/52/14/XWMEzhA8_o.png" alt="在这里插入图片描述"><br> 说明：</p> 
<table><thead><tr><th>命令</th><th>适用范围</th></tr></thead><tbody><tr><td>hadoop fs</td><td>使用范围最广，建议使用，可操作任何对象</td></tr><tr><td>hadoop dfs</td><td>只可操作HDFS文件系统(已弃用)</td></tr><tr><td>hdfs fs</td><td>只可操作HDFS文件系统，包括与Local FS间的操作</td></tr><tr><td>hdfs dfs</td><td>只可操作HDFS文件系统，常用</td></tr></tbody></table> 
<h3><a id="_14"></a>二、帮助信息查看</h3> 
<h4><a id="1_15"></a>1、查看帮助信息</h4> 
<pre><code class="prism language-bash">hadoop fs
</code></pre> 
<p>[]表示可选参数，&lt;&gt;表示必须参数<br> <img src="https://images2.imgbox.com/8c/22/oPTNUW1J_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_23"></a>2、帮助文档（附带命令的详细说明）</h4> 
<pre><code class="prism language-bash">hadoop fs –help
</code></pre> 
<p><img src="https://images2.imgbox.com/4e/a0/tQzaG7Zu_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_30"></a>三、常用命令</h3> 
<h4><a id="1_31"></a>1、创建目录</h4> 
<pre><code class="prism language-bash">hadoop fs –mkdir <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d3/24/xio375KM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_37"></a>2、查看目录下的内容</h4> 
<pre><code class="prism language-bash">hadoop fs –ls <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span>-R<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>path<span class="token operator">&gt;</span><span class="token punctuation">]</span>
<span class="token parameter variable">-h</span>  人性化显示文件大小
<span class="token parameter variable">-R</span> 递归查看指定目录及子目录
</code></pre> 
<p><img src="https://images2.imgbox.com/43/c5/OZ8e5Pqh_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_45"></a>3、上传文件</h4> 
<pre><code class="prism language-bash">hadoop fs –put <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> <span class="token operator">&lt;</span>localsrc<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
<span class="token parameter variable">-f</span>   覆盖目标文件<span class="token punctuation">(</span>若文件已存在<span class="token punctuation">)</span>
<span class="token parameter variable">-p</span>   保留访问和修改时间、所有权和权限
localsrc   本地文件系统
dst   目标文件系统
</code></pre> 
<p><img src="https://images2.imgbox.com/11/ab/rbKxqKsa_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4_55"></a>4、上传并删除源文件</h4> 
<pre><code class="prism language-bash">hadoop fs –moveFromLocal <span class="token operator">&lt;</span>localsrc<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>这个和put唯一不同的地方就在于该命令会上传完后会删除源文件</strong></p> 
<p><img src="https://images2.imgbox.com/99/e5/tRhPMvyk_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5_63"></a>5、查看文件内容</h4> 
<p>读取文件全部内容显示在标准输出控制台(大文件慎用)</p> 
<pre><code class="prism language-bash">hadoop fs –cat <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/42/e7/A6bvxwDq_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6_69"></a>6、查看文件开头内容</h4> 
<p>查看文件前1KB的内容</p> 
<pre><code class="prism language-bash">hadoop fs –head <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/95/46/g1y41v25_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7_75"></a>7、查看文件末尾内容</h4> 
<p>查看文件末尾1KB的内容</p> 
<pre><code class="prism language-bash">hadoop fs –tail <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span>
<span class="token parameter variable">-f</span>   动态显示文件中追加的内容
</code></pre> 
<h4><a id="8_82"></a>8、下载文件</h4> 
<p>下载文件到本地指定目录</p> 
<pre><code class="prism language-bash">hadoop fs –get <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>localdst<span class="token operator">&gt;</span>
<span class="token parameter variable">-f</span>   覆盖目标文件<span class="token punctuation">(</span>目标文件存在<span class="token punctuation">)</span>
<span class="token parameter variable">-p</span>   保留访问和修改时间、所有权和权限
</code></pre> 
<p><img src="https://images2.imgbox.com/9b/26/lx0lxckE_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="9_91"></a>9、合并下载文件</h4> 
<p>将HDFS上一个目录中所有的文件合并到一起输出到一个本地文件上</p> 
<pre><code class="prism language-bash">hadoop fs –getmerge <span class="token punctuation">[</span>-nl<span class="token punctuation">]</span> <span class="token punctuation">[</span>-skip-empty-file<span class="token punctuation">]</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>localdst<span class="token operator">&gt;</span>
<span class="token parameter variable">-nl</span>   每个文件末尾添加换行符
-skip-empty-file   跳过空白文件
</code></pre> 
<p><img src="https://images2.imgbox.com/9a/c0/xsAx09YU_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="10_100"></a>10、拷贝文件</h4> 
<p>将原始路径的文件拷贝到新的路径下</p> 
<pre><code class="prism language-bash">hadoop fs –cp <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
<span class="token parameter variable">-f</span>   覆盖目标文件<span class="token punctuation">(</span>文件存在的情况下<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7c/8a/MtfPQgp6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="11_108"></a>11、追加数据到文件中</h4> 
<p>将本地文件的内容追加到hdfs指定的文件中</p> 
<pre><code class="prism language-bash">hadoop fs –appendToFile <span class="token operator">&lt;</span>localsrc<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
localsrc  本地文件，如果为”-”，则输入从标准输入中读取
dst 目标文件不存在则创建
</code></pre> 
<p><img src="https://images2.imgbox.com/26/15/dUdlLnSH_o.png" alt="在这里插入图片描述"><br> 从标准输入读取，ctrl+c结束输入<br> <img src="https://images2.imgbox.com/50/32/KfvFfNlx_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="12_119"></a>12、查看磁盘空间</h4> 
<pre><code class="prism language-bash">hadoop fs –df <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>path<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/72/87/Vow4Xsss_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="13_125"></a>13、查看文件使用的空间</h4> 
<pre><code class="prism language-bash">hadoop fs –du <span class="token punctuation">[</span>-s<span class="token punctuation">]</span> <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
<span class="token parameter variable">-s</span>   显示指定路径文件长度的汇总摘要而不是单个文件的摘要
<span class="token parameter variable">-h</span>   人性化显示文件大小
</code></pre> 
<p><img src="https://images2.imgbox.com/e2/2c/fmYI8WYp_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="14_133"></a>14、移动文件</h4> 
<p>移动文件到指定目录下(也可重命名文件)</p> 
<pre><code class="prism language-bash">hadoop fs –mv <span class="token operator">&lt;</span>src<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5d/f1/vJjvlLKX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/5b/67/5Rb9Dv05_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="15_142"></a>15、修改文件副本个数</h4> 
<p>修改指定文件的副本个数</p> 
<pre><code class="prism language-bash">hadoop fs –setrep <span class="token punctuation">[</span>-R<span class="token punctuation">]</span> <span class="token punctuation">[</span>-w<span class="token punctuation">]</span> <span class="token operator">&lt;</span>rep<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
<span class="token parameter variable">-R</span> 表示递归修改文件夹及其子目录所有
<span class="token parameter variable">-w</span> 客户端是否等待副本修改完毕
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/5b/FgNHhV7K_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/43/62/0NyStzft_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/66/07/dRj5zgil_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="16_153"></a>16、查看校验码信息</h4> 
<pre><code class="prism language-bash">hadoop fs –checksum <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9d/f3/kJ5Wifpd_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="17_159"></a>17、显示路径下的目录、文件和字节数</h4> 
<pre><code class="prism language-bash">hadoop fs <span class="token parameter variable">-count</span> <span class="token punctuation">[</span>-q<span class="token punctuation">]</span> <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span>-v<span class="token punctuation">]</span> <span class="token operator">&lt;</span>paths<span class="token operator">&gt;</span>
<span class="token parameter variable">-q</span>   控制显示的列
<span class="token parameter variable">-v</span>   显示标题行
</code></pre> 
<p><img src="https://images2.imgbox.com/78/76/izwWzARz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="18_167"></a>18、从本地拷贝文件</h4> 
<pre><code class="prism language-bash">hadoop fs <span class="token parameter variable">-copyFromLocal</span> <span class="token operator">&lt;</span>localsrc<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dst<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>注：该命令类似于put，不同的是拷贝的源地址必须是本地文件系统</strong><br> <img src="https://images2.imgbox.com/c5/65/bPyw4JUN_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="19_175"></a>19、拷贝文件到本地</h4> 
<p><strong>注：该命令类似于get，不同的是拷贝目标地址必须为本地文件系统</strong></p> 
<pre><code class="prism language-bash">hadoop fs –copyToLocal <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>localdst<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0d/a0/YrfHBZhf_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="20_184"></a>20、查找目录文件</h4> 
<pre><code class="prism language-bash">hadoop fs –find <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>expression<span class="token operator">&gt;</span>
expression说明：
<span class="token parameter variable">-name</span> pattern   查找的文件名
<span class="token parameter variable">-iname</span> pattern  忽略大小写查找文件名
<span class="token parameter variable">-print</span>    打印<span class="token punctuation">(</span>默认值<span class="token punctuation">)</span>
<span class="token parameter variable">-print0</span>   打印在一行
</code></pre> 
<p><img src="https://images2.imgbox.com/41/9b/jBDeITpm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c6/e6/R2rqGWq6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="21_196"></a>21、删除文件</h4> 
<p>删除指定参数的文件，如果启用了垃圾箱，文件系统会将删除的文件移动到垃圾箱目录，默认情况下禁用垃圾箱功能，用户可以通过为参数fs.trash.interval（在core-site.xml中）设置大于零的值来启用垃圾箱。</p> 
<pre><code class="prism language-bash">hadoop fs –rm <span class="token punctuation">[</span>-f<span class="token punctuation">]</span> <span class="token punctuation">[</span>-R<span class="token operator">|</span>-r<span class="token punctuation">]</span><span class="token punctuation">[</span>-skipTrash<span class="token punctuation">]</span> <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
<span class="token parameter variable">-f</span>   如果文件不存在，-f选项将不会显示诊断消息或修改退出状态以反映错误
<span class="token parameter variable">-R</span>   选项递归地删除目录及其下的任何内容
<span class="token parameter variable">-skipTrash</span>  选项将绕过垃圾箱（如果启用），并立即删除指定的文件
</code></pre> 
<p><img src="https://images2.imgbox.com/42/ef/aovCQwXZ_o.png" alt="在这里插入图片描述"></p> 
<p>相关更多命令以及更详细的用法可以通过官网学习。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97bf34e9b61b456cc59d33050ed9dac0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Cherry-Pick、Squash Commits、Rebase使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84c5cbc11b9af935dc01c22f5e0bd826/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HDFS通过WEB UI操作文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>