<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用js做一个可显示可拖动的缩放数值条 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用js做一个可显示可拖动的缩放数值条" />
<meta property="og:description" content="说明：可拖拽数值条进行值的变化；单击缩放按钮则&#43;1（可设定）；长按则持续&#43;5（可设定）；点击恢复则返回到最初值（可设定）；值的范围为0~100（可设定），超出则按0/100作为最终值；zoom.value内存放着值，可进行传参，应用于你的程序。
用js制作缩放拖动条
controlCamera.js
/*用于云台控制界面 * 主要功能有：	* 传递方向控制参数、传递缩放参数（值为zoom.value内的值） * 缩放点击效果（点击加1，长按连续加5） * * */ var oldvalue=&#39;&#39;;//为存放当前操作的id let time=&#34;&#34;;//延时时间初始化 let lock=true;//锁，防止单击与长按相互冲突 var minvalue=0;//设定范围最小值 var maxvalue=100;//设定范围最大值 var inivalue=50;//设定范围最初值 var short=1;//短按增（减）量 var long=5;//长按增（减）量 //减小数值，单击减1 function minus(){ if(lock){ var num=document.getElementById(&#34;zoom&#34;).value; if(num==minvalue){ num=minvalue; } else{ num=Number(num)-short; } document.getElementById(&#34;zoom&#34;).value=num; document.getElementById(&#34;showZoom&#34;).innerHTML=num; } } //减小数值，长按1s持续减5	function downMinus(){ time=setInterval(()=&gt;{ lock=false; var num=document.getElementById(&#34;zoom&#34;).value; num=Number(num)-long; if(num&lt;minvalue){ num=minvalue; } document.getElementById(&#34;zoom&#34;).value=num; document.getElementById(&#34;showZoom&#34;).innerHTML=num; },1000) }	//恢复默认值	function repeat(){ var num=inivalue; document.getElementById(&#34;zoom&#34;).value=num; document.getElementById(&#34;showZoom&#34;).innerHTML=num; } //增加数值，单击加1	function plus(){ if(lock){ var num=document." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0061d2a748cc74868cca9af7259656fb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-24T14:01:47+08:00" />
<meta property="article:modified_time" content="2022-10-24T14:01:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用js做一个可显示可拖动的缩放数值条</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p style="margin-left:.0001pt;text-align:justify;">说明：可拖拽数值条进行值的变化；单击缩放按钮则+1（可设定）；长按则持续+5（可设定）；点击恢复则返回到最初值（可设定）；值的范围为0~100（可设定），超出则按0/100作为最终值；zoom.value内存放着值，可进行传参，应用于你的程序。</p> 
</blockquote> 
<p> </p> 
<div class="csdn-video-box"> 
 <iframe id="ugc4iXwp-1666590785912" frameborder="0" src="https://live.csdn.net/v/embed/247891" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p>用js制作缩放拖动条</p> 
</div> 
<p> controlCamera.js</p> 
<pre><code class="language-javascript">/*用于云台控制界面
 * 主要功能有：	
 * 				传递方向控制参数、传递缩放参数（值为zoom.value内的值）
 * 				缩放点击效果（点击加1，长按连续加5）
 * 
 * */
				var oldvalue='';//为存放当前操作的id
		        let time="";//延时时间初始化
		        let lock=true;//锁，防止单击与长按相互冲突
				var minvalue=0;//设定范围最小值
				var maxvalue=100;//设定范围最大值
				var inivalue=50;//设定范围最初值
				var short=1;//短按增（减）量
				var long=5;//长按增（减）量

//减小数值，单击减1
			    function minus(){
			    	if(lock){
				    	var num=document.getElementById("zoom").value;
				    	if(num==minvalue){
				    		num=minvalue;
				    	}
				    	else{
				    		num=Number(num)-short;
				    	}
						document.getElementById("zoom").value=num;
						document.getElementById("showZoom").innerHTML=num;
			    	}
			    }
//减小数值，长按1s持续减5		    
				function downMinus(){
		            time=setInterval(()=&gt;{
		            	lock=false;
				    	var num=document.getElementById("zoom").value;
				    	num=Number(num)-long;
				    	if(num&lt;minvalue){
				    		num=minvalue;
				    	}
						document.getElementById("zoom").value=num;
						document.getElementById("showZoom").innerHTML=num;
		             },1000)
 
		        }			    
//恢复默认值			    
			    function repeat(){
			    	var num=inivalue;
					document.getElementById("zoom").value=num;
					document.getElementById("showZoom").innerHTML=num;
			    }
//增加数值，单击加1		
   			    function plus(){
		    		if(lock){
				    	var num=document.getElementById("zoom").value;
				    	if(num==maxvalue){
				    		num=maxvalue;
				    	}
				    	else{
				    		num=Number(num)+short;
				    	}
						document.getElementById("zoom").value=num;
						document.getElementById("showZoom").innerHTML=num;
			   	 	}
			    }
//增加数值，长按1s持续加5			    	    
				function downPlus(){
		            time=setInterval(()=&gt;{
		            	lock=false;
				    	var num=document.getElementById("zoom").value;
				    	num=Number(num)+long;
				    	if(num&gt;maxvalue){
				    		num=maxvalue;
				    	}
						document.getElementById("zoom").value=num;
						document.getElementById("showZoom").innerHTML=num;
		             },1000)
 
		        }
//松开鼠标计时器清零，重新计时
		        function up(){
		        
		            clearTimeout(time);
		        
                    setTimeout(()=&gt;{
               			lock=true;
           			})
		        }
//将缩放值显示
		        function range(){
		        	document.getElementById("showZoom").innerHTML=document.getElementById("zoom").value;
		        }		        
//点击事件
			    document.getElementById("repeatbtn").addEventListener("click", function(){repeat()});
</code></pre> 
<p> 可在此处进行数值范围的设定：</p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/ef/7b/qMPnrp7V_o.png" width="449"></p> 
<p> id值图示：</p> 
<p><img alt="" height="328" src="https://images2.imgbox.com/57/34/2CXqXR4b_o.png" width="636"></p> 
<p> </p> 
<p> </p> 
<p>main.html全部内容如下：</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html &gt;
	&lt;head&gt;
		&lt;meta charset="utf-8"&gt;
		&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
		&lt;!--360浏览器优先以webkit内核解析--&gt;
		&lt;title&gt;main&lt;/title&gt;
		&lt;link href="./css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/&gt;
		&lt;link href="./css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}" rel="stylesheet"/&gt;
		&lt;link href="./css/style.min.css" th:href="@{/css/style.min.css}" rel="stylesheet"/&gt;
		&lt;link href="./css/style.min.css" th:href="@{/css/ckplayer.css}" rel="stylesheet"/&gt;

		&lt;style type="text/css"&gt;
			.setpadding{
			padding-top:0px;
			padding-bottom:0px;
			padding-left:3px;
			padding-right:2px;

			}
			.clearmargin{
			margin-top:0px;
			margin-bottom:0px;
			margin-left:0px;
			margin-right:0px;

			}

		&lt;/style&gt;
	&lt;/head&gt;
	&lt;body&gt;
		 &lt;div class="col-md-4 clearmargin setpadding" style="padding-top:25px"&gt;
			&lt;form &gt;
				&lt;div class="col-md-3 clearmargin setpadding" style="width:25%"&gt;
					&lt;button id="minusbtn" onmousedown="downMinus()" onmouseup="up()" onclick="minus()" class="btn btn-w-m btn-default" style="min-width:43px;font-size:20px;width:40px;height:40px;border-radius:100% 10% 10% 100%;padding-top:0px;margin-top:3px!important" type="button"&gt;&lt;i class="fa fa-search-minus" style="padding-top:10px"&gt;&lt;/i&gt;&lt;/button&gt;		         
				&lt;/div&gt;
				&lt;div class="col-md-2 " style="padding:0"&gt;
					&lt;div id="showZoom" style="padding-top:10px;font-size:20px;" &gt;50&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="col-md-1 " style="padding:0;font-size:20px;margin-top:10px"&gt;%&lt;/div&gt;
				&lt;div class="col-md-3 clearmargin setpadding" style="width:25%"&gt;
					&lt;button id="plusbtn" onmousedown="downPlus()" onmouseup="up()" onclick="plus()" class="btn btn-w-m btn-default" style="min-width:43px;font-size:20px;width:40px;height:40px;border-radius:10% 100% 100% 10%;padding-top:0px;margin-top:3px!important" type="button"&gt;&lt;i class="fa fa-search-plus" style="padding-top:10px"&gt;&lt;/i&gt;&lt;/button&gt;		         
				&lt;/div&gt;
				&lt;div class="col-md-3 clearmargin setpadding" style="width:25%"&gt;
					&lt;button id="repeatbtn" class="btn btn-w-m btn-default" style="min-width:43px;font-size:20px;width:40px;height:40px;border-radius:100%;padding-top:0px;margin-top:3px!important" type="button"&gt;&lt;i class="fa fa-repeat" style="padding-top:10px"&gt;&lt;/i&gt;&lt;/button&gt;		         
				&lt;/div&gt;
				&lt;div class="col-md-12 clearmargin setpadding" style="margin-top:10px"&gt;
					&lt;input type="range" id="zoom"  value="50" oninput="range()" &gt;
				&lt;/div&gt;
			&lt;/form&gt;
		 &lt;/div&gt;
		 &lt;!--    云台控制功能 （上下左右及缩放）--&gt;    
		&lt;script src="./js/controlCamera.js"&gt;&lt;/script&gt; 
	&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>我的项目目录：</p> 
<p><img alt="" height="319" src="https://images2.imgbox.com/7d/42/2HYwwizF_o.png" width="200"> </p> 
<p>项目代码（百度云资源）：</p> 
<p>链接：https://pan.baidu.com/s/1QIVypWhdFMEl2i3XA3W5gw?pwd=y4q5 <br> 提取码：y4q5 <br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97d7e97cbd61d69aaf4dc633fc5d0bb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【WSL2启用systemd支持(一个配置即可)】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d64523087af65e943e5a9110637a2fe2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【微信小程序】安卓兼容问题，scroll-view上拉导致input输入框上移</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>