<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Redis】深入理解 Redis 常用数据类型源码及底层实现（1.结构与源码概述） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Redis】深入理解 Redis 常用数据类型源码及底层实现（1.结构与源码概述）" />
<meta property="og:description" content="在文章【Redis】不卡壳的 Redis 学习之路：从十大数据类型开始入手中我们介绍了Redis常用的10大数据类型，这10大数据类型可并不是直接在底层通过代码实现的，而是通过不同的底层数据结构组合起来的，这篇我们介绍下Redis常用数据类型的底层数据结构(￣∇￣)/
Redis数据类型的底层数据结构 SDS动态字符串双向链表压缩列表ziplist哈希表hashtable跳表skiplist整数集合intset快速列表quicklist紧凑列表listpack 在哪里看Redis源码 网站地址
github.com/redis/redis
Redis根目录下src文件夹📁
Redis是一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存、分布式、可选持久性的键值对（Key-Value）存储数据库，并提供多种语言的API。
参考书籍推荐
源码概况 Github官网
github.com/redis/redis
Redis基本的数据结构（骨架） 从官网可以看到对于部分关键的.c文件的介绍，最重要的两个：dict.c 、object.c
Redis数据库的实现 数据库的底层实现db.c持久化rdb.c和aof.c Redis服务端和客户端实现 事件驱动ae.c和ae_epoll.c网络连接anet.c和networking.c服务端程序server.c客户端程序redis-cli.c 其他 主从复制replication.c哨兵sentinel.c集群cluster.c其他数据结构，如hyperloglog.c、geo.c等其他功能，如pub/sub、Lua脚本 详解字典数据库K-V键值对 键值对是怎样实现的 Redis是key-value存储系统
key一般都是string类型的字符串对象
value则为Redis对象（redisObject）
可以是字符串对象也可以是集合数据类型的对象，比如List对象、Hash对象、Set对象和Zset对象 10大类型说明 传统的5大类型 StringListHashSetZSet 新的5大类型 bitmap -&gt; 实质StringhyperLogLog -&gt; 实质StringGEO -&gt; 实质ZsetStream -&gt; 实质Streambitfield -&gt; 具体看key 在Redis的逻辑中，服务（redisServer）启动加载数据库（redisDb），然后去读取字典（dict），然后去找哈希（dictht），就像Java中的那句——一切皆对象，在Redis中一切皆K-V（dict字典）。
Redis是由C语言编写的，想要深入了解Redis的数据结构，就不得不简单介绍下C语言的文件类型📃（因为接下来我们需要在一堆源码中找到我们需要的文件）和struct结构体（学习数据类型的底层实现）。
在C语言中，源代码文件通常以“.c”作为后缀名，以表示该文件包含C语言源代码。例如，如果编写一个名为“qin.c”的程序，那么它的源代码将保存在名为“qin.c”的文件中。C语言的头文件通常以“.h”作为后缀名，库文件通常以“.lib”或“.a”作为后缀名，可执行文件通常以“.exe”或“.out”作为后缀名。C语言的结构体，需要使用 struct 语句来定义，struct 语句定义了一个包含多个成员的新的数据类型，struct 语句的格式如下： struct [structure tag] { member definition; member definition; ... member definition; } [one or more structure variables]; structure tag 是可选的，每个 member definition 是标准的变量定义，在结构定义的末尾，最后一个分号之前，可以指定一个或多个结构变量（是可选的），举个🌰方便大家理解：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/691e1cbf3fe91ae4bd212597b7f4088b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-12T14:23:44+08:00" />
<meta property="article:modified_time" content="2023-12-12T14:23:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Redis】深入理解 Redis 常用数据类型源码及底层实现（1.结构与源码概述）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在文章<a class="link-info" href="https://blog.csdn.net/aqin1012/article/details/130365083" title="【Redis】不卡壳的 Redis 学习之路：从十大数据类型开始入手">【Redis】不卡壳的 Redis 学习之路：从十大数据类型开始入手</a>中我们介绍了Redis常用的10大数据类型，这10大数据类型可并不是直接在底层通过代码实现的，而是通过不同的<strong>底层数据结构</strong>组合起来的，这篇我们介绍下Redis常用数据类型的底层数据结构(￣∇￣)/</p> 
<h3>Redis数据类型的底层数据结构</h3> 
<ul><li>SDS动态字符串</li><li>双向链表</li><li>压缩列表ziplist</li><li>哈希表hashtable</li><li>跳表skiplist</li><li>整数集合intset</li><li>快速列表quicklist</li><li>紧凑列表listpack</li></ul> 
<h3>在哪里看Redis源码</h3> 
<p>网站地址</p> 
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fredis%2Fredis" rel="nofollow" title="github.com/redis/redis">github.com/redis/redis</a></p> 
<p>Redis根目录下src文件夹📁</p> 
<p>Redis是一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存、分布式、可选持久性的键值对（Key-Value）存储数据库，并提供多种语言的API。</p> 
<p class="img-center"><img alt="" height="410" src="https://images2.imgbox.com/7c/ac/lT4bfPvi_o.png" width="572"></p> 
<p>参考书籍推荐</p> 
<p class="img-center"><img alt="" height="217" src="https://images2.imgbox.com/14/21/JkTfeUiz_o.png" width="539"></p> 
<p class="img-center"><img alt="" height="188" src="https://images2.imgbox.com/5d/48/1EtUW13o_o.png" width="537"></p> 
<h3>源码概况</h3> 
<p>Github官网</p> 
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fredis%2Fredis" rel="nofollow" title="github.com/redis/redis">github.com/redis/redis</a></p> 
<h4>Redis基本的数据结构（骨架）</h4> 
<p class="img-center"><img alt="" height="227" src="https://images2.imgbox.com/82/16/uHG7pFFJ_o.png" width="564"></p> 
<p>从官网可以看到对于部分关键的<code>.c</code>文件的介绍，最重要的两个：<code>dict.c</code> 、<code>object.c</code></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d4/f1/Xi4QznVI_o.png" width="1200"></p> 
<h4>Redis数据库的实现</h4> 
<ul><li>数据库的底层实现db.c</li><li>持久化rdb.c和aof.c</li></ul> 
<h4>Redis服务端和客户端实现</h4> 
<ul><li>事件驱动ae.c和ae_epoll.c</li><li>网络连接anet.c和networking.c</li><li>服务端程序server.c</li><li>客户端程序redis-cli.c</li></ul> 
<h4>其他</h4> 
<ul><li>主从复制replication.c</li><li>哨兵sentinel.c</li><li>集群cluster.c</li><li>其他数据结构，如hyperloglog.c、geo.c等</li><li>其他功能，如pub/sub、Lua脚本</li></ul> 
<h3>详解字典数据库K-V键值对</h3> 
<h4>键值对是怎样实现的</h4> 
<p>Redis是key-value存储系统</p> 
<ul><li> <p>key一般都是string类型的字符串对象</p> </li><li> <p>value则为Redis对象（redisObject）</p> 
  <ul><li>可以是字符串对象</li><li>也可以是集合数据类型的对象，比如List对象、Hash对象、Set对象和Zset对象</li></ul></li></ul> 
<h4>10大类型说明</h4> 
<h5>传统的5大类型</h5> 
<ul><li>String</li><li>List</li><li>Hash</li><li>Set</li><li>ZSet</li></ul> 
<h5>新的5大类型</h5> 
<ul><li>bitmap -&gt; 实质String</li><li>hyperLogLog -&gt; 实质String</li><li>GEO -&gt; 实质Zset</li><li>Stream -&gt; 实质Stream</li><li>bitfield -&gt; 具体看key</li></ul> 
<p>在Redis的逻辑中，服务（redisServer）启动加载数据库（redisDb），然后去读取字典（dict），然后去找哈希（dictht），就像Java中的那句——一切皆对象，在Redis中一切皆K-V（dict字典）。</p> 
<p>Redis是由C语言编写的，想要深入了解Redis的数据结构，就不得不简单介绍下C语言的文件类型📃（因为接下来我们需要在一堆源码中找到我们需要的文件）和struct结构体（学习数据类型的底层实现）。</p> 
<ul><li>在C语言中，源代码文件通常以“.c”作为后缀名，以表示该文件包含C语言源代码。例如，如果编写一个名为“qin.c”的程序，那么它的源代码将保存在名为“qin.c”的文件中。C语言的头文件通常以“.h”作为后缀名，库文件通常以“.lib”或“.a”作为后缀名，可执行文件通常以“.exe”或“.out”作为后缀名。</li><li>C语言的结构体，需要使用 <strong>struct</strong> 语句来定义，struct 语句定义了一个包含多个成员的新的数据类型，struct 语句的格式如下：</li></ul> 
<p><code>struct [structure tag] { member definition; member definition; ... member definition; } [one or more structure variables]; </code></p> 
<p><strong>structure tag</strong> 是可选的，每个 member definition 是标准的变量定义，在结构定义的末尾，最后一个分号之前，可以指定一个或多个结构变量（是可选的），举个🌰方便大家理解：</p> 
<p><code>struct Books { char title[50]; char author[50]; int book_id; } book; </code></p> 
<p>了解这些基础的内容以后，接下来我们就开始深入到Redis数据结构底层的C语言进行源码分析</p> 
<p>(￣∇￣)/🎉～～～</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90f6e9b380c01ce787196deab14d01b4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【GIS】1.什么是空间分析？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1c7f27824023e9f3a6180f1fda1f39ec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GoLang EASY 游戏框架 之 应用项目&#43;教程 02</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>