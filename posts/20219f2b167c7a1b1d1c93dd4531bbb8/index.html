<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Django框架搭建之学生管理系统 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Django框架搭建之学生管理系统" />
<meta property="og:description" content="学生管理系统 一、创建工程 1.创建工程(控制台)
django-adminstartproject工程名字
django-adminstartprojectstudentmanager
2.检验工程是否搭建成功(命令在控制台输入，链接在浏览器访问)
pythonmanage.pyrunserver
默认ip和端口: http://127.0.0.1:8000/
3.根据需要调整设置信息(studentmanage/settings.py)
# 界面语言
LANGUAGE_CODE=&#39;zh-Hans&#39;
# 时区
TIME_ZONE=&#39;Asia/Shanghai&#39;
说明：1.django默认工作在调试Debug模式下, 如果增加、修改、删除文件，服务器会自动重启。2.ctrl&#43;c停止服务器。
二、创建子应用 1.在django中，创建子应用模块目录仍然可以通过命令来操作（控制台），即：
python manage.py startapp 子应用名称
manage.py为上述创建工程时自动生成的管理文件。
例如，在刚才创建的bookmanager工程中，想要创建一个用户book子应用模块，可执行：
cd .\bookmanager\
python manage.py startapp book
执行后，可以看到工程目录中多出了一个名为book的子目录。
2.将子应用在项目工程中注册（studentmanage/settings.py）
INSTALLED_APPS= [
&#39;django.contrib.admin&#39;,
&#39;django.contrib.auth&#39;,
&#39;django.contrib.contenttypes&#39;,
&#39;django.contrib.sessions&#39;,
&#39;django.contrib.messages&#39;,
&#39;django.contrib.staticfiles&#39;,
&#39;student.apps.StudentConfig&#39;
]
3.注册编译子应用的模型类
1.注册子应用的模型类(student/admin.py)
fromdjango.contribimportadmin
fromstudent.modelsimportStudentInfo, TeacherInfo
​
# Register your models here.
admin.site.register(TeacherInfo)
admin.site.register(StudentInfo)
2.编译子应用的模型类(student/models.py)
fromdjango.dbimportmodels
​
# Create your models here.
# 准备教师、学生列表信息的模型类
classTeacherInfo(models.Model):
tname=models.CharField(max_length=20, null=True, verbose_name=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/20219f2b167c7a1b1d1c93dd4531bbb8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-30T00:37:33+08:00" />
<meta property="article:modified_time" content="2023-01-30T00:37:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Django框架搭建之学生管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">学生管理系统</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">一、创建工程</span></h4> 
 <p style="text-align:null;">1.创建工程(控制台)</p> 
 <p style="text-align:left;">django-adminstartproject工程名字</p> 
 <p style="text-align:left;">django-adminstartprojectstudentmanager</p> 
 <p style="text-align:null;">2.检验工程是否搭建成功(命令在控制台输入，链接在浏览器访问)</p> 
 <p style="text-align:left;">pythonmanage.pyrunserver</p> 
 <p style="text-align:left;">默认ip和端口: <a class="kdocs-link" style="color:#0A6CFF;" href="http://127.0.0.1:8000/" rel="nofollow noopener noreferrer" target="_blank">http://127.0.0.1:8000/</a></p> 
 <p style="text-align:null;">3.根据需要调整设置信息(studentmanage/settings.py)</p> 
 <p style="text-align:left;"># 界面语言</p> 
 <p style="text-align:left;">LANGUAGE_CODE='zh-Hans'</p> 
 <p style="text-align:left;"># 时区</p> 
 <p style="text-align:left;">TIME_ZONE='Asia/Shanghai'</p> 
 <p style="text-align:null;">说明：1.django默认工作在调试Debug模式下, 如果增加、修改、删除文件，服务器会自动重启。2.ctrl+c停止服务器。</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">二、创建子应用</span></h4> 
 <p style="text-align:null;">1.在django中，创建子应用模块目录仍然可以通过命令来操作（控制台），即：</p> 
 <p style="text-align:left;">python manage.py startapp 子应用名称</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">manage.py</span>为上述创建工程时自动生成的管理文件。</p> 
 <p style="text-align:null;">例如，在刚才创建的bookmanager工程中，想要创建一个用户book子应用模块，可执行：</p> 
 <p style="text-align:left;">cd .\bookmanager\</p> 
 <p style="text-align:left;">python manage.py startapp book</p> 
 <p style="text-align:null;">执行后，可以看到工程目录中多出了一个名为book的子目录。</p> 
 <p style="text-align:null;">2.将子应用在项目工程中注册（studentmanage/settings.py）</p> 
 <p style="text-align:left;">INSTALLED_APPS= [</p> 
 <p style="text-align:left;"> 'django.contrib.admin',</p> 
 <p style="text-align:left;"> 'django.contrib.auth',</p> 
 <p style="text-align:left;"> 'django.contrib.contenttypes',</p> 
 <p style="text-align:left;"> 'django.contrib.sessions',</p> 
 <p style="text-align:left;"> 'django.contrib.messages',</p> 
 <p style="text-align:left;"> 'django.contrib.staticfiles',</p> 
 <p style="text-align:left;"> 'student.apps.StudentConfig'</p> 
 <p style="text-align:left;">]</p> 
 <p style="text-align:null;">3.注册编译子应用的模型类</p> 
 <p style="text-align:null;">1.注册子应用的模型类(student/admin.py)</p> 
 <p style="text-align:left;">fromdjango.contribimportadmin</p> 
 <p style="text-align:left;">fromstudent.modelsimportStudentInfo, TeacherInfo</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;"># Register your models here.</p> 
 <p style="text-align:left;">admin.site.register(TeacherInfo)</p> 
 <p style="text-align:left;">admin.site.register(StudentInfo)</p> 
 <p style="text-align:null;">2.编译子应用的模型类(student/models.py)</p> 
 <p style="text-align:left;">fromdjango.dbimportmodels</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;"># Create your models here.</p> 
 <p style="text-align:left;"># 准备教师、学生列表信息的模型类</p> 
 <p style="text-align:left;">classTeacherInfo(models.Model):</p> 
 <p style="text-align:left;"> tname=models.CharField(max_length=20, null=True, verbose_name="姓名")</p> 
 <p style="text-align:left;"> tgender=models.CharField(max_length=2, verbose_name="性别")</p> 
 <p style="text-align:left;"> tbirth=models.CharField(max_length=20,verbose_name="出生年月")</p> 
 <p style="text-align:left;"> tprof=models.CharField(max_length=20, verbose_name="职称")</p> 
 <p style="text-align:left;"> classes=models.CharField(max_length=30, verbose_name="所在部门")</p> 
 <p style="text-align:left;"> is_delete=models.BooleanField(default=False,verbose_name="逻辑删除")</p> 
 <p style="text-align:left;"> classMeta:</p> 
 <p style="text-align:left;"> db_table='teacherInfo'</p> 
 <p style="text-align:left;"> verbose_name='教师信息'</p> 
 <p style="text-align:left;"> </p> 
 <p style="text-align:left;"> def__str__(self):</p> 
 <p style="text-align:left;"> # 将模型类以字符串的方式输出</p> 
 <p style="text-align:left;"> returnself.tname</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;">classStudentInfo(models.Model):</p> 
 <p style="text-align:left;"> # 创建字段和字段类型</p> 
 <p style="text-align:left;"> sname=models.CharField(max_length=20, null=True, verbose_name="姓名")</p> 
 <p style="text-align:left;"> sgender=models.CharField(max_length=2, default="男", verbose_name="性别")</p> 
 <p style="text-align:left;"> sage=models.IntegerField(verbose_name="年龄")</p> 
 <p style="text-align:left;"> sbirth=models.CharField(max_length=20,verbose_name="出生年月")</p> 
 <p style="text-align:left;"> sclass=models.CharField(max_length=20, verbose_name="班级")</p> 
 <p style="text-align:left;"> </p> 
 <p style="text-align:left;"> teacher=models.ForeignKey(TeacherInfo, on_delete=models.CASCADE, verbose_name="班主任")</p> 
 <p style="text-align:left;"> is_delete=models.BooleanField(default=False,verbose_name="逻辑删除")</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;"> classMeta:</p> 
 <p style="text-align:left;"> #元数据 理解为最小的数据单元</p> 
 <p style="text-align:left;"> db_table='studentInfo'# 指的是数据表名</p> 
 <p style="text-align:left;"> verbose_name='学生信息'# 在admin站点中显示的信息</p> 
 <p style="text-align:left;">​</p> 
 <p style="text-align:left;"> def__str__(self):</p> 
 <p style="text-align:left;"> # 将模型类以字符串的方式输出</p> 
 <p style="text-align:left;"> returnself.sname</p> 
 <p style="text-align:null;">说明：加入数据时注意外键约束，定义外键约束时加上on_delete参数，避免两个表内的数据不一致的问题，当主表数据删除时引用了外键表的数据也跟随一起删除</p> 
 <p style="text-align:null;">4.发布内容到数据库（studentmanager/settings.py）</p> 
 <p style="text-align:left;">DATABASES = {<!-- --></p> 
 <p style="text-align:left;"> 'default': {<!-- --></p> 
 <p style="text-align:left;"> 'ENGINE': 'django.db.backends.mysql',</p> 
 <p style="text-align:left;"> 'HOST': "127.0.0.1",</p> 
 <p style="text-align:left;"> 'PORT': 3306,</p> 
 <p style="text-align:left;"> 'USER': "root",</p> 
 <p style="text-align:left;"> "PASSWORD": "123456",</p> 
 <p style="text-align:left;"> "NAME": "student"</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;">}</p> 
 <p style="text-align:null;">说明：首先要记得在数据库中新建一个所需的数据库</p> 
 <p style="text-align:null;">1.生成数据库文件(控制台)</p> 
 <p style="text-align:left;">Python manage.py makemigrations</p> 
 <p style="text-align:null;">2.执行数据库文件(控制台)</p> 
 <p style="text-align:left;">python manage.py migrate</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">三、站点管理</span></h4> 
 <p style="text-align:null;">1.创建管理员账号(控制台)</p> 
 <p style="text-align:left;">python manage.py createsuperuser</p> 
 <p style="text-align:null;">说明：最好等数据库文件执行完成后再生成管理员账号，如果删除了数据库文件，新创建的管理员账号也一同失效</p> 
 <p style="text-align:null;">四、指定网站跳转</p> 
 <p style="text-align:null;">1.在view文件中进行渲染（student/views.py）</p> 
 <p style="text-align:null;">两种方式：</p> 
 <p style="text-align:null;"> a.静态页面</p> 
 <p style="text-align:left;">from django.http import HttpResponse</p> 
 <p style="text-align:left;">def index(request):</p> 
 <p style="text-align:left;"> return HttpResponse("这是index页面")</p> 
 <p style="text-align:null;"> b.动态指定页面</p> 
 <p style="text-align:left;">from django.shortcuts import render</p> 
 <p style="text-align:left;">def index(request):</p> 
 <p style="text-align:left;"> content = '这是index页面'</p> 
 <p style="text-align:left;"> context = {<!-- --></p> 
 <p style="text-align:left;"> "content": content</p> 
 <p style="text-align:left;"> }</p> 
 <p style="text-align:left;"> return render(request, 'index.html', context)</p> 
 <p style="text-align:null;">2.在子应用中配置index文件路由（student/urls.py）</p> 
 <p style="text-align:left;">from django.urls import path</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;">from . import views</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;">urlpatterns = [</p> 
 <p style="text-align:left;"> path("index/", views.index, name="index")</p> 
 <p style="text-align:left;">]</p> 
 <p style="text-align:null;">3.在管理工程中修改路由配置（studentmanager/urls.py）</p> 
 <p style="text-align:left;">from django.contrib import admin</p> 
 <p style="text-align:left;">from django.urls import path, include</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;">urlpatterns = [</p> 
 <p style="text-align:left;"> path('admin/', admin.site.urls),</p> 
 <p style="text-align:left;"> path('student/', include("student.urls"))</p> 
 <p style="text-align:left;">]</p> 
 <p style="text-align:null;">4.将index.html文件所在路径部署到目录中(studentmanage/settings.py)</p> 
 <p style="text-align:left;">TEMPLATES = [</p> 
 <p style="text-align:left;"> {<!-- --></p> 
 <p style="text-align:left;"> 'BACKEND': 'django.template.backends.django.DjangoTemplates',</p> 
 <p style="text-align:left;"> 'DIRS': [os.path.join(BASE_DIR, "template")],</p> 
 <p style="text-align:left;"> 'APP_DIRS': True,</p> 
 <p style="text-align:left;"> 'OPTIONS': {<!-- --></p> 
 <p style="text-align:left;"> 'context_processors': [</p> 
 <p style="text-align:left;"> 'django.template.context_processors.debug',</p> 
 <p style="text-align:left;"> 'django.template.context_processors.request',</p> 
 <p style="text-align:left;"> 'django.contrib.auth.context_processors.auth',</p> 
 <p style="text-align:left;"> 'django.contrib.messages.context_processors.messages',</p> 
 <p style="text-align:left;"> ],</p> 
 <p style="text-align:left;"> },</p> 
 <p style="text-align:left;"> },</p> 
 <p style="text-align:left;">]</p> 
 <p style="text-align:null;">说明：这里我是将index.html文件直接放入template中。若index.html文件在其他地方则需要注意另外配置。</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">四、站点测试</span></h4> 
 <p style="text-align:null;">访问站点：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>127.0.0.1/admin/————————管理员界面</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>127.0.0.1/student/index————————进入指定跳转页面</p></li></ul> 
 <p style="text-align:null;"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d9cf4961e6041a23f9251650abb7d834/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">浏览器显示你的连接不是专用连接怎么解决？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f39853da5d3f35c2330d2532cf83246/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【洛谷】P1152 欢乐的跳</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>