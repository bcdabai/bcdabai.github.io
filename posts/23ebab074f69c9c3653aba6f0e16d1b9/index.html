<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>EasyX图形库简述 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="EasyX图形库简述" />
<meta property="og:description" content="目录 一、导言二、环境配置1.配置说明2.开发环境3.安装步骤三、基础概念1.设备2.坐标3.颜色 四、设计界面1.准备工作2.绘制函数 五、例程1.迷宫算法可视化2.打印机任务3.进阶（1）车牌定位及分割算法可视化（2）一个可以拧动和观察的魔方（3）2048小游戏 六、总结 一、导言 EasyX 是针对 C/C&#43;&#43; 的图形库，可以帮助使用C/C&#43;&#43;语言的程序员快速上手图形编程。如果对于图形界面开发还比较陌生的朋友，可以通过这个图形库快速上手，之后不管是继续学习界面开发还是工作学习中需要用到相关内容都能有一定帮助。
阅读完本文之后你可以了解EasyX图形库的基本概念，并通过学习例程来实现简单的界面开发。
二、环境配置 1.配置说明 EasyX Graphics Library 是针对 Visual C&#43;&#43; 的免费绘图库，支持 VC6.0 ~ VC2022，这意味着使用常用的能够编译C&#43;&#43;的环境即可，无需额外的配置。
EasyX 采用静态编译，不依赖任何 dll，同传统程序的发布方式没有区别，程序不会因为引入 EasyX 而增添任何发布负担。
静态链接的 EasyX，会使编译后的 exe 体积增加 70KB 左右。对于绝大多数应用而言，增加的体积是可以忽略的。若将 Visual C&#43;&#43; 的运行时库改为静态链接模式，编译后的 exe 可以单文件运行。
2.开发环境 本文中使用到的开发环境和工具如下：
EasyX Graphics Library for C&#43;&#43;（2022-9-1）
Visual Studio Community （17.3.4）
3.安装步骤 由于只是简单的库文件，不需要复杂的配置，按照需要根据提示安装即可。
三、基础概念 1.设备 “设备”，是指绘图表面。在 EasyX 中，设备分两种，一种是默认的绘图窗口，另一种是 IMAGE 对象。通过 SetWorkingImage 函数可以设置当前用于绘图的设备。设置当前用于绘图的设备后，所有的绘图函数都会绘制在该设备上。
一开始对于这个概念不是很理解可以暂时搁置，简单的说法就是，你使用这个图形库进行绘图，那么需要一块画布来作画，设备就是你作画的画桌。
2.坐标 在 EasyX 中，坐标分两种：物理坐标和逻辑坐标。物理坐标是描述设备的坐标体系。坐标原点在设备的左上角，X 轴向右为正，Y 轴向下为正，度量单位是像素。
逻辑坐标是在程序中用于绘图的坐标体系。坐标默认的原点在窗口的左上角，X 轴向右为正，Y 轴向下为正，度量单位是点。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/23ebab074f69c9c3653aba6f0e16d1b9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-16T16:16:03+08:00" />
<meta property="article:modified_time" content="2022-11-16T16:16:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">EasyX图形库简述</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">一、导言</a></li><li><a href="#_8" rel="nofollow">二、环境配置</a></li><li><ul><li><a href="#1_9" rel="nofollow">1.配置说明</a></li><li><a href="#2_15" rel="nofollow">2.开发环境</a></li><li><a href="#3_23" rel="nofollow">3.安装步骤</a></li><li><a href="#_28" rel="nofollow">三、基础概念</a></li><li><a href="#1_29" rel="nofollow">1.设备</a></li><li><a href="#2_35" rel="nofollow">2.坐标</a></li><li><a href="#3_47" rel="nofollow">3.颜色</a></li></ul> 
  </li><li><a href="#_54" rel="nofollow">四、设计界面</a></li><li><ul><li><a href="#1_55" rel="nofollow">1.准备工作</a></li><li><a href="#2_79" rel="nofollow">2.绘制函数</a></li></ul> 
  </li><li><a href="#_134" rel="nofollow">五、例程</a></li><li><ul><li><a href="#1_140" rel="nofollow">1.迷宫算法可视化</a></li><li><a href="#2_275" rel="nofollow">2.打印机任务</a></li><li><a href="#3_359" rel="nofollow">3.进阶</a></li><li><ul><li><a href="#1_363" rel="nofollow">（1）车牌定位及分割算法可视化</a></li><li><a href="#2_366" rel="nofollow">（2）一个可以拧动和观察的魔方</a></li><li><a href="#32048_369" rel="nofollow">（3）2048小游戏</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_372" rel="nofollow">六、总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>一、导言</h2> 
<p>EasyX 是针对 C/C++ 的图形库，可以帮助使用C/C++语言的程序员快速上手图形编程。如果对于图形界面开发还比较陌生的朋友，可以通过这个图形库快速上手，之后不管是继续学习界面开发还是工作学习中需要用到相关内容都能有一定帮助。</p> 
<p>阅读完本文之后你可以了解EasyX图形库的基本概念，并通过学习例程来实现简单的界面开发。</p> 
<h2><a id="_8"></a>二、环境配置</h2> 
<h3><a id="1_9"></a>1.配置说明</h3> 
<p>EasyX Graphics Library 是针对 Visual C++ 的免费绘图库，支持 VC6.0 ~ VC2022，这意味着使用常用的能够编译C++的环境即可，无需额外的配置。</p> 
<p>EasyX 采用静态编译，不依赖任何 dll，同传统程序的发布方式没有区别，程序不会因为引入 EasyX 而增添任何发布负担。</p> 
<p>静态链接的 EasyX，会使编译后的 exe 体积增加 70KB 左右。对于绝大多数应用而言，增加的体积是可以忽略的。若将 Visual C++ 的运行时库改为静态链接模式，编译后的 exe 可以单文件运行。</p> 
<h3><a id="2_15"></a>2.开发环境</h3> 
<p>本文中使用到的开发环境和工具如下：</p> 
<p><a href="https://easyx.cn/" rel="nofollow">EasyX Graphics Library for C++</a>（2022-9-1）</p> 
<p><a href="https://visualstudio.microsoft.com/" rel="nofollow">Visual Studio Community</a> （17.3.4）</p> 
<h3><a id="3_23"></a>3.安装步骤</h3> 
<p>由于只是简单的库文件，不需要复杂的配置，按照需要根据提示安装即可。</p> 
<p><img src="https://images2.imgbox.com/84/c8/vINuxcjb_o.jpg" alt="图1 EasyX安装向导"></p> 
<h3><a id="_28"></a>三、基础概念</h3> 
<h3><a id="1_29"></a>1.设备</h3> 
<p>“<strong>设备</strong>”，是指绘图表面。在 EasyX 中，设备分两种，一种是默认的绘图窗口，另一种是 IMAGE 对象。通过 SetWorkingImage 函数可以设置当前用于绘图的设备。设置当前用于绘图的设备后，所有的绘图函数都会绘制在该设备上。</p> 
<p>一开始对于这个概念不是很理解可以暂时搁置，简单的说法就是，你使用这个图形库进行绘图，那么需要一块画布来作画，设备就是你作画的画桌。</p> 
<h3><a id="2_35"></a>2.坐标</h3> 
<p>在 EasyX 中，坐标分两种：<strong>物理坐标</strong>和<strong>逻辑坐标</strong>。物理坐标是描述设备的坐标体系。坐标原点在设备的左上角，X 轴向右为正，Y 轴向下为正，度量单位是像素。</p> 
<p>逻辑坐标是在程序中用于绘图的坐标体系。坐标默认的原点在窗口的左上角，X 轴向右为正，Y 轴向下为正，度量单位是点。</p> 
<p>默认情况下，逻辑坐标与物理坐标是一一对应的，一个逻辑点等于一个物理像素。我们可以用图2来理解：</p> 
<p><img src="https://images2.imgbox.com/73/6e/EuySoAGX_o.png" alt="图2 设备与坐标"></p> 
<p>即红色坐标系为物理坐标，而蓝色坐标系为逻辑坐标，大部分函数中使用的是逻辑坐标。</p> 
<h3><a id="3_47"></a>3.颜色</h3> 
<p>用<strong>RGB</strong>宏合成颜色，实际上合成出来的颜色是一个十六进制的的整数。如下图的调色盘所示：<br> <img src="https://images2.imgbox.com/8d/5a/Fs28zwnP_o.png" alt="图3 调色盘"></p> 
<p>这个属性就相当于画笔的色彩，你可以用颜色定义不同的背景和线条来呈现各种效果。</p> 
<h2><a id="_54"></a>四、设计界面</h2> 
<h3><a id="1_55"></a>1.准备工作</h3> 
<ol><li>想要调用EasyX库里的函数，首先调用头文件: &lt;graphics.h&gt;。</li><li>我们想要画图，首先要有一张画布，创建画布的语法也非常简单，我们需要调用EasyX库里的一个函数: initgraph(int width, int height)；</li><li>使用完画布要将画布关闭，需要调用函数：closegraph( );</li></ol> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//需要调用_getch()函数使程序暂停</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">480</span><span class="token punctuation">;</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化画布，640是画布宽度，480是画布高度</span>

	<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//暂停，等待键盘按键</span>

	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭当前画布</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_79"></a>2.绘制函数</h3> 
<p>作为一个图形库最基础的功能就是画图，EasyX包括了许多绘制函数，如下所示<br> <img src="https://images2.imgbox.com/f0/44/oLSrHKae_o.jpg" alt="图4 图形绘制函数"></p> 
<p>总的来说都是围绕着坐标来展开的，以点成线，以最简单的画直线为例子，你只需要设置好给定的四个参数（即起点和终点的逻辑坐标），那么就会以起始坐标开始画一条直线到终点坐标</p> 
<p>那么以此类推，画圆形就是设定原点坐标和半径，那么根据各种不同的图案组合，你就能得到期望的图形或者效果。</p> 
<p>如下例程分别绘制了直线、圆形、矩形和多边形，效果如图所示：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//需要调用_getch()函数使程序暂停</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">480</span><span class="token punctuation">;</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化画布，640是画布宽度，480是画布高度</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token number">0xFFFFFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置背景色为白色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//调用清屏cleardevice用背景色刷新背景</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span><span class="token number">0xFFAAAA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">line</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画线1</span>
	<span class="token function">line</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画线2</span>
	<span class="token function">line</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画线3</span>
	<span class="token function">line</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画线3</span>

	<span class="token function">circle</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画布中心半径100的圆</span>

	<span class="token function">circle</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画布中心半径68的圆</span>

	<span class="token function">rectangle</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//圆的外接正方形</span>

	POINT pts1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">68</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">59</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">34</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">59</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">34</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>	<span class="token comment">//圆的两个内接三角形</span>
	POINT pts2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">68</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">59</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">34</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>width <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">59</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">34</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>	<span class="token comment">//坐标信息</span>
	<span class="token function">polygon</span><span class="token punctuation">(</span>pts1<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//画一个无填充多边形</span>
	<span class="token function">polygon</span><span class="token punctuation">(</span>pts2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//参数1：坐标；参数2：多边形顶点数。</span>

	<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//暂停，等待键盘按键</span>

	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭当前画布</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/83/30/TTuk4PSy_o.png" alt="图5 简单图形"></p> 
<p>这里就同时用到了上一章说的三个基础概念，即设备、坐标、颜色，有了这些理解之后我们可以实现更复杂功能。</p> 
<h2><a id="_134"></a>五、例程</h2> 
<p>大部分的函数都可以在文档中找到具体的参数和使用方式，有了各种各样的工具之后我们可以实现什么样的效果是需要发挥一些创造力的。</p> 
<p>为了更好的帮助理解和使用好这个图形库，我设计了两个简单的例程，希望看完能对你有所启发。</p> 
<h3><a id="1_140"></a>1.迷宫算法可视化</h3> 
<p>使用图形库设计一个可以便遍历迷宫（二维数组）找到通路并将寻路过程可视化的程序。</p> 
<p>算法部分不是本文探讨的重点，做简单描述，以链栈储存当前路径，在每个节点以上右下左的顺序寻找通路，发现通路入栈并做标记，遇到死路出栈至拥有通路的上一个节点，直到找到出口</p> 
<p>界面的设计我们就采用简单的色块，以白色色块填充地图网格（图6），青色作为通路，蓝色作为墙体，红色作为死路，设计好之后效果如图7所示：<br> <img src="https://images2.imgbox.com/80/64/LAdWvIUq_o.jpg" alt="图6 地图网格"><br> <img src="https://images2.imgbox.com/c0/51/n3bk9fMH_o.jpg" alt="图7 初始化地图"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 初始化窗口</span>
	
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">,</span> <span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">241</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">238</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置背景色，此时采用RGB宏的方式定义</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//调用清屏cleardevice用背景色刷新背景</span>

	<span class="token function">setlinecolor</span><span class="token punctuation">(</span><span class="token number">0xFFAAAA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//设置网格线的颜色</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> <span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">;</span> y <span class="token operator">+=</span> <span class="token number">64</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 画线</span>
		<span class="token function">line</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> <span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">;</span> x <span class="token operator">+=</span> <span class="token number">64</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 画线</span>
		<span class="token function">line</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">64</span><span class="token operator">*</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">157</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//以蓝色方块填充起点终点</span>
	<span class="token function">fillrectangle</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//填充起点矩形</span>
	<span class="token function">fillrectangle</span><span class="token punctuation">(</span><span class="token number">64</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">64</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">64</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">64</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//填充终点矩形</span>

	<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//初始化地图</span>
	
	<span class="token function">MazePath</span><span class="token punctuation">(</span>mazeStatus<span class="token punctuation">,</span> startPos<span class="token punctuation">,</span> endPos<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//循环迷宫算法更新地图</span>

	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 暂停窗口，不让其退出</span>

	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//关闭画布</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>初始化成功后调用迷宫算法循环各个节点，同时在每一个判断分支后更新地图，达到动画的效果，图8展示了实际的运行过程。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">MazePath</span><span class="token punctuation">(</span><span class="token keyword">int</span> maze<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> position start<span class="token punctuation">,</span> position end<span class="token punctuation">)</span>	<span class="token comment">//参数1;迷宫二维数组指针；参数2：起点坐标；参数3：终点坐标。</span>
<span class="token punctuation">{<!-- --></span>
	SqStack S<span class="token punctuation">;</span><span class="token comment">//用于保存路径的栈结构</span>
	<span class="token function">InitStack</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span>
	position curPos <span class="token operator">=</span> start<span class="token punctuation">;</span>
	<span class="token keyword">int</span> curStep <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>mazeStatus<span class="token punctuation">[</span>curPos<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>curPos<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//1表示可通且未访问过</span>
		<span class="token punctuation">{<!-- --></span>
			mazeStatus<span class="token punctuation">[</span>curPos<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>curPos<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//2表示访问过</span>
			<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//更新迷宫UI</span>
			<span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			SElemType e <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> curStep<span class="token punctuation">,</span> curPos<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//入栈</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>curPos <span class="token operator">==</span> end<span class="token punctuation">)</span>	<span class="token comment">//抵达终点判断</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			curPos <span class="token operator">=</span> <span class="token function">NextPos</span><span class="token punctuation">(</span>curPos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			curStep<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				SElemType t<span class="token punctuation">;</span>
				<span class="token function">Pop</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
				curStep<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>di <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//将遍历过四个方向的点标记</span>
				<span class="token punctuation">{<!-- --></span>
					mazeStatus<span class="token punctuation">[</span>t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//3不可通过</span>
					<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//更新迷宫UI </span>
					<span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token function">Pop</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//出栈</span>
					curStep<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>di <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span>	<span class="token comment">//未完全遍历</span>
				<span class="token punctuation">{<!-- --></span>
					t<span class="token punctuation">.</span>di<span class="token operator">++</span><span class="token punctuation">;</span>
					<span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
					curStep<span class="token operator">++</span><span class="token punctuation">;</span>
					curPos <span class="token operator">=</span> <span class="token function">NextPos</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> t<span class="token punctuation">.</span>di<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">StackEmpty</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//更新地图</span>
<span class="token punctuation">{<!-- --></span>
	
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			
			<span class="token keyword">if</span><span class="token punctuation">(</span>mazeStatus<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>	<span class="token comment">//画墙</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">fillrectangle</span><span class="token punctuation">(</span>j <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>mazeStatus<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>	<span class="token comment">//通路</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">fillrectangle</span><span class="token punctuation">(</span>j <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>mazeStatus<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>	<span class="token comment">//死路</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">fillrectangle</span><span class="token punctuation">(</span>j <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/fc/lnV2BUFY_o.gif" alt="图8 迷宫寻路过程"></p> 
<p>通过上面这个例子可以看到，我们在画重复图形，且排列之间有一定关系时，可以用循环配合变量进行批量绘制，而不是每个图形都需要常量的坐标值，同样在每次调用之前记得三个要素中的坐标和颜色这两个重点。</p> 
<p>如果绘制的图形不能恰好覆盖上一个图形，记得对区域进行清除再上绘制，这样就不会出现预期外图案重叠的情况（除非你本来就想设计这种情况）。</p> 
<h3><a id="2_275"></a>2.打印机任务</h3> 
<p>基于EasyX实现的模拟8台打印机进程，模拟时间片轮转调度，8台打印机依次占用资源完成打印任务。</p> 
<p>动画的设计上我们使用进度条的方式，也就意味着以实心矩形逐步填充空心矩形从而达到进度条的效果，同时能够增加相应的打印任务。</p> 
<p>程序逻辑实现采用队列结构，符合FIFO原则，由于这不是本文探讨的重点不做详细论述，重点了解界面的部分。</p> 
<p>这个例程加入了响应处理鼠标点击事件和用户输入的交互，这让这个图形库拥有了和大部分GUI相同的交互效果。</p> 
<p>你可以通过这个程序学习设计简单的上位机来展示设备的状态以及简单的控制操作。我们直接关注鼠标交互和对话窗口的部分代码：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		HWND hwnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		POINT pt<span class="token punctuation">;</span> <span class="token function">GetCursorPos</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取得鼠标在屏幕中的位置信息传递给pt</span>
		<span class="token function">ScreenToClient</span><span class="token punctuation">(</span>hwnd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将pt的位置信息转换为在hwnd对应窗口的相对位置</span>
		<span class="token keyword">int</span> x <span class="token operator">=</span> pt<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token keyword">int</span> y <span class="token operator">=</span> pt<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
		<span class="token comment">// 获取一条鼠标消息</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;</span> <span class="token number">512</span><span class="token punctuation">)</span>			<span class="token comment">//当鼠标停留在操作区域时</span>
		<span class="token punctuation">{<!-- --></span>
			m <span class="token operator">=</span> <span class="token function">GetMouseMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">switch</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span>uMsg<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">case</span> WM_LBUTTONDOWN<span class="token operator">:</span>    <span class="token comment">//左键单击来创建任务</span>
				<span class="token function">input</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//输入事件处理</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>

			<span class="token keyword">case</span> WM_RBUTTONUP<span class="token operator">:</span>
				<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">// 按鼠标右键退出程序</span>

			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token number">512</span><span class="token punctuation">)</span>
			<span class="token function">show</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//打印程序运行</span>
		<span class="token function">FlushMouseMsgBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>
</code></pre> 
<p>通过注释我们可以看到，本质上这还是三个基本概念中的坐标要素，通过API获取坐标信息之后，设计相应的响应事件，这就像在Qt界面开发中对应的信号与槽机制，</p> 
<p>我们把操作区域想象成一个button，当鼠标停留时，我们停止当前进行的任务，判断鼠标下一步的点击事件，对应不同的点击事件（左键、右键、双击、长按等），设置期望的事件处理函数。</p> 
<p>在这个例子中就是当鼠标停留在操作区域，暂停打印机的任务，并等待创建新任务，待用户输入完成后继续完成打印任务，当然这种简单的处理会引发一些问题，</p> 
<p>如果用户长时间停留在操作区域而不操作，那么程序将停止不前，但主要是理解事件的响应流程，由于这只是一个图形库，对于较为完善的界面开发的事件响应机制，可以抽象理解为一种中断处理，</p> 
<p>点击按钮这个事件（信号）就是触发中断请求，之后会响应中断请求进入中断服务，那么处理这个事件对应的函数（在本例中就是下文的input函数）就是中断处理的代码了。</p> 
<p>通过这个例子希望对你以后的界面开发有所帮助。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">input</span><span class="token punctuation">(</span>queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">txt</span><span class="token operator">&amp;</span> t<span class="token punctuation">)</span>  <span class="token comment">//输入任务信息</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">InputBox</span><span class="token punctuation">(</span><span class="token punctuation">(</span>LPTSTR<span class="token punctuation">)</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> choose<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//用户输入对话框</span>

	<span class="token keyword">float</span> i<span class="token punctuation">;</span>
	<span class="token function">sscanf_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"%f"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//接收打印机编号</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">8</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token function">InputBox</span><span class="token punctuation">(</span><span class="token punctuation">(</span>LPTSTR<span class="token punctuation">)</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> enter<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//对话框显示输入打印任务</span>

	<span class="token keyword">int</span> r<span class="token punctuation">;</span>
	<span class="token function">sscanf_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//接收打印任务</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		q<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>r <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//进入队列</span>

<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/e6/bf/gYoaU78n_o.jpg" alt="图9 输入窗口"></p> 
<p>整体实现的效果如图10所示，打印机打印完预设的任务后，可以手动添加新的打印任务。<br> <img src="https://images2.imgbox.com/43/d8/fv12eoYj_o.gif" alt="图10 打印机进程"></p> 
<p>图中进度条的处理相信你通过之前的了解也能轻松的实现，由于灵活性极强，可以设计用来展示下位机的一些状态或是整合数据成为动态的图表。</p> 
<h3><a id="3_359"></a>3.进阶</h3> 
<p>当然它能做到的远不止如此，由于是一个图形库，可以用于制作各类图形相关的算法可视化或是小工具、小游戏。</p> 
<h4><a id="1_363"></a>（1）车牌定位及分割算法可视化</h4> 
<p><img src="https://images2.imgbox.com/8b/1c/8471BQyU_o.gif" alt="图11 车牌识别算法"></p> 
<h4><a id="2_366"></a>（2）一个可以拧动和观察的魔方</h4> 
<p><img src="https://images2.imgbox.com/7e/1c/pZbJWNXC_o.gif" alt="图12 魔方"></p> 
<h4><a id="32048_369"></a>（3）2048小游戏</h4> 
<p><img src="https://images2.imgbox.com/90/46/tsbItt5M_o.gif" alt="图13 2048"></p> 
<h2><a id="_372"></a>六、总结</h2> 
<p>本文介绍了EasyX图形库的基本概念，以及一些简单的应用，其最大的优势就是环境的安装和配置简单，不需要繁琐的配置，同时对于任何没有接触过界面开发的新手较为友好，</p> 
<p>你可以通过简单的学习快速上手，而且编译速度较快，你可以每设计一部分图形就编译运行查看效果，反馈较快，出现错误可以马上调整，虽然没有很复杂很高级的进阶功能，但是仅仅依靠简单的设计就能实现各种界面效果。</p> 
<p>当然他的缺点也比较明显，没有可视化的界面设计视图以及较为完善的开发环境，对于需要多种控件和响应事件的应用场景，不如WinForm、QT等开发工具来的便捷，对于更多可能的应用场景欢迎讨论。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d27302d65f9899ec633523f0afa33bde/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">el-table 表格列宽根据内容自适应，通过计算宽度实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a8d44c31921e13d1ca83fe19049b402/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring揭秘3：IOC容器之BeanFactory的XML配置管理bean</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>