<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring 事务（编程式事务、声明式事务@Transactional、事务隔离级别、事务传播机制） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring 事务（编程式事务、声明式事务@Transactional、事务隔离级别、事务传播机制）" />
<meta property="og:description" content="文章目录 1. 事务的定义2. Spring 中事务的实现2.1 MySQL 中使用事务2.2 Spring 中编程式事务的实现2.3 Spring 中声明式事务2.3.1 声明式事务的实现 @Transactional2.3.2 @Transactional 作用域2.3.3@Transactional 参数设置2.3.4 @Transactional 异常情况2.3.5 @Transactional 工作原理 3. 事务隔离级别3.1 事务特性3.2 Spring 中设置事务隔离级别 4. Spring 事务传播机制4.1 事务传播机制是什么4.2 为什么需要事务传播机制4.3 事务传播机制有哪些4.4 Spring 事务传播机制使用4.4.1 支持当前事务（REQUIRED 默认）4.4.2 不支持当前事务（REQUIRES_NEW）4.4.3 不支持当前事务（NOT_SUPPORTED）4.4.4 NESTED 嵌套事务4.4.5 嵌套事务和加入事务的区别 本篇重点总结：
在 Spring 项目中使用事务，有两种方式：编程式手动操作和声明式自动提交，声明式自动提交使用最多，只需要在方法上添加注解 @Transactional设置事务的隔离级别 @Transactional(isolation = Isolation.SERIALIZABLE)，Spring 中的事务隔离级别有5种设置事务的传播机制 @Transactional(propagation = Propagation.REQUIRED)，Spring 中的事务传播级别有 7 种 1. 事务的定义 事务定义：将一组操作封装成一个执行单元（封装到一起），要么全部成功，要么全部失败
那么为什么要用事务呢
比如两个银行账户之间的转账操作：
第一步操作：A 账户 -100 元第二步操作：B 账户 &#43;100 元 如果没有事务。第一步执行成功了，第二步执行失败了，那么 A 账号就丢失了 100 元，而如果使用事务就可以解决这个问题，让这一组操作要么一起成功，要么一起失败" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7e3398c0acebce16f4faa60b7daa85fa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-02T08:00:00+08:00" />
<meta property="article:modified_time" content="2023-03-02T08:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring 事务（编程式事务、声明式事务@Transactional、事务隔离级别、事务传播机制）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1__7" rel="nofollow">1. 事务的定义</a></li><li><a href="#2_Spring__22" rel="nofollow">2. Spring 中事务的实现</a></li><li><ul><li><a href="#21_MySQL__29" rel="nofollow">2.1 MySQL 中使用事务</a></li><li><a href="#22_Spring__48" rel="nofollow">2.2 Spring 中编程式事务的实现</a></li><li><a href="#23_Spring__104" rel="nofollow">2.3 Spring 中声明式事务</a></li><li><ul><li><a href="#231__Transactional_106" rel="nofollow">2.3.1 声明式事务的实现 @Transactional</a></li><li><a href="#232_Transactional__137" rel="nofollow">2.3.2 @Transactional 作用域</a></li><li><a href="#233Transactional__146" rel="nofollow">2.3.3@Transactional 参数设置</a></li><li><a href="#234__Transactional__173" rel="nofollow">2.3.4 @Transactional 异常情况</a></li><li><a href="#235_Transactional___235" rel="nofollow">2.3.5 @Transactional 工作原理</a></li></ul> 
  </li></ul> 
  </li><li><a href="#3__251" rel="nofollow">3. 事务隔离级别</a></li><li><ul><li><a href="#31__253" rel="nofollow">3.1 事务特性</a></li><li><a href="#32_Spring__269" rel="nofollow">3.2 Spring 中设置事务隔离级别</a></li></ul> 
  </li><li><a href="#4_Spring__308" rel="nofollow">4. Spring 事务传播机制</a></li><li><ul><li><a href="#41__310" rel="nofollow">4.1 事务传播机制是什么</a></li><li><a href="#42__316" rel="nofollow">4.2 为什么需要事务传播机制</a></li><li><a href="#43__325" rel="nofollow">4.3 事务传播机制有哪些</a></li><li><a href="#44_Spring__345" rel="nofollow">4.4 Spring 事务传播机制使用</a></li><li><ul><li><a href="#441_REQUIRED__347" rel="nofollow">4.4.1 支持当前事务（REQUIRED 默认）</a></li><li><a href="#442_REQUIRES_NEW_418" rel="nofollow">4.4.2 不支持当前事务（REQUIRES_NEW）</a></li><li><a href="#443__NOT_SUPPORTED_430" rel="nofollow">4.4.3 不支持当前事务（NOT_SUPPORTED）</a></li><li><a href="#444_NESTED__439" rel="nofollow">4.4.4 NESTED 嵌套事务</a></li><li><a href="#445__455" rel="nofollow">4.4.5 嵌套事务和加入事务的区别</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p><strong>本篇重点总结：</strong></p> 
 <ol><li>在 Spring 项目中使用事务，有两种方式：编程式手动操作和声明式自动提交，声明式自动提交使用最多，只需要在方法上添加注解 @Transactional</li><li>设置事务的隔离级别 @Transactional(isolation = Isolation.SERIALIZABLE)，Spring 中的事务隔离级别有5种</li><li>设置事务的传播机制 @Transactional(propagation = Propagation.REQUIRED)，Spring 中的事务传播级别有 7 种</li></ol> 
</blockquote> 
<h2><a id="1__7"></a>1. 事务的定义</h2> 
<p><strong>事务定义：将一组操作封装成一个执行单元（封装到一起），要么全部成功，要么全部失败</strong></p> 
<p><strong>那么为什么要用事务呢</strong></p> 
<p>比如两个银行账户之间的转账操作：</p> 
<ol><li>第一步操作：A 账户 -100 元</li><li>第二步操作：B 账户 +100 元</li></ol> 
<p>如果没有事务。第一步执行成功了，第二步执行失败了，那么 A 账号就丢失了 100 元，而如果使用事务就可以解决这个问题，让这一组操作要么一起成功，要么一起失败</p> 
<hr> 
<h2><a id="2_Spring__22"></a>2. Spring 中事务的实现</h2> 
<p>Sping 中事务的操作用两种：</p> 
<ol><li>编程式事务（手写代码操作事务）</li><li>声明式事务（利用注解自动开启和提交事务）</li></ol> 
<h3><a id="21_MySQL__29"></a>2.1 MySQL 中使用事务</h3> 
<p>MySQL 中事务有 3 个重要的操作：开启事务、提交事务、回滚事务，它们对应的操作命令如下</p> 
<pre><code class="prism language-mysql">-- 开启事务
start transaction;

-- 业务执⾏
-- 提交事务
commit;
-- 回滚事务
rollback;
</code></pre> 
<hr> 
<h3><a id="22_Spring__48"></a>2.2 Spring 中编程式事务的实现</h3> 
<p>Spring 中手动操作事务和 MySQL操作事务类似，也是有 3 个重要操作</p> 
<ol><li>开启事务（获取事务）</li><li>提交事务</li><li>回滚事务</li></ol> 
<p>Spring Boot 内置了两个对象，DataSourceTransactionManager （事务管理器）用来获取事务（开启事务）、提交或回滚事务的，而 TransactionDefinition 是事务的属性，在获取事务的时候需要将 TransactionDefinition 传递进去从而获得一个事务 TransactionStatus 对象</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DataSourceTransactionManager</span> transactionManager<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">TransactionDefinition</span> transactionDefinition<span class="token punctuation">;</span>

    <span class="token comment">// 在此方法中使用编程式的事物</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/add"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 非空效验【验证用户名和密码不为空】</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 开启事务（获取事务）</span>
        <span class="token class-name">TransactionStatus</span> transactionStatus <span class="token operator">=</span> transactionManager<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>transactionDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add 受影响的行数："</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 提交事务</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>transactionStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        // 回滚事务</span>
<span class="token comment">//        transactionManager.rollback(transactionStatus);</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>运行程序分别查看提交事务和回滚事务的效果</p> 
<p><img src="https://images2.imgbox.com/f6/b5/2aqp265x_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-CDdDwGaw-1676374722301)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676287772298.png)]"></p> 
<p><img src="https://images2.imgbox.com/f2/35/ZH8ZI8N6_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-y3cm5944-1676374722302)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676287783586.png)]"></p> 
<hr> 
<h3><a id="23_Spring__104"></a>2.3 Spring 中声明式事务</h3> 
<h4><a id="231__Transactional_106"></a>2.3.1 声明式事务的实现 @Transactional</h4> 
<p>声明式事务的实现，只需要<strong>在方法上添加 @Transactional 注解</strong>就可以实现，无序手动开启事务和提交事务，进入方法时自动开启事务，方法执行完全会自动提交事务，如果中途发生了没有处理的异常会自动回滚事务</p> 
<pre><code class="prism language-java"><span class="token comment">// 在此方法中使用声明式的事物</span>
<span class="token comment">// 在进入方法之前，自动开启事务，在方法之前完后，自动提交事务，如果出现异常，则自动回滚事务</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/add2"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add2 受影响的行数："</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/68/3e/RORyxykQ_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-S21gpiHu-1676374722303)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676288819713.png)]"></p> 
<p>去除异常的那行代码重新运行程序</p> 
<p><img src="https://images2.imgbox.com/9f/ca/O79cUjEi_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-3Vx76KGj-1676374722303)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676289003919.png)]"></p> 
<hr> 
<h4><a id="232_Transactional__137"></a>2.3.2 @Transactional 作用域</h4> 
<p>@Transactional 可以用来修饰方法或类：</p> 
<ul><li>修饰方法时，只能应用到 public 方法上，否则不生效</li><li>修饰类时，说明该注解对该类中所有的 public 方法都生效</li></ul> 
<hr> 
<h4><a id="233Transactional__146"></a>2.3.3@Transactional 参数设置</h4> 
<table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>value</td><td>当你配置多个事务管理器时，可以使用该属性指定选择用哪个事务管理器</td></tr><tr><td>transactionManager</td><td>同上</td></tr><tr><td>propagation</td><td>事务的传播行为，默认值为 Propagation.REQUIRED</td></tr><tr><td>isolation</td><td>事务的隔离级别，默认值为 Isolation.DEFAULT</td></tr><tr><td>timeout</td><td>事务的超时时间，默认值为-1，如果超过该时间限制但事务还没完成，则自动回滚事务</td></tr><tr><td>readOnly</td><td>指定事务是否为只读事务，默认值为 false，为了忽略那些不需要事务的方法，比如读取数据可以设置 read-only 为 true</td></tr><tr><td>rolibackFor</td><td>用于指定能够触发事务回滚的异常类型，可以指定多个异常类型</td></tr><tr><td>rolibackForClassName</td><td>同上</td></tr><tr><td>noRolibackFor</td><td>抛出指定的异常类型，不回滚事务，也可以指定多个异常类型</td></tr><tr><td>noRollbackForClassName</td><td>同上</td></tr></tbody></table> 
<p>设置事务的隔离级别</p> 
<p><img src="https://images2.imgbox.com/f1/65/6eZDJAUa_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ibpM3tny-1676374722304)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676292506013.png)]"></p> 
<p>设置事务的超时时间</p> 
<p><img src="https://images2.imgbox.com/7b/dd/So30Alqr_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-NIxWwKWm-1676374722304)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676293014348.png)]"></p> 
<hr> 
<h4><a id="234__Transactional__173"></a>2.3.4 @Transactional 异常情况</h4> 
<p><strong>@Transactional 在异常被捕获的情况下，不会进⾏事务⾃动回滚</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Transactional</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/add3"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add3</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add2 受影响的行数："</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/49/19/sdW7ONpW_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ueCyvrWj-1676374722305)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676356422586.png)]"></p> 
<p><strong>解决方法1：将异常重新抛出去</strong></p> 
<p>对于捕获的异常，事务是会⾃动回滚的，因此解决⽅案1就是将异常重新抛出</p> 
<p><img src="https://images2.imgbox.com/99/1a/B3GqXELI_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Y0emxEE9-1676374722306)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676356654556.png)]"></p> 
<p><strong>解决方法2：使用代码的方式手动回滚当前事务</strong></p> 
<p>手动回滚事务，在⽅法中使⽤ TransactionAspectSupport.currentTransactionStatus() 可以得到当前的事务，然后设置回滚方法 setRollbackOnly 就可以实现回滚了，具体实现代码</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@Transactional</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/add3"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add3</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add2 受影响的行数："</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//手动回滚事务</span>
            <span class="token class-name">TransactionAspectSupport</span><span class="token punctuation">.</span><span class="token function">currentTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/57/dd/6NJDKdbM_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-X3KVRTil-1676374722306)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676356967349.png)]"></p> 
<hr> 
<h4><a id="235_Transactional___235"></a>2.3.5 @Transactional 工作原理</h4> 
<p>@Transactional 是基于 AOP 实现的，AOP 又是使用动态代理来实现的。如果目标对象实现了接口，默认情况下采用 JDK 的动态代理，如果目标对象没有实现接口，会使用 CGLIB 动态代理。@Transactional 在开始执行业务之前，通过代理先开启事务，在执行成功之后再提交事务，如果中途遇到异常，则回滚事务</p> 
<p>@Transactional 实现思路</p> 
<p><img src="https://images2.imgbox.com/3e/ea/lNukBLMF_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-U53Wzj7E-1676374722307)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676358204440.png)]"></p> 
<p>@Transactional 具体执行细节</p> 
<p><img src="https://images2.imgbox.com/b0/dc/rEQYZDnd_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2L3MlAy7-1676374722308)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676358241159.png)]"></p> 
<hr> 
<h2><a id="3__251"></a>3. 事务隔离级别</h2> 
<h3><a id="31__253"></a>3.1 事务特性</h3> 
<p>事务有四大特性（ACID），原子性、持久性、一致性和隔离性</p> 
<ol><li><strong>原子性（Atomicity）：一个事务中的所有操作，要么全部完成，要么全部不完成</strong>。不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚到事务开始前的状态</li><li><strong>一致性（Consistency）：在事务开始之前和事务事务结束之后，数据库的完整性没有被破坏</strong>。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精准度、串联性以及后续数据库可以自发性地完成预定的工作</li><li><strong>持久性（Isolation）：事务处理结束后，对数据的修改就是永久的</strong>。即使系统故障也不会丢失</li><li><strong>隔离性（Durability）：数据库允许多个并发事务同时对其数据进行读写和修改的能力</strong>。隔离性可以防止多个事务并发执行时由交叉执行而导致数据的不一致。</li></ol> 
<p><strong>这四个特性中，只有隔离性（隔离级别）是可以设置的</strong></p> 
<hr> 
<h3><a id="32_Spring__269"></a>3.2 Spring 中设置事务隔离级别</h3> 
<p><strong>为什么要设置事务的隔离级别</strong></p> 
<p>设置事务的隔离级别是用来保障多个并发事务执行更可控，更符合操作者预期的</p> 
<p>这个可控表示的是，比如疫情的时候，有确诊、密接、次密接等针对不同的人群，采取不同的隔离级别，这种方式与事务的隔离级别类似，都是让某种行为操作变的 <strong>更可控</strong>，<strong>事务的隔离级别就是为了防止，其他事务影响当前事务执行的一种策略</strong></p> 
<p><strong>MySQL 事务隔离级别有 4 种</strong></p> 
<ol><li><strong>读未提交（READ UNCOMMITTED ）</strong>：事务A读到了事务B没有提交的数据，然后过了一会事务B进行了回滚，此时**事务A的这个情况就叫脏读，读到的数据也叫脏数据，读未提交侧重于查询，**既然有了脏读，那么也肯定有不可重复读和幻读的问题</li><li><strong>读已提交（READ COMMITTED）</strong>：针对上面脏读的问题来解决的，事务A读到了事务B已经提交的数据，然后过了一会事务B将提交的数据进行修改了，此时事务A又读了一次B的数据，发现两次读到读到数据不一样，这个就叫不<strong>可重复读的问题，读已提交侧重的是修改</strong>，还是存在不可重复读和幻读的问题</li><li><strong>可重复读（REPEATABLE READ）</strong> ：针对的是上面不可重复读的问题，事务A此时查询数据发现表中只有一条数据，然后事务B又过来拆台了，事务B又插入了一条数据，事务A再次查询发现，哎！我出现幻觉了吗，刚刚不是只有一条数据么，现在咋又变成了两条数据了，是出现幻觉了吗，这个问题就叫 <strong>幻读，可重复读侧重的是添加和删除</strong>，只存在幻读的问题了</li><li><strong>串行化（SERIALIZABLE）</strong>：事务最高的隔离级别，解决了脏读、不可重复读、幻读的问题，但这个级别执行效率低</li></ol> 
<table><thead><tr><th>事务隔离级别</th><th>脏读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>读未提交（READ UNCOMMITTED）</td><td>√</td><td>√</td><td>√</td></tr><tr><td>读已提交（READ COMMITTED）</td><td></td><td>√</td><td>√</td></tr><tr><td>可重复读（REPEATABLE READ）</td><td></td><td></td><td>√</td></tr><tr><td>串行化（SERIALIZABLE）</td><td></td><td></td><td></td></tr></tbody></table> 
<p><strong>Spring 中事务隔离级别有 5 种</strong></p> 
<p>多了一个默认事务隔离级别 DEFAULT 以连接的数据库事务隔离级别为准，如果连接的是 MySQL 那么默认就是 可重复读</p> 
<p>注意事项：</p> 
<ol><li><strong>当 Spring 中设置了事务隔离级别和连接的数据库（MySQL）事务隔离级别发送冲突的时候，以Spring为准</strong></li><li><strong>Spring 中的事务隔离级别机制的实现是依靠连接数据库支持事务隔离级别为基础</strong></li></ol> 
<p>Spring 中事务隔离级别可以通过 @Transactional 中的 isolation 属性进行设置</p> 
<hr> 
<h2><a id="4_Spring__308"></a>4. Spring 事务传播机制</h2> 
<h3><a id="41__310"></a>4.1 事务传播机制是什么</h3> 
<p>Spring 事务传播机制：多个事务在相互调用时，事务是如何传递的</p> 
<h3><a id="42__316"></a>4.2 为什么需要事务传播机制</h3> 
<p><strong>事务隔离级别是保证多个并发事务执⾏的可控性的（稳定性的），⽽事务传播机制是保证⼀个事务在多个调⽤⽅法间的可控性的（稳定性的）</strong></p> 
<p><img src="https://images2.imgbox.com/f6/4a/AxuY1u1o_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-nl69KKT9-1676374722309)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676361930104.png)]"></p> 
<h3><a id="43__325"></a>4.3 事务传播机制有哪些</h3> 
<p>事务的传播机制有 7 种：</p> 
<p><img src="https://images2.imgbox.com/47/f1/IRYFVyEg_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-pvcupysn-1676374722309)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676362237124.png)]"></p> 
<ol><li>Propagation.REQUIRED：默认的事务传播级别，它表示如果当前存在事务，则加入事务；如果当前没有事务，则创建一个新的事务</li><li>Propagation.SUPPORTS：如果当前存在事务，则加入该事务；如果当前没有事务，则以非事务的方式继续运行</li><li>Propagation.MANDATORY；（mandatory 强制性）如果当前存在事务，则加入该事务；如果当前没有事务，则抛出异常</li><li>Propagation.REQUIRES_ENW：表示创建一个新的事务，如果当前存在事务，则把当前事务挂起。也就是说不管外部方法是否开启事务，Propagation.REQUIRES_NEW 修饰的内部方法会新开启自己的事务，且开启的事务相互独立，互不干扰</li><li>Propagation.NOT_SUPPORTED：以非事务方式运行，如果当前存在事务，则把当前事务挂起</li><li>Propagation.NEVER：以非事务方式运行，如果当前存在事务，则抛出异常</li><li>Propagation.NESTED：如果当前存在事务，则创建一个事务作为当前事务的嵌套事务来运行；如果当前没有事务，则该取值等价于 PROPAGATION_REQUIRED</li></ol> 
<p><img src="https://images2.imgbox.com/aa/97/g9VckbAC_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LNBCGXn4-1676374722310)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676364699386.png)]"></p> 
<h3><a id="44_Spring__345"></a>4.4 Spring 事务传播机制使用</h3> 
<h4><a id="441_REQUIRED__347"></a>4.4.1 支持当前事务（REQUIRED 默认）</h4> 
<p>在mycnblog数据库中，先创建一个表</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">table</span> loginfo<span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token identifier"><span class="token punctuation">`</span>desc<span class="token punctuation">`</span></span> <span class="token keyword">text</span><span class="token punctuation">,</span>
    <span class="token operator">-</span><span class="token operator">&gt;</span> createtime <span class="token keyword">datetime</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">desc</span> loginfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+--------------+------+-----+-------------------+----------------+</span>
<span class="token operator">|</span> Field      <span class="token operator">|</span> <span class="token keyword">Type</span>         <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span>           <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+--------------+------+-----+-------------------+----------------+</span>
<span class="token operator">|</span> id         <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name       <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token keyword">desc</span>       <span class="token operator">|</span> <span class="token keyword">text</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>              <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> createtime <span class="token operator">|</span> <span class="token keyword">datetime</span>     <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+--------------+------+-----+-------------------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>以下代码实现中，先开启事务先成功插入一条用户数据，然后再执行日志报错，而在日志报错是发生了异常，观察 propagation = Propagation.REQUIRED 的执行结果</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LogService</span> logService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRED</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/add4"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add4</span><span class="token punctuation">(</span><span class="token class-name">UserInfo</span> userInfo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>userInfo <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token operator">||</span> <span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> userResult <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"添加用户："</span> <span class="token operator">+</span> userResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LogInfo</span> logInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LogInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logInfo<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"添加用户"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logInfo<span class="token punctuation">.</span><span class="token function">setDesc</span><span class="token punctuation">(</span><span class="token string">"添加用户结果："</span> <span class="token operator">+</span> userResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> logResult <span class="token operator">=</span>  logService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>logInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> userResult<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/aa/5f/8hfid5JV_o.png" alt="在这里插入图片描述"></p> 
<p>执行结果：程序报错，数据库没有插⼊任何数据</p> 
<p>执行流程</p> 
<ol><li> <p>UserService 中的保存⽅法正常执⾏完成。</p> </li><li> <p>LogService 保存⽇志程序报错，因为使⽤的是 Controller 中的事务，所以整个事务回滚。</p> </li><li> <p>数据库中没有插⼊任何数据，也就是步骤 1 中的⽤户插⼊⽅法也回滚了。</p> </li></ol> 
<hr> 
<h4><a id="442_REQUIRES_NEW_418"></a>4.4.2 不支持当前事务（REQUIRES_NEW）</h4> 
<p>UserController 类中的代码不变，将添加用户和添加日志的方法修改为 REQUIRES_NEW 不支持当前事务，重新创建事务</p> 
<p><img src="https://images2.imgbox.com/55/75/v8cgWIx7_o.png" alt="在这里插入图片描述"><br> 运行程序</p> 
<p><img src="https://images2.imgbox.com/45/57/BhZTWvYy_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-xRek64FZ-1676374722312)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676369232749.png)]"></p> 
<hr> 
<h4><a id="443__NOT_SUPPORTED_430"></a>4.4.3 不支持当前事务（NOT_SUPPORTED）</h4> 
<p><img src="https://images2.imgbox.com/19/08/HHjLVmsO_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-QNO5pVdC-1676374722312)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676372475953.png)]"></p> 
<hr> 
<h4><a id="444_NESTED__439"></a>4.4.4 NESTED 嵌套事务</h4> 
<p>方法调用流程：Controller/add ——》 用户添加方法（userservice） ——》 日志添加方法（logservice）</p> 
<p>当日志添加方法出现异常之后，嵌套事务的执行结果是：</p> 
<ol><li>用户添加不受影响，添加用户成功</li><li>日志添加失败，因为发生异常回滚了事务</li></ol> 
<p><img src="https://images2.imgbox.com/dc/c4/dojyRxVE_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-fGPQVmTM-1676374722312)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676371659498.png)]"></p> 
<hr> 
<h4><a id="445__455"></a>4.4.5 嵌套事务和加入事务的区别</h4> 
<p>先看<strong>嵌套事务</strong></p> 
<p><img src="https://images2.imgbox.com/6a/49/jtvx9XkK_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-JqyEXrxd-1676374722313)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676373164427.png)]"></p> 
<p>在 LogService 中进行事务的回滚操作</p> 
<p>最终执行的效果就是，User 表成功添加数据，而 Log 表中没有添加数据。Log 中的事务已经回滚，但是嵌套事务不会回滚嵌套之前的事务，也就是说 <strong>嵌套事务可以实现部分事务回滚</strong></p> 
<p><strong>加入事务</strong></p> 
<p><img src="https://images2.imgbox.com/49/74/yX7uCfuN_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-GnP7AlMP-1676374722313)(C:\Users\28463\AppData\Roaming\Typora\typora-user-images\1676373526005.png)]"></p> 
<p>最终程序的执行结果：用户表和日志表都没有添加任何数据，说明整个事务都回滚了。也就是说 REQUIRED 如果回滚就是回滚所有事务，不能实现部分事务的回滚</p> 
<blockquote> 
 <p>嵌套事务之所以能够实现部分事务的回滚，是因为事务中有一个保存点（相当于游戏存档），嵌套事务进入之后相当于新建一个保存点，而回滚时只回滚到当前保存点，因此之前的事务是不受影响的。</p> 
 <p>而 REQUIRED 是加入到当前事务中，并没有创建事务的保存点，因此出现了回滚就是整个事务的回滚</p> 
</blockquote> 
<p>总结二者区别：</p> 
<ul><li>整个事务如果全部执行成功，二者的结果是一样的</li><li>如果事务执行到一半失败了，那么加入事务整个事务都会回滚；而嵌套事务会局部回滚，不会影响上一个方法中执行的结果</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4edeb8e506be5c5e98a75bcdbdf5f6f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL数据库的一些常见问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/82fe38fbe0998f5d51d2a519aefb9b20/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VUE报错 error:0308010C:digital envelope routines::unsupported</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>