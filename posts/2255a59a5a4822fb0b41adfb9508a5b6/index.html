<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Vue甜点】vue使用缓存机制 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Vue甜点】vue使用缓存机制" />
<meta property="og:description" content="一、cookie 1、安装vue-cookies npm install vue-cookies --save 2、 引入 打开项目的main.js文件
// ==== cookie缓存 ==== import VueCookies from &#39;vue-cookies&#39; const app = createApp(App) app.use(VueCookies) 3、设置cookie 使用set(key, value, age)添加cookis。其中：
【key】为缓存的键名
【value】为缓存的具体值
【age】为缓存的有效期，单位秒
this.$cookies.set(&#39;cookie&#39;, &#39;一个测试&#39;, 60*5); 4、获取cookie值 this.$cookies.get(&#39;cookie&#39;); 5、删除cookie this.$cookies.remove(&#39;cookie&#39;); 6、判断cookie是否存在 若存在返回true，反之则返回false
this.$cookies.isKey(&#39;token&#39;); 7、获取cookie的所有key 以数组形式返回所有的cookie键名
this.$cookies.keys() 8、设置cookie过期时间 有效期可用字符串
Unitfull nameyyearmmonthddayhhourminminutessecond 大小写不敏感
默认为秒
8.1、设置全局有效期 // 10天后过期 this.$cookies.config(&#39;10d&#39;) // 设置截至有效日期 this.$cookies.config(new Date(2019,03,13).toUTCString()) // 默认设置秒数过期时间 this.$cookies.config(60 * 60 * 24 * 30,&#39;&#39;); 8.2、对单独cookie设置有效期 //不写age，默认为1天过期 this.$cookies.set(&#34;cookie1&#34;,&#34;默认有效期&#34;) // 以秒为单位，设置1天过去 this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2255a59a5a4822fb0b41adfb9508a5b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-21T17:23:15+08:00" />
<meta property="article:modified_time" content="2023-11-21T17:23:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Vue甜点】vue使用缓存机制</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="cookie_1"></a>一、cookie</h2> 
<h3><a id="1vuecookies_2"></a>1、安装vue-cookies</h3> 
<pre><code class="prism language-shell"><span class="token function">npm</span> <span class="token function">install</span> vue-cookies <span class="token parameter variable">--save</span>
</code></pre> 
<h3><a id="2__6"></a>2、 引入</h3> 
<p>打开项目的<code>main.js</code>文件</p> 
<pre><code class="prism language-js"><span class="token comment">// ==== cookie缓存 ====</span>
<span class="token keyword">import</span> VueCookies <span class="token keyword">from</span> <span class="token string">'vue-cookies'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueCookies<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3cookie_16"></a>3、设置cookie</h3> 
<p>使用<code>set(key, value, age)</code>添加cookis。其中：<br> 【key】为缓存的键名<br> 【value】为缓存的具体值<br> 【age】为缓存的有效期，单位秒</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'cookie'</span><span class="token punctuation">,</span> <span class="token string">'一个测试'</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="4cookie_24"></a>4、获取cookie值</h3> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'cookie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="5cookie_28"></a>5、删除cookie</h3> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'cookie'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="6cookie_32"></a>6、判断cookie是否存在</h3> 
<p>若存在返回<code>true</code>，反之则返回<code>false</code></p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">isKey</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="7cookiekey_37"></a>7、获取cookie的所有key</h3> 
<p>以数组形式返回所有的cookie键名</p> 
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre> 
<h3><a id="8cookie_43"></a>8、设置cookie过期时间</h3> 
<p><em>有效期可用字符串</em></p> 
<table><thead><tr><th>Unit</th><th>full name</th></tr></thead><tbody><tr><td>y</td><td>year</td></tr><tr><td>m</td><td>month</td></tr><tr><td>d</td><td>day</td></tr><tr><td>h</td><td>hour</td></tr><tr><td>min</td><td>minute</td></tr><tr><td>s</td><td>second</td></tr></tbody></table> 
<blockquote> 
 <p>大小写不敏感<br> 默认为秒</p> 
</blockquote> 
<h4><a id="81_56"></a>8.1、设置全局有效期</h4> 
<pre><code class="prism language-js"><span class="token comment">// 10天后过期</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token string">'10d'</span><span class="token punctuation">)</span>
<span class="token comment">// 设置截至有效日期</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 默认设置秒数过期时间</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="82cookie_65"></a>8.2、对单独cookie设置有效期</h4> 
<pre><code class="prism language-js"><span class="token comment">//不写age，默认为1天过期</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie1"</span><span class="token punctuation">,</span><span class="token string">"默认有效期"</span><span class="token punctuation">)</span>
 
<span class="token comment">// 以秒为单位，设置1天过去</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie2"</span><span class="token punctuation">,</span><span class="token string">"默认秒数有效期"</span><span class="token punctuation">,</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span>
 
<span class="token comment">// 填写Date对象，明确指定过期时间</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie3"</span><span class="token punctuation">,</span><span class="token string">"指定Date过期"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
 
<span class="token comment">// 填写一个时间字符串，指定过期时间</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie4"</span><span class="token punctuation">,</span><span class="token string">"时间字符串对应日期过期"</span><span class="token punctuation">,</span> <span class="token string">"Sat, 11 Mar 2024 13:14:00 GMT"</span><span class="token punctuation">)</span>
 
<span class="token comment">//浏览器会话结束时过期</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie5"</span><span class="token punctuation">,</span><span class="token string">"浏览器页面关闭时过期"</span><span class="token punctuation">,</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//永不过期</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"cookie6"</span><span class="token punctuation">,</span><span class="token string">"永久有效"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<h3><a id="9js_85"></a>9、在其他js页面使用</h3> 
<p>需要对cookie进行单独的引用</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Cookies <span class="token keyword">from</span> <span class="token string">"vue-cookies"</span><span class="token punctuation">;</span>
Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'cookie1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="sessionStorage_92"></a>二、sessionStorage</h2> 
<p>用于临时保存页面的数据，在关闭页面或浏览器之后将会删除这些数据。</p> 
<h3><a id="1sessionStorage_94"></a>1、设置sessionStorage</h3> 
<p>使用<code>setItem(key, value)</code>添加sessionStorage。其中：<br> 【key】为缓存的键名<br> 【value】为缓存的具体值</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2sessionStorage_101"></a>2、获取sessionStorage</h3> 
<p>使用<code>getItem(key)</code>获取指定key的sessionStorage。其中：<br> 【key】为缓存的键名</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3sessionStorage_107"></a>3、删除指定sessionStorage</h3> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="4sessionStorage_111"></a>4、清空sessionStorage</h3> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96a16ab4f3f248366f8186eb6f79a88e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Django3框架-（2）-[使用websocket]：使用channels实现websocket，配置和项目实际使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/721883ea185b5644a60350a42d990c83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ORA-00821_ Specified value of sga_target 1280M is too small, needs to be at least 1744M</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>