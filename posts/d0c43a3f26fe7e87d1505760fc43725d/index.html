<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>11.后台管理系统之动态tabs制作 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="11.后台管理系统之动态tabs制作" />
<meta property="og:description" content="11.后台管理系统之动态tabs制作 1. 第一步，先在侧边栏组件中绑定跳转事件 &lt;template&gt; &lt;el-menu background-color=&#34;#1d6a96&#34; text-color=&#34;#fff&#34; active-text-color=&#34;#66b1ff&#34; :default-active=&#34;String(activeNav)&#34;&gt; &lt;!-- 没有儿子的导航栏 --&gt; &lt;el-menu-item :index=&#34;item.path&#34; v-for=&#34;item in noChildren&#34; :key=&#34;item.path&#34; @click=&#34;clickMenu(item)&#34;&gt; &lt;i :class=&#34;&#39;el-icon-&#39; &#43; item.icon&#34;&gt;&lt;/i&gt; &lt;span slot=&#34;title&#34;&gt;{{ item.label }}&lt;/span&gt; &lt;/el-menu-item&gt; &lt;!-- 有儿子的导航栏 --&gt; &lt;el-submenu index=&#34;index&#34; v-for=&#34;(item, index) in hasChildren&#34; :key=&#34;index&#34;&gt; &lt;template slot=&#34;title&#34;&gt; &lt;i :class=&#34;&#39;el-icon-&#39; &#43; item.icon&#34;&gt;&lt;/i&gt; &lt;span&gt;{{ item.label }}&lt;/span&gt; &lt;/template&gt; &lt;el-menu-item-group&gt; &lt;el-menu-item :index=&#34;subItem.path&#34; v-for=&#34;(subItem, subIndex) in item.children&#34; :key=&#34;subIndex&#34; @click=&#34;clickMenu(subItem)&#34;&gt; &lt;i :class=&#34;&#39;el-icon-&#39; &#43; subItem.icon&#34;&gt;&lt;/i&gt; &lt;span slot=&#34;title&#34;&gt;{{ subItem.label }}&lt;/span&gt; &lt;/el-menu-item&gt; &lt;/el-menu-item-group&gt; &lt;/el-submenu&gt; &lt;/el-menu&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { asideMenu: [ { path: &#39;/&#39;, name: &#39;home&#39;, label: &#39;首页&#39;, icon: &#39;info&#39; }, { path: &#39;/video&#39;, name: &#39;video&#39;, label: &#39;视频管理页&#39;, icon: &#39;video-play&#39; }, { path: &#39;/user&#39;, name: &#39;user&#39;, label: &#39;用户管理页&#39;, icon: &#39;user&#39; }, { path: &#39;/other&#39;, name: &#39;other&#39;, label: &#39;其他&#39;, icon: &#39;phone&#39;, children: [ { path: &#39;/pageone&#39;, name: &#39;pageone&#39;, label: &#39;其他1&#39;, icon: &#39;phone&#39; }, { path: &#39;/pagetwo&#39;, name: &#39;pagetwo&#39;, label: &#39;其他2&#39;, icon: &#39;phone&#39; } ] } ] } }, computed: { // 设置当前激活的导航 activeNav() { return this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d0c43a3f26fe7e87d1505760fc43725d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-26T14:57:57+08:00" />
<meta property="article:modified_time" content="2020-11-26T14:57:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">11.后台管理系统之动态tabs制作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="11tabs_0"></a>11.后台管理系统之动态tabs制作</h2> 
<h3><a id="1__1"></a>1. 第一步，先在侧边栏组件中绑定跳转事件</h3> 
<pre><code>&lt;template&gt;
  &lt;el-menu background-color="#1d6a96" text-color="#fff" active-text-color="#66b1ff" :default-active="String(activeNav)"&gt;
    &lt;!-- 没有儿子的导航栏 --&gt;
    &lt;el-menu-item :index="item.path" v-for="item in noChildren" :key="item.path" @click="clickMenu(item)"&gt;
      &lt;i :class="'el-icon-' + item.icon"&gt;&lt;/i&gt;
      &lt;span slot="title"&gt;{<!-- -->{ item.label }}&lt;/span&gt;
    &lt;/el-menu-item&gt;
    &lt;!-- 有儿子的导航栏 --&gt;
    &lt;el-submenu index="index" v-for="(item, index) in hasChildren" :key="index"&gt;
      &lt;template slot="title"&gt;
        &lt;i :class="'el-icon-' + item.icon"&gt;&lt;/i&gt;
        &lt;span&gt;{<!-- -->{ item.label }}&lt;/span&gt;
      &lt;/template&gt;
      &lt;el-menu-item-group&gt;
        &lt;el-menu-item :index="subItem.path" v-for="(subItem, subIndex) in item.children" :key="subIndex" @click="clickMenu(subItem)"&gt;
          &lt;i :class="'el-icon-' + subItem.icon"&gt;&lt;/i&gt;
          &lt;span slot="title"&gt;{<!-- -->{ subItem.label }}&lt;/span&gt;
        &lt;/el-menu-item&gt;
      &lt;/el-menu-item-group&gt;
    &lt;/el-submenu&gt;
  &lt;/el-menu&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      asideMenu: [
        {
          path: '/',
          name: 'home',
          label: '首页',
          icon: 'info'
        },
        {
          path: '/video',
          name: 'video',
          label: '视频管理页',
          icon: 'video-play'
        },
        {
          path: '/user',
          name: 'user',
          label: '用户管理页',
          icon: 'user'
        },
        {
          path: '/other',
          name: 'other',
          label: '其他',
          icon: 'phone',
          children: [
            {
              path: '/pageone',
              name: 'pageone',
              label: '其他1',
              icon: 'phone'
            },
            {
              path: '/pagetwo',
              name: 'pagetwo',
              label: '其他2',
              icon: 'phone'
            }
          ]
        }
      ]
    }
  },
  computed: {
    // 设置当前激活的导航
    activeNav() {
      return this.$route.path
    },
    // 左侧导航栏无子节点
    noChildren() {
      return this.asideMenu.filter(item =&gt; !item.children)
    },
    // 左侧导航栏有子节点
    hasChildren() {
      return this.asideMenu.filter(item =&gt; item.children)
    }
  },
  methods: {
    clickMenu(item) {
      this.$router.push({ name: item.name })
      this.$store.commit('selectMenu', item)
    }
  }
}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
.el-menu {
  height: 100%;
  border: none;
}
&lt;/style&gt;


</code></pre> 
<p><img src="https://images2.imgbox.com/79/89/iiHbPaS2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2vuextabList_106"></a>2.在vuex状态管理中存储tabList</h3> 
<ul><li>在<code>store</code>中新建<code>tab</code>目录，再建<code>tab.js</code></li></ul> 
<pre><code>export default {
  state: {
    currentMenu: {}, // 左侧选择当前的路由
    tabList: [
      {
        path: '/home',
        name: 'home',
        label: '首页',
        icon: 'info'
      }
    ] // tabs列表
  },
  mutations: {
    selectMenu(state, val) {
      if (val.name !== 'home') {
        state.currentMenu = val
        const result = state.tabList.findIndex(item =&gt; item.name === val.name)
        if (result === -1) {
          state.tabList.push(val)
        }
      } else {
        state.currentMenu = null
      }
    },
    closeTab(state, val) {
      const result = state.tabList.findIndex(item =&gt; item.name === val.name)
      state.tabList.splice(result, 1)
    }
  },
  actions: {}
}

</code></pre> 
<h3><a id="3CommonTabvue_143"></a>3.新建CommonTab.vue组件</h3> 
<ul><li>在<code>components</code>下的<code>common</code>目录下新建’CommonTab.vue`组件</li></ul> 
<pre><code>&lt;template&gt;
  &lt;div class="common-tab"&gt;
    &lt;div class="tab-menu"&gt;
      &lt;el-tag
        :key="tag.name"
        v-for="tag in tags"
        :closable="tag.name !== 'home'"
        :disable-transitions="false"
        @click="changeMenu(tag)"
        @close="handleClose(tag)"
        :effect="$route.name === tag.name ? 'dark' : 'plain'"
      &gt;
        &lt;i :class="'el-icon-' + tag.icon"&gt;&lt;/i&gt;
        {<!-- -->{ tag.label }}
      &lt;/el-tag&gt;
    &lt;/div&gt;

    &lt;div class="refresh-btn"&gt;
      &lt;el-button type="primary" icon="el-icon-refresh"&gt;&lt;/el-button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { mapState } from 'vuex'
export default {
  data() {
    return {}
  },
  computed: {
    ...mapState({
      tags: state =&gt; state.tab.tabList
    })
  },
  methods: {
    // 点击切换页面方法
    changeMenu(item) {
      this.$router.push({ name: item.name })
      this.$store.commit('selectMenu', item)
    },
    // 关闭界面的方法
    handleClose(tag) {
      this.$store.commit('closeTab', tag)
    }
  }
}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
// tabs容器
.common-tab {
  display: flex;
  justify-content: space-between;
}
// tabs按钮容器
.tab-menu {
  flex: 1;
  padding: 10px;
  white-space: nowrap;
  overflow-x: auto;
  .el-tag {
    margin-right: 15px;
    cursor: pointer;
  }
}
.refresh-btn {
  padding: 10px;
}
/*滚动条样式*/
// 滚动条整体部分
.tab-menu::-webkit-scrollbar {
  width: 4px;
  height: 2px;
}
// 滚动条里面的小方块，能上下移动,取决于是垂直滚动还是水平滚动
.tab-menu::-webkit-scrollbar-thumb {
  border-radius: 10px;
  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
  background: #498eaf;
}
// 滚动条的轨道
.tab-menu::-webkit-scrollbar-track {
  -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
  border-radius: 0;
  background: #fff;
}
&lt;/style&gt;

</code></pre> 
<h3><a id="4Mainvue_236"></a>4.将组件导入Main.vue中</h3> 
<pre><code>&lt;template&gt;
  &lt;el-container style="height: 100%;"&gt;
    &lt;el-aside width="200px"&gt;
      &lt;common-aside&gt;&lt;/common-aside&gt;
    &lt;/el-aside&gt;
    &lt;el-container&gt;
      &lt;el-header style="background:#498eaf"&gt;
        &lt;common-header&gt;&lt;/common-header&gt;
      &lt;/el-header&gt;
      &lt;common-tab&gt;&lt;/common-tab&gt;
      &lt;el-main style="background:#fff;"&gt;
        &lt;router-view&gt;&lt;/router-view&gt;
      &lt;/el-main&gt;
    &lt;/el-container&gt;
  &lt;/el-container&gt;
&lt;/template&gt;

&lt;script&gt;
// 导入导航栏组件
import CommonAside from '@/components/common/CommonAside.vue'
// 导入首页头部组件
import CommonHeader from '@/components/common/CommonHeader.vue'
// 导入tabs组件
import CommonTab from '@/components/common/CommonTab.vue'
export default {
  // 组件注册
  components: {
    CommonAside,
    CommonHeader,
    CommonTab
  }
}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;&lt;/style&gt;

</code></pre> 
<h3><a id="5_275"></a>5.效果展示</h3> 
<p><img src="https://images2.imgbox.com/8c/3d/mL5op88S_o.png" alt="在这里插入图片描述"><br> 下一章描述一下tab的优化。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f5a7acaa889b5455254db1d4857d5712/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">怎么用sql按条件把表分离_SQL的汇总分析及练习题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ffa703a3af1892bf30ca1dce1a2e2488/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">bigdecimal除法保留4位小数_小猿圈分享-MySQL保留几位小数的4种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>