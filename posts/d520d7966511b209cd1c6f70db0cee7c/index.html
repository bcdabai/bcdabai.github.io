<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>react学习 - 构建工程化项目 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="react学习 - 构建工程化项目" />
<meta property="og:description" content="目录
create-react-app的基础运用
项目目录
package.json页面
index.html
webpack打包优化
关于报错
为什么需要脚手架？
未来趋势肯定是组件化/模块化开发
有利于团队协作便于组件复用，提高效率、方便维护、减少冗余代码 组件划分：业务组件（不同的人做不同的组件）；功能组件（ui组件库）
因为组件库开发，就要带来“工程化”处理，使用打包工具
webpack vite rollup turbopack实现组件的打包、合并、压缩、打包代码编译、兼容、校验网络跨域，搭建临时服务器 create-react-app的基础运用 安装脚手架 create-react-app react官方脚手架
方法1：直接创建项目
npx create-react-app 项目名 //npx不能用的话，升级nodejs版本 npx
npm的附带产物用npx 执行命令 首先看第一个参数（一个空格就是一个参数）有没有被安装 如果没有安装，npx让npm临时安装一下；当安装成功npx会执行整段命令 方法2
//将脚手架安装全局 npm i create-react-app -g [mac前面设置sudo] //创建项目 create-react-app 项目名 //项目名规范 小写、数字、_下划线 npm start //启动项目 npm test //测试 npm run build //打包上线 项目目录 README.md 项目说明文档node_modules 所有的依赖安装的目录package-lock.json 锁定安装时的包的版本号,保证团队的依赖能保证一致。package.json 配置文件public 静态公共目录 index.htmlsrc 开发用的源代码目录，打包时只对这个目录的代码进行处理 index.js 主入口 package.json页面 一个React项目中，默认会安装 react：React框架的核心（语法、状态处理）react-dom：React视图渲染的核心（用于构建h5页面）react-native：构建和渲染App（应用）react-scripts：对打包命令的封装；调用node_modules中的打包命令，实现对项目打包编译
index.html //index.html &lt;!DOCTYPE html&gt; &lt;html lang=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d520d7966511b209cd1c6f70db0cee7c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-11T23:41:47+08:00" />
<meta property="article:modified_time" content="2023-07-11T23:41:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">react学习 - 构建工程化项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="create-react-app%E7%9A%84%E5%9F%BA%E7%A1%80%E8%BF%90%E7%94%A8-toc" style="margin-left:40px;"><a href="#create-react-app%E7%9A%84%E5%9F%BA%E7%A1%80%E8%BF%90%E7%94%A8" rel="nofollow">create-react-app的基础运用</a></p> 
<p id="%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95-toc" style="margin-left:40px;"><a href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95" rel="nofollow">项目目录</a></p> 
<p id="package.json%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#package.json%E9%A1%B5%E9%9D%A2" rel="nofollow">package.json页面</a></p> 
<p id="index.html-toc" style="margin-left:80px;"><a href="#index.html" rel="nofollow">index.html</a></p> 
<p id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%C2%A0webpack%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96-toc" style="margin-left:40px;"><a href="#%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%C2%A0webpack%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96" rel="nofollow">webpack打包优化</a></p> 
<p id="%E5%85%B3%E4%BA%8E%E6%8A%A5%E9%94%99-toc" style="margin-left:40px;"><a href="#%E5%85%B3%E4%BA%8E%E6%8A%A5%E9%94%99" rel="nofollow">关于报错</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p><strong>为什么需要脚手架？</strong></p> 
<p>未来趋势肯定是<strong>组件化/模块化</strong>开发</p> 
<ul><li>有利于团队协作</li><li>便于组件复用，提高效率、方便维护、减少冗余代码</li></ul> 
<p>组件划分：业务组件（不同的人做不同的组件）；功能组件（ui组件库）</p> 
<p>因为组件库开发，就要带来“工程化”处理，使用打包工具</p> 
<ul><li>webpack vite rollup turbopack</li><li>实现组件的打包、合并、压缩、打包</li><li>代码编译、兼容、校验</li><li>网络跨域，搭建临时服务器</li></ul> 
<p></p> 
<h3 id="create-react-app%E7%9A%84%E5%9F%BA%E7%A1%80%E8%BF%90%E7%94%A8">create-react-app的基础运用</h3> 
<p>安装脚手架 </p> 
<p>create-react-app react官方脚手架</p> 
<p>方法1：直接创建项目</p> 
<pre><code>npx create-react-app 项目名  //npx不能用的话，升级nodejs版本</code></pre> 
<p> npx</p> 
<ul><li>npm的附带产物</li><li>用npx 执行命令 首先看第一个参数（一个空格就是一个参数）有没有被安装 
  <ul><li>如果没有安装，npx让npm临时安装一下；当安装成功npx会执行整段命令</li></ul></li></ul> 
<p></p> 
<p>方法2</p> 
<pre><code>//将脚手架安装全局
npm i create-react-app -g [mac前面设置sudo]

//创建项目
create-react-app 项目名

//项目名规范
小写、数字、_下划线</code></pre> 
<h5></h5> 
<pre><code> npm start //启动项目
 npm test //测试
 npm run build //打包上线</code></pre> 
<h3 id="%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95">项目目录</h3> 
<ul><li>README.md            项目说明文档</li><li>node_modules          所有的依赖安装的目录</li><li>package-lock.json     锁定安装时的包的版本号,保证团队的依赖能保证一致。</li><li>package.json             配置文件</li><li>public                        静态公共目录 
  <ul><li>index.html</li></ul></li><li>src                            开发用的源代码目录，打包时只对这个目录的代码进行处理 
  <ul><li>index.js              主入口</li></ul></li></ul> 
<h5></h5> 
<h4 id="package.json%E9%A1%B5%E9%9D%A2"><strong>package.json页面</strong></h4> 
<p>一个React项目中，默认会安装 <br><img alt="" height="181" src="https://images2.imgbox.com/bb/87/b4fWDPiL_o.png" width="456"></p> 
<ul><li>react：React框架的核心（语法、状态处理）</li><li>react-dom：React视图渲染的核心（用于构建h5页面）</li><li>react-native：构建和渲染App（应用）</li><li>react-scripts：对打包命令的封装；调用node_modules中的打包命令，实现对项目打包编译<br><img alt="" height="159" src="https://images2.imgbox.com/74/38/zYwQCrbv_o.png" width="500"></li></ul> 
<p><img alt="" height="197" src="https://images2.imgbox.com/bb/e0/4ycmAQDw_o.png" width="592"></p> 
<p><img alt="" height="244" src="https://images2.imgbox.com/76/9f/LyBf0cmY_o.png" width="682"></p> 
<p></p> 
<h4 id="index.html"><strong>index.html</strong></h4> 
<pre><code class="language-javascript">//index.html

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;!-- 指定页签的icon --&gt;
  &lt;link rel="icon" href="%PUBLIC_URL%/favicon.ico" /&gt;
  &lt;!-- 开启理想视口，移动端的适配， --&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
  &lt;!-- 只针对手机浏览器页签、地址栏的颜色，兼容性不好 --&gt;
  &lt;meta name="theme-color" content="#000000" /&gt;
  &lt;!-- 用于网页添加到手机主屏幕后的icon图标 --&gt;
  &lt;link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" /&gt;
  &lt;!-- 应用加壳，页面文件套壳成为app应用,可以生成.apk包。manifest.json为app的配置文件 --&gt;
  &lt;link rel="manifest" href="%PUBLIC_URL%/manifest.json" /&gt;
  &lt;meta name="description" content="Web site created using create-react-app" /&gt;
  &lt;link /&gt;
  &lt;title&gt;React App&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;!-- 如果浏览器不支持js的运行这段文字就会出现在界面上 --&gt;
  &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;
  &lt;div id="root"&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;                                                            </code></pre> 
<p> </p> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%C2%A0webpack%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96">index.js </h4> 
<p>reportWebVitals(); 做性能指标<br> webvitals是 国外 用来做性能指标的，lcp fcp之类的，国内我们自己有自己的性能监控方式</p> 
<p><img alt="" height="605" src="https://images2.imgbox.com/94/b2/EPM4qPlZ_o.png" width="1200"><img alt="" height="679" src="https://images2.imgbox.com/ca/94/MfRniDNP_o.png" width="1200"></p> 
<p> </p> 
<p> </p> 
<p></p> 
<h3> webpack打包优化</h3> 
<p>暴露webpack配置规则</p> 
<pre><code>npm run eject

// or

yarn eject</code></pre> 
<p><img alt="" height="704" src="https://images2.imgbox.com/ec/3f/qiiheFhI_o.png" width="1200"></p> 
<p><img alt="" height="323" src="https://images2.imgbox.com/e3/96/G5hKZPmU_o.png" width="592"></p> 
<p> <img alt="" height="445" src="https://images2.imgbox.com/f1/5d/GFziuDW0_o.png" width="1199"></p> 
<p> 暴露成功！</p> 
<p><img alt="" height="279" src="https://images2.imgbox.com/11/f1/nQBAervl_o.png" width="920"></p> 
<p> <img alt="" height="125" src="https://images2.imgbox.com/af/f9/aRd5NDwX_o.png" width="638"></p> 
<p><img alt="" height="595" src="https://images2.imgbox.com/26/8c/geEidymz_o.png" width="1200"></p> 
<p></p> 
<ul><li>"@babel/core" es6转es5</li><li>"@pmmmwh/react-refresh-webpack-plugin"  刷新插件</li><li>"@svgr/webpack"</li><li>单应用测试<br> "@testing-library/jest-dom"<br> "@testing-library/react"<br> "@testing-library/user-event"</li><li>babel处理<br> "babel-jest"<br> "babel-loader"<br> "babel-plugin-named-asset-import"<br> "babel-preset-react-app"   对@babel/preset-env重写，实现ES6转为ES5</li><li>    "browserslist" 浏览器兼容列表</li></ul> 
<p></p> 
<h3 id="%E5%85%B3%E4%BA%8E%E6%8A%A5%E9%94%99"><strong>关于报错</strong></h3> 
<pre><code class="language-javascript">//src-index.js
//创建小demo

import React from "react"; //jsx 17版本之后默认引入，可不写
import ReactDom from "react-dom";//react渲染到页面

//render方法 将组件渲染指定节点
//参1：用jsx语法写的html
//参2：指定节点
ReactDom.render(&lt;div&gt;1111
&lt;/div&gt;, document.getElementById('root'))</code></pre> 
<p>然后就报错啦！！！</p> 
<p>因为我安装的是18.2.0版本，已经不支持 react-dom</p> 
<p><img alt="" height="86" src="https://images2.imgbox.com/a3/2e/bPCSwCjb_o.png" width="698"></p> 
<p> 警告:ReactDOM。渲染在React 18中不再被支持。请使用createRoot。在你切换到新的API之前，你的应用程序会像运行React 17一样运行。</p> 
<p>然后就去官网尝试新的写法</p> 
<pre><code class="language-javascript">import { createRoot } from "react-dom/client";

// 清除现有的 HTML 内容
document.body.innerHTML = '&lt;div id="app"&gt;&lt;/div&gt;';

// 渲染你的 React 组件
const root = createRoot(document.getElementById("app"));
root.render(&lt;h1&gt;Hello, world&lt;/h1&gt;);</code></pre> 
<p>页面就成功出现想要内容啦<img alt="" height="101" src="https://images2.imgbox.com/a1/3c/Dp7kznFH_o.png" width="992"></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4645195326713ffa5662c7e97cb8bcb7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Maltab与线性规划</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d1eecc31d1462f35dd8784a7d4a68526/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pikachu靶场全15关通过教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>