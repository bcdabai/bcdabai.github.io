<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>smb.conf - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="smb.conf" />
<meta property="og:description" content="# # Sample configuration file for the Samba suite for Debian GNU/Linux. # # # This is the main Samba configuration file. You should read the # smb.conf(5) manual page in order to understand the options listed # here. Samba has a huge number of configurable options most of which # are not shown in this example # # Some options that are often worth tuning have been included as # commented-out examples in this file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/02508358b847f0a27158bc360d03f515/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-07-11T17:57:01+08:00" />
<meta property="article:modified_time" content="2016-07-11T17:57:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">smb.conf</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    # 
<br> # Sample configuration file for the Samba suite for Debian GNU/Linux. 
<br> # 
<br> # 
<br> # This is the main Samba configuration file. You should read the 
<br> # smb.conf(5) manual page in order to understand the options listed 
<br> # here. Samba has a huge number of configurable options most of which  
<br> # are not shown in this example 
<br> # 
<br> # Some options that are often worth tuning have been included as 
<br> # commented-out examples in this file. 
<br> #  - When such options are commented with ";", the proposed setting 
<br> #    differs from the default Samba behaviour 
<br> #  - When commented with "#", the proposed setting is the default 
<br> #    behaviour of Samba but the option is considered important 
<br> #    enough to be mentioned here 
<br> # 
<br> # NOTE: Whenever you modify this file you should run the command 
<br> # "testparm" to check that you have not made any basic syntactic  
<br> # errors.  
<br> 
<br> 
<br> #======================= Global Settings ======================= 
<br> 
<br> 
<br> [global] 
<br> 
<br> 
<br> ## Browsing/Identification ### 
<br> 
<br> 
<br> # Change this to the workgroup/NT-domain name your Samba server will part of 
<br>    workgroup = WORKGROUP 
<br> 
<br> 
<br> # server string is the equivalent of the NT Description field 
<br> 
<span style="white-space:pre"></span>server string = %h server (Samba, Ubuntu) 
<br> 
<br> 
<br> # Windows Internet Name Serving Support Section: 
<br> # WINS Support - Tells the NMBD component of Samba to enable its WINS Server 
<br> #   wins support = no 
<br> 
<br> 
<br> # WINS Server - Tells the NMBD components of Samba to be a WINS Client 
<br> # Note: Samba can be either a WINS Server, or a WINS Client, but NOT both 
<br> ;   wins server = w.x.y.z 
<br> 
<br> 
<br> # This will prevent nmbd to search for NetBIOS names through DNS. 
<br>    dns proxy = no 
<br>    security = user  
<br>    username map = /etc/samba/smbusers 
<br> #### Networking #### 
<br> 
<br> 
<br> # The specific set of interfaces / networks to bind to 
<br> # This can be either the interface name or an IP address/netmask; 
<br> # interface names are normally preferred 
<br> ;   interfaces = 127.0.0.0/8 eth0 
<br> 
<br> 
<br> # Only bind to the named interfaces and/or networks; you must use the 
<br> # 'interfaces' option above to use this. 
<br> # It is recommended that you enable this feature if your Samba machine is 
<br> # not protected by a firewall or is a firewall itself.  However, this 
<br> # option cannot handle dynamic or non-broadcast interfaces correctly. 
<br> ;   bind interfaces only = yes 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> #### Debugging/Accounting #### 
<br> 
<br> 
<br> # This tells Samba to use a separate log file for each machine 
<br> # that connects 
<br>    log file = /var/log/samba/log.%m 
<br> 
<br> 
<br> # Cap the size of the individual log files (in KiB). 
<br>    max log size = 1000 
<br> 
<br> 
<br> # If you want Samba to only log through syslog then set the following 
<br> # parameter to 'yes'. 
<br> #   syslog only = no 
<br> 
<br> 
<br> # We want Samba to log a minimum amount of information to syslog. Everything 
<br> # should go to /var/log/samba/log.{smbd,nmbd} instead. If you want to log 
<br> # through syslog you should set the following parameter to something higher. 
<br>    syslog = 0 
<br> 
<br> 
<br> # Do something sensible when Samba crashes: mail the admin a backtrace 
<br>    panic action = /usr/share/samba/panic-action %d 
<br> 
<br> 
<br> 
<br> 
<br> ####### Authentication ####### 
<br> 
<br> 
<br> # Server role. Defines in which mode Samba will operate. Possible 
<br> # values are "standalone server", "member server", "classic primary 
<br> # domain controller", "classic backup domain controller", "active 
<br> # directory domain controller".  
<br> # 
<br> # Most people will want "standalone sever" or "member server". 
<br> # Running as "active directory domain controller" will require first 
<br> # running "samba-tool domain provision" to wipe databases and create a 
<br> # new domain. 
<br>    server role = standalone server 
<br> 
<br> 
<br> # If you are using encrypted passwords, Samba will need to know what 
<br> # password database type you are using.   
<br>    passdb backend = tdbsam 
<br> 
<br> 
<br>    obey pam restrictions = yes 
<br> 
<br> 
<br> # This boolean parameter controls whether Samba attempts to sync the Unix 
<br> # password with the SMB password when the encrypted SMB password in the 
<br> # passdb is changed. 
<br>    unix password sync = yes 
<br> 
<br> 
<br> # For Unix password sync to work on a Debian GNU/Linux system, the following 
<br> # parameters must be set (thanks to Ian Kahan &lt;&lt;kahan@informatik.tu-muenchen.de&gt; for 
<br> # sending the correct chat script for the passwd program in Debian Sarge). 
<br>    passwd program = /usr/bin/passwd %u 
<br>    passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* . 
<br> 
<br> 
<br> # This boolean controls whether PAM will be used for password changes 
<br> # when requested by an SMB client instead of the program listed in 
<br> # 'passwd program'. The default is 'no'. 
<br>    pam password change = yes 
<br> 
<br> 
<br> # This option controls how unsuccessful authentication attempts are mapped 
<br> # to anonymous connections 
<br>    map to guest = bad user 
<br> 
<br> 
<br> ########## Domains ########### 
<br> 
<br> 
<br> # 
<br> # The following settings only takes effect if 'server role = primary 
<br> # classic domain controller', 'server role = backup domain controller' 
<br> # or 'domain logons' is set  
<br> # 
<br> 
<br> 
<br> # It specifies the location of the user's 
<br> # profile directory from the client point of view) The following 
<br> # required a [profiles] share to be setup on the samba server (see 
<br> # below) 
<br> ;   logon path = \\%N\profiles\%U 
<br> # Another common choice is storing the profile in the user's home directory 
<br> # (this is Samba's default) 
<br> #   logon path = \\%N\%U\profile 
<br> 
<br> 
<br> # The following setting only takes effect if 'domain logons' is set 
<br> # It specifies the location of a user's home directory (from the client 
<br> # point of view) 
<br> ;   logon drive = H: 
<br> #   logon home = \\%N\%U 
<br> 
<br> 
<br> # The following setting only takes effect if 'domain logons' is set 
<br> # It specifies the script to run during logon. The script must be stored 
<br> # in the [netlogon] share 
<br> # NOTE: Must be store in 'DOS' file format convention 
<br> ;   logon script = logon.cmd 
<br> 
<br> 
<br> # This allows Unix users to be created on the domain controller via the SAMR 
<br> # RPC pipe.  The example command creates a user account with a disabled Unix 
<br> # password; please adapt to your needs 
<br> ; add user script = /usr/sbin/adduser --quiet --disabled-password --gecos "" %u 
<br> 
<br> 
<br> # This allows machine accounts to be created on the domain controller via the  
<br> # SAMR RPC pipe.   
<br> # The following assumes a "machines" group exists on the system 
<br> ; add machine script  = /usr/sbin/useradd -g machines -c "%u machine account" -d /var/lib/samba -s /bin/false %u 
<br> 
<br> 
<br> # This allows Unix groups to be created on the domain controller via the SAMR 
<br> # RPC pipe.   
<br> ; add group script = /usr/sbin/addgroup --force-badname %g 
<br> 
<br> 
<br> ############ Misc ############ 
<br> 
<br> 
<br> # Using the following line enables you to customise your configuration 
<br> # on a per machine basis. The %m gets replaced with the netbios name 
<br> # of the machine that is connecting 
<br> ;   include = /home/samba/etc/smb.conf.%m 
<br> 
<br> 
<br> # Some defaults for winbind (make sure you're not using the ranges 
<br> # for something else.) 
<br> ;   idmap uid = 10000-20000 
<br> ;   idmap gid = 10000-20000 
<br> ;   template shell = /bin/bash 
<br> 
<br> 
<br> # Setup usershare options to enable non-root users to share folders 
<br> # with the net usershare command. 
<br> 
<br> 
<br> # Maximum number of usershare. 0 (default) means that usershare is disabled. 
<br> ;   usershare max shares = 100 
<br> 
<br> 
<br> # Allow users who've been granted usershare privileges to create 
<br> # public shares, not just authenticated ones 
<br>    usershare allow guests = yes 
<br> #   usershare owner only =false 
<br> #======================= Share Definitions ======================= 
<br> 
<br> 
<br> # Un-comment the following (and tweak the other settings below to suit) 
<br> # to enable the default home directory shares. This will share each 
<br> # user's home directory as \\server\username 
<br> ;[homes] 
<br> ;   comment = Home Directories 
<br> ;   browseable = no 
<br> 
<br> 
<br> # By default, the home directories are exported read-only. Change the 
<br> # next parameter to 'no' if you want to be able to write to them. 
<br> ;   read only = yes 
<br> 
<br> 
<br> # File creation mask is set to 0700 for security reasons. If you want to 
<br> # create files with group=rw permissions, set next parameter to 0775. 
<br> ;   create mask = 0700 
<br> 
<br> 
<br> # Directory creation mask is set to 0700 for security reasons. If you want to 
<br> # create dirs. with group=rw permissions, set next parameter to 0775. 
<br> ;   directory mask = 0700 
<br> 
<br> 
<br> # By default, \\server\username shares can be connected to by anyone 
<br> # with access to the samba server. 
<br> # Un-comment the following parameter to make sure that only "username" 
<br> # can connect to \\server\username 
<br> # This might need tweaking when using external authentication schemes 
<br> ;   valid users = %S 
<br> 
<br> 
<br> # Un-comment the following and create the netlogon directory for Domain Logons 
<br> # (you need to configure Samba to act as a domain controller too.) 
<br> ;[netlogon] 
<br> ;   comment = Network Logon Service 
<br> ;   path = /home/samba/netlogon 
<br> ;   guest ok = yes 
<br> ;   read only = yes 
<br> 
<br> 
<br> # Un-comment the following and create the profiles directory to store 
<br> # users profiles (see the "logon path" option above) 
<br> # (you need to configure Samba to act as a domain controller too.) 
<br> # The path below should be writable by all users so that their 
<br> # profile directory may be created the first time they log on 
<br> ;[profiles] 
<br> ;   comment = Users profiles 
<br> ;   path = /home/samba/profiles 
<br> ;   guest ok = no 
<br> ;   browseable = no 
<br> ;   create mask = 0600 
<br> ;   directory mask = 0700 
<br> 
<br> 
<br> [printers] 
<br>    comment = All Printers 
<br>    browseable = no 
<br>    path = /var/spool/samba 
<br>    printable = yes 
<br>    guest ok = no 
<br>    read only = yes 
<br>    create mask = 0700 
<br> 
<br> 
<br> # Windows clients look for this share name as a source of downloadable 
<br> # printer drivers 
<br> [print$] 
<br>    comment = Printer Drivers 
<br>    path = /var/lib/samba/printers 
<br>    browseable = yes 
<br>    read only = yes 
<br>    guest ok = no 
<br> # Uncomment to allow remote administration of Windows print drivers. 
<br> # You may need to replace 'lpadmin' with the name of the group your 
<br> # admin users are members of. 
<br> # Please note that you also need to set appropriate Unix permissions 
<br> # to the drivers directory for these users to have write rights in it 
<br> ;   write list = root, @lpadmin 
<br> path = /media/ssd 
<br> 
<br> 
<br> available = yes 
<br> 
<br> 
<br> browseable = yes 
<br> 
<br> 
<br> public = yes 
<br> 
<br> 
<br> writable = yes 
<br> 
<br> 
<br> force group = nogroup 
<br> 
<br> 
<br> 
<br> 
<br> force user = nobody 
<br> [media]  
<br> comment = Shared Folder require password    
<br> path = /media 
<br> public = yes  
<br> writable = yes  
<br> valid users = zhuozm fanlh lyz hzs beijy shareuser 
<br> create mask = 0777  
<br> directory mask = 0777 
<br> force user = nobody  
<br> force group = nogroup  
<br> available = yes  
<br> browseable = yes
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ae0ae3b02069de35ab4f86cbdb7faef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">经典蓝牙连接-蓝牙音箱或蓝牙耳机</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93eaef3ce2b34eafaa1f426ed131d53d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">smbusers</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>