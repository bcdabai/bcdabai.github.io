<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt 预编译头文件(precompiled headers) 加快编译速度 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt 预编译头文件(precompiled headers) 加快编译速度" />
<meta property="og:description" content="预编译头文件: precompiled headers, 将不经常改动的代码编译成二进制文件, 在之后每次编译的时候可会直接调用这些预编译头文件的二进制文件, 实现加快编译速度.
简单点说就是: 可以把不常更改的头文件, 通过预编译头文件的方式进行一次编译, 提高之后的编译速度. 就是为了加快编译速度, 就是为了加快编译速度, 就是为了加快编译速度!
1. Qt支持的平台 qmake 支持的预编译头(precompiled headers)的编译器包括: - Windows nmake Visual Studio projects (VS 2008 and later) - OS X and iOS Makefile Xcode - Unix GCC 3.4 and above 2. 具体使用 非常简单, 官方有介绍.
2.1 先写一个stable.h 这个stable.h里面包含的就是需要预编译的头文件
// Add C includes here #if defined __cplusplus // Add C&#43;&#43; includes here #include &lt;stdlib&gt; #include &lt;iostream&gt; #include &lt;vector&gt; #include &lt;QApplication&gt; // Qt includes #include &lt;QPushButton&gt; #include &lt;QDebug&gt; #include &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2779fe52c14a6c0e88eb34b1a2a9c024/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-03T21:34:30+08:00" />
<meta property="article:modified_time" content="2016-06-03T21:34:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt 预编译头文件(precompiled headers) 加快编译速度</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><strong>预编译头文件</strong>: <code>precompiled headers</code>, 将不经常改动的代码编译成二进制文件, 在之后每次编译的时候可会直接调用这些预编译头文件的二进制文件, 实现加快编译速度.</p> 
</blockquote> 
<p>简单点说就是: 可以把不常更改的头文件, 通过预编译头文件的方式进行一次编译, 提高之后的编译速度. 就是为了加快编译速度, 就是为了加快编译速度, 就是为了加快编译速度!</p> 
<h2 id="1-qt支持的平台">1. Qt支持的平台</h2> 
<p><code>qmake</code> 支持的预编译头(<code>precompiled headers</code>)的编译器包括: <br> - Windows <br> nmake <br> Visual Studio projects (VS 2008 and later) <br> - OS X and iOS <br> Makefile <br> Xcode <br> - Unix <br> GCC 3.4 and above </p> 
<h2 id="2-具体使用">2. 具体使用</h2> 
<p>非常简单, <a href="http://doc.qt.io/qt-5/qmake-precompiledheaders.html" rel="nofollow">官方</a>有介绍.</p> 
<h3 id="21-先写一个stableh">2.1 先写一个<code>stable.h</code></h3> 
<blockquote> 
 <p>这个<code>stable.h</code>里面包含的就是需要预编译的头文件</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs cpp">  <span class="hljs-comment">// Add C includes here</span>

  <span class="hljs-preprocessor">#if defined __cplusplus</span>
  <span class="hljs-comment">// Add C++ includes here</span>
  <span class="hljs-preprocessor">#include &lt;stdlib&gt;</span>
  <span class="hljs-preprocessor">#include &lt;iostream&gt;</span>
  <span class="hljs-preprocessor">#include &lt;vector&gt;</span>
  <span class="hljs-preprocessor">#include &lt;QApplication&gt; <span class="hljs-comment">// Qt includes</span></span>
  <span class="hljs-preprocessor">#include &lt;QPushButton&gt;</span>
  <span class="hljs-preprocessor">#include &lt;QDebug&gt;</span>
  <span class="hljs-preprocessor">#include "thirdparty/include/libmain.h"<span class="hljs-comment">//第三方类</span></span>
  <span class="hljs-preprocessor">#include "my_stable_class.h"<span class="hljs-comment">//自己的稳定类</span></span>
  ...
  <span class="hljs-preprocessor">#endif </span></code></pre> 
<h3 id="22-工程配置文件pro中添加">2.2 工程配置文件<code>.pro</code>中添加</h3> 
<pre class="prettyprint"><code class=" hljs fix"><span class="hljs-attribute">PRECOMPILED_HEADER </span>=<span class="hljs-string"> stable.h</span></code></pre> 
<p>就这两步就可以了! 这样就可以缩短编译时间了!</p> 
<h2 id="3-实例应用解决中文乱码">3 实例应用:解决中文乱码</h2> 
<p>解决<code>windows</code>下<code>vc++ 12</code>编译器<code>qDebug()</code>等中文乱码问题 <br> 在<code>stable.h</code>中添加</p> 
<pre class="prettyprint"><code class=" hljs cs"><span class="hljs-preprocessor">#<span class="hljs-keyword">if</span> _MSC_VER &gt;= 1600</span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">pragma</span> execution_character_set("utf-8")</span>
<span class="hljs-preprocessor">#<span class="hljs-keyword">endif</span></span></code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3ffb43d69f06183e0351e6d52fb4767d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">群体寻路算法Flow Field Pathfinding</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a53035500ce5a6bdf315797a1979e15/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2. Spring Boot返回json数据【从零开始学Spring Boot】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>