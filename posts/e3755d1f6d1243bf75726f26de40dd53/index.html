<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>docker学习-1 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="docker学习-1" />
<meta property="og:description" content="一、下载docker（官网）（Linux系统centos7）
Install Docker Engine on CentOS | Docker Documentation
二、根据官网的相关步骤：
1.卸载旧的docker， 如果没有下载过可以跳过
sudo yum remove docker \
docker-client \
docker-client-latest \
docker-common \
docker-latest \
docker-latest-logrotate \
docker-logrotate \
docker-engine
2.安装相关依赖
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
3.安装最新版的docker
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
4.启动docket服务并设置开机启动
sudo systemctl start docker
systemctl enable docker
5.查看docker服务是否启动成功
ps aux|grep docker
看到有dockerd进程代表启动成功。
三、遇到的问题
1.安装docker时报错：
报错信息：
failure: repodata/repomd.xml from mirrors.aliyun.com_dockece_linux_centos_docker-ce.repor: [Errno 256] No more mirrors to try." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e3755d1f6d1243bf75726f26de40dd53/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-06T14:55:14+08:00" />
<meta property="article:modified_time" content="2023-07-06T14:55:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">docker学习-1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、下载docker（官网）（Linux系统centos7）</p> 
<p><a href="https://docs.docker.com/engine/install/centos/" rel="nofollow" title="Install Docker Engine on CentOS | Docker Documentation">Install Docker Engine on CentOS | Docker Documentation</a></p> 
<p>二、根据官网的相关步骤：</p> 
<p>1.卸载旧的docker， 如果没有下载过可以跳过</p> 
<blockquote> 
 <p>sudo yum remove docker \<br>                   docker-client \<br>                   docker-client-latest \<br>                   docker-common \<br>                   docker-latest \<br>                   docker-latest-logrotate \<br>                   docker-logrotate \<br>                   docker-engine</p> 
</blockquote> 
<p>2.安装相关依赖</p> 
<blockquote> 
 <p>sudo yum install -y yum-utils<br> sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</p> 
</blockquote> 
<p>3.安装最新版的docker</p> 
<blockquote> 
 <p>sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</p> 
</blockquote> 
<p>4.启动docket服务并设置开机启动</p> 
<blockquote> 
 <p>sudo systemctl start docker</p> 
 <p>systemctl enable docker</p> 
</blockquote> 
<p>5.查看docker服务是否启动成功</p> 
<blockquote> 
 <p>ps aux|grep docker</p> 
</blockquote> 
<p>看到有dockerd进程代表启动成功。</p> 
<p>三、遇到的问题</p> 
<p>1.安装docker时报错：</p> 
<blockquote> 
 <p>报错信息：</p> 
 <p>failure: repodata/repomd.xml from mirrors.aliyun.com_dockece_linux_centos_docker-ce.repor: [Errno 256] No more mirrors to try.<br> http://mirrors.aliyun.com/dockece/linux/centos/docker-ce.repor/repodata/repomd.xml: [Errno 14] HTTP Error 404 - Not Found</p> 
</blockquote> 
<blockquote> 
 <p>解决方法（借鉴<a href="https://blog.csdn.net/weixin_44965500/article/details/125954133" title="Centos在安装docker时failure_天堂上的寂寞的博客-CSDN博客">Centos在安装docker时failure_天堂上的寂寞的博客-CSDN博客</a>）：</p> 
 <p>cd /etc/yum.repos.d<br> 删除所有源的文件： rm -rf*<br> 重新yum update： yum update<br> 重新设置<a href="https://so.csdn.net/so/search?q=yum%E6%BA%90&amp;spm=1001.2101.3001.7020" title="yum源">yum源</a>：</p> 
 <p>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo<br> 清除yum缓存：  yum clean all<br> 更新生成缓存：  yum makecache</p> 
 <p>然后从安装相关依赖开始重新安装即成功安装docker了</p> 
</blockquote> 
<p>四、简单使用docker</p> 
<blockquote> 
 <p>1.查看docker的版本                                                docker --version</p> 
 <p>2.查看有哪些docker容器在运行                              docker ps</p> 
 <p>3.查看有哪些镜像                                                    docker images</p> 
 <p>4.下载镜像（这里是下载的nginx）                         docker pull nginx</p> 
 <p>5.启动一个docker容器                                             </p> 
 <p>docker run -d -p 8090:80 --name docker-nginx nginx</p> 
 <p>docker run 是启动容器的命令<br>  -d 在后台运行 daemon 守护进程</p> 
 <p>-p 8090:80  指定端口映射    DNAT 访问本机的8090端口，转发到docker容器的80端口</p> 
 <p>--name  sc-nginx  指定容器的名字<br>  nginx 是镜像的名字</p> 
 <p>6.启用一个已经存在的容器                                     docker start</p> 
 <p>7.利用docker启动MySQL容器</p> 
 <p>#docker pull mysql:5.7.39</p> 
 <p>#docker run -d --name docker-mysql-1 -p 33060:3306  -e                        、MYSQL_ROOT_PASSWORD='sc123456'  mysql:5.7.39</p> 
 <p># docker exec -it docker-mysql-1 bash</p> 
 <p>*进入mysql容器里<br> docker exec 进入容器内容，执行命令 execute<br> -it 开启一个终端，交互式登陆进入<br> docker-mysql-1  容器的名字<br>  bash 进入容器里运行的程序 </p> 
 <p>8. 查看容器启动失败的日志                                  docker logs a5b752cc4485（容器标识）</p> 
 <p>                                                                              docker logs docker-mysql-1（容器名称）</p> 
 <p>9.删除镜像                                                            docker rmi nginx</p> 
 <p>10.删除容器(删除启动失败的容器，正在运行的容器不能直接删除)   docker rm docker-nginx</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26b92c1d86bedb0e330be01f18a32b05/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">万恶之源：Could not resolve host</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/54cb2b1053fc398f33e06d6bfe3168a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">跨域超详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>