<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gmsh：三维有限网格生成器 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gmsh：三维有限网格生成器" />
<meta property="og:description" content="网格在科学计算中的重要性 在科学计算中，网格（Grid）是一个离散化的空间描述，将计算领域划分为规则或不规则的小单元。它在科学计算中具有重要性，主要体现在以下方面：
空间离散化：科学计算问题通常涉及对连续空间的离散化，将其划分为有限个网格单元。这样做可以将复杂的数学问题转化为易于计算的离散问题，从而使得计算更加可行和高效。
数值模拟和求解：网格提供了在计算领域内进行数值模拟和求解的基础。通过在网格上建立数学模型和方程，可以将复杂的物理现象转化为离散的计算问题。例如，有限元法和有限差分法等数值方法常常使用网格来近似解析解。
边界条件处理：网格在科学计算中起到了处理边界条件的关键作用。通过将边界位置约束到网格上，可以方便地对边界条件进行定义和处理。这对于模拟物理领域中的流体力学、电磁场等问题尤为重要。
并行计算：在大规模科学计算中，网格的并行划分和处理对于提高计算效率和性能非常关键。通过将网格划分为多个子域并分配给多个计算节点，可以实现并行计算和分布式计算，大大提高计算速度和可扩展性。
网格自适应：在某些情况下，根据问题的复杂性和准确性要求，标准网格可能无法提供足够的解决方案。在这种情况下，网格自适应技术允许根据需要在计算区域中添加或删除网格单元。这种能力对于解决具有局部特征的问题非常重要。
综上所述，网格在科学计算中的重要性不可忽视。它为数值模拟和方程求解提供了基础，处理边界条件，支持并行计算，并能够根据问题的需求进行自适应调整。网格的选择和设计直接影响到科学计算的可靠性、准确性和效率。
Gmsh：三维有限网格生成器 gmsh 是一种开源的三维有限元网格生成器和后处理软件。它具有功能强大和灵活的特点，适用于各种科学计算和工程领域的模拟和分析任务。以下是一些关键特点和功能：
几何建模：gmsh 提供了一个直观的界面，用于创建、修改和操纵复杂的几何模型。用户可以通过手动建模、文件导入、基于CAD软件的集成或编程接口来定义模型。支持包括曲线、曲面、体积等多种几何元素。
网格生成：gmsh 能够生成各种类型的三维有限元网格。用户可以通过选择合适的网格算法、指定划分参数和优化网格质量等方式来控制网格划分。它支持三角形、四边形、四面体、六面体等多种元素类型，并提供自适应网格划分功能。
多物理场模拟：gmsh 支持多种物理场的模拟，包括流体力学、结构力学、电磁场等。用户可以定义边界条件、材料属性、加载条件等，并进行相应的模拟和分析。
后处理功能：gmsh 提供了丰富的后处理功能，用于可视化和分析模拟结果。它支持数据可视化、剖面图、动画等，使用户能够更好地理解和解释模拟结果。
可扩展性：gmsh 是一个开源项目，提供了灵活的接口和插件系统。用户可以使用 使用Python ，C，C&#43;&#43;，fortran等语言进行自动化建模和网格生成，也可以通过插件来添加新的功能和扩展软件的能力。
总的来说，gmsh 提供了一个强大且易于使用的环境，用于创建、划分和后处理三维有限元网格。它适用于各种科学计算和工程应用，并且具有广泛的用户群体和活跃的社区支持。无论是学术研究还是工程实践，gmsh 都是一个重要的工具。
Gmsh图形界面的安装 这是gmsh的官网：http://gmsh.info
选择自己使用的操作系统即可安装，Windows为例，安装后会得到如下文件夹：
点击exe文件便能打开gmsh的图形窗口：
想要查看生成网格效果可以点击文件夹tutorials，里面有各个语言调用gmsh生成网格的实例，还有.geo文件（专门的gmsh几何定义文件，可以构建结几何和生成网格）以t4.geo为例：
// ----------------------------------------------------------------------------- // // Gmsh GEO tutorial 4 // // Built-in functions, holes in surfaces, annotations, entity colors // // ----------------------------------------------------------------------------- // As usual, we start by defining some variables: cm = 1e-02; e1 = 4.5 * cm; e2 = 6 * cm / 2; e3 = 5 * cm / 2; h1 = 5 * cm; h2 = 10 * cm; h3 = 5 * cm; h4 = 2 * cm; h5 = 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ecdc7c2e09505a75947bdc873744895e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-03T12:02:10+08:00" />
<meta property="article:modified_time" content="2023-12-03T12:02:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gmsh：三维有限网格生成器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>网格在科学计算中的重要性</h2> 
<p>在科学计算中，网格（Grid）是一个离散化的空间描述，将计算领域划分为规则或不规则的小单元。它在科学计算中具有重要性，主要体现在以下方面：</p> 
<p><strong>空间离散化</strong>：科学计算问题通常涉及对连续空间的离散化，将其划分为有限个网格单元。这样做可以将复杂的数学问题转化为易于计算的离散问题，从而使得计算更加可行和高效。</p> 
<p><strong>数值模拟和求解</strong>：网格提供了在计算领域内进行数值模拟和求解的基础。通过在网格上建立数学模型和方程，可以将复杂的物理现象转化为离散的计算问题。例如，有限元法和有限差分法等数值方法常常使用网格来近似解析解。</p> 
<p><strong>边界条件处理</strong>：网格在科学计算中起到了处理边界条件的关键作用。通过将边界位置约束到网格上，可以方便地对边界条件进行定义和处理。这对于模拟物理领域中的流体力学、电磁场等问题尤为重要。</p> 
<p><strong>并行计算</strong>：在大规模科学计算中，网格的并行划分和处理对于提高计算效率和性能非常关键。通过将网格划分为多个子域并分配给多个计算节点，可以实现并行计算和分布式计算，大大提高计算速度和可扩展性。</p> 
<p><strong>网格自适应</strong>：在某些情况下，根据问题的复杂性和准确性要求，标准网格可能无法提供足够的解决方案。在这种情况下，网格自适应技术允许根据需要在计算区域中添加或删除网格单元。这种能力对于解决具有局部特征的问题非常重要。</p> 
<p>综上所述，网格在科学计算中的重要性不可忽视。它为数值模拟和方程求解提供了基础，处理边界条件，支持并行计算，并能够根据问题的需求进行自适应调整。网格的选择和设计直接影响到科学计算的可靠性、准确性和效率。</p> 
<h2><a id="Gmsh_16"></a>Gmsh：三维有限网格生成器</h2> 
<p>gmsh 是一种开源的三维有限元网格生成器和后处理软件。它具有功能强大和灵活的特点，适用于各种科学计算和工程领域的模拟和分析任务。以下是一些关键特点和功能：</p> 
<p><strong>几何建模</strong>：gmsh 提供了一个直观的界面，用于创建、修改和操纵复杂的几何模型。用户可以通过手动建模、文件导入、基于CAD软件的集成或编程接口来定义模型。支持包括曲线、曲面、体积等多种几何元素。</p> 
<p><strong>网格生成</strong>：gmsh 能够生成各种类型的三维有限元网格。用户可以通过选择合适的网格算法、指定划分参数和优化网格质量等方式来控制网格划分。它支持三角形、四边形、四面体、六面体等多种元素类型，并提供自适应网格划分功能。</p> 
<p><strong>多物理场模拟</strong>：gmsh 支持多种物理场的模拟，包括流体力学、结构力学、电磁场等。用户可以定义边界条件、材料属性、加载条件等，并进行相应的模拟和分析。</p> 
<p><strong>后处理功能</strong>：gmsh 提供了丰富的后处理功能，用于可视化和分析模拟结果。它支持数据可视化、剖面图、动画等，使用户能够更好地理解和解释模拟结果。</p> 
<p><strong>可扩展性</strong>：gmsh 是一个开源项目，提供了灵活的接口和插件系统。用户可以使用 使用Python ，C，C++，fortran等语言进行自动化建模和网格生成，也可以通过插件来添加新的功能和扩展软件的能力。</p> 
<p>总的来说，gmsh 提供了一个强大且易于使用的环境，用于创建、划分和后处理三维有限元网格。它适用于各种科学计算和工程应用，并且具有广泛的用户群体和活跃的社区支持。无论是学术研究还是工程实践，gmsh 都是一个重要的工具。</p> 
<h2><a id="Gmsh_34"></a>Gmsh图形界面的安装</h2> 
<p>这是gmsh的官网：<a href="http://gmsh.info" rel="nofollow">http://gmsh.info</a></p> 
<p><img src="https://images2.imgbox.com/57/2a/DmPWrksl_o.png" alt="gmshguanwan"><br> 选择自己使用的操作系统即可安装，Windows为例，安装后会得到如下文件夹：</p> 
<p><img src="https://images2.imgbox.com/0f/e3/vYGULrXl_o.png" alt="wenjianjaigmsh"></p> 
<p>点击exe文件便能打开gmsh的图形窗口：</p> 
<p><img src="https://images2.imgbox.com/42/dd/ZPR6ZTqS_o.png" alt="gmshjiemian"></p> 
<p>想要查看生成网格效果可以点击文件夹tutorials，里面有各个语言调用gmsh生成网格的实例，还有.geo文件（专门的gmsh几何定义文件，可以构建结几何和生成网格）以t4.geo为例：</p> 
<pre><code class="prism language-c"><span class="token comment">// -----------------------------------------------------------------------------</span>
<span class="token comment">//</span>
<span class="token comment">//  Gmsh GEO tutorial 4</span>
<span class="token comment">//</span>
<span class="token comment">//  Built-in functions, holes in surfaces, annotations, entity colors</span>
<span class="token comment">//</span>
<span class="token comment">// -----------------------------------------------------------------------------</span>

<span class="token comment">// As usual, we start by defining some variables:</span>

cm <span class="token operator">=</span> <span class="token number">1e-02</span><span class="token punctuation">;</span>
e1 <span class="token operator">=</span> <span class="token number">4.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> e2 <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">*</span> cm <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> e3 <span class="token operator">=</span>  <span class="token number">5</span> <span class="token operator">*</span> cm <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
h1 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h2 <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h3 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h4 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h5 <span class="token operator">=</span> <span class="token number">4.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span>
R1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> R2 <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> r <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span>
Lc1 <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
Lc2 <span class="token operator">=</span> <span class="token number">0.003</span><span class="token punctuation">;</span>

<span class="token comment">// We can use all the usual mathematical functions (note the capitalized first</span>
<span class="token comment">// letters), plus some useful functions like Hypot(a, b) := Sqrt(a^2 + b^2):</span>

ccos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>h5<span class="token operator">*</span>R1 <span class="token operator">+</span> e2 <span class="token operator">*</span> <span class="token function">Hypot</span><span class="token punctuation">(</span>h5<span class="token punctuation">,</span> <span class="token function">Hypot</span><span class="token punctuation">(</span>e2<span class="token punctuation">,</span> R1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>h5<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> e2<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ssin <span class="token operator">=</span> <span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> ccos<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Then we define some points and some lines using these variables:</span>

<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e1<span class="token operator">-</span>e2<span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e1<span class="token operator">-</span>e2<span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3<span class="token operator">-</span>r <span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3<span class="token operator">-</span>r <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>h2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>h2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3<span class="token operator">+</span>r <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3<span class="token operator">+</span>r <span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e1<span class="token operator">+</span>e2<span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e1<span class="token operator">+</span>e2<span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e2   <span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R1 <span class="token operator">/</span> ssin<span class="token punctuation">,</span> h5<span class="token operator">+</span>R1<span class="token operator">*</span>ccos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>        <span class="token punctuation">,</span> h5        <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R1 <span class="token operator">/</span> ssin<span class="token punctuation">,</span> h5<span class="token operator">+</span>R1<span class="token operator">*</span>ccos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e2       <span class="token punctuation">,</span> <span class="token number">0.0</span>       <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>  <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>  <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span><span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token operator">+</span>R2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span><span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">-</span>R2<span class="token punctuation">,</span>    <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span> <span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Gmsh provides other curve primitives than straight lines: splines, B-splines,</span>
<span class="token comment">// circle arcs, ellipse arcs, etc. Here we define a new circle arc, starting at</span>
<span class="token comment">// point 14 and ending at point 16, with the circle's center being the point 15:</span>

<span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Note that, in Gmsh, circle arcs should always be smaller than Pi. The</span>
<span class="token comment">// OpenCASCADE geometry kernel does not have this limitation.</span>

<span class="token comment">// We can then define additional lines and circles, as well as a new surface:</span>

<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>    <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>    <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     <span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>   <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Line</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Curve <span class="token function">Loop</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Plane <span class="token function">Surface</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// But we still need to define the exterior surface. Since this surface has a</span>
<span class="token comment">// hole, its definition now requires two curves loops:</span>

Curve <span class="token function">Loop</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Plane <span class="token function">Surface</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// As a general rule, if a surface has N holes, it is defined by N+1 curve loops:</span>
<span class="token comment">// the first loop defines the exterior boundary; the other loops define the</span>
<span class="token comment">// boundaries of the holes.</span>

<span class="token comment">// Finally, we can add some comments by embedding a post-processing view</span>
<span class="token comment">// containing some strings:</span>

View <span class="token string">"comments"</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// Add a text string in window coordinates, 10 pixels from the left and 10</span>
  <span class="token comment">// pixels from the bottom, using the `StrCat' function to concatenate strings:</span>
  <span class="token function">T2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token function">StrCat</span><span class="token punctuation">(</span><span class="token string">"Created on "</span><span class="token punctuation">,</span> Today<span class="token punctuation">,</span> <span class="token string">" with Gmsh"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Add a text string in model coordinates centered at (X,Y,Z) = (0, 0.11, 0):</span>
  <span class="token function">T3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.11</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">TextAttributes</span><span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">,</span> <span class="token string">"Font"</span><span class="token punctuation">,</span> <span class="token string">"Helvetica"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token string">"Hole"</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// If a string starts with `file://', the rest is interpreted as an image</span>
  <span class="token comment">// file. For 3D annotations, the size in model coordinates can be specified</span>
  <span class="token comment">// after a `@' symbol in the form `widthxheight' (if one of `width' or</span>
  <span class="token comment">// `height' is zero, natural scaling is used; if both are zero, original image</span>
  <span class="token comment">// dimensions in pixels are used):</span>
  <span class="token function">T3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.09</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">TextAttributes</span><span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token string">"file://t4_image.png@0.01x0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// The 3D orientation of the image can be specified by proving the direction</span>
  <span class="token comment">// of the bottom and left edge of the image in model space:</span>
  <span class="token function">T3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.09</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@0.01x0,0,0,1,0,1,0"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// The image can also be drawn in "billboard" mode, i.e. always parallel to</span>
  <span class="token comment">// the camera, by using the `#' symbol:</span>
  <span class="token function">T3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.12</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">TextAttributes</span><span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token string">"file://t4_image.png@0.01x0#"</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// The size of 2D annotations is given directly in pixels:</span>
  <span class="token function">T2</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@20x0"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// This post-processing view is in the "parsed" format, i.e. it is interpreted</span>
<span class="token comment">// using the same parser as the `.geo' file. For large post-processing datasets,</span>
<span class="token comment">// that contain actual field values defined on a mesh, you should use the MSH</span>
<span class="token comment">// file format instead, which allows to efficiently store continuous or</span>
<span class="token comment">// discontinuous scalar, vector and tensor fields, or arbitrary polynomial</span>
<span class="token comment">// order.</span>

<span class="token comment">// Views and geometrical entities can be made to respond to double-click events,</span>
<span class="token comment">// here to print some messages to the console:</span>

View<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>DoubleClickedCommand <span class="token operator">=</span> <span class="token string">"Printf('View[0] has been double-clicked!');"</span><span class="token punctuation">;</span>
Geometry<span class="token punctuation">.</span>DoubleClickedCurveCommand <span class="token operator">=</span> "<span class="token function">Printf</span><span class="token punctuation">(</span>'Curve <span class="token operator">%</span>g has been <span class="token keyword">double</span><span class="token operator">-</span>clicked<span class="token operator">!</span>'<span class="token punctuation">,</span>
  Geometry<span class="token punctuation">.</span>DoubleClickedEntityTag<span class="token punctuation">)</span><span class="token punctuation">;</span>"<span class="token punctuation">;</span>

<span class="token comment">// We can also change the color of some entities:</span>

Color Grey50<span class="token punctuation">{<!-- --></span> Surface<span class="token punctuation">{<!-- --></span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Purple<span class="token punctuation">{<!-- --></span> Surface<span class="token punctuation">{<!-- --></span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Red<span class="token punctuation">{<!-- --></span> Curve<span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">14</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Yellow<span class="token punctuation">{<!-- --></span> Curve<span class="token punctuation">{<!-- --></span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

</code></pre> 
<p>查看这些文件生成的网格，在tutorials位置打开终端，输入：</p> 
<pre><code class="prism language-bash">gmsh t4.geo
</code></pre> 
<p>便会弹出如下窗口，即由t4.geo生成的网格图形：</p> 
<p><img src="https://images2.imgbox.com/78/8f/5Zk2KY3U_o.png" alt="wujiemiangmsh"><br> 点击左侧的Mesh，点击2D，便能查看生成的网格：</p> 
<p><img src="https://images2.imgbox.com/19/fd/cUywxt0A_o.png" alt="gmshyoujiemian"><br> <br></p> 
<p>想要了解gmsh更多详细的背景，细节，使用方法等，可以去 <a href="http://gmsh.info" rel="nofollow">gmsh官网</a> 上了解，上面的资料，文档都特别详细，后面几章将会给大家介绍如何在Python中使用gmsh：</p> 
<p><a href="https://blog.csdn.net/qq_74083422/article/details/134759583">Gmsh ＜一＞：Geometric model construction</a></p> 
<p><a href="https://blog.csdn.net/qq_74083422/article/details/134760424">Gmsh ＜二＞：Mesh generation</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f59e84c8f7e032ccf4ad607f3b1d235a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python基础快速过一遍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7d54f84a4f6a31b65c03a936a123b8d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">51单片机循迹小车</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>