<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>æ•°æ®æ²»ç†ï¼ˆåäº”ï¼‰ï¼šRangerç®¡ç†Hiveå®‰å…¨ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="æ•°æ®æ²»ç†ï¼ˆåäº”ï¼‰ï¼šRangerç®¡ç†Hiveå®‰å…¨" />
<meta property="og:description" content="æ–‡ç« ç›®å½•Â Rangerç®¡ç†Hiveå®‰å…¨
ä¸€ã€é…ç½®HiveServer2
1ï¼‰åœ¨HiveæœåŠ¡ç«¯é…ç½®hive-site.xml
2ï¼‰åœ¨æ¯å°Hadoop èŠ‚ç‚¹é…ç½®core-site.xml,è®°å¾—å‘é€åˆ°æ‰€æœ‰èŠ‚ç‚¹
3ï¼‰é‡å¯HDFS ï¼ŒHive ï¼Œåœ¨HiveæœåŠ¡ç«¯å¯åŠ¨Metastore å’Œ HiveServer2æœåŠ¡
4ï¼‰åœ¨å®¢æˆ·ç«¯é€šè¿‡beelineè¿æ¥Hive
äºŒã€å®‰è£…Ranger-hive-plugin
1ï¼‰è¿œç¨‹å‘é€ç¼–è¯‘å¥½çš„â€œhive-pluginâ€åˆ°node1èŠ‚ç‚¹â€œ/softwareâ€ç›®å½•ä¸‹ï¼Œå¹¶è§£å‹
2ï¼‰é…ç½®â€œinstall.propertiesâ€æ–‡ä»¶
3ï¼‰æ‰§è¡Œâ€œenable-hive-plugin.shâ€è„šæœ¬å¯åŠ¨hiveæ’ä»¶
ä¸‰ã€é…ç½®Rangerè¿æ¥HiveæœåŠ¡
1ï¼‰å¯åŠ¨HDFSï¼Œå¯åŠ¨Hiveã€Hive MeateStoreã€Hive Server2
2ï¼‰åœ¨Rangeré¡µé¢ä¸­é…ç½®Hive
3ï¼‰è¿æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥jdbcæ–¹å¼è¿æ¥ä¸ŠHive
å››ã€Rangerå¯¹Hiveç”¨æˆ·è¿›è¡Œæƒé™ç®¡ç†
Rangerç®¡ç†Hiveå®‰å…¨ ä¸€ã€é…ç½®HiveServer2 è®¿é—®Hiveæœ‰ä¸¤ç§æ–¹å¼ï¼šHiveServer2å’ŒHive Clientï¼ŒHive Clientéœ€è¦Hiveå’ŒHadoopçš„jaråŒ…ï¼Œé…ç½®ç¯å¢ƒã€‚HiveServer2ä½¿å¾—è¿æ¥Hiveçš„Clientä»Yarnå’ŒHDFSé›†ç¾¤ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œä¸éœ€è¦æ¯ä¸ªèŠ‚ç‚¹éƒ½é…ç½®Hiveå’ŒHadoopçš„jaråŒ…å’Œä¸€ç³»åˆ—ç¯å¢ƒã€‚
Rangerç®¡ç†Hiveæƒé™åªèƒ½é’ˆå¯¹HiveServer2 jdbcæ–¹å¼è¿æ¥ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é…ç½®HiveServer2ã€‚
é…ç½®HiveServer2æ­¥éª¤å¦‚ä¸‹ï¼š
1ï¼‰åœ¨HiveæœåŠ¡ç«¯é…ç½®hive-site.xml #åœ¨Hive æœåŠ¡ç«¯ $HIVE_HOME/conf/hive-site.xmlä¸­é…ç½®ï¼š &lt;!-- é…ç½®hiveserver2 --&gt; &lt;property&gt; &lt;name&gt;hive.server2.thrift.port&lt;/name&gt; &lt;value&gt;10000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt; &lt;value&gt;192.168.179.4&lt;/value&gt; &lt;/property&gt; &lt;!-- é…ç½®hiveserver2ä½¿ç”¨çš„zookeeper --&gt; &lt;property&gt; &lt;name&gt;hive.zookeeper.quorum&lt;/name&gt; &lt;value&gt; node3:2181,node4:2181,node5:2181&lt;/value&gt; &lt;/property&gt; æ³¨æ„ï¼šâ€œhive.zookeeper.quorumâ€æ­å»ºhiveserver2HAä½¿ç”¨é…ç½®é¡¹ï¼Œå¯ä»¥ä¸é…ç½®ï¼Œå¦‚æœä¸é…ç½®å¯åŠ¨hiveServer2æ—¶ä¸€ç›´è¿æ¥æœ¬åœ°zookeeper,å¯¼è‡´å¤§é‡é”™è¯¯æ—¥å¿—ï¼ˆ/tmp/root/hive.logï¼‰ï¼Œä»è€Œå¯¼è‡´é€šè¿‡beelineè¿æ¥å½“å‰node1èŠ‚ç‚¹çš„hiveserver2æ—¶ä¸ç¨³å®šï¼Œä¼šæœ‰è¿æ¥ä¸ä¸Šé”™è¯¯ä¿¡æ¯ã€‚
2ï¼‰åœ¨æ¯å°Hadoop èŠ‚ç‚¹é…ç½®core-site.xml,è®°å¾—å‘é€åˆ°æ‰€æœ‰èŠ‚ç‚¹ &lt;!-- é…ç½®ä»£ç†è®¿é—®ç”¨æˆ·ï¼Œå¦‚æœä¸é…ç½®ä¸‹åˆ—ä¿¡æ¯ hiveçš„jdbcè¿æ¥ä¼šæŠ¥é”™ --&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; 3ï¼‰é‡å¯HDFS ï¼ŒHive ï¼Œåœ¨HiveæœåŠ¡ç«¯å¯åŠ¨Metastore å’Œ HiveServer2æœåŠ¡ [root@node1 conf]# hive --service metastore &amp; [root@node1 conf]# hive --service hiveserver2 &gt; /root/hiveserver2_log." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7449222caf0faf4feb9050608e11df19/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-10T11:42:35+08:00" />
<meta property="article:modified_time" content="2022-07-10T11:42:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">æ•°æ®æ²»ç†ï¼ˆåäº”ï¼‰ï¼šRangerç®¡ç†Hiveå®‰å…¨</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" src="https://images2.imgbox.com/dd/db/YWPvqHW6_o.jpg"></p> 
<p><strong>æ–‡ç« ç›®å½•</strong>Â </p> 
<p id="Ranger%E7%AE%A1%E7%90%86Hive%E5%AE%89%E5%85%A8-toc" style="margin-left:0px;"><a href="#Ranger%E7%AE%A1%E7%90%86Hive%E5%AE%89%E5%85%A8" rel="nofollow">Rangerç®¡ç†Hiveå®‰å…¨</a></p> 
<p id="%E4%B8%80%E3%80%81%E9%85%8D%E7%BD%AEHiveServer2-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E9%85%8D%E7%BD%AEHiveServer2" rel="nofollow">ä¸€ã€é…ç½®HiveServer2</a></p> 
<p id="1%EF%BC%89%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%85%8D%E7%BD%AEhive-site.xml-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%85%8D%E7%BD%AEhive-site.xml" rel="nofollow">1ï¼‰åœ¨HiveæœåŠ¡ç«¯é…ç½®hive-site.xml</a></p> 
<p id="2%EF%BC%89%E5%9C%A8%E6%AF%8F%E5%8F%B0Hadoop%20%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AEcore-site.xml%2C%E8%AE%B0%E5%BE%97%E5%8F%91%E9%80%81%E5%88%B0%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9-toc" style="margin-left:80px;"><a href="#2%EF%BC%89%E5%9C%A8%E6%AF%8F%E5%8F%B0Hadoop%20%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AEcore-site.xml%2C%E8%AE%B0%E5%BE%97%E5%8F%91%E9%80%81%E5%88%B0%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9" rel="nofollow">2ï¼‰åœ¨æ¯å°Hadoop èŠ‚ç‚¹é…ç½®core-site.xml,è®°å¾—å‘é€åˆ°æ‰€æœ‰èŠ‚ç‚¹</a></p> 
<p id="3%EF%BC%89%E9%87%8D%E5%90%AFHDFS%20%EF%BC%8CHive%20%EF%BC%8C%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%90%AF%E5%8A%A8Metastore%20%E5%92%8C%20HiveServer2%E6%9C%8D%E5%8A%A1-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%E9%87%8D%E5%90%AFHDFS%20%EF%BC%8CHive%20%EF%BC%8C%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%90%AF%E5%8A%A8Metastore%20%E5%92%8C%20HiveServer2%E6%9C%8D%E5%8A%A1" rel="nofollow">3ï¼‰é‡å¯HDFS ï¼ŒHive ï¼Œåœ¨HiveæœåŠ¡ç«¯å¯åŠ¨Metastore å’Œ HiveServer2æœåŠ¡</a></p> 
<p id="4%EF%BC%89%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%BF%87beeline%E8%BF%9E%E6%8E%A5Hive-toc" style="margin-left:80px;"><a href="#4%EF%BC%89%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%BF%87beeline%E8%BF%9E%E6%8E%A5Hive" rel="nofollow">4ï¼‰åœ¨å®¢æˆ·ç«¯é€šè¿‡beelineè¿æ¥Hive</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85Ranger-hive-plugin-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85Ranger-hive-plugin" rel="nofollow">äºŒã€å®‰è£…Ranger-hive-plugin</a></p> 
<p id="1%EF%BC%89%E8%BF%9C%E7%A8%8B%E5%8F%91%E9%80%81%E7%BC%96%E8%AF%91%E5%A5%BD%E7%9A%84%E2%80%9Chive-plugin%E2%80%9D%E5%88%B0node1%E8%8A%82%E7%82%B9%E2%80%9C%2Fsoftware%E2%80%9D%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E5%B9%B6%E8%A7%A3%E5%8E%8B-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%E8%BF%9C%E7%A8%8B%E5%8F%91%E9%80%81%E7%BC%96%E8%AF%91%E5%A5%BD%E7%9A%84%E2%80%9Chive-plugin%E2%80%9D%E5%88%B0node1%E8%8A%82%E7%82%B9%E2%80%9C%2Fsoftware%E2%80%9D%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E5%B9%B6%E8%A7%A3%E5%8E%8B" rel="nofollow">1ï¼‰è¿œç¨‹å‘é€ç¼–è¯‘å¥½çš„â€œhive-pluginâ€åˆ°node1èŠ‚ç‚¹â€œ/softwareâ€ç›®å½•ä¸‹ï¼Œå¹¶è§£å‹</a></p> 
<p id="2%EF%BC%89%E9%85%8D%E7%BD%AE%E2%80%9Cinstall.properties%E2%80%9D%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#2%EF%BC%89%E9%85%8D%E7%BD%AE%E2%80%9Cinstall.properties%E2%80%9D%E6%96%87%E4%BB%B6" rel="nofollow">2ï¼‰é…ç½®â€œinstall.propertiesâ€æ–‡ä»¶</a></p> 
<p id="3%EF%BC%89%E6%89%A7%E8%A1%8C%E2%80%9Cenable-hive-plugin.sh%E2%80%9D%E8%84%9A%E6%9C%AC%E5%90%AF%E5%8A%A8hive%E6%8F%92%E4%BB%B6-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%E6%89%A7%E8%A1%8C%E2%80%9Cenable-hive-plugin.sh%E2%80%9D%E8%84%9A%E6%9C%AC%E5%90%AF%E5%8A%A8hive%E6%8F%92%E4%BB%B6" rel="nofollow">3ï¼‰æ‰§è¡Œâ€œenable-hive-plugin.shâ€è„šæœ¬å¯åŠ¨hiveæ’ä»¶</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AERanger%E8%BF%9E%E6%8E%A5Hive%E6%9C%8D%E5%8A%A1-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AERanger%E8%BF%9E%E6%8E%A5Hive%E6%9C%8D%E5%8A%A1" rel="nofollow">ä¸‰ã€é…ç½®Rangerè¿æ¥HiveæœåŠ¡</a></p> 
<p id="1%EF%BC%89%E5%90%AF%E5%8A%A8HDFS%EF%BC%8C%E5%90%AF%E5%8A%A8Hive%E3%80%81Hive%20MeateStore%E3%80%81Hive%20Server2-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%E5%90%AF%E5%8A%A8HDFS%EF%BC%8C%E5%90%AF%E5%8A%A8Hive%E3%80%81Hive%20MeateStore%E3%80%81Hive%20Server2" rel="nofollow">1ï¼‰å¯åŠ¨HDFSï¼Œå¯åŠ¨Hiveã€Hive MeateStoreã€Hive Server2</a></p> 
<p id="2%EF%BC%89%E5%9C%A8Ranger%E9%A1%B5%E9%9D%A2%E4%B8%AD%E9%85%8D%E7%BD%AEHive-toc" style="margin-left:80px;"><a href="#2%EF%BC%89%E5%9C%A8Ranger%E9%A1%B5%E9%9D%A2%E4%B8%AD%E9%85%8D%E7%BD%AEHive" rel="nofollow">2ï¼‰åœ¨Rangeré¡µé¢ä¸­é…ç½®Hive</a></p> 
<p id="3%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5jdbc%E6%96%B9%E5%BC%8F%E8%BF%9E%E6%8E%A5%E4%B8%8AHive-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5jdbc%E6%96%B9%E5%BC%8F%E8%BF%9E%E6%8E%A5%E4%B8%8AHive" rel="nofollow">3ï¼‰è¿æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥jdbcæ–¹å¼è¿æ¥ä¸ŠHive</a></p> 
<p id="%E5%9B%9B%E3%80%81%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8BRanger%E5%AF%B9Hive%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8BRanger%E5%AF%B9Hive%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86" rel="nofollow">å››ã€Rangerå¯¹Hiveç”¨æˆ·è¿›è¡Œæƒé™ç®¡ç†</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>Rangerç®¡ç†Hiveå®‰å…¨</h2> 
<h3 id="%E4%B8%80%E3%80%81%E9%85%8D%E7%BD%AEHiveServer2">ä¸€ã€<strong>é…ç½®HiveServer2</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">è®¿é—®Hiveæœ‰ä¸¤ç§æ–¹å¼ï¼šHiveServer2å’ŒHive Clientï¼ŒHive Clientéœ€è¦Hiveå’ŒHadoopçš„jaråŒ…ï¼Œé…ç½®ç¯å¢ƒã€‚HiveServer2ä½¿å¾—è¿æ¥Hiveçš„Clientä»Yarnå’ŒHDFSé›†ç¾¤ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œä¸éœ€è¦æ¯ä¸ªèŠ‚ç‚¹éƒ½é…ç½®Hiveå’ŒHadoopçš„jaråŒ…å’Œä¸€ç³»åˆ—ç¯å¢ƒã€‚</p> 
<p style="margin-left:.0001pt;text-align:justify;">Rangerç®¡ç†Hiveæƒé™åªèƒ½é’ˆå¯¹HiveServer2 jdbcæ–¹å¼è¿æ¥ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é…ç½®HiveServer2ã€‚</p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®HiveServer2æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<h4 id="1%EF%BC%89%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%85%8D%E7%BD%AEhive-site.xml" style="margin-left:.0001pt;text-align:justify;"><strong>1ï¼‰åœ¨HiveæœåŠ¡ç«¯é…ç½®hive-site.xml</strong></h4> 
<pre><code class="language-XML">#åœ¨Hive æœåŠ¡ç«¯ $HIVE_HOME/conf/hive-site.xmlä¸­é…ç½®ï¼š
&lt;!-- é…ç½®hiveserver2 --&gt;
&lt;property&gt;
	 &lt;name&gt;hive.server2.thrift.port&lt;/name&gt;
	 &lt;value&gt;10000&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
	&lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt;
	&lt;value&gt;192.168.179.4&lt;/value&gt;
&lt;/property&gt;
&lt;!-- é…ç½®hiveserver2ä½¿ç”¨çš„zookeeper --&gt;
&lt;property&gt;
	&lt;name&gt;hive.zookeeper.quorum&lt;/name&gt;
	&lt;value&gt; node3:2181,node4:2181,node5:2181&lt;/value&gt;
&lt;/property&gt; </code></pre> 
<p>æ³¨æ„ï¼šâ€œhive.zookeeper.quorumâ€æ­å»ºhiveserver2HAä½¿ç”¨é…ç½®é¡¹ï¼Œå¯ä»¥ä¸é…ç½®ï¼Œå¦‚æœä¸é…ç½®å¯åŠ¨hiveServer2æ—¶ä¸€ç›´è¿æ¥æœ¬åœ°zookeeper,å¯¼è‡´å¤§é‡é”™è¯¯æ—¥å¿—ï¼ˆ/tmp/root/hive.logï¼‰ï¼Œä»è€Œå¯¼è‡´é€šè¿‡beelineè¿æ¥å½“å‰node1èŠ‚ç‚¹çš„hiveserver2æ—¶ä¸ç¨³å®šï¼Œä¼šæœ‰è¿æ¥ä¸ä¸Šé”™è¯¯ä¿¡æ¯ã€‚</p> 
<p></p> 
<h4 id="2%EF%BC%89%E5%9C%A8%E6%AF%8F%E5%8F%B0Hadoop%20%E8%8A%82%E7%82%B9%E9%85%8D%E7%BD%AEcore-site.xml%2C%E8%AE%B0%E5%BE%97%E5%8F%91%E9%80%81%E5%88%B0%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9"><strong>2ï¼‰åœ¨æ¯å°Hadoop èŠ‚ç‚¹é…ç½®core-site.xml,è®°å¾—å‘é€åˆ°æ‰€æœ‰èŠ‚ç‚¹</strong></h4> 
<pre><code class="language-XML">&lt;!-- é…ç½®ä»£ç†è®¿é—®ç”¨æˆ·ï¼Œå¦‚æœä¸é…ç½®ä¸‹åˆ—ä¿¡æ¯ hiveçš„jdbcè¿æ¥ä¼šæŠ¥é”™ --&gt;
&lt;property&gt;     
	&lt;name&gt;hadoop.proxyuser.root.hosts&lt;/name&gt;     
	&lt;value&gt;*&lt;/value&gt;
 &lt;/property&gt; 
&lt;property&gt;     
	&lt;name&gt;hadoop.proxyuser.root.groups&lt;/name&gt;    
    &lt;value&gt;*&lt;/value&gt; 
&lt;/property&gt;</code></pre> 
<p></p> 
<h4 id="3%EF%BC%89%E9%87%8D%E5%90%AFHDFS%20%EF%BC%8CHive%20%EF%BC%8C%E5%9C%A8Hive%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%90%AF%E5%8A%A8Metastore%20%E5%92%8C%20HiveServer2%E6%9C%8D%E5%8A%A1"><strong>3ï¼‰<strong>é‡å¯HDFS ï¼ŒHive ï¼Œåœ¨HiveæœåŠ¡ç«¯å¯åŠ¨Metastore å’Œ HiveServer2æœåŠ¡</strong></strong></h4> 
<pre><code class="language-XML">[root@node1 conf]# hive --service metastore &amp;
[root@node1 conf]# hive --service hiveserver2 &gt; /root/hiveserver2_log.txt &amp;</code></pre> 
<p></p> 
<h4 id="4%EF%BC%89%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%9A%E8%BF%87beeline%E8%BF%9E%E6%8E%A5Hive"><strong>4ï¼‰åœ¨å®¢æˆ·ç«¯é€šè¿‡beelineè¿æ¥Hive</strong></h4> 
<pre><code class="language-bash">[root@node3 test]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000 root
Enter password for jdbc:hive2://node1:10000: **** #å¯ä»¥è¾“å…¥ä»»æ„å¯†ç ,æ²¡æœ‰éªŒè¯
0: jdbc:hive2://node1:10000&gt; show tables;</code></pre> 
<p><img alt="" height="295" src="https://images2.imgbox.com/e1/49/q4lAE4Si_o.png" width="464"></p> 
<p></p> 
<h3 id="%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85Ranger-hive-plugin">äºŒã€<strong>å®‰è£…Ranger-hive-plugin</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Rangerå¯¹Hiveæ•°æ®å®‰å…¨è¿›è¡Œç®¡ç†ï¼Œè¿™é‡Œéœ€è¦å®‰è£…Hiveæ’ä»¶â€œranger-2.1.0-hive-pluginâ€ï¼Œæ­¤æ’ä»¶åªèƒ½å¯¹jdbcæ–¹å¼è¿æ¥Hiveçš„è¯·æ±‚è¿›è¡Œæƒé™ç®¡ç†ï¼Œä¸èƒ½å¯¹hive-cliå®¢æˆ·ç«¯æ–¹å¼è¿›è¡Œæƒé™ç®¡ç†ï¼ˆä¸€èˆ¬å®‰è£…Hiveçš„èŠ‚ç‚¹æ‰èƒ½ä½¿ç”¨Hiveå®¢æˆ·ç«¯è®¿é—®ï¼‰ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<h4 id="1%EF%BC%89%E8%BF%9C%E7%A8%8B%E5%8F%91%E9%80%81%E7%BC%96%E8%AF%91%E5%A5%BD%E7%9A%84%E2%80%9Chive-plugin%E2%80%9D%E5%88%B0node1%E8%8A%82%E7%82%B9%E2%80%9C%2Fsoftware%E2%80%9D%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E5%B9%B6%E8%A7%A3%E5%8E%8B" style="margin-left:.0001pt;text-align:justify;"><strong>1ï¼‰è¿œç¨‹å‘é€ç¼–è¯‘å¥½çš„â€œhive-pluginâ€åˆ°node1èŠ‚ç‚¹â€œ/softwareâ€ç›®å½•ä¸‹ï¼Œå¹¶è§£å‹</strong></h4> 
<p>è¿œç¨‹å‘é€â€œ/software/apache-ranger-2.1.0/target/â€ä¸‹çš„â€œranger-2.1.0-hive-plugin.tar.gzâ€åˆ°node1èŠ‚ç‚¹â€œ/softwareâ€ä¸‹ï¼š</p> 
<pre><code class="language-bash">[root@node3 /]# scp /software/apache-ranger-2.1.0/target/ranger-2.1.0-hive-plugin.tar.gz node1:/software/
#åœ¨node1èŠ‚ç‚¹æ“ä½œ
[root@node1 ~]# cd /software/
[root@node1 software]# tar -zxvf ./ranger-2.1.0-hive-plugin.tar.gz</code></pre> 
<h4 id="2%EF%BC%89%E9%85%8D%E7%BD%AE%E2%80%9Cinstall.properties%E2%80%9D%E6%96%87%E4%BB%B6"><strong>2ï¼‰é…ç½®â€œinstall.propertiesâ€æ–‡ä»¶</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">è¿›å…¥åˆ°â€œ/software/ranger-2.1.0-hive-pluginâ€ç›®å½•ä¸­ï¼Œä¿®æ”¹â€œinstall.propertiesâ€æ–‡ä»¶ï¼š</p> 
<pre><code class="language-bash">[root@node1 ranger-2.1.0-hive-plugin]# vim install.properties
#é…ç½®Ranger-Adminè®¿é—®åœ°å€
POLICY_MGR_URL=http://node1:6080
#é…ç½®Hive ä»“åº“åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œéœ€è¦åæœŸåœ¨Rangerä¸­ä½¿ç”¨
REPOSITORY_NAME=hive_repo
#é…ç½®Hiveçš„å®‰è£…ç›®å½•
COMPONENT_INSTALL_DIR_NAME=/software/hive-3.1.2/
#é…ç½®ä½¿ç”¨æ’ä»¶çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„
CUSTOM_USER=root
CUSTOM_GROUP=root</code></pre> 
<h4 id="3%EF%BC%89%E6%89%A7%E8%A1%8C%E2%80%9Cenable-hive-plugin.sh%E2%80%9D%E8%84%9A%E6%9C%AC%E5%90%AF%E5%8A%A8hive%E6%8F%92%E4%BB%B6"><strong>3ï¼‰æ‰§è¡Œâ€œenable-hive-plugin.shâ€è„šæœ¬å¯åŠ¨hiveæ’ä»¶</strong></h4> 
<p style="margin-left:.0001pt;text-align:justify;">è¿›å…¥åˆ°â€œ/software/ranger-2.1.0-hive-pluginâ€ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯ç”¨æ’ä»¶ï¼š</p> 
<pre><code class="language-bash">[root@node1 ~]# cd /software/ranger-2.1.0-hive-plugin
[root@node1 ranger-2.1.0-hive-plugin]# enable-hive-plugin.sh</code></pre> 
<p></p> 
<h3 id="%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AERanger%E8%BF%9E%E6%8E%A5Hive%E6%9C%8D%E5%8A%A1">ä¸‰ã€é…ç½®Rangerè¿æ¥HiveæœåŠ¡</h3> 
<p style="margin-left:.0001pt;text-align:justify;">å®‰è£…å¥½ä»¥ä¸ŠHive-Pluginä¹‹åï¼Œé‡æ–°å¯åŠ¨HDFSï¼Œå¯åŠ¨Hive,HiveMetastoreã€HiveServer2ç­‰ã€‚å¦‚æœæƒ³è¦å¯¹è¿æ¥Hiveçš„ç”¨æˆ·è¿›è¡Œè¡¨ã€åˆ—æƒé™ç®¡ç†ï¼Œéœ€è¦åœ¨Rangerä¸­æ·»åŠ å¯¹åº”çš„HiveæœåŠ¡ï¼Œæ‰å¯ä»¥ä½¿ç”¨Rangeré€šè¿‡è¿™ä¸ªæœåŠ¡é…ç½®æ¯ä¸ªç”¨æˆ·å¯¹Hiveåº“ã€è¡¨ã€åˆ—æƒé™ç®¡ç†ã€‚é…ç½®å¦‚ä¸‹ï¼š</p> 
<h4 id="1%EF%BC%89%E5%90%AF%E5%8A%A8HDFS%EF%BC%8C%E5%90%AF%E5%8A%A8Hive%E3%80%81Hive%20MeateStore%E3%80%81Hive%20Server2" style="margin-left:.0001pt;text-align:justify;"><strong>1ï¼‰å¯åŠ¨HDFSï¼Œå¯åŠ¨Hiveã€Hive MeateStoreã€Hive Server2</strong></h4> 
<pre><code class="language-bash">#å¯åŠ¨HDFSï¼Œåœ¨node1èŠ‚ç‚¹ä¸Šå¯åŠ¨Hive metastore
[root@node1 conf]# start-all.sh
[root@node1 conf]# hive --service metastore &amp;
[root@node1 conf]# hive --service hiveserver2 &gt; /root/hiveserver2_log.txt &amp;</code></pre> 
<h4 id="2%EF%BC%89%E5%9C%A8Ranger%E9%A1%B5%E9%9D%A2%E4%B8%AD%E9%85%8D%E7%BD%AEHive"><strong>2ï¼‰åœ¨Rangeré¡µé¢ä¸­é…ç½®Hive</strong></h4> 
<p><img alt="" height="480" src="https://images2.imgbox.com/66/d2/kNW8k0zj_o.png" width="962"></p> 
<p><img alt="" height="906" src="https://images2.imgbox.com/5a/9a/4BYwpLaY_o.png" width="924"></p> 
<p>æ³¨æ„ï¼Œä»¥ä¸Šå‚æ•°è§£é‡Šå¦‚ä¸‹ï¼šÂ </p> 
<ul><li style="text-align:justify;">â€œService Nameâ€å¡«å†™å½“å‰Hive æœåŠ¡åç§°ï¼Œä¸Hiveæ’ä»¶ä¸­"install.properties"æ–‡ä»¶é…ç½®å‚æ•°"REPOSITORY_NAME"ä¿æŒä¸€è‡´ã€‚</li><li style="text-align:justify;">é…ç½®çš„â€œuserâ€å’Œâ€œpasswordâ€ä¹Ÿæ˜¯ä¸"install.properties"æ–‡ä»¶ä¸­é…ç½®çš„â€œCUSTOM_USER=rootâ€ã€â€œCUSTOM_GROUP=rootâ€ä¿æŒä¸€è‡´ã€‚</li><li style="text-align:justify;">â€œjdbc.urlâ€å¡«å†™â€œjdbc:hive2://node1:10000â€å³å¯ï¼Œè¿™é‡Œè¿æ¥node1ã€‚</li></ul> 
<p style="margin-left:.0001pt;text-align:justify;">æ·»åŠ å®Œæˆä¹‹åï¼š</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="517" src="https://images2.imgbox.com/ea/7c/JL6JTvEL_o.png" width="957"></p> 
<p></p> 
<h4 id="3%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5jdbc%E6%96%B9%E5%BC%8F%E8%BF%9E%E6%8E%A5%E4%B8%8AHive"><strong>3ï¼‰è¿æ¥æµ‹è¯•æ˜¯å¦å¯ä»¥jdbcæ–¹å¼è¿æ¥ä¸ŠHive</strong></h4> 
<p><img alt="" height="533" src="https://images2.imgbox.com/f7/53/Bmrm31i4_o.png" width="1014"></p> 
<p>æ³¨æ„ï¼šè¿™é‡Œè¿æ¥æ—¶ï¼Œå•æœºæµ‹è¯•è¿æ¥æ—¶éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæ‰èƒ½æ­£å¸¸è¿æ¥ã€‚</p> 
<p></p> 
<h3 id="%E5%9B%9B%E3%80%81%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8BRanger%E5%AF%B9Hive%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><strong>å››ã€â€‹â€‹â€‹â€‹â€‹â€‹â€‹Rangerå¯¹Hiveç”¨æˆ·è¿›è¡Œæƒé™ç®¡ç†</strong></h3> 
<p style="margin-left:.0001pt;text-align:justify;">æŸ¥çœ‹Rangerä¸­é…ç½®å¥½çš„Hiveæƒé™ç®¡ç†æœåŠ¡ï¼š</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="586" src="https://images2.imgbox.com/58/4b/BFkcqnnR_o.png" width="1200"></p> 
<p>ä¿®æ”¹ä¸Šå›¾ä¸­åªæœ‰rootç”¨æˆ·å¯¹æ‰€ä»¥åº“ã€è¡¨ã€åˆ—å…·æœ‰æ“ä½œæƒé™,ä¿®æ”¹åå¦‚ä¸‹ï¼šÂ </p> 
<p><img alt="" height="378" src="https://images2.imgbox.com/8b/af/wuqdk7cz_o.png" width="930"></p> 
<p>åœ¨node3ä¸­ç™»å½•beelineè¿æ¥node1 hiveï¼š</p> 
<pre><code class="language-bash">#node3 é€šè¿‡beelineè¿æ¥Hive
[root@node3 ~]# beeline
#è¿æ¥HiveServer2 jdbcè¿æ¥
beeline&gt; !connect jdbc:hive2://node1:10000
#è¿™é‡Œç”¨æˆ·åç›®å‰å¯ä»¥éšæ„è¾“å…¥ï¼Œåœ¨Hiveä¸­æ²¡æœ‰æ ¡éªŒï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡Hiveé…ç½®æœ‰å“ªäº›ç”¨
#æˆ·å¯ä»¥è¿æ¥Hiveï¼Œç„¶åé€šè¿‡Rangerå†ç®¡ç†è¿™äº›ç”¨æˆ·çš„ç»†ç²’åº¦è®¿é—®æƒé™ã€‚ä»ä¸Šå›¾ä¸­å¯ä»¥
#çœ‹åˆ°ç›®å‰åªæœ‰rootç”¨æˆ·å¯ä»¥è®¿é—®è¡¨æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨érootç”¨æˆ·æµ‹è¯•ï¼Œè¿™é‡Œä½¿ç”¨
#â€œdiaochanâ€ç”¨æˆ·ï¼š
Enter username for jdbc:hive2://node1:10000: diaochan
#ç”±äºHiveä¸­æ²¡æœ‰æ£€éªŒå¯†ç ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥éšæ„è¾“å…¥ä»»æ„å¯†ç 
Enter password for jdbc:hive2://node1:10000: ****
#æŸ¥è¯¢åº“ä¸‹çš„è¡¨ï¼Œæ²¡æœ‰æƒé™ã€‚
0: jdbc:hive2://node1:10000&gt; show tables
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [daochan] does not have [USE] privilege on [de
fault] (state=42000,code=40000)

#é‡æ–°ä½¿ç”¨rootç”¨æˆ·ç™»å½•beelineï¼ŒæŸ¥è¯¢å¯¹åº”çš„è¡¨ï¼Œæœ‰æƒé™
[root@node3 ~]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
Enter username for jdbc:hive2://node1:10000: root
Enter password for jdbc:hive2://node1:10000: *** #å¯†ç éšæ„
0: jdbc:hive2://node1:10000&gt; show tables;</code></pre> 
<p><img alt="" height="370" src="https://images2.imgbox.com/1e/0e/dQRU2Oox_o.png" width="474"></p> 
<p>ä¸‹é¢åœ¨Hiveä¸­åˆ›å»ºä¸¤å¼ è¡¨è¿›è¡Œæƒé™ç®¡ç†ï¼š</p> 
<pre><code class="language-bash">#åœ¨Hiveä¸­åˆ›å»ºä¸¤å¼ è¡¨
create table student (id int,name string,age int) row format delimited fields terminated by '\t';
create table score (id int,name string,score int) row format delimited fields terminated by '\t';</code></pre> 
<p>ä¸Šä¼ æ•°æ®é™„ä»¶ï¼Œå°†ä»¥ä¸Šæ–‡ä»¶ä¸Šä¼ åˆ°node3â€œ/software/testâ€ä¸‹</p> 
<p><img alt="" height="96" src="https://images2.imgbox.com/46/91/F7jE87ck_o.png" width="124"></p> 
<pre><code>1	zhangsan	18
2	lisi	19
3	wangwu	20
4	maliu	21
5	tianqi	22
6	zhaoba	23</code></pre> 
<p><img alt="" height="104" src="https://images2.imgbox.com/3b/c4/sEf238lr_o.png" width="153"></p> 
<pre><code>1	zhangsan	100
2	lisi	200
3	wangwu	300
4	maliu	400
5	tianqi	500
6	zhaoba	600</code></pre> 
<pre><code class="language-bash">#åŠ è½½æ•°æ®ï¼š
hive&gt; load data local inpath '/root/test/students.txt' into table student;
hive&gt; load data local inpath '/root/test/scores.txt' into table score;</code></pre> 
<p>Â <strong><strong>æƒé™éœ€æ±‚ï¼šå¯¹ç”¨æˆ·â€œuser1â€é…ç½®ä»¥ä¸Šä¸¤å¼ è¡¨çš„è®¿é—®å’Œä¿®æ”¹æƒé™ï¼Œå¯¹ç”¨æˆ·â€œuser2â€é…ç½®å¯¹ä¸¤å¼ è¡¨åªæœ‰è®¿é—®æƒé™ã€‚</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<p style="text-align:justify;"><strong><strong>1ï¼‰åœ¨node1èŠ‚ç‚¹åˆ›å»ºä¸¤ä¸ªç”¨æˆ·ï¼Œå¯†ç ä¸ºå¯¹åº”ç”¨æˆ·åç§°</strong></strong></p> 
<pre><code class="language-bash">#åˆ›å»ºä¸¤ä¸ªç”¨æˆ·user1,å’Œuser2
[root@node1 ~]# useradd user1
[root@node1 ~]# passwd user1

[root@node1 ~]# useradd user2
[root@node1 ~]# passwd user2</code></pre> 
<p><strong>2ï¼‰åœ¨Rangeré¡µé¢ï¼Œæ‰“å¼€â€œhive_repoâ€æœåŠ¡ï¼Œé…ç½®å¦‚ä¸‹ï¼š</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®â€œStudentâ€è¡¨æƒé™ï¼š</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="358" src="https://images2.imgbox.com/5c/51/MA8uD1hW_o.png" width="910"></p> 
<p>Â <img alt="" height="587" src="https://images2.imgbox.com/8c/17/GGTIXiGa_o.png" width="1037"></p> 
<p></p> 
<p>Â <img alt="" height="580" src="https://images2.imgbox.com/18/36/cLEqysXK_o.png" width="1068"></p> 
<p><img alt="" height="587" src="https://images2.imgbox.com/9a/6d/R51qiHBU_o.png" width="984"></p> 
<p>æœ€ç»ˆé…ç½®å¥½å¦‚ä¸‹ï¼š</p> 
<p><img alt="" height="291" src="https://images2.imgbox.com/f8/a4/te50OiRt_o.png" width="1094"></p> 
<p style="text-align:justify;"><strong>3ï¼‰ç™»å½•Hive Beelineæµ‹è¯•ï¼š</strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">å‘HDFSä¸­æ’å…¥æ•°æ®æ—¶ï¼Œuser1ï¼Œuser2ç”¨æˆ·éœ€è¦æ“ä½œHDFSå’ŒYarnï¼Œæ‰€ä»¥è¿™é‡Œå°†HDFSä¸­Hiveå¯¹åº”çš„è·¯å¾„â€œ/user/hive/warehouseâ€ä¸­çš„â€œ/userâ€è·¯å¾„æƒé™æ”¹æˆâ€œ777â€ï¼Œå°†Yarnä½¿ç”¨ç›®å½•â€œtmpâ€è·¯å¾„æƒé™æ”¹æˆâ€œ777â€</p> 
<pre><code class="language-bash">[root@node5 bin]# hdfs dfs -chmod -R 777 /user
[root@node5 bin]# hdfs dfs -chmod -R 777 /tmp</code></pre> 
<p>Â æµ‹è¯•ç™»å½•user1ï¼Œå¯¹â€œstudentâ€ã€â€œscoreâ€è¡¨æœ‰æ“ä½œå’Œä¿®æ”¹æƒé™ï¼Œå¦‚ä¸‹ï¼š</p> 
<pre><code class="language-bash">[root@node3 ~]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
0: jdbc:hive2://node1:10000&gt; select * from student;</code></pre> 
<p><img alt="" height="279" src="https://images2.imgbox.com/bd/d6/Jb2AahkI_o.png" width="692"></p> 
<p></p> 
<pre><code class="language-bash">0: jdbc:hive2://node1:10000&gt; select * from score;</code></pre> 
<p><img alt="" height="308" src="https://images2.imgbox.com/f1/b6/PUti0xx2_o.png" width="692"></p> 
<pre><code class="language-bash">#å‘è¡¨studentã€scoreä¸­æ’å…¥æ•°æ®,ä¹Ÿèƒ½é€šè¿‡ã€‚
0: jdbc:hive2://node1:10000&gt; insert into student values (7,"aa",24);
0: jdbc:hive2://node1:10000&gt; insert into score values (7,"bb",700);</code></pre> 
<p>æµ‹è¯•ç™»å½•user2ï¼Œå¯¹â€œstudentâ€ã€â€œscoreâ€è¡¨æœ‰æ“ä½œå’Œä¿®æ”¹æƒé™ï¼Œå¦‚ä¸‹ï¼š</p> 
<pre><code class="language-bash">[root@node3 software]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
Enter username for jdbc:hive2://node1:10000: user2
Enter password for jdbc:hive2://node1:10000: *** #å¯†ç éšä¾¿è¾“å…¥
0: jdbc:hive2://node1:10000&gt; select * from student;</code></pre> 
<p><img alt="" height="305" src="https://images2.imgbox.com/db/63/MrFX8xPE_o.png" width="692"></p> 
<pre><code class="language-bash">0: jdbc:hive2://node1:10000&gt; select * from score;</code></pre> 
<p><img alt="" height="334" src="https://images2.imgbox.com/3e/b1/ZB2ZhiIo_o.png" width="689"></p> 
<pre><code class="language-bash">#æµ‹è¯•å‘â€œstudentâ€å’Œâ€œscoreâ€ä¸­æ’å…¥æ•°æ®ï¼Œæ²¡æœ‰å¯¹åº”æƒé™ï¼š
0: jdbc:hive2://node1:10000&gt; insert into table student values (8,"cc",25);
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [user2] does not have [UPDATE] privilege on [d
efault/student] (state=42000,code=40000)

0: jdbc:hive2://node1:10000&gt; insert into table score values (8,"dd",800);
Error: Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [user2] does not have [UPDATE] privilege on [d
efault/score] (state=42000,code=40000)</code></pre> 
<p>Â <strong><strong>æƒé™éœ€æ±‚ï¼šå¯¹ç”¨æˆ·â€œuser3â€é…ç½®å¯¹â€œstudentâ€è¡¨ä¸­â€œidã€nameâ€ä¸¤åˆ—æœ‰æŸ¥è¯¢æƒé™ï¼Œå…¶ä»–åˆ—æ²¡æœ‰æŸ¥è¯¢æƒé™ã€‚</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>1ï¼‰åœ¨node1èŠ‚ç‚¹ä¸­æ·»åŠ ç”¨æˆ·â€œuser3â€</strong></p> 
<pre><code class="language-bash">#åˆ›å»ºä¸¤ä¸ªç”¨æˆ·user3
[root@node1 ~]# useradd user3
[root@node1 ~]# passwd user3</code></pre> 
<p></p> 
<p style="text-align:justify;"><strong><strong>2ï¼‰ç»™ç”¨æˆ·â€œuser3â€é…ç½®è¡¨â€œstudentâ€çš„è®¿é—®æƒé™</strong></strong></p> 
<p style="text-align:justify;"><img alt="" height="684" src="https://images2.imgbox.com/d6/63/fhf5YsI9_o.png" width="1045"></p> 
<p></p> 
<p><strong>3ï¼‰æµ‹è¯•</strong></p> 
<pre><code class="language-bash">#user3ç™»å½•beeline
[root@node3 software]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
Enter username for jdbc:hive2://node1:10000: user3
#è®¿é—®è¡¨â€œstudentâ€æ•°æ®ï¼Œâ€œageâ€åˆ—æ— æ³•æŸ¥è¯¢ï¼Œselect * æŸ¥è¯¢ä¸å…è®¸
0: jdbc:hive2://node1:10000&gt; select id ,name from student;</code></pre> 
<p><img alt="" height="339" src="https://images2.imgbox.com/a4/5d/zmnltj4o_o.png" width="328"></p> 
<p></p> 
<p style="text-align:justify;"><strong><strong>æƒé™éœ€æ±‚ï¼šå¯¹ç”¨æˆ·â€œuser1â€è®¿é—®è¡¨â€œstudentâ€æ—¶ï¼Œâ€œageâ€åˆ—è¿›è¡Œç©ºå€¼è¾“å‡ºï¼Œè¿›è¡Œè„±æ•ã€‚</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<p style="text-align:justify;"><strong><strong>1ï¼‰ç»™ç”¨æˆ·â€œuser1â€é…ç½®è¡¨â€œstudentâ€çš„â€œMaskingâ€è®¿é—®æƒé™</strong></strong></p> 
<p style="text-align:justify;"><img alt="" height="262" src="https://images2.imgbox.com/b2/0e/a1uGqOGl_o.png" width="1104"></p> 
<p>Â <img alt="" height="692" src="https://images2.imgbox.com/5d/b6/Ptm5f1NA_o.png" width="1081"></p> 
<p><img alt="" height="617" src="https://images2.imgbox.com/63/be/sUUW8S4X_o.png" width="1057"></p> 
<p></p> 
<p><strong>2ï¼‰ç™»å½•Hive Beelineæµ‹è¯•</strong></p> 
<pre><code class="language-bash">[root@node3 software]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
Enter username for jdbc:hive2://node1:10000: user1
0: jdbc:hive2://node1:10000&gt; select * from student;</code></pre> 
<p>Â <img alt="" height="309" src="https://images2.imgbox.com/e6/72/I89wHfN5_o.png" width="692"></p> 
<p></p> 
<p style="text-align:justify;"><strong><strong>æƒé™éœ€æ±‚ï¼šå¯¹ç”¨æˆ·â€œuser2â€è®¿é—®è¡¨â€œstudentâ€æ—¶ï¼Œâ€œageâ€åˆ—åªèƒ½æ’å™å°äºç­‰äº20çš„è¡Œæ•°æ®ã€‚</strong></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>1ï¼‰ç»™ç”¨æˆ·â€œuser1â€é…ç½®è¡¨â€œstudentâ€çš„â€œMaskingâ€è®¿é—®æƒé™</strong></p> 
<p>Â <img alt="" height="259" src="https://images2.imgbox.com/62/e2/NujNcQHu_o.png" width="1086"></p> 
<p><img alt="" height="597" src="https://images2.imgbox.com/b2/24/IXAGXXQ4_o.png" width="1067"></p> 
<p><img alt="" height="374" src="https://images2.imgbox.com/2e/7f/DAdKomRD_o.png" width="1045"></p> 
<p></p> 
<p><strong>2ï¼‰ç™»å½•Hive Beelineæµ‹è¯•</strong></p> 
<pre><code class="language-bash">[root@node3 software]# beeline
beeline&gt; !connect jdbc:hive2://node1:10000
Enter username for jdbc:hive2://node1:10000: user2
#æŸ¥è¯¢åªæœ‰3è¡Œæ»¡è¶³æ¡ä»¶çš„æ•°æ®
0: jdbc:hive2://node1:10000&gt; select * from student;</code></pre> 
<p><img alt="" height="193" src="https://images2.imgbox.com/ae/b2/FTozYI17_o.png" width="692"></p> 
<hr> 
<ul><li>ğŸ“¢åšå®¢ä¸»é¡µï¼š<a href="https://lansonli.blog.csdn.net/" rel="nofollow" title="https://lansonli.blog.csdn.net">https://lansonli.blog.csdn.net</a></li><li>ğŸ“¢æ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­ç•™è¨€ ğŸ“ å¦‚æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼</li><li>ğŸ“¢æœ¬æ–‡ç”± Lansonli åŸåˆ›ï¼Œé¦–å‘äº CSDNåšå®¢ğŸ™‰</li><li>ğŸ“¢åœä¸‹ä¼‘æ¯çš„æ—¶å€™ä¸è¦å¿˜äº†åˆ«äººè¿˜åœ¨å¥”è·‘ï¼Œå¸Œæœ›å¤§å®¶æŠ“ç´§æ—¶é—´å­¦ä¹ ï¼Œå…¨åŠ›å¥”èµ´æ›´ç¾å¥½çš„ç”Ÿæ´»âœ¨Â </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a6f424ce8d6c1be78ecd2a1714a78633/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">easyExcelå¯¼å‡º</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a402be728ef3aa572227e0fde94a140/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Javaè§£æå‰‘æŒ‡offeré“¾è¡¨ç¯‡(3)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>