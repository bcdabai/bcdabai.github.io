<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gitea安装和使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gitea安装和使用" />
<meta property="og:description" content="文章目录 Linux下Gitea安装和使用 一、本地源码安装1. 准备环境2. 下载源码3. 编译4. 启动5. 站点配置 二、本地源码 &#43; docker mysql 安装1. 源码编译2. 创建gitea_db容器3. 启动和配置 三、docker源码 &#43; docker mysql 安装1. 创建gitea_db容器2. 创建gitea_web容器3. 访问 四、docker-compose 安装1. 准备docker-compose.yml2. 下载3. 启动4. 站点配置5. 迁移（仅适用于同一cpu架构、同一系统） 附 Linux下Gitea安装和使用 一、本地源码安装 1. 准备环境 通过源码编译安装，需要事先安装好
go 1.19 或以上版本node 16 或以上版本，并且安装npmmake：编译工具，一般系统都自带。gcc：c编译工具，一般系统都自带。
其中，node和npm安装参考我另一篇博文：
https://blog.csdn.net/Acegem/article/details/129675519?spm=1001.2014.3001.5502mysql：里面需要创建好一个新库，库名为：gitea 2. 下载源码 下载 https://github.com/go-gitea/gitea 得到gitea-main.zip。
3. 编译 将gitea-main.zip解压后，准备编译。
编译tags可选项：
bindata: bindata: 这个编译选项将会把运行Gitea所需的所有外部资源都打包到可执行文件中，这样部署将非常简单因为除了可执行程序将不再需要任何其他文件。sqlite sqlite_unlock_notify: 这个编译选项将启用SQLite3数据库的支持，建议只在少数人使用时使用这个模式。pam: 这个编译选项将会启用 PAM (Linux Pluggable Authentication Modules) 认证，如果你使用这一认证模式的话需要开启这个选项。 以下为我用的编译方式：
cd gitea-main # 编译 TAGS=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4450685ae834171b71fd34a58e91029d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-06T11:23:06+08:00" />
<meta property="article:modified_time" content="2023-04-06T11:23:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gitea安装和使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#center_LinuxGitea_center_1" rel="nofollow"></a> 
   <center>
     Linux下Gitea安装和使用 
   </center></li><li><ul><li><a href="#_2" rel="nofollow">一、本地源码安装</a></li><li><ul><li><a href="#1__3" rel="nofollow">1. 准备环境</a></li><li><a href="#2__12" rel="nofollow">2. 下载源码</a></li><li><a href="#3__14" rel="nofollow">3. 编译</a></li><li><a href="#4__89" rel="nofollow">4. 启动</a></li><li><a href="#5__98" rel="nofollow">5. 站点配置</a></li></ul> 
   </li><li><a href="#__docker_mysql__103" rel="nofollow">二、本地源码 + docker mysql 安装</a></li><li><ul><li><a href="#1__104" rel="nofollow">1. 源码编译</a></li><li><a href="#2_gitea_db_106" rel="nofollow">2. 创建gitea_db容器</a></li><li><a href="#3__125" rel="nofollow">3. 启动和配置</a></li></ul> 
   </li><li><a href="#docker__docker_mysql__132" rel="nofollow">三、docker源码 + docker mysql 安装</a></li><li><ul><li><a href="#1_gitea_db_137" rel="nofollow">1. 创建gitea_db容器</a></li><li><a href="#2_gitea_web_146" rel="nofollow">2. 创建gitea_web容器</a></li><li><a href="#3__192" rel="nofollow">3. 访问</a></li></ul> 
   </li><li><a href="#dockercompose__195" rel="nofollow">四、docker-compose 安装</a></li><li><ul><li><a href="#1_dockercomposeyml_196" rel="nofollow">1. 准备docker-compose.yml</a></li><li><a href="#2__250" rel="nofollow">2. 下载</a></li><li><a href="#3__256" rel="nofollow">3. 启动</a></li><li><a href="#4__274" rel="nofollow">4. 站点配置</a></li><li><a href="#5_cpu_278" rel="nofollow">5. 迁移（仅适用于同一cpu架构、同一系统）</a></li></ul> 
   </li><li><a href="#_299" rel="nofollow">附</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="center_LinuxGitea_center_1"></a> 
 <center>
   Linux下Gitea安装和使用 
 </center></h2> 
<h3><a id="_2"></a>一、本地源码安装</h3> 
<h4><a id="1__3"></a>1. 准备环境</h4> 
<p>通过源码编译安装，需要事先安装好</p> 
<ul><li>go 1.19 或以上版本</li><li>node 16 或以上版本，并且安装npm</li><li>make：编译工具，一般系统都自带。</li><li>gcc：c编译工具，一般系统都自带。<br> 其中，node和npm安装参考我另一篇博文：<br> <a href="https://blog.csdn.net/Acegem/article/details/129675519?spm=1001.2014.3001.5502">https://blog.csdn.net/Acegem/article/details/129675519?spm=1001.2014.3001.5502</a></li><li>mysql：里面需要创建好一个新库，库名为：<code>gitea</code></li></ul> 
<h4><a id="2__12"></a>2. 下载源码</h4> 
<p>下载 <a href="https://github.com/go-gitea/gitea">https://github.com/go-gitea/gitea</a> 得到<code>gitea-main.zip</code>。</p> 
<h4><a id="3__14"></a>3. 编译</h4> 
<p>将<code>gitea-main.zip</code>解压后，准备编译。<br> 编译tags可选项：</p> 
<ul><li>bindata: bindata: 这个编译选项将会把运行Gitea所需的所有外部资源都打包到可执行文件中，这样部署将非常简单因为除了可执行程序将不再需要任何其他文件。</li><li>sqlite sqlite_unlock_notify: 这个编译选项将启用SQLite3数据库的支持，建议只在少数人使用时使用这个模式。</li><li>pam: 这个编译选项将会启用 PAM (Linux Pluggable Authentication Modules) 认证，如果你使用这一认证模式的话需要开启这个选项。</li></ul> 
<p>以下为我用的编译方式：</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> gitea-main
<span class="token comment"># 编译</span>
<span class="token assign-left variable">TAGS</span><span class="token operator">=</span><span class="token string">"bindata"</span> <span class="token function">make</span> build

<span class="token comment"># 交叉编译。Go 编译器支持交叉编译到不同的目标架构。</span>
<span class="token comment"># 交叉构建适用于 Linux ARM64 的 Gitea</span>
<span class="token assign-left variable">GOOS</span><span class="token operator">=</span>linux <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>arm64 <span class="token assign-left variable">TAGS</span><span class="token operator">=</span><span class="token string">"bindata"</span> <span class="token function">make</span> build
<span class="token comment"># 交叉构建适用于 Linux ARM64 的 Gitea，并且带上 Gitea 发行版采用的编译选项</span>
<span class="token assign-left variable">CC</span><span class="token operator">=</span>aarch64-unknown-linux-gnu-gcc <span class="token assign-left variable">GOOS</span><span class="token operator">=</span>linux <span class="token assign-left variable">GOARCH</span><span class="token operator">=</span>arm64 <span class="token assign-left variable">TAGS</span><span class="token operator">=</span><span class="token string">"bindata"</span> <span class="token function">make</span> build
</code></pre> 
<p><strong>附：</strong><br> Go 支持的目标架构列表：</p> 
<table><thead><tr><th>$GOOS</th><th>$GOARCH</th></tr></thead><tbody><tr><td>linux</td><td>386</td></tr><tr><td>linux</td><td>amd64</td></tr><tr><td>linux</td><td>arm</td></tr><tr><td>linux</td><td>arm64</td></tr><tr><td>linux</td><td>loong64</td></tr><tr><td>linux</td><td>mips</td></tr><tr><td>linux</td><td>mipsle</td></tr><tr><td>linux</td><td>mips64</td></tr><tr><td>linux</td><td>mips64le</td></tr><tr><td>linux</td><td>ppc64</td></tr><tr><td>linux</td><td>ppc64le</td></tr><tr><td>linux</td><td>riscv64</td></tr><tr><td>linux</td><td>s390x</td></tr><tr><td></td><td></td></tr><tr><td>windows</td><td>386</td></tr><tr><td>windows</td><td>amd64</td></tr><tr><td>windows</td><td>arm</td></tr><tr><td>windows</td><td>arm64</td></tr><tr><td></td><td></td></tr><tr><td>android</td><td>386</td></tr><tr><td>android</td><td>amd64</td></tr><tr><td>android</td><td>arm</td></tr><tr><td>android</td><td>arm64</td></tr><tr><td>ios</td><td>arm64</td></tr><tr><td></td><td></td></tr><tr><td>darwin</td><td>amd64</td></tr><tr><td>darwin</td><td>arm64</td></tr><tr><td></td><td></td></tr><tr><td>freebsd</td><td>386</td></tr><tr><td>freebsd</td><td>amd64</td></tr><tr><td>freebsd</td><td>arm</td></tr><tr><td></td><td></td></tr><tr><td>netbsd</td><td>386</td></tr><tr><td>netbsd</td><td>amd64</td></tr><tr><td>netbsd</td><td>arm</td></tr><tr><td></td><td></td></tr><tr><td>openbsd</td><td>386</td></tr><tr><td>openbsd</td><td>amd64</td></tr><tr><td>openbsd</td><td>arm</td></tr><tr><td>openbsd</td><td>arm64</td></tr><tr><td></td><td></td></tr><tr><td>plan9</td><td>386</td></tr><tr><td>plan9</td><td>amd64</td></tr><tr><td>plan9</td><td>arm</td></tr><tr><td></td><td></td></tr><tr><td>aix</td><td>ppc64</td></tr><tr><td>dragonfly</td><td>amd64</td></tr><tr><td>illumos</td><td>amd64</td></tr><tr><td>js</td><td>wasm</td></tr><tr><td>solaris</td><td>amd64</td></tr></tbody></table> 
<p>编译后会生成gitea二进制文件。</p> 
<h4><a id="4__89"></a>4. 启动</h4> 
<p>输入</p> 
<pre><code class="prism language-shell">./gitea web
</code></pre> 
<p>启动运行<br> 打开浏览器，访问<code>http://localhost:3000</code></p> 
<p><img src="https://images2.imgbox.com/7c/de/32hhae27_o.png" alt="在这里插入图片描述">点击右上角“注册”可以注册账号，但初次使用会进行站点配置，如下。</p> 
<h4><a id="5__98"></a>5. 站点配置</h4> 
<p><img src="https://images2.imgbox.com/5b/b1/nODrkwT7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/25/0b/rzrqjwfE_o.png" alt="在这里插入图片描述"><br> 点击“立即安装”后，便可以注册账号登录使用了。<br> <strong>附：</strong> 另外，也可本地直接下载gitea二进制包，进行二进制安装。</p> 
<h3><a id="__docker_mysql__103"></a>二、本地源码 + docker mysql 安装</h3> 
<h4><a id="1__104"></a>1. 源码编译</h4> 
<p>可以先将源码编译后，再连mysql，编译同上。</p> 
<h4><a id="2_gitea_db_106"></a>2. 创建gitea_db容器</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 拉取mysql8.0镜像</span>
<span class="token function">docker</span> pull mysql:8.0
<span class="token comment">#　查看镜像</span>
<span class="token function">docker</span> images
<span class="token comment"># 创建容器并后台运行。主机通过3307端口对应着mysql容器的3306端口</span>
<span class="token function">docker</span> run -td --name gitea_db --restart<span class="token operator">=</span>always -p <span class="token number">3307</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root mysql:8.0
</code></pre> 
<p>进入容器创建gitea库</p> 
<pre><code class="prism language-shell"><span class="token comment"># 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it gitea_db <span class="token function">bash</span>
<span class="token comment"># 进入容器后：</span>
<span class="token comment"># 登入mysql</span>
mysql -uroot -p
<span class="token comment"># 创建新库gitea</span>
create database gitea<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="3__125"></a>3. 启动和配置</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 启动</span>
./gitea
</code></pre> 
<p>浏览器访问<code>localhost:3000</code>，初次使用会进行配置：<br> <img src="https://images2.imgbox.com/35/e4/3tFVbp11_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="docker__docker_mysql__132"></a>三、docker源码 + docker mysql 安装</h3> 
<p>创建两个容器：</p> 
<ul><li>gitea_web：存放gitea项目</li><li>gitea_db：存放mysql<br> （其实也可以采用创建一个容器、将gitea和mysql都放在一个容器里的思路，但这里采用微服务的思路。）</li></ul> 
<h4><a id="1_gitea_db_137"></a>1. 创建gitea_db容器</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 拉取mysql8.0镜像</span>
<span class="token function">docker</span> pull mysql:8.0
<span class="token comment">#　查看镜像</span>
<span class="token function">docker</span> images
<span class="token comment"># 创建容器并后台运行。主机通过3307端口对应着mysql容器的3306端口</span>
<span class="token function">docker</span> run -td --name mysql_db --restart<span class="token operator">=</span>always -p <span class="token number">3307</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root mysql:8.0
</code></pre> 
<h4><a id="2_gitea_web_146"></a>2. 创建gitea_web容器</h4> 
<p>以Ubuntu20.04环境为例。</p> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull ubuntu:20.04
<span class="token comment"># 创建容器。主机通过15000端口对应着gitea_web容器的3000端口，容器里挂载个U盘目录/volumes_usb对应着主机目录/home/user/mydocker/mnt/</span>
<span class="token function">docker</span> create -it --name gitea_web -p <span class="token number">15000</span>:3000 -v /home/user/mydocker/mnt/:/volumes_usb ubuntu:20.04 
<span class="token function">docker</span> start gitea_web

<span class="token comment"># 确保 gitea_web 和 gitea_db 容器在运行</span>
<span class="token function">docker</span> <span class="token function">ps</span>


（配置网桥）
<span class="token comment"># 自建一个网桥customize_bridge，让gitea_web 和 gitea_db两个容器连接起来，即在同一网段，能通信</span>
<span class="token function">docker</span> network create -d bridge customize_bridge
<span class="token function">docker</span> network connect customize_bridge gitea_web
<span class="token function">docker</span> network connect customize_bridge gitea_db
</code></pre> 
<p>进入容器，并在线安装一些基本工具</p> 
<pre><code class="prism language-shell"><span class="token comment"># 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it gitea_web <span class="token function">bash</span>
<span class="token comment"># 进入容器后：</span>
<span class="token function">apt</span> update
<span class="token function">apt</span> <span class="token function">install</span> <span class="token function">make</span>
<span class="token function">apt</span> <span class="token function">install</span> gcc
<span class="token function">apt</span> <span class="token function">install</span> <span class="token function">vim</span>

<span class="token builtin class-name">cd</span> /volumes_usb
</code></pre> 
<p>参考本文开头章节<code>一、源码安装</code>，然后将准备好的gitea源码、node、npm离线文件放在主机 <code>/home/user/mydocker/mnt/</code> 目录下， 以便容器可通过 <code>/volumes_usb</code> 目录找到使用，接下来操作过程同本文开头章节<code>一、源码安装</code>。<br> <mark><strong>这时候编译可以自定义cpu和系统环境了</strong></mark><br> 编译成功后会生成gitea二进制文件，但gitea二进制文件不支持用root执行，所以需要新建用户</p> 
<pre><code class="prism language-shell"><span class="token comment"># 进入容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it gitea_web <span class="token function">bash</span>
<span class="token comment"># 进入容器后：</span>
<span class="token comment"># 创建新用户user</span>
adduser user
<span class="token comment"># 更换gitea项目文件的所有者，以便能操作</span>
<span class="token function">chown</span> user:user -R /路径/gitea-main
<span class="token comment"># 切换新建的user用户</span>
<span class="token function">su</span> user
<span class="token builtin class-name">cd</span> gitea-main
./gitea
</code></pre> 
<h4><a id="3__192"></a>3. 访问</h4> 
<p>主机访问<code>localhost:15000</code>，最后站点配置如下：<br> <img src="https://images2.imgbox.com/b3/a0/dFtMlmgq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="dockercompose__195"></a>四、docker-compose 安装</h3> 
<h4><a id="1_dockercomposeyml_196"></a>1. 准备docker-compose.yml</h4> 
<p>在自定义目录下新建 <code>docker-compose.yml</code> 文件，如在<code>/home/user/mydocker/docker_gitea</code> 下新建：<br> docker-compose.yml</p> 
<pre><code class="prism language-yml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"2"</span>
  
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
    <span class="token key atrule">gitea</span><span class="token punctuation">:</span>
        <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">container_name</span><span class="token punctuation">:</span> gitea_server
        <span class="token key atrule">image</span><span class="token punctuation">:</span> gitea/gitea<span class="token punctuation">:</span>latest
        <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> USER_UID=1000
            <span class="token punctuation">-</span> USER_GID=1000
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
        <span class="token key atrule">networks</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> gitea
        <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/data
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token string">"15000:3000"</span>
            <span class="token punctuation">-</span> <span class="token string">"10022:22"</span>
        <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> db

    <span class="token key atrule">db</span><span class="token punctuation">:</span>
        <span class="token key atrule">container_name</span><span class="token punctuation">:</span> gitea_db
        <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">8.0</span>
        <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
        <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=gitea
            <span class="token punctuation">-</span> MYSQL_USER=gitea
            <span class="token punctuation">-</span> MYSQL_PASSWORD=gitea
            <span class="token punctuation">-</span> MYSQL_DATABASE=gitea
        <span class="token key atrule">networks</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> gitea
        <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> ./mysql<span class="token punctuation">:</span>/var/lib/mysql
</code></pre> 
<p>此功能是创建两个容器：gitea_server、gitea_db</p> 
<ul><li>gitea_server：存放gitea项目及应用，容器里gitea web端口为3000，对应外边宿主机的访问端口为15000</li><li>gitea_db：存放mysql<br> mysql信息</li></ul> 
<table><thead><tr><th>用户</th><th>密码</th></tr></thead><tbody><tr><td>root</td><td>gitea</td></tr><tr><td>gitea</td><td>gitea</td></tr></tbody></table> 
<p>mysql库：gitea</p> 
<h4><a id="2__250"></a>2. 下载</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /home/user/mydocker/docker_gitea/
<span class="token function">docker-compose</span> up <span class="token comment"># 或 docker-compose up -d</span>
</code></pre> 
<p>下载后会在 <code>/home/user/mydocker/docker_gitea/</code> 目录下自动生成 <code>data</code> 和 <code>mysql</code> 文件夹。</p> 
<h4><a id="3__256"></a>3. 启动</h4> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /home/user/mydocker/docker_gitea/

<span class="token comment"># 启动</span>
<span class="token function">docker-compose</span> start
<span class="token comment">####### 或者 #######</span>
<span class="token function">docker</span> start gitea_server 
<span class="token function">docker</span> start gitea_db

<span class="token comment"># 停止</span>
<span class="token function">docker-compose</span> stop
<span class="token comment">####### 或者 #######</span>
<span class="token function">docker</span> stop gitea_server 
<span class="token function">docker</span> stop gitea_db
</code></pre> 
<p>启动后打开浏览器，访问<code>http://localhost:15000</code><br> <img src="https://images2.imgbox.com/db/ef/Skk9vMEM_o.png" alt="在这里插入图片描述">点击右上角“注册”可以注册账号，但初次使用会进行站点配置，如下。</p> 
<h4><a id="4__274"></a>4. 站点配置</h4> 
<p><img src="https://images2.imgbox.com/56/16/xVA9TiKb_o.png" alt="在这里插入图片描述"></p> 
<p>点击“立即安装”后，便可以注册账号登录使用了。</p> 
<h4><a id="5_cpu_278"></a>5. 迁移（仅适用于同一cpu架构、同一系统）</h4> 
<p>因为此法docker-compose.yml 安装的是根据当前环境自动编译好的gitea二进制文件，所以迁移时仅适用于同一cpu架构、同一系统。如果想适用于其他环境的，需要输入编译参数手动编译。参考下面第三节<br> 迁移到其他服务器呢？</p> 
<pre><code class="prism language-shell"><span class="token comment"># 当前服务器，保存</span>
<span class="token function">docker</span> commit gitea_server gitea:v1
<span class="token function">docker</span> commit gitea_db gitea_db:v1
<span class="token function">docker</span> save -o ./gitea.tgz gitea:v1
<span class="token function">docker</span> save -o ./gitea_db.tgz gitea_db:v1

<span class="token comment"># 另一台服务器，导入</span>
<span class="token function">docker</span> load -i gitea.tgz
<span class="token function">docker</span> load -i gitea_db.tgz
</code></pre> 
<pre><code class="prism language-shell"><span class="token function">docker</span> create -it --name gitea_db mysql:8.0

</code></pre> 
<h3><a id="_299"></a>附</h3> 
<p>更多使用功能参考官方手册：<a href="https://docs.gitea.io/zh-cn/install-from-source/" rel="nofollow">https://docs.gitea.io/zh-cn/install-from-source/</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/214501b3081599baec4cde3b9c083a45/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux简介&amp;&amp;CentOS的安装与配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e95a5c5ed87c71107279bc1152b16e2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">B站头部 鼠标移动 产生的视差效果</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>