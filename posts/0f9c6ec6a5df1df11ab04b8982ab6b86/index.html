<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux shell编程学习笔记41：lsblk命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux shell编程学习笔记41：lsblk命令" />
<meta property="og:description" content="边缘计算的挑战和机遇 边缘计算面临着数据安全与隐私保护、网络稳定性等挑战，但同时也带来了更强的实时性和本地处理能力，为企业降低了成本和压力，提高了数据处理效率。因此，边缘计算既带来了挑战也带来了机遇，需要我们不断地研究
0 前言 前几节学习我们均涉及到磁盘和文件存储，今天我们研究与块设备有关的命令。
1 lsblk命令的功能和格式 我们可以使用命令 lsblk --help命令 查看它的用法：
purpleEndurer @ bash $ lsblk --help
Usage:
lsblk [options] [&lt;device&gt; ...]
Options:
-a, --all print all devices
-b, --bytes print SIZE in bytes rather than in human readable format
-d, --nodeps don&#39;t print slaves or holders
-D, --discard print discard capabilities
-e, --exclude &lt;list&gt; exclude devices by major number (default: RAM disks)
-I, --include &lt;list&gt; show only devices with specified major numbers" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0f9c6ec6a5df1df11ab04b8982ab6b86/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-21T18:08:51+08:00" />
<meta property="article:modified_time" content="2024-01-21T18:08:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux shell编程学习笔记41：lsblk命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><a id="_0"></a>边缘计算的挑战和机遇</h3> 
<p><em>边缘计算面临着数据安全与隐私保护、网络稳定性等挑战，但同时也带来了更强的实时性和本地处理能力，为企业降低了成本和压力，提高了数据处理效率。因此，边缘计算既带来了挑战也带来了机遇，需要我们不断地研究</em></p> 
<p></p> 
<p class="img-center"><img alt="" height="300" src="https://images2.imgbox.com/5b/1e/zRFVntKs_o.png" width="533"></p> 
<h2>0 前言</h2> 
<p>前几节学习我们均涉及到磁盘和文件存储，今天我们研究与块设备有关的命令。</p> 
<p></p> 
<h2>1 lsblk命令的功能和格式</h2> 
<p>我们可以使用命令 lsblk --help命令 查看它的用法：</p> 
<blockquote> 
 <p>purpleEndurer @ bash $ lsblk --help</p> 
 <p>Usage:<br>  lsblk [options] [&lt;device&gt; ...]</p> 
 <p>Options:<br>  -a, --all            print all devices<br>  -b, --bytes          print SIZE in bytes rather than in human readable format<br>  -d, --nodeps         don't print slaves or holders<br>  -D, --discard        print discard capabilities<br>  -e, --exclude &lt;list&gt; exclude devices by major number (default: RAM disks)<br>  -I, --include &lt;list&gt; show only devices with specified major numbers<br>  -f, --fs             output info about filesystems<br>  -h, --help           usage information (this)<br>  -i, --ascii          use ascii characters only<br>  -m, --perms          output info about permissions<br>  -l, --list           use list format output<br>  -n, --noheadings     don't print headings<br>  -o, --output &lt;list&gt;  output columns<br>  -p, --paths          print complate device path<br>  -P, --pairs          use key="value" output format<br>  -r, --raw            use raw output format<br>  -s, --inverse        inverse dependencies<br>  -t, --topology       output info about topology<br>  -S, --scsi           output info about SCSI devices</p> 
 <p> -h, --help     display this help and exit<br>  -V, --version  output version information and exit</p> 
 <p>Available columns (for --output):<br>         NAME  device name<br>        KNAME  internal kernel device name<br>      MAJ:MIN  major:minor device number<br>       FSTYPE  filesystem type<br>   MOUNTPOINT  where the device is mounted<br>        LABEL  filesystem LABEL<br>         UUID  filesystem UUID<br>    PARTLABEL  partition LABEL<br>     PARTUUID  partition UUID<br>           RA  read-ahead of the device<br>           RO  read-only device<br>           RM  removable device<br>        MODEL  device identifier<br>       SERIAL  disk serial number<br>         SIZE  size of the device<br>        STATE  state of the device<br>        OWNER  user name<br>        GROUP  group name<br>         MODE  device node permissions<br>    ALIGNMENT  alignment offset<br>       MIN-IO  minimum I/O size<br>       OPT-IO  optimal I/O size<br>      PHY-SEC  physical sector size<br>      LOG-SEC  logical sector size<br>         ROTA  rotational device<br>        SCHED  I/O scheduler name<br>      RQ-SIZE  request queue size<br>         TYPE  device type<br>     DISC-ALN  discard alignment offset<br>    DISC-GRAN  discard granularity<br>     DISC-MAX  discard max bytes<br>    DISC-ZERO  discard zeroes data<br>        WSAME  write same max bytes<br>          WWN  unique storage identifier<br>         RAND  adds randomness<br>       PKNAME  internal parent kernel device name<br>         HCTL  Host:Channel:Target:Lun for SCSI<br>         TRAN  device transport type<br>          REV  device revision<br>       VENDOR  device vendor</p> 
 <p>For more details see lsblk(8).<br> purpleEndurer @ bash $ </p> 
</blockquote> 
<p><img alt="" height="453" src="https://images2.imgbox.com/9d/9a/8Q4vXY3K_o.png" width="576"></p> 
<h3>1.1 lsblk命令的功能</h3> 
<p>lsblk命令的功能是查看系统中硬盘，闪存盘，CD-ROM等块设备的信息，包括这些设备之间的依赖关系。</p> 
<p>lsblk命令来源于list block devices的缩写。</p> 
<h3>1.2 lsblk命令的格式</h3> 
<blockquote> 
 <p> lsblk [选项] [&lt;设备&gt; ...]</p> 
</blockquote> 
<h4>1.2.1 选项及功能</h4> 
<table border="1"><tbody><tr><th>选项</th><th>功能</th></tr><tr><td>-a 或 --all</td><td>显示所有设备信息</td></tr><tr><td>-b 或 --bytes</td><td>显示以字节为单位的设备大小</td></tr><tr><td>-d 或 --nodeps</td><td>不显示分区的详细信息</td></tr><tr><td>-D 或 --discard</td><td>打印丢弃功能</td></tr><tr><td>-e 或 -exclude</td><td>排除指定设备 (默认: 内存盘：RAM disks)</td></tr><tr><td>-f 或 --fs</td><td>显示文件系统信息</td></tr><tr><td>-h 或 --help</td><td>显示使用帮助信息</td></tr><tr><td>-i 或 --ascii</td><td>仅使用字符</td></tr><tr><td>-I 或 --include</td><td>仅显示具有指定主编号的设备</td></tr><tr><td>-l 或 --list</td><td>使用列表格式显示</td></tr><tr><td>-m 或 --perms</td><td>显示权属信息</td></tr><tr><td>-n 或 --noheadings</td><td>不显示标题</td></tr><tr><td>-o 或 --output</td><td>输出指定列信息</td></tr><tr><td>-p 或 --paths</td><td>输出设备的完整路径</td></tr><tr><td>-P 或 --pairs</td><td>使用key=value格式显示信息</td></tr><tr><td>-r 或 --raw</td><td>使用原始格式显示信息</td></tr><tr><td>-s 或 --inverse</td><td>反向依赖关系</td></tr><tr><td>-S 或 --scsi</td><td>输出SCSI设备信息</td></tr><tr><td>-t 或 --topology</td><td>显示拓扑结构信息</td></tr><tr><td>-V或--v或--version</td><td>显示版本信息</td></tr></tbody></table> 
<h4> 1.2.2 可选信息列表</h4> 
<table border="1"><tbody><tr><th>可选信息列表名</th><th>含义</th></tr><tr><td>ALIGNMENT</td><td>对齐偏移</td></tr><tr><td>DISC-ALN</td><td>废弃对齐偏移</td></tr><tr><td>DISC-GRAN</td><td>废弃粒度</td></tr><tr><td>DISC-MAX</td><td>废弃最大字节</td></tr><tr><td>FSTYPE</td><td>文件系统类型</td></tr><tr><td>GROUP</td><td>组名称</td></tr><tr><td>KNAME</td><td>内部内核设备名称</td></tr><tr><td>LABEL</td><td>文件系统标签</td></tr><tr><td>LOG-SEC</td><td>逻辑扇区大小</td></tr><tr><td>MAJ:MIN</td><td>主要:次要设备编号</td></tr><tr><td>MIN-IO</td><td>最小 I/O 大小</td></tr><tr><td>MODE</td><td>设备节点权限</td></tr><tr><td>MODEL</td><td>设备标识符</td></tr><tr><td>MOUNTPOINT</td><td>设备挂载点</td></tr><tr><td>NAME</td><td>设备名称</td></tr><tr><td>OPT-IO</td><td>最佳 I/O 大小</td></tr><tr><td>OWNER</td><td>用户名</td></tr><tr><td>PARTLABEL</td><td>分区标签</td></tr><tr><td>PARTUUID</td><td>分区UUID</td></tr><tr><td>PHY-SEC</td><td>物理扇区大小</td></tr><tr><td>RA</td><td>预读设备</td></tr><tr><td>RM</td><td>可移动设备</td></tr><tr><td>RO</td><td>只读设备</td></tr><tr><td>ROTA</td><td>旋转装置</td></tr><tr><td>RQ-SIZE</td><td>请求队列大小</td></tr><tr><td>SCHED</td><td>I/O 调度程序名称</td></tr><tr><td>SERIAL</td><td>磁盘序列号</td></tr><tr><td>SIZE</td><td>设备的容量大小</td></tr><tr><td>STATE</td><td>设备的状态</td></tr><tr><td>TYPE</td><td>设备类型</td></tr><tr><td>UUID</td><td>文件系统 UUID</td></tr></tbody></table> 
<p></p> 
<h2>2 lsblk命令使用实例</h2> 
<h3>2.1 lsblk -a：显示系统中所有块设备信息</h3> 
<blockquote> 
 <p>purpleEndurer @ bash $ lsblk -a<br> NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br> zram0  251:0    0        0 disk <br> vda    253:0    0   40G  0 disk <br> ├─vda4 253:4    0   10G  0 part <br> ├─vda2 253:2    0  127M  0 part <br> ├─vda5 253:5    0 29.5G  0 part /dev/termination-log<br> ├─vda3 253:3    0  384M  0 part <br> └─vda1 253:1    0    1M  0 part <br> purpleEndurer @ bash $ </p> 
</blockquote> 
<p><img alt="" height="190" src="https://images2.imgbox.com/05/77/xVepdlSM_o.png" width="467"></p> 
<p>命令默认返回信息包括以下内容：</p> 
<ul><li>NAME：设备名</li><li>MAJ:MIN：主要/次要设备号</li><li>RM：是否可移动设备（0 否，1 是）</li><li>SIZE：设备的容量大小</li><li>RO：是否为只读设备（0 否，1 是）</li><li>TYPE：设备类型（disk 磁盘，part 分区，loop 块设备）</li><li>MOUNTPOINT：设备挂载点</li></ul> 
<p></p> 
<h3>2.2 lsblk -d 或 lsblk --nodeps：不显示分区的详细信息</h3> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ <u>lsblk -a</u><br> NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br> zram0  251:0    0        0 disk <br> vda    253:0    0   40G  0 disk <br> ├─vda4 253:4    0   10G  0 part <br> ├─vda2 253:2    0  127M  0 part <br> ├─vda5 253:5    0 29.5G  0 part /dev/termination-log<br> ├─vda3 253:3    0  384M  0 part <br> └─vda1 253:1    0    1M  0 part <br> purpleEndurer @ bash ~ $ <u>lsblk -d</u><br> NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT<br> vda  253:0    0  40G  0 disk <br> purpleEndurer @ bash ~ $ <u>lsblk -a -d</u><br> NAME  MAJ:MIN RM SIZE RO TYPE MOUNTPOINT<br> zram0 251:0    0       0 disk <br> vda   253:0    0  40G  0 disk <br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="327" src="https://images2.imgbox.com/2e/52/xGppK1Hp_o.png" width="580"></p> 
<p></p> 
<h3>2.3 lsblk -s 或 lsblk --inverse：反向显示依赖关系</h3> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ <u>lsblk -s</u><br> NAME  MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br> vda4  253:4    0   10G  0 part <br> └─vda 253:0    0   40G  0 disk <br> vda2  253:2    0  127M  0 part <br> └─vda 253:0    0   40G  0 disk <br> vda5  253:5    0 29.5G  0 part /dev/termination-log<br> └─vda 253:0    0   40G  0 disk <br> vda3  253:3    0  384M  0 part <br> └─vda 253:0    0   40G  0 disk <br> vda1  253:1    0    1M  0 part <br> └─vda 253:0    0   40G  0 disk <br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="258" src="https://images2.imgbox.com/c9/5b/iAqFY4mr_o.png" width="472"></p> 
<h3>2.4 lsblk -l或 lsblk --list：使用列表格式显示</h3> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ <u>lsblk -l</u><br> NAME MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT<br> vda  253:0    0   40G  0 disk <br> vda4 253:4    0   10G  0 part <br> vda2 253:2    0  127M  0 part <br> vda5 253:5    0 29.5G  0 part /dev/termination-log<br> vda3 253:3    0  384M  0 part <br> vda1 253:1    0    1M  0 part <br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="148" src="https://images2.imgbox.com/63/45/WxkyZfKH_o.png" width="365"></p> 
<p></p> 
<h3>2.5 lsblk -o 信息列表 或 lsblk --output 信息列表：显示指定列信息</h3> 
<p>例：以列表形式显示系统中所有块设备的 命名、容量大小、UUID 和序列号信息： </p> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ <u>lsblk -o name,size,uuid,serial -a -l</u><br> NAME   SIZE UUID SERIAL<br> zram0            <br> vda     40G      <br> vda4    10G      <br> vda2   127M      <br> vda5  29.5G      <br> vda3   384M      <br> vda1     1M      <br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="164" src="https://images2.imgbox.com/a8/82/qFgzcqKF_o.png" width="487"></p> 
<h3>2.6 lsblk -P 或 lsblk --pairs：使用key=value格式显示信息</h3> 
<p></p> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ lsblk -P<br> NAME="vda" MAJ:MIN="253:0" RM="0" SIZE="40G" RO="0" TYPE="disk" MOUNTPOINT=""<br> NAME="vda4" MAJ:MIN="253:4" RM="0" SIZE="10G" RO="0" TYPE="part" MOUNTPOINT=""<br> NAME="vda2" MAJ:MIN="253:2" RM="0" SIZE="127M" RO="0" TYPE="part" MOUNTPOINT=""<br> NAME="vda5" MAJ:MIN="253:5" RM="0" SIZE="29.5G" RO="0" TYPE="part" MOUNTPOINT="/dev/termination-log"<br> NAME="vda3" MAJ:MIN="253:3" RM="0" SIZE="384M" RO="0" TYPE="part" MOUNTPOINT=""<br> NAME="vda1" MAJ:MIN="253:1" RM="0" SIZE="1M" RO="0" TYPE="part" MOUNTPOINT=""<br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="137" src="https://images2.imgbox.com/a8/ce/kGNtfsi8_o.png" width="739"></p> 
<h3>2.7 lsblk -m 或 lsblk --perms： 显示块设备的权属信息 </h3> 
<blockquote> 
 <p>purpleEndurer @ bash ~ $ <u>lsblk -m</u><br> NAME    SIZE OWNER GROUP MODE<br> vda      40G             <br> ├─vda4   10G             <br> ├─vda2  127M             <br> ├─vda5 29.5G             <br> ├─vda3  384M             <br> └─vda1    1M             <br> purpleEndurer @ bash ~ $ </p> 
</blockquote> 
<p><img alt="" height="150" src="https://images2.imgbox.com/8c/eb/uKeqnfXM_o.png" width="529"></p> 
<p>返回的信息包括：设备名、容量、所有者、所属组 和 模式。</p> 
<p></p> 
<h3>2.8 lsblk -V 或 lsblk --v 或 lsblk --version： 查看版本</h3> 
<blockquote> 
 <p>purpleEndurer @ bash $ lsblk --version<br> lsblk from util-linux 2.23.2<br> purpleEndurer @ bash $ lsblk --v<br> lsblk from util-linux 2.23.2</p> 
</blockquote> 
<p><img alt="" height="81" src="https://images2.imgbox.com/b6/31/6XOrpgX3_o.png" width="387"></p> 
<p>注意：-v（v为小写）会是是无效参数。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/daa096166d2dadfeb17091fa7b46222b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线性代数：矩阵运算（加减、数乘、乘法、幂、除、转置）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/205943300a08775f6da556c9d063f57a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【AI】深度学习在编码中的应用（9）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>