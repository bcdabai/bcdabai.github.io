<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>编译原理_算符优先分析方法_语法分析器_java - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="编译原理_算符优先分析方法_语法分析器_java" />
<meta property="og:description" content="本帖完全原创
若要查看 编译原理_简单优先分析方法_语法分析器_java ，请移步http://blog.csdn.net/qq_24065713/article/details/70664835
根据《编译原理》何炎祥第三版第六章语法分析器实现
原理：算符优先分析算法
语言：Java
效果图：（丢失，类似于效果图：http://blog.csdn.net/qq_24065713/article/details/70664835）
package 算符优先算法; public class Test { public static void main(String[] args) { new Version(); } } package 算符优先算法; public class MainMethond { public String jieguo =&#34;&#34;; public String inputStream =&#34;&#34;; public String relation =&#34;&#34;; public String outputStremm =&#34;&#34;; public String left =&#34;&#34;; public String s=&#34;&#34;; public int i=1; public boolean accept(StringBuffer s1,StringBuffer s2) { boolean result; outer: while (true) { char c1=findEndVn(s1);//S栈中最后一位终结符 char c2=findLBOVn(s1);//S栈中倒数第二位终结符 char c3=s2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0ce46c543accf66a3fa68ef4f4d60394/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-05-07T22:59:27+08:00" />
<meta property="article:modified_time" content="2017-05-07T22:59:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">编译原理_算符优先分析方法_语法分析器_java</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<p>本帖完全原创</p> 
<p>若要查看<a href="http://blog.csdn.net/qq_24065713/article/details/70664835"> </a><a href="http://blog.csdn.net/qq_24065713/article/details/70664835">编译原理_<strong>简单</strong>优先分析方法_语法分析器_java</a><a href="http://blog.csdn.net/qq_24065713/article/details/70664835"> </a>，请移步http://blog.csdn.net/qq_24065713/article/details/70664835</p> 
<p> </p> 
<p>根据《编译原理》何炎祥第三版第六章语法分析器实现</p> 
<p>原理：<strong>算符</strong>优先分析<a class="replace_word" href="http://lib.csdn.net/base/datastructure" rel="nofollow">算法</a></p> 
<p>语言：<a class="replace_word" href="http://lib.csdn.net/base/javase" rel="nofollow">Java</a></p> 
<p> </p> 
<p>效果图：（<span style="color:#f33b45;">丢失</span>，类似于效果图：<a href="http://blog.csdn.net/qq_24065713/article/details/70664835">http://blog.csdn.net/qq_24065713/article/details/70664835</a>）</p> 
<p> </p> 
<p> </p> 
<pre class="has"><code class="language-java">package 算符优先算法;

public class Test {

	public static void main(String[] args) {
		new Version();

	}
}</code></pre> 
<pre class="has"><code class="language-java">package 算符优先算法;

public class MainMethond {
	
	public String jieguo ="";
	public String inputStream ="";
	public String relation ="";
	public String outputStremm ="";
	public String left ="";
	public String s="";
	public int i=1;
	
	public boolean accept(StringBuffer s1,StringBuffer s2) {
		boolean result;
		outer:
			while (true) {
				char c1=findEndVn(s1);//S栈中最后一位终结符
				char c2=findLBOVn(s1);//S栈中倒数第二位终结符
				char c3=s2.charAt(0);
				
				if(c1=='$'&amp;&amp;c3=='$'){
					result =true;
					jieguo="OK";
					break outer;
				}
				
				switch (c1) {
				case '$':
					s1.append(c3);
					s2.deleteCharAt(0);
					
					s=s+(i++)+"\n";
					inputStream =inputStream+ s1+"\n";
					relation =relation+ "&lt;"+"\n";
					outputStremm =outputStremm+ s2+"\n";
					left =left+ " "+"\n";
					break;
					
					
				case '(':
					if(compare(c1, c3)==-1){
						s1.append(c3);
						s2.deleteCharAt(0);
						
						s=s+(i++)+"\n";	
						inputStream = inputStream+s1+"\n";
						relation =relation+ "&lt;"+"\n";
						outputStremm =outputStremm+ s2+"\n";
						left = left+" "+"\n";

						
					}
					else if(compare(c1, c3)==0){
						s1.append(c3);
						s2.deleteCharAt(0);
						
						s=s+(i++)+"\n";
						inputStream = inputStream+s1+"\n";
						relation = relation+"="+"\n";
						outputStremm = outputStremm+s2+"\n";
						left = left+" "+"\n";
						
					}else {
						result =false;
						jieguo="(无法比较";
						break outer;
					}
					break;
					
				case 'i':
					if(compare(c1, c3)==1){
						s1.deleteCharAt(s1.length()-1);
						s1.append('V');
						
						s=s+(i++)+"\n";
						inputStream =inputStream+ s1+"\n";
						relation =relation+ "&gt;"+"\n";
						outputStremm = outputStremm+s2+"\n";
						left = left+"i"+"\n";
						
					}
					else {
						result =false;
						jieguo="i无法比较";
						break outer;
					}
					break;
				
				case '+':
					if(compare(c1, c3)==-1){
						s1.append(c3);
						s2.deleteCharAt(0);
						
						s=s+(i+1)+"\n";
						inputStream = inputStream+s1+"\n";
						relation = relation+"&lt;"+"\n";
						outputStremm = outputStremm+s2+"\n";
						left =left+ " "+"\n";
												
					}
					else if(compare(c1, c3)==1){
						if(compare(c2, c1)==-1){
							s1.deleteCharAt(s1.length()-1);
							s1.deleteCharAt(s1.length()-1);
							s1.deleteCharAt(s1.length()-1);
							s1.append('V');
							
							s=s+(i++)+"\n";
							inputStream = inputStream+s1+"\n";
							relation =relation+ "&gt;"+"\n";
							outputStremm = outputStremm+s2+"\n";
							left =left+ "V+V"+"\n";
							
						}else {
							result =false;
							break outer;
						}					
					}
					else {
						result =false;
						break outer;
					}
					break;	
					
					case ')':
						if(compare(c1, c3)==1){
							if(compare(c2, c1)==0){
								s1.deleteCharAt(s1.length()-1);
								s1.deleteCharAt(s1.length()-1);
								s1.deleteCharAt(s1.length()-1);
								s1.append('V');
								
								s=s+(i+1)+"\n";
								inputStream =inputStream+ s1+"\n";
								relation =relation+ "&gt;"+"\n";
								outputStremm =outputStremm+ s2+"\n";
								left = left+"(V)"+"\n";
								
							}else {
								result =false;
								break outer;
							}					
						}
						else {
							result =false;
							break outer;
						}
						break;	
					
					case '*':	
						if(compare(c1, c3)==-1){
							s1.append(c3);
							s2.deleteCharAt(0);
							
							s=s+(i+1)+"\n";
							inputStream = inputStream+s1+"\n";
							relation = relation+"&lt;"+"\n";
							outputStremm =outputStremm+ s2+"\n";
							left = left+" "+"\n";
							
						}
						else if(compare(c1, c3)==1){
							if(compare(c2, c1)==-1){
								s1.deleteCharAt(s1.length()-1);
								s1.deleteCharAt(s1.length()-1);
								s1.deleteCharAt(s1.length()-1);
								s1.append('V');
								
								s=s+(i+1)+"\n";
								inputStream =inputStream+ s1+"\n";
								relation = relation+"&gt;"+"\n";
								outputStremm = outputStremm+s2+"\n";
								left = left+"V*V"+"\n";
								
							}else {
								result =false;
								break outer;
							}					
						}
						else {
							result =false;
							break outer;
						}
						break;

				default:
					
					result =false;
					jieguo = "字符不合乎要求";
					break outer;
				}
			}
			
		return result;
	}
	
	//找到StringBuffer最后一位终结符
	public char findEndVn(StringBuffer stringBuffer) {
		char c='~';//任意
		int i=1;
		outer:
			while(true){
				while(stringBuffer.charAt(stringBuffer.length()-i)!='V'){
					c= stringBuffer.charAt(stringBuffer.length()-i);
					break outer;
					
				}
				i++;
			}
		return c;
	}
	
	//找到倒数第二位(Last But One)终结符
	public char findLBOVn(StringBuffer stringBuffer) {
		char c='~';//任意
		int i=1;
		int flag=0;
		outer:
			while(true){
				while(stringBuffer.charAt(stringBuffer.length()-i)!='V'){
					flag++;
					if(flag&gt;=2){
						c= stringBuffer.charAt(stringBuffer.length()-i);
						break outer;
					}
					i++;
				}
				i++;
			}
		return c;
	}

	public int compare(char a,char b){
		int i=10;
		if(b=='$') i=1;
		
		else if(a=='+'){
			if(b=='+'||b==')') i=1;
			else if(b=='*'||b=='i'||b=='(') i=-1;
		}
		else if (a=='*') {
			if(b=='+'||b=='*'||b==')') i=1;
			else if(b=='i'||b=='(') i=-1;
			
		}
		else if (a=='i') {
			if(b=='+'||b=='*'||b==')') i=1;			
		}
		else if (a=='(') {
			if(b=='+'||b=='*'||b=='i'||b=='(') i=-1;
			else if (b==')') i=0;			
		}
		else if (a==')') {
			if(b=='+'||b=='*'||b==')') i=1;
		}
		else if (a=='$') {
			i=-1;
		}
		return i;		
	}
	
}</code></pre> 
<pre class="has"><code class="language-java">package 算符优先算法;

import java.awt.TextArea;
import java.awt.TextField;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.JButton;
import javax.swing.JFormattedTextField;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class Version {
	
	public Version() {

		 JFrame jFrame = new JFrame("算符优先分析算法");
	        JPanel jPanel = new JPanel();
	        JButton jButton = new JButton("开始分析");
	        TextArea textArea = new TextArea();
	        TextArea textArea1 = new TextArea();
	        TextArea textArea2 = new TextArea();
	        TextArea textArea3 = new TextArea();
	        TextArea textArea4 = new TextArea();
	        TextArea textArea5= new TextArea();
	        JTextField jTextField1 = new JTextField("待输入文法");
	        JTextField jTextField2 = new JFormattedTextField("　　　　　");

	        jFrame.setVisible(true);
	        jFrame.addWindowListener(new WindowAdapter() {
	            public void windowClosing(WindowEvent e) {
	                System.exit(0);
	            }
	        });
	        jFrame.setLayout(null);
	        jPanel.setLayout(null);
	        jFrame.setBounds(50, 50, 400, 600);
	        jPanel.setBounds(0, 0, 400, 600);
	        textArea.setBounds(0, 100, 400, 200);
	        
	        textArea1.setBounds(0, 300, 50, 300);
	        
	        textArea2.setBounds(50, 300, 100, 300);
	        textArea3.setBounds(150, 300, 50, 300);
	        textArea4.setBounds(200, 300, 100, 300);
	        textArea5.setBounds(300, 300, 100, 300);

	        jTextField1.setBounds(25, 50, 100, 30);
	        jButton.setBounds(150, 50, 100, 30);
	        jTextField2.setBounds(275, 50, 100, 30);
	        textArea.setText("　｜　＋　　＊　　ｉ　　（　　）\n" +
	                "----------------------------------------\n" +
	                "＋｜　＞　　＜　　＜　　＜　　＞\n" +
	                "＊｜　＞　　＞　　＜　　＜　　＞\n" +
	                "ｉ｜　＞　　＞　　　　　　　　＞\n" +
	                "（｜　＜　　＜　　＜　　＜　　＝\n" +
	                "）｜　＞　　＞　　　　　　　　＞\n" );
	        jFrame.add(jPanel);
	        jPanel.add(jTextField1);
	        jPanel.add(jButton);
	        jPanel.add(jTextField2);
	        jPanel.add(textArea);
	        
	        jPanel.add(textArea1);
	        jPanel.add(textArea2);
	        jPanel.add(textArea3);
	        jPanel.add(textArea4);
	        jPanel.add(textArea5);
	        
	        jButton.addActionListener(new ActionListener() {
				
				@Override
				public void actionPerformed(ActionEvent e) {
					StringBuffer stringBuffer1=new StringBuffer(" $");
					StringBuffer stringBuffer2=new StringBuffer(jTextField1.getText());
					MainMethond mainMethond = new MainMethond();
					mainMethond.accept(stringBuffer1, stringBuffer2);
					jTextField2.setText(mainMethond.jieguo);
					textArea1.setText(mainMethond.s);
					textArea2.setText(mainMethond.inputStream);
					textArea3.setText(mainMethond.relation);
					textArea4.setText(mainMethond.outputStremm);
					textArea5.setText(mainMethond.left);
					
				}
			});
		
		
		
	}

}
</code></pre> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec1859d29a8f31bd6cfe662205ebf9f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言里面获取字符串长度sizeof和strlen的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d798ebb5ad019147f3261624f63d982/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue-cli开发环境跨域问题解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>