<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Springboot集成Actuator和SpringbootAdminServer监控 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Springboot集成Actuator和SpringbootAdminServer监控" />
<meta property="og:description" content="Springboot集成Actuator和SpringbootAdminServer监控 · 深入学习 · 看云
最近在学springclound，然后看书的时候，学习到通过actuator来监控springboot应用的各项指标。又因actuator只提供一组endpoints(restful接口），查看不直观，才有集成springboot admin server来通过界面查看监控。（当然还有其他的界面监控，比如很牛逼的普罗米修斯）
一、springboot actuator介绍 Spring Boot Actuator可以帮助你监控和管理Spring Boot应用，比如健康检查、审计、统计和HTTP追踪等。所有的这些特性可以通过JMX或者HTTP endpoints来获得。
Actuator同时还可以与外部应用监控系统整合，比如 Prometheus, Graphite, DataDog, Influx, Wavefront, New Relic等。这些系统提供了非常好的仪表盘、图标、分析和告警等功能，使得你可以通过统一的接口轻松的监控和管理你的应用。
示例：
http://localhost:9101/actuator/health
{ &#34;status&#34;: &#34;UP&#34;, &#34;components&#34;: { &#34;db&#34;: { &#34;status&#34;: &#34;UP&#34;, &#34;details&#34;: { &#34;database&#34;: &#34;SQLite&#34;, &#34;result&#34;: 1, &#34;validationQuery&#34;: &#34;SELECT 1&#34; } }, &#34;diskSpace&#34;: { &#34;status&#34;: &#34;UP&#34;, &#34;details&#34;: { &#34;total&#34;: 250790436864, &#34;free&#34;: 64770326528, &#34;threshold&#34;: 10485760 } }, &#34;ping&#34;: { &#34;status&#34;: &#34;UP&#34; }, &#34;redis&#34;: { &#34;status&#34;: &#34;UP&#34;, &#34;details&#34;: { &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0fe5bf641d0a691a316395f66f6a9f0b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-19T13:53:57+08:00" />
<meta property="article:modified_time" content="2023-12-19T13:53:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Springboot集成Actuator和SpringbootAdminServer监控</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a href="https://www.kancloud.cn/mangomei/deepstudy/2568509" rel="nofollow" title="Springboot集成Actuator和SpringbootAdminServer监控 · 深入学习 · 看云">Springboot集成Actuator和SpringbootAdminServer监控 · 深入学习 · 看云</a></p> 
<h2></h2> 
<p>最近在学<code>springclound</code>，然后看书的时候，学习到通过<code>actuator</code>来监控<code>springboot</code>应用的各项指标。又因<code>actuator</code>只提供一组<code>endpoints</code>(<code>restful</code>接口），查看不直观，才有集成<code>springboot admin server</code>来通过界面查看监控。（当然还有其他的界面监控，比如很牛逼的<code>普罗米修斯</code>）</p> 
<h3><a id="springboot_actuator_4"></a>一、springboot actuator介绍</h3> 
<p>Spring Boot Actuator可以帮助你监控和管理Spring Boot应用，比如健康检查、审计、统计和HTTP追踪等。所有的这些特性可以通过JMX或者HTTP endpoints来获得。</p> 
<p>Actuator同时还可以与外部应用监控系统整合，比如 <a href="https://prometheus.io/" rel="nofollow" title="Prometheus">Prometheus</a>, <a href="https://graphiteapp.org/" rel="nofollow" title="Graphite">Graphite</a>, <a href="https://www.datadoghq.com/" rel="nofollow" title="DataDog">DataDog</a>, <a href="https://www.influxdata.com/" rel="nofollow" title="Influx">Influx</a>, <a href="https://www.wavefront.com/" rel="nofollow" title="Wavefront">Wavefront</a>, <a href="https://newrelic.com/" rel="nofollow" title="New Relic">New Relic</a>等。这些系统提供了非常好的仪表盘、图标、分析和告警等功能，使得你可以通过统一的接口轻松的监控和管理你的应用。</p> 
<p>示例：<br><code>http://localhost:9101/actuator/health</code></p> 
<pre><code>{
  "status": "UP",
  "components": {
    "db": {
      "status": "UP",
      "details": {
        "database": "SQLite",
        "result": 1,
        "validationQuery": "SELECT 1"
      }
    },
    "diskSpace": {
      "status": "UP",
      "details": {
        "total": 250790436864,
        "free": 64770326528,
        "threshold": 10485760
      }
    },
    "ping": {
      "status": "UP"
    },
    "redis": {
      "status": "UP",
      "details": {
        "version": "5.0.8"
      }
    }
  }
}
</code></pre> 
<h3><a id="springboot_admin_server_44"></a>二、springboot admin server介绍</h3> 
<p>Actuator功能强大，便于其他应用使用端点（只需要简单的REST调用）。但是开发人员使用时就没那么方便了。对于开发人员，有良好的交互界面会更方便浏览监控数据和管理应用。这正是Spring Boot Admin做的工作。它为actuator端点提供了良好的交互界面，并提供了额外的特性。</p> 
<p>Spring Boot Admin不是Spring团队提供的模块，它是由<a href="https://blog.codecentric.de/en/" rel="nofollow" title="Codecentric">Codecentric</a>公司创建的，代码在<a href="https://github.com/codecentric/spring-boot-admin" title="Github">Github</a>上公开。</p> 
<p>示例：</p> 
<p class="img-center"><img alt="" height="1200" src="https://images2.imgbox.com/4b/68/f1Jxg4j8_o.png" width="1200"></p> 
<h3><a id="springbootactuator_52"></a>三、springboot应用集成actuator</h3> 
<ol><li>pom.xml里添加依赖</li></ol> 
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre> 
<ol><li><code>actuator</code>相关配置</li></ol> 
<pre><code># 显示actuator详情
management.endpoint.health.show-details=always
# 解除浏览器访问路径，* 是所有，也可以指定为beans,health
management.endpoints.web.exposure.include=*
# 端点信息接口使用的端口，为了和主系统接口使用的端口进行分离
management.server.port=9101
management.server.servlet.context-path=/
</code></pre> 
<h3><a id="springbootspringboot_admin_server_71"></a>四、springboot应用集成springboot admin server</h3> 
<p>分为<code>Server</code>和<code>Client</code>，<code>Server</code>可以理解为注册中心，<code>Client</code>则是将集成了<code>actuator</code>的springboot应用的注册到<code>Server</code>上，然后通过界面监控各项指标。</p> 
<h4><a id="Server_73"></a>Server端</h4> 
<ol><li>添加依赖</li></ol> 
<pre><code>&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;
        &lt;version&gt;${springboot.admin.version}&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre> 
<ol><li>启动类上添加<code>@EnableAdminServer</code>注解</li></ol> 
<pre><code>@EnableAdminServer
@SpringBootApplication
public class StartupApplication {
    public static void main(String[] args) {
        SpringApplication.run(StartupApplication.class,args);
    }
}
</code></pre> 
<ol><li>启动后访问<code>Server</code>的端口<code>http://127.0.0.1:9100</code> <p class="img-center"><img alt="" height="704" src="https://images2.imgbox.com/33/f4/g5X73qax_o.png" width="1200"></p> </li></ol> 
<h4><a id="Client_101"></a>Client端</h4> 
<ol><li>添加依赖</li></ol> 
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;
    &lt;version&gt;${springboot.admin.version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre> 
<ol><li>添加配置</li></ol> 
<pre><code># 显示actuator详情
management.endpoint.health.show-details=always
# 解除浏览器访问路径，* 是所有，也可以指定为beans,health
management.endpoints.web.exposure.include=*
# 端点信息接口使用的端口，为了和主系统接口使用的端口进行分离
management.server.port=9101
management.server.servlet.context-path=/
spring.application.name=card-api
# 配置spring-boot-admin服务端的地址
spring.boot.admin.client.enabled=true
spring.boot.admin.client.url=http://localhost:9100
</code></pre> 
<ol><li>启动Client端后，就能看到界面上有示例连上 <p class="img-center"><img alt="" height="1140" src="https://images2.imgbox.com/1c/d8/pfhvcR0V_o.png" width="1200"></p> </li></ol> 
<p></p> 
<p class="img-center"><img alt="" height="1200" src="https://images2.imgbox.com/86/22/wFGuzsUp_o.png" width="1200"></p> 
<h3><a id="_133"></a>五、总结</h3> 
<ol><li>为了监控<code>springboot</code>应用的各项指标，才有了<code>springboot actuator</code>项目。</li><li>为了更直观查看各项监控数据，就有了<code>springboot admin server</code>项目，其他的还有<code>Prometheus</code>等</li><li><code>springboot admin</code>的<code>Server</code>和<code>Client</code>端都可以集成<code>spring-security</code>认证，提供安全性。</li><li>框架的版本一定要对应，不然启动的时候会出各种问题。spring和spring boot和spring cloud，以及spring boot admin的版本。可以通过mvn repo参考查看。(</li><li>我的版本：spring clound Hoxton.SR10 + spring boot 2.2.7 RELEASE + spring boot admin 2.2.4 )</li></ol> 
<h3><a id="_139"></a>参考资料</h3> 
<ol><li><a href="https://www.jianshu.com/p/1749f04105fb" rel="nofollow" title="Spring Boot Admin入门指南 - 简书">Spring Boot Admin入门指南 - 简书</a></li><li><a href="https://www.itmuch.com/spring-cloud/finchley-3/" rel="nofollow" title="跟我学Spring Cloud（Finchley版）-03-监控：强大的Spring Boot Actuator | 周立的博客 - 关注Spring Cloud、Docker">跟我学Spring Cloud（Finchley版）-03-监控：强大的Spring Boot Actuator | 周立的博客 - 关注Spring Cloud、Docker</a></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/217285b31eeef5429229f3798ece8c3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于ssm电动车上牌管理系统的设计与实现论文</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/607630eea78b16e52faa8e0ab488c55a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mojo 新语言 入门体验 环境安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>